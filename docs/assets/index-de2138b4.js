var rK=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var e_e=rK((Fe,wo)=>{function iK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Td(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ek={exports:{}},Yx={},tk={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3=Symbol.for("react.element"),sK=Symbol.for("react.portal"),oK=Symbol.for("react.fragment"),aK=Symbol.for("react.strict_mode"),lK=Symbol.for("react.profiler"),uK=Symbol.for("react.provider"),cK=Symbol.for("react.context"),fK=Symbol.for("react.forward_ref"),hK=Symbol.for("react.suspense"),dK=Symbol.for("react.memo"),pK=Symbol.for("react.lazy"),ZI=Symbol.iterator;function mK(t){return t===null||typeof t!="object"?null:(t=ZI&&t[ZI]||t["@@iterator"],typeof t=="function"?t:null)}var nk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rk=Object.assign,ik={};function um(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||nk}um.prototype.isReactComponent={};um.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};um.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sk(){}sk.prototype=um.prototype;function qT(t,e,n){this.props=t,this.context=e,this.refs=ik,this.updater=n||nk}var ZT=qT.prototype=new sk;ZT.constructor=qT;rk(ZT,um.prototype);ZT.isPureReactComponent=!0;var $I=Array.isArray,ok=Object.prototype.hasOwnProperty,$T={current:null},ak={key:!0,ref:!0,__self:!0,__source:!0};function lk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ok.call(e,r)&&!ak.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:f3,type:t,key:s,ref:o,props:i,_owner:$T.current}}function gK(t,e){return{$$typeof:f3,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function e9(t){return typeof t=="object"&&t!==null&&t.$$typeof===f3}function AK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eb=/\/+/g;function yE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AK(""+t.key):e.toString(36)}function Xy(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case f3:case sK:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yE(o,0):r,$I(i)?(n="",t!=null&&(n=t.replace(eb,"$&/")+"/"),Xy(i,e,n,"",function(u){return u})):i!=null&&(e9(i)&&(i=gK(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$I(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yE(s,a);o+=Xy(s,e,n,l,i)}else if(l=mK(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yE(s,a++),o+=Xy(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nv(t,e,n){if(t==null)return t;var r=[],i=0;return Xy(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Is={current:null},Yy={transition:null},yK={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:Yy,ReactCurrentOwner:$T};ln.Children={map:nv,forEach:function(t,e,n){nv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nv(t,function(){e++}),e},toArray:function(t){return nv(t,function(e){return e})||[]},only:function(t){if(!e9(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ln.Component=um;ln.Fragment=oK;ln.Profiler=lK;ln.PureComponent=qT;ln.StrictMode=aK;ln.Suspense=hK;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yK;ln.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$T.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ok.call(e,l)&&!ak.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:f3,type:t.type,key:i,ref:s,props:r,_owner:o}};ln.createContext=function(t){return t={$$typeof:cK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uK,_context:t},t.Consumer=t};ln.createElement=lk;ln.createFactory=function(t){var e=lk.bind(null,t);return e.type=t,e};ln.createRef=function(){return{current:null}};ln.forwardRef=function(t){return{$$typeof:fK,render:t}};ln.isValidElement=e9;ln.lazy=function(t){return{$$typeof:pK,_payload:{_status:-1,_result:t},_init:vK}};ln.memo=function(t,e){return{$$typeof:dK,type:t,compare:e===void 0?null:e}};ln.startTransition=function(t){var e=Yy.transition;Yy.transition={};try{t()}finally{Yy.transition=e}};ln.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ln.useCallback=function(t,e){return Is.current.useCallback(t,e)};ln.useContext=function(t){return Is.current.useContext(t)};ln.useDebugValue=function(){};ln.useDeferredValue=function(t){return Is.current.useDeferredValue(t)};ln.useEffect=function(t,e){return Is.current.useEffect(t,e)};ln.useId=function(){return Is.current.useId()};ln.useImperativeHandle=function(t,e,n){return Is.current.useImperativeHandle(t,e,n)};ln.useInsertionEffect=function(t,e){return Is.current.useInsertionEffect(t,e)};ln.useLayoutEffect=function(t,e){return Is.current.useLayoutEffect(t,e)};ln.useMemo=function(t,e){return Is.current.useMemo(t,e)};ln.useReducer=function(t,e,n){return Is.current.useReducer(t,e,n)};ln.useRef=function(t){return Is.current.useRef(t)};ln.useState=function(t){return Is.current.useState(t)};ln.useSyncExternalStore=function(t,e,n){return Is.current.useSyncExternalStore(t,e,n)};ln.useTransition=function(){return Is.current.useTransition()};ln.version="18.2.0";tk.exports=ln;var D=tk.exports;const te=Td(D),xK=iK({__proto__:null,default:te},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EK=D,SK=Symbol.for("react.element"),CK=Symbol.for("react.fragment"),wK=Object.prototype.hasOwnProperty,TK=EK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MK={key:!0,ref:!0,__self:!0,__source:!0};function uk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wK.call(e,r)&&!MK.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SK,type:t,key:s,ref:o,props:i,_owner:TK.current}}Yx.Fragment=CK;Yx.jsx=uk;Yx.jsxs=uk;ek.exports=Yx;var t9=ek.exports;const Dn=t9.Fragment,ce=t9.jsx,wt=t9.jsxs;var jS={},ck={exports:{}},Uo={},fk={exports:{}},hk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var j=z.length;z.push(W);e:for(;0<j;){var Q=j-1>>>1,H=z[Q];if(0<i(H,W))z[Q]=W,z[j]=H,j=Q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],j=z.pop();if(j!==W){z[0]=j;e:for(var Q=0,H=z.length,ee=H>>>1;Q<ee;){var Z=2*(Q+1)-1,ne=z[Z],oe=Z+1,se=z[oe];if(0>i(ne,j))oe<H&&0>i(se,ne)?(z[Q]=se,z[oe]=j,Q=oe):(z[Q]=ne,z[Z]=j,Q=Z);else if(oe<H&&0>i(se,j))z[Q]=se,z[oe]=j,Q=oe;else break e}}return W}function i(z,W){var j=z.sortIndex-W.sortIndex;return j!==0?j:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,d=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=z)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function S(z){if(v=!1,E(z),!g)if(n(l)!==null)g=!0,Y(w);else{var W=n(u);W!==null&&J(S,W.startTime-z)}}function w(z,W){g=!1,v&&(v=!1,A(b),b=-1),d=!0;var j=h;try{for(E(W),f=n(l);f!==null&&(!(f.expirationTime>W)||z&&!L());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var H=Q(f.expirationTime<=W);W=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),E(W)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var Z=n(u);Z!==null&&J(S,Z.startTime-W),ee=!1}return ee}finally{f=null,h=j,d=!1}}var M=!1,_=null,b=-1,I=5,B=-1;function L(){return!(t.unstable_now()-B<I)}function F(){if(_!==null){var z=t.unstable_now();B=z;var W=!0;try{W=_(!0,z)}finally{W?O():(M=!1,_=null)}}else M=!1}var O;if(typeof x=="function")O=function(){x(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,V=G.port2;G.port1.onmessage=F,O=function(){V.postMessage(null)}}else O=function(){y(F,0)};function Y(z){_=z,M||(M=!0,O())}function J(z,W){b=y(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,Y(w))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var j=h;h=W;try{return z()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=h;h=z;try{return W()}finally{h=j}},t.unstable_scheduleCallback=function(z,W,j){var Q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,z={id:c++,callback:W,priorityLevel:z,startTime:j,expirationTime:H,sortIndex:-1},j>Q?(z.sortIndex=j,e(u,z),n(l)===null&&z===n(u)&&(v?(A(b),b=-1):v=!0,J(S,j-Q))):(z.sortIndex=H,e(l,z),g||d||(g=!0,Y(w))),z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(z){var W=h;return function(){var j=h;h=W;try{return z.apply(this,arguments)}finally{h=j}}}})(hk);fk.exports=hk;var _K=fk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk=D,Bo=_K;function Ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pk=new Set,tA={};function Md(t,e){R0(t,e),R0(t+"Capture",e)}function R0(t,e){for(tA[t]=e,t=0;t<e.length;t++)pk.add(e[t])}var Ju=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XS=Object.prototype.hasOwnProperty,IK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tb={},nb={};function bK(t){return XS.call(nb,t)?!0:XS.call(tb,t)?!1:IK.test(t)?nb[t]=!0:(tb[t]=!0,!1)}function BK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RK(t,e,n,r){if(e===null||typeof e>"u"||BK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bs(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zi[t]=new bs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zi[e]=new bs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zi[t]=new bs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zi[t]=new bs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zi[t]=new bs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zi[t]=new bs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zi[t]=new bs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zi[t]=new bs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zi[t]=new bs(t,5,!1,t.toLowerCase(),null,!1,!1)});var n9=/[\-:]([a-z])/g;function r9(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(n9,r9);zi[e]=new bs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(n9,r9);zi[e]=new bs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(n9,r9);zi[e]=new bs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zi[t]=new bs(t,1,!1,t.toLowerCase(),null,!1,!1)});zi.xlinkHref=new bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zi[t]=new bs(t,1,!1,t.toLowerCase(),null,!0,!0)});function i9(t,e,n,r){var i=zi.hasOwnProperty(e)?zi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RK(e,n,i,r)&&(n=null),r||i===null?bK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var lc=dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rv=Symbol.for("react.element"),Gp=Symbol.for("react.portal"),zp=Symbol.for("react.fragment"),s9=Symbol.for("react.strict_mode"),YS=Symbol.for("react.profiler"),mk=Symbol.for("react.provider"),gk=Symbol.for("react.context"),o9=Symbol.for("react.forward_ref"),KS=Symbol.for("react.suspense"),JS=Symbol.for("react.suspense_list"),a9=Symbol.for("react.memo"),Vc=Symbol.for("react.lazy"),Ak=Symbol.for("react.offscreen"),rb=Symbol.iterator;function lg(t){return t===null||typeof t!="object"?null:(t=rb&&t[rb]||t["@@iterator"],typeof t=="function"?t:null)}var wr=Object.assign,xE;function i1(t){if(xE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xE=e&&e[1]||""}return`
`+xE+t}var EE=!1;function SE(t,e){if(!t||EE)return"";EE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{EE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?i1(t):""}function DK(t){switch(t.tag){case 5:return i1(t.type);case 16:return i1("Lazy");case 13:return i1("Suspense");case 19:return i1("SuspenseList");case 0:case 2:case 15:return t=SE(t.type,!1),t;case 11:return t=SE(t.type.render,!1),t;case 1:return t=SE(t.type,!0),t;default:return""}}function qS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zp:return"Fragment";case Gp:return"Portal";case YS:return"Profiler";case s9:return"StrictMode";case KS:return"Suspense";case JS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gk:return(t.displayName||"Context")+".Consumer";case mk:return(t._context.displayName||"Context")+".Provider";case o9:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case a9:return e=t.displayName||null,e!==null?e:qS(t.type)||"Memo";case Vc:e=t._payload,t=t._init;try{return qS(t(e))}catch{}}return null}function PK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qS(e);case 8:return e===s9?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LK(t){var e=vk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iv(t){t._valueTracker||(t._valueTracker=LK(t))}function yk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function b5(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ZS(t,e){var n=e.checked;return wr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ib(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xk(t,e){e=e.checked,e!=null&&i9(t,"checked",e,!1)}function $S(t,e){xk(t,e);var n=vf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eC(t,e.type,n):e.hasOwnProperty("defaultValue")&&eC(t,e.type,vf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eC(t,e,n){(e!=="number"||b5(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var s1=Array.isArray;function u0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return wr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ob(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ye(92));if(s1(n)){if(1<n.length)throw Error(Ye(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vf(n)}}function Ek(t,e){var n=vf(e.value),r=vf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ab(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sv,Ck=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sv=sv||document.createElement("div"),sv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nA(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var x1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FK=["Webkit","ms","Moz","O"];Object.keys(x1).forEach(function(t){FK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),x1[e]=x1[t]})});function wk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||x1.hasOwnProperty(t)&&x1[t]?(""+e).trim():e+"px"}function Tk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OK=wr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rC(t,e){if(e){if(OK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function iC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sC=null;function l9(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oC=null,c0=null,f0=null;function lb(t){if(t=p3(t)){if(typeof oC!="function")throw Error(Ye(280));var e=t.stateNode;e&&(e=$x(e),oC(t.stateNode,t.type,e))}}function Mk(t){c0?f0?f0.push(t):f0=[t]:c0=t}function _k(){if(c0){var t=c0,e=f0;if(f0=c0=null,lb(t),e)for(t=0;t<e.length;t++)lb(e[t])}}function Ik(t,e){return t(e)}function bk(){}var CE=!1;function Bk(t,e,n){if(CE)return t(e,n);CE=!0;try{return Ik(t,e,n)}finally{CE=!1,(c0!==null||f0!==null)&&(bk(),_k())}}function rA(t,e){var n=t.stateNode;if(n===null)return null;var r=$x(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ye(231,e,typeof n));return n}var aC=!1;if(Ju)try{var ug={};Object.defineProperty(ug,"passive",{get:function(){aC=!0}}),window.addEventListener("test",ug,ug),window.removeEventListener("test",ug,ug)}catch{aC=!1}function UK(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var E1=!1,B5=null,R5=!1,lC=null,kK={onError:function(t){E1=!0,B5=t}};function NK(t,e,n,r,i,s,o,a,l){E1=!1,B5=null,UK.apply(kK,arguments)}function GK(t,e,n,r,i,s,o,a,l){if(NK.apply(this,arguments),E1){if(E1){var u=B5;E1=!1,B5=null}else throw Error(Ye(198));R5||(R5=!0,lC=u)}}function _d(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ub(t){if(_d(t)!==t)throw Error(Ye(188))}function zK(t){var e=t.alternate;if(!e){if(e=_d(t),e===null)throw Error(Ye(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ub(i),t;if(s===r)return ub(i),e;s=s.sibling}throw Error(Ye(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ye(189))}}if(n.alternate!==r)throw Error(Ye(190))}if(n.tag!==3)throw Error(Ye(188));return n.stateNode.current===n?t:e}function Dk(t){return t=zK(t),t!==null?Pk(t):null}function Pk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pk(t);if(e!==null)return e;t=t.sibling}return null}var Lk=Bo.unstable_scheduleCallback,cb=Bo.unstable_cancelCallback,HK=Bo.unstable_shouldYield,QK=Bo.unstable_requestPaint,Qr=Bo.unstable_now,VK=Bo.unstable_getCurrentPriorityLevel,u9=Bo.unstable_ImmediatePriority,Fk=Bo.unstable_UserBlockingPriority,D5=Bo.unstable_NormalPriority,WK=Bo.unstable_LowPriority,Ok=Bo.unstable_IdlePriority,Kx=null,Hl=null;function jK(t){if(Hl&&typeof Hl.onCommitFiberRoot=="function")try{Hl.onCommitFiberRoot(Kx,t,void 0,(t.current.flags&128)===128)}catch{}}var Za=Math.clz32?Math.clz32:KK,XK=Math.log,YK=Math.LN2;function KK(t){return t>>>=0,t===0?32:31-(XK(t)/YK|0)|0}var ov=64,av=4194304;function o1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function P5(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=o1(a):(s&=o,s!==0&&(r=o1(s)))}else o=n&~i,o!==0?r=o1(o):s!==0&&(r=o1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Za(e),i=1<<n,r|=t[n],e&=~i;return r}function JK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Za(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=JK(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function uC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uk(){var t=ov;return ov<<=1,!(ov&4194240)&&(ov=64),t}function wE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function h3(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Za(e),t[e]=n}function ZK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Za(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function c9(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Za(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pn=0;function kk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nk,f9,Gk,zk,Hk,cC=!1,lv=[],sf=null,of=null,af=null,iA=new Map,sA=new Map,Xc=[],$K="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(t,e){switch(t){case"focusin":case"focusout":sf=null;break;case"dragenter":case"dragleave":of=null;break;case"mouseover":case"mouseout":af=null;break;case"pointerover":case"pointerout":iA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sA.delete(e.pointerId)}}function cg(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=p3(e),e!==null&&f9(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eJ(t,e,n,r,i){switch(e){case"focusin":return sf=cg(sf,t,e,n,r,i),!0;case"dragenter":return of=cg(of,t,e,n,r,i),!0;case"mouseover":return af=cg(af,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return iA.set(s,cg(iA.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,sA.set(s,cg(sA.get(s)||null,t,e,n,r,i)),!0}return!1}function Qk(t){var e=kh(t.target);if(e!==null){var n=_d(e);if(n!==null){if(e=n.tag,e===13){if(e=Rk(n),e!==null){t.blockedOn=e,Hk(t.priority,function(){Gk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ky(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sC=r,n.target.dispatchEvent(r),sC=null}else return e=p3(n),e!==null&&f9(e),t.blockedOn=n,!1;e.shift()}return!0}function hb(t,e,n){Ky(t)&&n.delete(e)}function tJ(){cC=!1,sf!==null&&Ky(sf)&&(sf=null),of!==null&&Ky(of)&&(of=null),af!==null&&Ky(af)&&(af=null),iA.forEach(hb),sA.forEach(hb)}function fg(t,e){t.blockedOn===e&&(t.blockedOn=null,cC||(cC=!0,Bo.unstable_scheduleCallback(Bo.unstable_NormalPriority,tJ)))}function oA(t){function e(i){return fg(i,t)}if(0<lv.length){fg(lv[0],t);for(var n=1;n<lv.length;n++){var r=lv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sf!==null&&fg(sf,t),of!==null&&fg(of,t),af!==null&&fg(af,t),iA.forEach(e),sA.forEach(e),n=0;n<Xc.length;n++)r=Xc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xc.length&&(n=Xc[0],n.blockedOn===null);)Qk(n),n.blockedOn===null&&Xc.shift()}var h0=lc.ReactCurrentBatchConfig,L5=!0;function nJ(t,e,n,r){var i=Pn,s=h0.transition;h0.transition=null;try{Pn=1,h9(t,e,n,r)}finally{Pn=i,h0.transition=s}}function rJ(t,e,n,r){var i=Pn,s=h0.transition;h0.transition=null;try{Pn=4,h9(t,e,n,r)}finally{Pn=i,h0.transition=s}}function h9(t,e,n,r){if(L5){var i=fC(t,e,n,r);if(i===null)LE(t,e,r,F5,n),fb(t,r);else if(eJ(i,t,e,n,r))r.stopPropagation();else if(fb(t,r),e&4&&-1<$K.indexOf(t)){for(;i!==null;){var s=p3(i);if(s!==null&&Nk(s),s=fC(t,e,n,r),s===null&&LE(t,e,r,F5,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else LE(t,e,r,null,n)}}var F5=null;function fC(t,e,n,r){if(F5=null,t=l9(r),t=kh(t),t!==null)if(e=_d(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return F5=t,null}function Vk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VK()){case u9:return 1;case Fk:return 4;case D5:case WK:return 16;case Ok:return 536870912;default:return 16}default:return 16}}var Kc=null,d9=null,Jy=null;function Wk(){if(Jy)return Jy;var t,e=d9,n=e.length,r,i="value"in Kc?Kc.value:Kc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jy=i.slice(t,1<r?1-r:void 0)}function qy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uv(){return!0}function db(){return!1}function ko(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uv:db,this.isPropagationStopped=db,this}return wr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uv)},persist:function(){},isPersistent:uv}),e}var cm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p9=ko(cm),d3=wr({},cm,{view:0,detail:0}),iJ=ko(d3),TE,ME,hg,Jx=wr({},d3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:m9,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hg&&(hg&&t.type==="mousemove"?(TE=t.screenX-hg.screenX,ME=t.screenY-hg.screenY):ME=TE=0,hg=t),TE)},movementY:function(t){return"movementY"in t?t.movementY:ME}}),pb=ko(Jx),sJ=wr({},Jx,{dataTransfer:0}),oJ=ko(sJ),aJ=wr({},d3,{relatedTarget:0}),_E=ko(aJ),lJ=wr({},cm,{animationName:0,elapsedTime:0,pseudoElement:0}),uJ=ko(lJ),cJ=wr({},cm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fJ=ko(cJ),hJ=wr({},cm,{data:0}),mb=ko(hJ),dJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mJ[t])?!!e[t]:!1}function m9(){return gJ}var AJ=wr({},d3,{key:function(t){if(t.key){var e=dJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:m9,charCode:function(t){return t.type==="keypress"?qy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vJ=ko(AJ),yJ=wr({},Jx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=ko(yJ),xJ=wr({},d3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:m9}),EJ=ko(xJ),SJ=wr({},cm,{propertyName:0,elapsedTime:0,pseudoElement:0}),CJ=ko(SJ),wJ=wr({},Jx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TJ=ko(wJ),MJ=[9,13,27,32],g9=Ju&&"CompositionEvent"in window,S1=null;Ju&&"documentMode"in document&&(S1=document.documentMode);var _J=Ju&&"TextEvent"in window&&!S1,jk=Ju&&(!g9||S1&&8<S1&&11>=S1),Ab=String.fromCharCode(32),vb=!1;function Xk(t,e){switch(t){case"keyup":return MJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hp=!1;function IJ(t,e){switch(t){case"compositionend":return Yk(e);case"keypress":return e.which!==32?null:(vb=!0,Ab);case"textInput":return t=e.data,t===Ab&&vb?null:t;default:return null}}function bJ(t,e){if(Hp)return t==="compositionend"||!g9&&Xk(t,e)?(t=Wk(),Jy=d9=Kc=null,Hp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jk&&e.locale!=="ko"?null:e.data;default:return null}}var BJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BJ[t.type]:e==="textarea"}function Kk(t,e,n,r){Mk(r),e=O5(e,"onChange"),0<e.length&&(n=new p9("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var C1=null,aA=null;function RJ(t){oN(t,0)}function qx(t){var e=Wp(t);if(yk(e))return t}function DJ(t,e){if(t==="change")return e}var Jk=!1;if(Ju){var IE;if(Ju){var bE="oninput"in document;if(!bE){var xb=document.createElement("div");xb.setAttribute("oninput","return;"),bE=typeof xb.oninput=="function"}IE=bE}else IE=!1;Jk=IE&&(!document.documentMode||9<document.documentMode)}function Eb(){C1&&(C1.detachEvent("onpropertychange",qk),aA=C1=null)}function qk(t){if(t.propertyName==="value"&&qx(aA)){var e=[];Kk(e,aA,t,l9(t)),Bk(RJ,e)}}function PJ(t,e,n){t==="focusin"?(Eb(),C1=e,aA=n,C1.attachEvent("onpropertychange",qk)):t==="focusout"&&Eb()}function LJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qx(aA)}function FJ(t,e){if(t==="click")return qx(e)}function OJ(t,e){if(t==="input"||t==="change")return qx(e)}function UJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rl=typeof Object.is=="function"?Object.is:UJ;function lA(t,e){if(rl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!XS.call(e,i)||!rl(t[i],e[i]))return!1}return!0}function Sb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cb(t,e){var n=Sb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sb(n)}}function Zk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $k(){for(var t=window,e=b5();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=b5(t.document)}return e}function A9(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kJ(t){var e=$k(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Zk(n.ownerDocument.documentElement,n)){if(r!==null&&A9(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Cb(n,s);var o=Cb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NJ=Ju&&"documentMode"in document&&11>=document.documentMode,Qp=null,hC=null,w1=null,dC=!1;function wb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dC||Qp==null||Qp!==b5(r)||(r=Qp,"selectionStart"in r&&A9(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),w1&&lA(w1,r)||(w1=r,r=O5(hC,"onSelect"),0<r.length&&(e=new p9("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qp)))}function cv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vp={animationend:cv("Animation","AnimationEnd"),animationiteration:cv("Animation","AnimationIteration"),animationstart:cv("Animation","AnimationStart"),transitionend:cv("Transition","TransitionEnd")},BE={},eN={};Ju&&(eN=document.createElement("div").style,"AnimationEvent"in window||(delete Vp.animationend.animation,delete Vp.animationiteration.animation,delete Vp.animationstart.animation),"TransitionEvent"in window||delete Vp.transitionend.transition);function Zx(t){if(BE[t])return BE[t];if(!Vp[t])return t;var e=Vp[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eN)return BE[t]=e[n];return t}var tN=Zx("animationend"),nN=Zx("animationiteration"),rN=Zx("animationstart"),iN=Zx("transitionend"),sN=new Map,Tb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pf(t,e){sN.set(t,e),Md(e,[t])}for(var RE=0;RE<Tb.length;RE++){var DE=Tb[RE],GJ=DE.toLowerCase(),zJ=DE[0].toUpperCase()+DE.slice(1);Pf(GJ,"on"+zJ)}Pf(tN,"onAnimationEnd");Pf(nN,"onAnimationIteration");Pf(rN,"onAnimationStart");Pf("dblclick","onDoubleClick");Pf("focusin","onFocus");Pf("focusout","onBlur");Pf(iN,"onTransitionEnd");R0("onMouseEnter",["mouseout","mouseover"]);R0("onMouseLeave",["mouseout","mouseover"]);R0("onPointerEnter",["pointerout","pointerover"]);R0("onPointerLeave",["pointerout","pointerover"]);Md("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Md("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Md("onBeforeInput",["compositionend","keypress","textInput","paste"]);Md("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Md("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Md("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var a1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(a1));function Mb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GK(r,e,void 0,t),t.currentTarget=null}function oN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mb(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mb(i,a,u),s=l}}}if(R5)throw t=lC,R5=!1,lC=null,t}function er(t,e){var n=e[vC];n===void 0&&(n=e[vC]=new Set);var r=t+"__bubble";n.has(r)||(aN(e,t,2,!1),n.add(r))}function PE(t,e,n){var r=0;e&&(r|=4),aN(n,t,r,e)}var fv="_reactListening"+Math.random().toString(36).slice(2);function uA(t){if(!t[fv]){t[fv]=!0,pk.forEach(function(n){n!=="selectionchange"&&(HJ.has(n)||PE(n,!1,t),PE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fv]||(e[fv]=!0,PE("selectionchange",!1,e))}}function aN(t,e,n,r){switch(Vk(e)){case 1:var i=nJ;break;case 4:i=rJ;break;default:i=h9}n=i.bind(null,e,n,t),i=void 0,!aC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function LE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=kh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Bk(function(){var u=s,c=l9(n),f=[];e:{var h=sN.get(t);if(h!==void 0){var d=p9,g=t;switch(t){case"keypress":if(qy(n)===0)break e;case"keydown":case"keyup":d=vJ;break;case"focusin":g="focus",d=_E;break;case"focusout":g="blur",d=_E;break;case"beforeblur":case"afterblur":d=_E;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=oJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=EJ;break;case tN:case nN:case rN:d=uJ;break;case iN:d=CJ;break;case"scroll":d=iJ;break;case"wheel":d=TJ;break;case"copy":case"cut":case"paste":d=fJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=gb}var v=(e&4)!==0,y=!v&&t==="scroll",A=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,E;x!==null;){E=x;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,A!==null&&(S=rA(x,A),S!=null&&v.push(cA(x,S,E)))),y)break;x=x.return}0<v.length&&(h=new d(h,g,null,n,c),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==sC&&(g=n.relatedTarget||n.fromElement)&&(kh(g)||g[qu]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=n.relatedTarget||n.toElement,d=u,g=g?kh(g):null,g!==null&&(y=_d(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(v=pb,S="onMouseLeave",A="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=gb,S="onPointerLeave",A="onPointerEnter",x="pointer"),y=d==null?h:Wp(d),E=g==null?h:Wp(g),h=new v(S,x+"leave",d,n,c),h.target=y,h.relatedTarget=E,S=null,kh(c)===u&&(v=new v(A,x+"enter",g,n,c),v.target=E,v.relatedTarget=y,S=v),y=S,d&&g)t:{for(v=d,A=g,x=0,E=v;E;E=tp(E))x++;for(E=0,S=A;S;S=tp(S))E++;for(;0<x-E;)v=tp(v),x--;for(;0<E-x;)A=tp(A),E--;for(;x--;){if(v===A||A!==null&&v===A.alternate)break t;v=tp(v),A=tp(A)}v=null}else v=null;d!==null&&_b(f,h,d,v,!1),g!==null&&y!==null&&_b(f,y,g,v,!0)}}e:{if(h=u?Wp(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var w=DJ;else if(yb(h))if(Jk)w=OJ;else{w=LJ;var M=PJ}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=FJ);if(w&&(w=w(t,u))){Kk(f,w,n,c);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&eC(h,"number",h.value)}switch(M=u?Wp(u):window,t){case"focusin":(yb(M)||M.contentEditable==="true")&&(Qp=M,hC=u,w1=null);break;case"focusout":w1=hC=Qp=null;break;case"mousedown":dC=!0;break;case"contextmenu":case"mouseup":case"dragend":dC=!1,wb(f,n,c);break;case"selectionchange":if(NJ)break;case"keydown":case"keyup":wb(f,n,c)}var _;if(g9)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hp?Xk(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(jk&&n.locale!=="ko"&&(Hp||b!=="onCompositionStart"?b==="onCompositionEnd"&&Hp&&(_=Wk()):(Kc=c,d9="value"in Kc?Kc.value:Kc.textContent,Hp=!0)),M=O5(u,b),0<M.length&&(b=new mb(b,t,null,n,c),f.push({event:b,listeners:M}),_?b.data=_:(_=Yk(n),_!==null&&(b.data=_)))),(_=_J?IJ(t,n):bJ(t,n))&&(u=O5(u,"onBeforeInput"),0<u.length&&(c=new mb("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=_))}oN(f,e)})}function cA(t,e,n){return{instance:t,listener:e,currentTarget:n}}function O5(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rA(t,n),s!=null&&r.unshift(cA(t,s,i)),s=rA(t,e),s!=null&&r.push(cA(t,s,i))),t=t.return}return r}function tp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _b(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=rA(n,s),l!=null&&o.unshift(cA(n,l,a))):i||(l=rA(n,s),l!=null&&o.push(cA(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QJ=/\r\n?/g,VJ=/\u0000|\uFFFD/g;function Ib(t){return(typeof t=="string"?t:""+t).replace(QJ,`
`).replace(VJ,"")}function hv(t,e,n){if(e=Ib(e),Ib(t)!==e&&n)throw Error(Ye(425))}function U5(){}var pC=null,mC=null;function gC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var AC=typeof setTimeout=="function"?setTimeout:void 0,WJ=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,jJ=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(t){return bb.resolve(null).then(t).catch(XJ)}:AC;function XJ(t){setTimeout(function(){throw t})}function FE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),oA(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);oA(e)}function lf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fm=Math.random().toString(36).slice(2),Ll="__reactFiber$"+fm,fA="__reactProps$"+fm,qu="__reactContainer$"+fm,vC="__reactEvents$"+fm,YJ="__reactListeners$"+fm,KJ="__reactHandles$"+fm;function kh(t){var e=t[Ll];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qu]||n[Ll]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bb(t);t!==null;){if(n=t[Ll])return n;t=Bb(t)}return e}t=n,n=t.parentNode}return null}function p3(t){return t=t[Ll]||t[qu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ye(33))}function $x(t){return t[fA]||null}var yC=[],jp=-1;function Lf(t){return{current:t}}function ir(t){0>jp||(t.current=yC[jp],yC[jp]=null,jp--)}function Yn(t,e){jp++,yC[jp]=t.current,t.current=e}var yf={},ss=Lf(yf),Vs=Lf(!1),ud=yf;function D0(t,e){var n=t.type.contextTypes;if(!n)return yf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ws(t){return t=t.childContextTypes,t!=null}function k5(){ir(Vs),ir(ss)}function Rb(t,e,n){if(ss.current!==yf)throw Error(Ye(168));Yn(ss,e),Yn(Vs,n)}function lN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ye(108,PK(t)||"Unknown",i));return wr({},n,r)}function N5(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yf,ud=ss.current,Yn(ss,t),Yn(Vs,Vs.current),!0}function Db(t,e,n){var r=t.stateNode;if(!r)throw Error(Ye(169));n?(t=lN(t,e,ud),r.__reactInternalMemoizedMergedChildContext=t,ir(Vs),ir(ss),Yn(ss,t)):ir(Vs),Yn(Vs,n)}var Uu=null,e6=!1,OE=!1;function uN(t){Uu===null?Uu=[t]:Uu.push(t)}function JJ(t){e6=!0,uN(t)}function Ff(){if(!OE&&Uu!==null){OE=!0;var t=0,e=Pn;try{var n=Uu;for(Pn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Uu=null,e6=!1}catch(i){throw Uu!==null&&(Uu=Uu.slice(t+1)),Lk(u9,Ff),i}finally{Pn=e,OE=!1}}return null}var Xp=[],Yp=0,G5=null,z5=0,aa=[],la=0,cd=null,zu=1,Hu="";function wh(t,e){Xp[Yp++]=z5,Xp[Yp++]=G5,G5=t,z5=e}function cN(t,e,n){aa[la++]=zu,aa[la++]=Hu,aa[la++]=cd,cd=t;var r=zu;t=Hu;var i=32-Za(r)-1;r&=~(1<<i),n+=1;var s=32-Za(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zu=1<<32-Za(e)+i|n<<i|r,Hu=s+t}else zu=1<<s|n<<i|r,Hu=t}function v9(t){t.return!==null&&(wh(t,1),cN(t,1,0))}function y9(t){for(;t===G5;)G5=Xp[--Yp],Xp[Yp]=null,z5=Xp[--Yp],Xp[Yp]=null;for(;t===cd;)cd=aa[--la],aa[la]=null,Hu=aa[--la],aa[la]=null,zu=aa[--la],aa[la]=null}var To=null,xo=null,cr=!1,Ya=null;function fN(t,e){var n=pa(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,To=t,xo=lf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,To=t,xo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cd!==null?{id:zu,overflow:Hu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pa(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,To=t,xo=null,!0):!1;default:return!1}}function xC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function EC(t){if(cr){var e=xo;if(e){var n=e;if(!Pb(t,e)){if(xC(t))throw Error(Ye(418));e=lf(n.nextSibling);var r=To;e&&Pb(t,e)?fN(r,n):(t.flags=t.flags&-4097|2,cr=!1,To=t)}}else{if(xC(t))throw Error(Ye(418));t.flags=t.flags&-4097|2,cr=!1,To=t}}}function Lb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;To=t}function dv(t){if(t!==To)return!1;if(!cr)return Lb(t),cr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gC(t.type,t.memoizedProps)),e&&(e=xo)){if(xC(t))throw hN(),Error(Ye(418));for(;e;)fN(t,e),e=lf(e.nextSibling)}if(Lb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xo=lf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xo=null}}else xo=To?lf(t.stateNode.nextSibling):null;return!0}function hN(){for(var t=xo;t;)t=lf(t.nextSibling)}function P0(){xo=To=null,cr=!1}function x9(t){Ya===null?Ya=[t]:Ya.push(t)}var qJ=lc.ReactCurrentBatchConfig;function Wa(t,e){if(t&&t.defaultProps){e=wr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var H5=Lf(null),Q5=null,Kp=null,E9=null;function S9(){E9=Kp=Q5=null}function C9(t){var e=H5.current;ir(H5),t._currentValue=e}function SC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function d0(t,e){Q5=t,E9=Kp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hs=!0),t.firstContext=null)}function Ca(t){var e=t._currentValue;if(E9!==t)if(t={context:t,memoizedValue:e,next:null},Kp===null){if(Q5===null)throw Error(Ye(308));Kp=t,Q5.dependencies={lanes:0,firstContext:t}}else Kp=Kp.next=t;return e}var Nh=null;function w9(t){Nh===null?Nh=[t]:Nh.push(t)}function dN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,w9(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zu(t,r)}function Zu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wc=!1;function T9(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function uf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,vn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zu(t,n)}return i=r.interleaved,i===null?(e.next=e,w9(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zu(t,n)}function Zy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,c9(t,n)}}function Fb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function V5(t,e,n,r){var i=t.updateQueue;Wc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,d=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,d=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(d,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(d,f,h):g,h==null)break e;f=wr({},f,h);break e;case 2:Wc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);hd|=o,t.lanes=o,t.memoizedState=f}}function Ob(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ye(191,i));i.call(r)}}}var mN=new dk.Component().refs;function CC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var t6={isMounted:function(t){return(t=t._reactInternals)?_d(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ts(),i=ff(t),s=Wu(r,i);s.payload=e,n!=null&&(s.callback=n),e=uf(t,s,i),e!==null&&($a(e,t,i,r),Zy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ts(),i=ff(t),s=Wu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=uf(t,s,i),e!==null&&($a(e,t,i,r),Zy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ts(),r=ff(t),i=Wu(n,r);i.tag=2,e!=null&&(i.callback=e),e=uf(t,i,r),e!==null&&($a(e,t,r,n),Zy(e,t,r))}};function Ub(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!lA(n,r)||!lA(i,s):!0}function gN(t,e,n){var r=!1,i=yf,s=e.contextType;return typeof s=="object"&&s!==null?s=Ca(s):(i=Ws(e)?ud:ss.current,r=e.contextTypes,s=(r=r!=null)?D0(t,i):yf),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t6,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&t6.enqueueReplaceState(e,e.state,null)}function wC(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mN,T9(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ca(s):(s=Ws(e)?ud:ss.current,i.context=D0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(CC(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&t6.enqueueReplaceState(i,i.state,null),V5(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dg(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ye(309));var r=n.stateNode}if(!r)throw Error(Ye(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===mN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ye(284));if(!n._owner)throw Error(Ye(290,t))}return t}function pv(t,e){throw t=Object.prototype.toString.call(e),Error(Ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nb(t){var e=t._init;return e(t._payload)}function AN(t){function e(A,x){if(t){var E=A.deletions;E===null?(A.deletions=[x],A.flags|=16):E.push(x)}}function n(A,x){if(!t)return null;for(;x!==null;)e(A,x),x=x.sibling;return null}function r(A,x){for(A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function i(A,x){return A=hf(A,x),A.index=0,A.sibling=null,A}function s(A,x,E){return A.index=E,t?(E=A.alternate,E!==null?(E=E.index,E<x?(A.flags|=2,x):E):(A.flags|=2,x)):(A.flags|=1048576,x)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,x,E,S){return x===null||x.tag!==6?(x=QE(E,A.mode,S),x.return=A,x):(x=i(x,E),x.return=A,x)}function l(A,x,E,S){var w=E.type;return w===zp?c(A,x,E.props.children,S,E.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vc&&Nb(w)===x.type)?(S=i(x,E.props),S.ref=dg(A,x,E),S.return=A,S):(S=i5(E.type,E.key,E.props,null,A.mode,S),S.ref=dg(A,x,E),S.return=A,S)}function u(A,x,E,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=VE(E,A.mode,S),x.return=A,x):(x=i(x,E.children||[]),x.return=A,x)}function c(A,x,E,S,w){return x===null||x.tag!==7?(x=qh(E,A.mode,S,w),x.return=A,x):(x=i(x,E),x.return=A,x)}function f(A,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=QE(""+x,A.mode,E),x.return=A,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rv:return E=i5(x.type,x.key,x.props,null,A.mode,E),E.ref=dg(A,null,x),E.return=A,E;case Gp:return x=VE(x,A.mode,E),x.return=A,x;case Vc:var S=x._init;return f(A,S(x._payload),E)}if(s1(x)||lg(x))return x=qh(x,A.mode,E,null),x.return=A,x;pv(A,x)}return null}function h(A,x,E,S){var w=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return w!==null?null:a(A,x,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rv:return E.key===w?l(A,x,E,S):null;case Gp:return E.key===w?u(A,x,E,S):null;case Vc:return w=E._init,h(A,x,w(E._payload),S)}if(s1(E)||lg(E))return w!==null?null:c(A,x,E,S,null);pv(A,E)}return null}function d(A,x,E,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return A=A.get(E)||null,a(x,A,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case rv:return A=A.get(S.key===null?E:S.key)||null,l(x,A,S,w);case Gp:return A=A.get(S.key===null?E:S.key)||null,u(x,A,S,w);case Vc:var M=S._init;return d(A,x,E,M(S._payload),w)}if(s1(S)||lg(S))return A=A.get(E)||null,c(x,A,S,w,null);pv(x,S)}return null}function g(A,x,E,S){for(var w=null,M=null,_=x,b=x=0,I=null;_!==null&&b<E.length;b++){_.index>b?(I=_,_=null):I=_.sibling;var B=h(A,_,E[b],S);if(B===null){_===null&&(_=I);break}t&&_&&B.alternate===null&&e(A,_),x=s(B,x,b),M===null?w=B:M.sibling=B,M=B,_=I}if(b===E.length)return n(A,_),cr&&wh(A,b),w;if(_===null){for(;b<E.length;b++)_=f(A,E[b],S),_!==null&&(x=s(_,x,b),M===null?w=_:M.sibling=_,M=_);return cr&&wh(A,b),w}for(_=r(A,_);b<E.length;b++)I=d(_,A,b,E[b],S),I!==null&&(t&&I.alternate!==null&&_.delete(I.key===null?b:I.key),x=s(I,x,b),M===null?w=I:M.sibling=I,M=I);return t&&_.forEach(function(L){return e(A,L)}),cr&&wh(A,b),w}function v(A,x,E,S){var w=lg(E);if(typeof w!="function")throw Error(Ye(150));if(E=w.call(E),E==null)throw Error(Ye(151));for(var M=w=null,_=x,b=x=0,I=null,B=E.next();_!==null&&!B.done;b++,B=E.next()){_.index>b?(I=_,_=null):I=_.sibling;var L=h(A,_,B.value,S);if(L===null){_===null&&(_=I);break}t&&_&&L.alternate===null&&e(A,_),x=s(L,x,b),M===null?w=L:M.sibling=L,M=L,_=I}if(B.done)return n(A,_),cr&&wh(A,b),w;if(_===null){for(;!B.done;b++,B=E.next())B=f(A,B.value,S),B!==null&&(x=s(B,x,b),M===null?w=B:M.sibling=B,M=B);return cr&&wh(A,b),w}for(_=r(A,_);!B.done;b++,B=E.next())B=d(_,A,b,B.value,S),B!==null&&(t&&B.alternate!==null&&_.delete(B.key===null?b:B.key),x=s(B,x,b),M===null?w=B:M.sibling=B,M=B);return t&&_.forEach(function(F){return e(A,F)}),cr&&wh(A,b),w}function y(A,x,E,S){if(typeof E=="object"&&E!==null&&E.type===zp&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case rv:e:{for(var w=E.key,M=x;M!==null;){if(M.key===w){if(w=E.type,w===zp){if(M.tag===7){n(A,M.sibling),x=i(M,E.props.children),x.return=A,A=x;break e}}else if(M.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Vc&&Nb(w)===M.type){n(A,M.sibling),x=i(M,E.props),x.ref=dg(A,M,E),x.return=A,A=x;break e}n(A,M);break}else e(A,M);M=M.sibling}E.type===zp?(x=qh(E.props.children,A.mode,S,E.key),x.return=A,A=x):(S=i5(E.type,E.key,E.props,null,A.mode,S),S.ref=dg(A,x,E),S.return=A,A=S)}return o(A);case Gp:e:{for(M=E.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(A,x.sibling),x=i(x,E.children||[]),x.return=A,A=x;break e}else{n(A,x);break}else e(A,x);x=x.sibling}x=VE(E,A.mode,S),x.return=A,A=x}return o(A);case Vc:return M=E._init,y(A,x,M(E._payload),S)}if(s1(E))return g(A,x,E,S);if(lg(E))return v(A,x,E,S);pv(A,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(A,x.sibling),x=i(x,E),x.return=A,A=x):(n(A,x),x=QE(E,A.mode,S),x.return=A,A=x),o(A)):n(A,x)}return y}var L0=AN(!0),vN=AN(!1),m3={},Ql=Lf(m3),hA=Lf(m3),dA=Lf(m3);function Gh(t){if(t===m3)throw Error(Ye(174));return t}function M9(t,e){switch(Yn(dA,e),Yn(hA,t),Yn(Ql,m3),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nC(e,t)}ir(Ql),Yn(Ql,e)}function F0(){ir(Ql),ir(hA),ir(dA)}function yN(t){Gh(dA.current);var e=Gh(Ql.current),n=nC(e,t.type);e!==n&&(Yn(hA,t),Yn(Ql,n))}function _9(t){hA.current===t&&(ir(Ql),ir(hA))}var Ar=Lf(0);function W5(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var UE=[];function I9(){for(var t=0;t<UE.length;t++)UE[t]._workInProgressVersionPrimary=null;UE.length=0}var $y=lc.ReactCurrentDispatcher,kE=lc.ReactCurrentBatchConfig,fd=0,Sr=null,li=null,_i=null,j5=!1,T1=!1,pA=0,ZJ=0;function Ji(){throw Error(Ye(321))}function b9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rl(t[n],e[n]))return!1;return!0}function B9(t,e,n,r,i,s){if(fd=s,Sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$y.current=t===null||t.memoizedState===null?nq:rq,t=n(r,i),T1){s=0;do{if(T1=!1,pA=0,25<=s)throw Error(Ye(301));s+=1,_i=li=null,e.updateQueue=null,$y.current=iq,t=n(r,i)}while(T1)}if($y.current=X5,e=li!==null&&li.next!==null,fd=0,_i=li=Sr=null,j5=!1,e)throw Error(Ye(300));return t}function R9(){var t=pA!==0;return pA=0,t}function Bl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _i===null?Sr.memoizedState=_i=t:_i=_i.next=t,_i}function wa(){if(li===null){var t=Sr.alternate;t=t!==null?t.memoizedState:null}else t=li.next;var e=_i===null?Sr.memoizedState:_i.next;if(e!==null)_i=e,li=t;else{if(t===null)throw Error(Ye(310));li=t,t={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},_i===null?Sr.memoizedState=_i=t:_i=_i.next=t}return _i}function mA(t,e){return typeof e=="function"?e(t):e}function NE(t){var e=wa(),n=e.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=t;var r=li,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((fd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Sr.lanes|=c,hd|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,rl(r,e.memoizedState)||(Hs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Sr.lanes|=s,hd|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function GE(t){var e=wa(),n=e.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);rl(s,e.memoizedState)||(Hs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xN(){}function EN(t,e){var n=Sr,r=wa(),i=e(),s=!rl(r.memoizedState,i);if(s&&(r.memoizedState=i,Hs=!0),r=r.queue,D9(wN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_i!==null&&_i.memoizedState.tag&1){if(n.flags|=2048,gA(9,CN.bind(null,n,r,i,e),void 0,null),Bi===null)throw Error(Ye(349));fd&30||SN(n,e,i)}return i}function SN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CN(t,e,n,r){e.value=n,e.getSnapshot=r,TN(e)&&MN(t)}function wN(t,e,n){return n(function(){TN(e)&&MN(t)})}function TN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rl(t,n)}catch{return!0}}function MN(t){var e=Zu(t,1);e!==null&&$a(e,t,1,-1)}function Gb(t){var e=Bl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mA,lastRenderedState:t},e.queue=t,t=t.dispatch=tq.bind(null,Sr,t),[e.memoizedState,t]}function gA(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _N(){return wa().memoizedState}function e5(t,e,n,r){var i=Bl();Sr.flags|=t,i.memoizedState=gA(1|e,n,void 0,r===void 0?null:r)}function n6(t,e,n,r){var i=wa();r=r===void 0?null:r;var s=void 0;if(li!==null){var o=li.memoizedState;if(s=o.destroy,r!==null&&b9(r,o.deps)){i.memoizedState=gA(e,n,s,r);return}}Sr.flags|=t,i.memoizedState=gA(1|e,n,s,r)}function zb(t,e){return e5(8390656,8,t,e)}function D9(t,e){return n6(2048,8,t,e)}function IN(t,e){return n6(4,2,t,e)}function bN(t,e){return n6(4,4,t,e)}function BN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RN(t,e,n){return n=n!=null?n.concat([t]):null,n6(4,4,BN.bind(null,e,t),n)}function P9(){}function DN(t,e){var n=wa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b9(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PN(t,e){var n=wa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b9(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LN(t,e,n){return fd&21?(rl(n,e)||(n=Uk(),Sr.lanes|=n,hd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hs=!0),t.memoizedState=n)}function $J(t,e){var n=Pn;Pn=n!==0&&4>n?n:4,t(!0);var r=kE.transition;kE.transition={};try{t(!1),e()}finally{Pn=n,kE.transition=r}}function FN(){return wa().memoizedState}function eq(t,e,n){var r=ff(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ON(t))UN(e,n);else if(n=dN(t,e,n,r),n!==null){var i=Ts();$a(n,t,r,i),kN(n,e,r)}}function tq(t,e,n){var r=ff(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ON(t))UN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rl(a,o)){var l=e.interleaved;l===null?(i.next=i,w9(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=dN(t,e,i,r),n!==null&&(i=Ts(),$a(n,t,r,i),kN(n,e,r))}}function ON(t){var e=t.alternate;return t===Sr||e!==null&&e===Sr}function UN(t,e){T1=j5=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,c9(t,n)}}var X5={readContext:Ca,useCallback:Ji,useContext:Ji,useEffect:Ji,useImperativeHandle:Ji,useInsertionEffect:Ji,useLayoutEffect:Ji,useMemo:Ji,useReducer:Ji,useRef:Ji,useState:Ji,useDebugValue:Ji,useDeferredValue:Ji,useTransition:Ji,useMutableSource:Ji,useSyncExternalStore:Ji,useId:Ji,unstable_isNewReconciler:!1},nq={readContext:Ca,useCallback:function(t,e){return Bl().memoizedState=[t,e===void 0?null:e],t},useContext:Ca,useEffect:zb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,e5(4194308,4,BN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return e5(4194308,4,t,e)},useInsertionEffect:function(t,e){return e5(4,2,t,e)},useMemo:function(t,e){var n=Bl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Bl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eq.bind(null,Sr,t),[r.memoizedState,t]},useRef:function(t){var e=Bl();return t={current:t},e.memoizedState=t},useState:Gb,useDebugValue:P9,useDeferredValue:function(t){return Bl().memoizedState=t},useTransition:function(){var t=Gb(!1),e=t[0];return t=$J.bind(null,t[1]),Bl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Sr,i=Bl();if(cr){if(n===void 0)throw Error(Ye(407));n=n()}else{if(n=e(),Bi===null)throw Error(Ye(349));fd&30||SN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zb(wN.bind(null,r,s,t),[t]),r.flags|=2048,gA(9,CN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Bl(),e=Bi.identifierPrefix;if(cr){var n=Hu,r=zu;n=(r&~(1<<32-Za(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pA++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZJ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rq={readContext:Ca,useCallback:DN,useContext:Ca,useEffect:D9,useImperativeHandle:RN,useInsertionEffect:IN,useLayoutEffect:bN,useMemo:PN,useReducer:NE,useRef:_N,useState:function(){return NE(mA)},useDebugValue:P9,useDeferredValue:function(t){var e=wa();return LN(e,li.memoizedState,t)},useTransition:function(){var t=NE(mA)[0],e=wa().memoizedState;return[t,e]},useMutableSource:xN,useSyncExternalStore:EN,useId:FN,unstable_isNewReconciler:!1},iq={readContext:Ca,useCallback:DN,useContext:Ca,useEffect:D9,useImperativeHandle:RN,useInsertionEffect:IN,useLayoutEffect:bN,useMemo:PN,useReducer:GE,useRef:_N,useState:function(){return GE(mA)},useDebugValue:P9,useDeferredValue:function(t){var e=wa();return li===null?e.memoizedState=t:LN(e,li.memoizedState,t)},useTransition:function(){var t=GE(mA)[0],e=wa().memoizedState;return[t,e]},useMutableSource:xN,useSyncExternalStore:EN,useId:FN,unstable_isNewReconciler:!1};function O0(t,e){try{var n="",r=e;do n+=DK(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function TC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sq=typeof WeakMap=="function"?WeakMap:Map;function NN(t,e,n){n=Wu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){K5||(K5=!0,FC=r),TC(t,e)},n}function GN(t,e,n){n=Wu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){TC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){TC(t,e),typeof r!="function"&&(cf===null?cf=new Set([this]):cf.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yq.bind(null,t,e,n),e.then(t,t))}function Qb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wu(-1,1),e.tag=2,uf(n,e,1))),n.lanes|=1),t)}var oq=lc.ReactCurrentOwner,Hs=!1;function Es(t,e,n,r){e.child=t===null?vN(e,null,n,r):L0(e,t.child,n,r)}function Wb(t,e,n,r,i){n=n.render;var s=e.ref;return d0(e,i),r=B9(t,e,n,r,s,i),n=R9(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$u(t,e,i)):(cr&&n&&v9(e),e.flags|=1,Es(t,e,r,i),e.child)}function jb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!z9(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zN(t,e,s,r,i)):(t=i5(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:lA,n(o,r)&&t.ref===e.ref)return $u(t,e,i)}return e.flags|=1,t=hf(s,r),t.ref=e.ref,t.return=e,e.child=t}function zN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(lA(s,r)&&t.ref===e.ref)if(Hs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Hs=!0);else return e.lanes=t.lanes,$u(t,e,i)}return MC(t,e,n,r,i)}function HN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(qp,mo),mo|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yn(qp,mo),mo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yn(qp,mo),mo|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Yn(qp,mo),mo|=r;return Es(t,e,i,n),e.child}function QN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function MC(t,e,n,r,i){var s=Ws(n)?ud:ss.current;return s=D0(e,s),d0(e,i),n=B9(t,e,n,r,s,i),r=R9(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$u(t,e,i)):(cr&&r&&v9(e),e.flags|=1,Es(t,e,n,i),e.child)}function Xb(t,e,n,r,i){if(Ws(n)){var s=!0;N5(e)}else s=!1;if(d0(e,i),e.stateNode===null)t5(t,e),gN(e,n,r),wC(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ca(u):(u=Ws(n)?ud:ss.current,u=D0(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kb(e,o,r,u),Wc=!1;var h=e.memoizedState;o.state=h,V5(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Vs.current||Wc?(typeof c=="function"&&(CC(e,n,c,r),l=e.memoizedState),(a=Wc||Ub(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pN(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Wa(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ca(l):(l=Ws(n)?ud:ss.current,l=D0(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&kb(e,o,r,l),Wc=!1,h=e.memoizedState,o.state=h,V5(e,r,o,i);var g=e.memoizedState;a!==f||h!==g||Vs.current||Wc?(typeof d=="function"&&(CC(e,n,d,r),g=e.memoizedState),(u=Wc||Ub(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return _C(t,e,n,r,s,i)}function _C(t,e,n,r,i,s){QN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Db(e,n,!1),$u(t,e,s);r=e.stateNode,oq.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=L0(e,t.child,null,s),e.child=L0(e,null,a,s)):Es(t,e,a,s),e.memoizedState=r.state,i&&Db(e,n,!0),e.child}function VN(t){var e=t.stateNode;e.pendingContext?Rb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rb(t,e.context,!1),M9(t,e.containerInfo)}function Yb(t,e,n,r,i){return P0(),x9(i),e.flags|=256,Es(t,e,n,r),e.child}var IC={dehydrated:null,treeContext:null,retryLane:0};function bC(t){return{baseLanes:t,cachePool:null,transitions:null}}function WN(t,e,n){var r=e.pendingProps,i=Ar.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Yn(Ar,i&1),t===null)return EC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=s6(o,r,0,null),t=qh(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bC(n),e.memoizedState=IC,t):L9(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aq(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hf(a,s):(s=qh(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?bC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=IC,r}return s=t.child,t=s.sibling,r=hf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function L9(t,e){return e=s6({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mv(t,e,n,r){return r!==null&&x9(r),L0(e,t.child,null,n),t=L9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aq(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zE(Error(Ye(422))),mv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=s6({mode:"visible",children:r.children},i,0,null),s=qh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&L0(e,t.child,null,o),e.child.memoizedState=bC(o),e.memoizedState=IC,s);if(!(e.mode&1))return mv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ye(419)),r=zE(s,r,void 0),mv(t,e,o,r)}if(a=(o&t.childLanes)!==0,Hs||a){if(r=Bi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zu(t,i),$a(r,t,i,-1))}return G9(),r=zE(Error(Ye(421))),mv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xq.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xo=lf(i.nextSibling),To=e,cr=!0,Ya=null,t!==null&&(aa[la++]=zu,aa[la++]=Hu,aa[la++]=cd,zu=t.id,Hu=t.overflow,cd=e),e=L9(e,r.children),e.flags|=4096,e)}function Kb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),SC(t.return,e,n)}function HE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Es(t,e,r.children,n),r=Ar.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kb(t,n,e);else if(t.tag===19)Kb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yn(Ar,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&W5(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),HE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&W5(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}HE(e,!0,n,null,s);break;case"together":HE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function t5(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $u(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ye(153));if(e.child!==null){for(t=e.child,n=hf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lq(t,e,n){switch(e.tag){case 3:VN(e),P0();break;case 5:yN(e);break;case 1:Ws(e.type)&&N5(e);break;case 4:M9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Yn(H5,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yn(Ar,Ar.current&1),e.flags|=128,null):n&e.child.childLanes?WN(t,e,n):(Yn(Ar,Ar.current&1),t=$u(t,e,n),t!==null?t.sibling:null);Yn(Ar,Ar.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(Ar,Ar.current),r)break;return null;case 22:case 23:return e.lanes=0,HN(t,e,n)}return $u(t,e,n)}var XN,BC,YN,KN;XN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};BC=function(){};YN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gh(Ql.current);var s=null;switch(n){case"input":i=ZS(t,i),r=ZS(t,r),s=[];break;case"select":i=wr({},i,{value:void 0}),r=wr({},r,{value:void 0}),s=[];break;case"textarea":i=tC(t,i),r=tC(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=U5)}rC(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tA.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tA.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&er("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};KN=function(t,e,n,r){n!==r&&(e.flags|=4)};function pg(t,e){if(!cr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uq(t,e,n){var r=e.pendingProps;switch(y9(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(e),null;case 1:return Ws(e.type)&&k5(),qi(e),null;case 3:return r=e.stateNode,F0(),ir(Vs),ir(ss),I9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ya!==null&&(kC(Ya),Ya=null))),BC(t,e),qi(e),null;case 5:_9(e);var i=Gh(dA.current);if(n=e.type,t!==null&&e.stateNode!=null)YN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ye(166));return qi(e),null}if(t=Gh(Ql.current),dv(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ll]=e,r[fA]=s,t=(e.mode&1)!==0,n){case"dialog":er("cancel",r),er("close",r);break;case"iframe":case"object":case"embed":er("load",r);break;case"video":case"audio":for(i=0;i<a1.length;i++)er(a1[i],r);break;case"source":er("error",r);break;case"img":case"image":case"link":er("error",r),er("load",r);break;case"details":er("toggle",r);break;case"input":ib(r,s),er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},er("invalid",r);break;case"textarea":ob(r,s),er("invalid",r)}rC(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hv(r.textContent,a,t),i=["children",""+a]):tA.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&er("scroll",r)}switch(n){case"input":iv(r),sb(r,s,!0);break;case"textarea":iv(r),ab(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=U5)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ll]=e,t[fA]=r,XN(t,e,!1,!1),e.stateNode=t;e:{switch(o=iC(n,r),n){case"dialog":er("cancel",t),er("close",t),i=r;break;case"iframe":case"object":case"embed":er("load",t),i=r;break;case"video":case"audio":for(i=0;i<a1.length;i++)er(a1[i],t);i=r;break;case"source":er("error",t),i=r;break;case"img":case"image":case"link":er("error",t),er("load",t),i=r;break;case"details":er("toggle",t),i=r;break;case"input":ib(t,r),i=ZS(t,r),er("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wr({},r,{value:void 0}),er("invalid",t);break;case"textarea":ob(t,r),i=tC(t,r),er("invalid",t);break;default:i=r}rC(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Tk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ck(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nA(t,l):typeof l=="number"&&nA(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tA.hasOwnProperty(s)?l!=null&&s==="onScroll"&&er("scroll",t):l!=null&&i9(t,s,l,o))}switch(n){case"input":iv(t),sb(t,r,!1);break;case"textarea":iv(t),ab(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vf(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?u0(t,!!r.multiple,s,!1):r.defaultValue!=null&&u0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=U5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qi(e),null;case 6:if(t&&e.stateNode!=null)KN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ye(166));if(n=Gh(dA.current),Gh(Ql.current),dv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ll]=e,(s=r.nodeValue!==n)&&(t=To,t!==null))switch(t.tag){case 3:hv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hv(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ll]=e,e.stateNode=r}return qi(e),null;case 13:if(ir(Ar),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cr&&xo!==null&&e.mode&1&&!(e.flags&128))hN(),P0(),e.flags|=98560,s=!1;else if(s=dv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ye(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ye(317));s[Ll]=e}else P0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qi(e),s=!1}else Ya!==null&&(kC(Ya),Ya=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ar.current&1?fi===0&&(fi=3):G9())),e.updateQueue!==null&&(e.flags|=4),qi(e),null);case 4:return F0(),BC(t,e),t===null&&uA(e.stateNode.containerInfo),qi(e),null;case 10:return C9(e.type._context),qi(e),null;case 17:return Ws(e.type)&&k5(),qi(e),null;case 19:if(ir(Ar),s=e.memoizedState,s===null)return qi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pg(s,!1);else{if(fi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=W5(t),o!==null){for(e.flags|=128,pg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yn(Ar,Ar.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qr()>U0&&(e.flags|=128,r=!0,pg(s,!1),e.lanes=4194304)}else{if(!r)if(t=W5(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!cr)return qi(e),null}else 2*Qr()-s.renderingStartTime>U0&&n!==1073741824&&(e.flags|=128,r=!0,pg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qr(),e.sibling=null,n=Ar.current,Yn(Ar,r?n&1|2:n&1),e):(qi(e),null);case 22:case 23:return N9(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mo&1073741824&&(qi(e),e.subtreeFlags&6&&(e.flags|=8192)):qi(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function cq(t,e){switch(y9(e),e.tag){case 1:return Ws(e.type)&&k5(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return F0(),ir(Vs),ir(ss),I9(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _9(e),null;case 13:if(ir(Ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));P0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ir(Ar),null;case 4:return F0(),null;case 10:return C9(e.type._context),null;case 22:case 23:return N9(),null;case 24:return null;default:return null}}var gv=!1,es=!1,fq=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Jp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ir(t,e,r)}else n.current=null}function RC(t,e,n){try{n()}catch(r){Ir(t,e,r)}}var Jb=!1;function hq(t,e){if(pC=L5,t=$k(),A9(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mC={focusedElem:t,selectionRange:n},L5=!1,ft=e;ft!==null;)if(e=ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ft=t;else for(;ft!==null;){e=ft;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,A=e.stateNode,x=A.getSnapshotBeforeUpdate(e.elementType===e.type?v:Wa(e.type,v),y);A.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(S){Ir(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ft=t;break}ft=e.return}return g=Jb,Jb=!1,g}function M1(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&RC(e,n,s)}i=i.next}while(i!==r)}}function r6(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function DC(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JN(t){var e=t.alternate;e!==null&&(t.alternate=null,JN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ll],delete e[fA],delete e[vC],delete e[YJ],delete e[KJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qN(t){return t.tag===5||t.tag===3||t.tag===4}function qb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function PC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=U5));else if(r!==4&&(t=t.child,t!==null))for(PC(t,e,n),t=t.sibling;t!==null;)PC(t,e,n),t=t.sibling}function LC(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(LC(t,e,n),t=t.sibling;t!==null;)LC(t,e,n),t=t.sibling}var Ui=null,Xa=!1;function Ic(t,e,n){for(n=n.child;n!==null;)ZN(t,e,n),n=n.sibling}function ZN(t,e,n){if(Hl&&typeof Hl.onCommitFiberUnmount=="function")try{Hl.onCommitFiberUnmount(Kx,n)}catch{}switch(n.tag){case 5:es||Jp(n,e);case 6:var r=Ui,i=Xa;Ui=null,Ic(t,e,n),Ui=r,Xa=i,Ui!==null&&(Xa?(t=Ui,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ui.removeChild(n.stateNode));break;case 18:Ui!==null&&(Xa?(t=Ui,n=n.stateNode,t.nodeType===8?FE(t.parentNode,n):t.nodeType===1&&FE(t,n),oA(t)):FE(Ui,n.stateNode));break;case 4:r=Ui,i=Xa,Ui=n.stateNode.containerInfo,Xa=!0,Ic(t,e,n),Ui=r,Xa=i;break;case 0:case 11:case 14:case 15:if(!es&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&RC(n,e,o),i=i.next}while(i!==r)}Ic(t,e,n);break;case 1:if(!es&&(Jp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ir(n,e,a)}Ic(t,e,n);break;case 21:Ic(t,e,n);break;case 22:n.mode&1?(es=(r=es)||n.memoizedState!==null,Ic(t,e,n),es=r):Ic(t,e,n);break;default:Ic(t,e,n)}}function Zb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fq),e.forEach(function(r){var i=Eq.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Na(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ui=a.stateNode,Xa=!1;break e;case 3:Ui=a.stateNode.containerInfo,Xa=!0;break e;case 4:Ui=a.stateNode.containerInfo,Xa=!0;break e}a=a.return}if(Ui===null)throw Error(Ye(160));ZN(s,o,i),Ui=null,Xa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ir(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$N(e,t),e=e.sibling}function $N(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Na(e,t),Ml(t),r&4){try{M1(3,t,t.return),r6(3,t)}catch(v){Ir(t,t.return,v)}try{M1(5,t,t.return)}catch(v){Ir(t,t.return,v)}}break;case 1:Na(e,t),Ml(t),r&512&&n!==null&&Jp(n,n.return);break;case 5:if(Na(e,t),Ml(t),r&512&&n!==null&&Jp(n,n.return),t.flags&32){var i=t.stateNode;try{nA(i,"")}catch(v){Ir(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xk(i,s),iC(a,o);var u=iC(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Tk(i,f):c==="dangerouslySetInnerHTML"?Ck(i,f):c==="children"?nA(i,f):i9(i,c,f,u)}switch(a){case"input":$S(i,s);break;case"textarea":Ek(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?u0(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?u0(i,!!s.multiple,s.defaultValue,!0):u0(i,!!s.multiple,s.multiple?[]:"",!1))}i[fA]=s}catch(v){Ir(t,t.return,v)}}break;case 6:if(Na(e,t),Ml(t),r&4){if(t.stateNode===null)throw Error(Ye(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ir(t,t.return,v)}}break;case 3:if(Na(e,t),Ml(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oA(e.containerInfo)}catch(v){Ir(t,t.return,v)}break;case 4:Na(e,t),Ml(t);break;case 13:Na(e,t),Ml(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(U9=Qr())),r&4&&Zb(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(es=(u=es)||c,Na(e,t),es=u):Na(e,t),Ml(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ft=t,c=t.child;c!==null;){for(f=ft=c;ft!==null;){switch(h=ft,d=h.child,h.tag){case 0:case 11:case 14:case 15:M1(4,h,h.return);break;case 1:Jp(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ir(r,n,v)}}break;case 5:Jp(h,h.return);break;case 22:if(h.memoizedState!==null){eB(f);continue}}d!==null?(d.return=h,ft=d):eB(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wk("display",o))}catch(v){Ir(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ir(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Na(e,t),Ml(t),r&4&&Zb(t);break;case 21:break;default:Na(e,t),Ml(t)}}function Ml(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qN(n)){var r=n;break e}n=n.return}throw Error(Ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nA(i,""),r.flags&=-33);var s=qb(t);LC(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qb(t);PC(t,a,o);break;default:throw Error(Ye(161))}}catch(l){Ir(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dq(t,e,n){ft=t,eG(t)}function eG(t,e,n){for(var r=(t.mode&1)!==0;ft!==null;){var i=ft,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||es;a=gv;var u=es;if(gv=o,(es=l)&&!u)for(ft=i;ft!==null;)o=ft,l=o.child,o.tag===22&&o.memoizedState!==null?tB(i):l!==null?(l.return=o,ft=l):tB(i);for(;s!==null;)ft=s,eG(s),s=s.sibling;ft=i,gv=a,es=u}$b(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ft=s):$b(t)}}function $b(t){for(;ft!==null;){var e=ft;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:es||r6(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!es)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ob(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ob(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&oA(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}es||e.flags&512&&DC(e)}catch(h){Ir(e,e.return,h)}}if(e===t){ft=null;break}if(n=e.sibling,n!==null){n.return=e.return,ft=n;break}ft=e.return}}function eB(t){for(;ft!==null;){var e=ft;if(e===t){ft=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ft=n;break}ft=e.return}}function tB(t){for(;ft!==null;){var e=ft;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{r6(4,e)}catch(l){Ir(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ir(e,i,l)}}var s=e.return;try{DC(e)}catch(l){Ir(e,s,l)}break;case 5:var o=e.return;try{DC(e)}catch(l){Ir(e,o,l)}}}catch(l){Ir(e,e.return,l)}if(e===t){ft=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ft=a;break}ft=e.return}}var pq=Math.ceil,Y5=lc.ReactCurrentDispatcher,F9=lc.ReactCurrentOwner,ya=lc.ReactCurrentBatchConfig,vn=0,Bi=null,Zr=null,Gi=0,mo=0,qp=Lf(0),fi=0,AA=null,hd=0,i6=0,O9=0,_1=null,Gs=null,U9=0,U0=1/0,Lu=null,K5=!1,FC=null,cf=null,Av=!1,Jc=null,J5=0,I1=0,OC=null,n5=-1,r5=0;function Ts(){return vn&6?Qr():n5!==-1?n5:n5=Qr()}function ff(t){return t.mode&1?vn&2&&Gi!==0?Gi&-Gi:qJ.transition!==null?(r5===0&&(r5=Uk()),r5):(t=Pn,t!==0||(t=window.event,t=t===void 0?16:Vk(t.type)),t):1}function $a(t,e,n,r){if(50<I1)throw I1=0,OC=null,Error(Ye(185));h3(t,n,r),(!(vn&2)||t!==Bi)&&(t===Bi&&(!(vn&2)&&(i6|=n),fi===4&&Yc(t,Gi)),js(t,r),n===1&&vn===0&&!(e.mode&1)&&(U0=Qr()+500,e6&&Ff()))}function js(t,e){var n=t.callbackNode;qK(t,e);var r=P5(t,t===Bi?Gi:0);if(r===0)n!==null&&cb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cb(n),e===1)t.tag===0?JJ(nB.bind(null,t)):uN(nB.bind(null,t)),jJ(function(){!(vn&6)&&Ff()}),n=null;else{switch(kk(r)){case 1:n=u9;break;case 4:n=Fk;break;case 16:n=D5;break;case 536870912:n=Ok;break;default:n=D5}n=lG(n,tG.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tG(t,e){if(n5=-1,r5=0,vn&6)throw Error(Ye(327));var n=t.callbackNode;if(p0()&&t.callbackNode!==n)return null;var r=P5(t,t===Bi?Gi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=q5(t,r);else{e=r;var i=vn;vn|=2;var s=rG();(Bi!==t||Gi!==e)&&(Lu=null,U0=Qr()+500,Jh(t,e));do try{Aq();break}catch(a){nG(t,a)}while(1);S9(),Y5.current=s,vn=i,Zr!==null?e=0:(Bi=null,Gi=0,e=fi)}if(e!==0){if(e===2&&(i=uC(t),i!==0&&(r=i,e=UC(t,i))),e===1)throw n=AA,Jh(t,0),Yc(t,r),js(t,Qr()),n;if(e===6)Yc(t,r);else{if(i=t.current.alternate,!(r&30)&&!mq(i)&&(e=q5(t,r),e===2&&(s=uC(t),s!==0&&(r=s,e=UC(t,s))),e===1))throw n=AA,Jh(t,0),Yc(t,r),js(t,Qr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ye(345));case 2:Th(t,Gs,Lu);break;case 3:if(Yc(t,r),(r&130023424)===r&&(e=U9+500-Qr(),10<e)){if(P5(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ts(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=AC(Th.bind(null,t,Gs,Lu),e);break}Th(t,Gs,Lu);break;case 4:if(Yc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Za(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Qr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pq(r/1960))-r,10<r){t.timeoutHandle=AC(Th.bind(null,t,Gs,Lu),r);break}Th(t,Gs,Lu);break;case 5:Th(t,Gs,Lu);break;default:throw Error(Ye(329))}}}return js(t,Qr()),t.callbackNode===n?tG.bind(null,t):null}function UC(t,e){var n=_1;return t.current.memoizedState.isDehydrated&&(Jh(t,e).flags|=256),t=q5(t,e),t!==2&&(e=Gs,Gs=n,e!==null&&kC(e)),t}function kC(t){Gs===null?Gs=t:Gs.push.apply(Gs,t)}function mq(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rl(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yc(t,e){for(e&=~O9,e&=~i6,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Za(e),r=1<<n;t[n]=-1,e&=~r}}function nB(t){if(vn&6)throw Error(Ye(327));p0();var e=P5(t,0);if(!(e&1))return js(t,Qr()),null;var n=q5(t,e);if(t.tag!==0&&n===2){var r=uC(t);r!==0&&(e=r,n=UC(t,r))}if(n===1)throw n=AA,Jh(t,0),Yc(t,e),js(t,Qr()),n;if(n===6)throw Error(Ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Th(t,Gs,Lu),js(t,Qr()),null}function k9(t,e){var n=vn;vn|=1;try{return t(e)}finally{vn=n,vn===0&&(U0=Qr()+500,e6&&Ff())}}function dd(t){Jc!==null&&Jc.tag===0&&!(vn&6)&&p0();var e=vn;vn|=1;var n=ya.transition,r=Pn;try{if(ya.transition=null,Pn=1,t)return t()}finally{Pn=r,ya.transition=n,vn=e,!(vn&6)&&Ff()}}function N9(){mo=qp.current,ir(qp)}function Jh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WJ(n)),Zr!==null)for(n=Zr.return;n!==null;){var r=n;switch(y9(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&k5();break;case 3:F0(),ir(Vs),ir(ss),I9();break;case 5:_9(r);break;case 4:F0();break;case 13:ir(Ar);break;case 19:ir(Ar);break;case 10:C9(r.type._context);break;case 22:case 23:N9()}n=n.return}if(Bi=t,Zr=t=hf(t.current,null),Gi=mo=e,fi=0,AA=null,O9=i6=hd=0,Gs=_1=null,Nh!==null){for(e=0;e<Nh.length;e++)if(n=Nh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Nh=null}return t}function nG(t,e){do{var n=Zr;try{if(S9(),$y.current=X5,j5){for(var r=Sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}j5=!1}if(fd=0,_i=li=Sr=null,T1=!1,pA=0,F9.current=null,n===null||n.return===null){fi=1,AA=e,Zr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Gi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Qb(o);if(d!==null){d.flags&=-257,Vb(d,o,a,s,e),d.mode&1&&Hb(s,u,e),e=d,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){Hb(s,u,e),G9();break e}l=Error(Ye(426))}}else if(cr&&a.mode&1){var y=Qb(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Vb(y,o,a,s,e),x9(O0(l,a));break e}}s=l=O0(l,a),fi!==4&&(fi=2),_1===null?_1=[s]:_1.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=NN(s,l,e);Fb(s,A);break e;case 1:a=l;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(cf===null||!cf.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=GN(s,a,e);Fb(s,S);break e}}s=s.return}while(s!==null)}sG(n)}catch(w){e=w,Zr===n&&n!==null&&(Zr=n=n.return);continue}break}while(1)}function rG(){var t=Y5.current;return Y5.current=X5,t===null?X5:t}function G9(){(fi===0||fi===3||fi===2)&&(fi=4),Bi===null||!(hd&268435455)&&!(i6&268435455)||Yc(Bi,Gi)}function q5(t,e){var n=vn;vn|=2;var r=rG();(Bi!==t||Gi!==e)&&(Lu=null,Jh(t,e));do try{gq();break}catch(i){nG(t,i)}while(1);if(S9(),vn=n,Y5.current=r,Zr!==null)throw Error(Ye(261));return Bi=null,Gi=0,fi}function gq(){for(;Zr!==null;)iG(Zr)}function Aq(){for(;Zr!==null&&!HK();)iG(Zr)}function iG(t){var e=aG(t.alternate,t,mo);t.memoizedProps=t.pendingProps,e===null?sG(t):Zr=e,F9.current=null}function sG(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cq(n,e),n!==null){n.flags&=32767,Zr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fi=6,Zr=null;return}}else if(n=uq(n,e,mo),n!==null){Zr=n;return}if(e=e.sibling,e!==null){Zr=e;return}Zr=e=t}while(e!==null);fi===0&&(fi=5)}function Th(t,e,n){var r=Pn,i=ya.transition;try{ya.transition=null,Pn=1,vq(t,e,n,r)}finally{ya.transition=i,Pn=r}return null}function vq(t,e,n,r){do p0();while(Jc!==null);if(vn&6)throw Error(Ye(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ye(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ZK(t,s),t===Bi&&(Zr=Bi=null,Gi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Av||(Av=!0,lG(D5,function(){return p0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ya.transition,ya.transition=null;var o=Pn;Pn=1;var a=vn;vn|=4,F9.current=null,hq(t,n),$N(n,t),kJ(mC),L5=!!pC,mC=pC=null,t.current=n,dq(n),QK(),vn=a,Pn=o,ya.transition=s}else t.current=n;if(Av&&(Av=!1,Jc=t,J5=i),s=t.pendingLanes,s===0&&(cf=null),jK(n.stateNode),js(t,Qr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(K5)throw K5=!1,t=FC,FC=null,t;return J5&1&&t.tag!==0&&p0(),s=t.pendingLanes,s&1?t===OC?I1++:(I1=0,OC=t):I1=0,Ff(),null}function p0(){if(Jc!==null){var t=kk(J5),e=ya.transition,n=Pn;try{if(ya.transition=null,Pn=16>t?16:t,Jc===null)var r=!1;else{if(t=Jc,Jc=null,J5=0,vn&6)throw Error(Ye(331));var i=vn;for(vn|=4,ft=t.current;ft!==null;){var s=ft,o=s.child;if(ft.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ft=u;ft!==null;){var c=ft;switch(c.tag){case 0:case 11:case 15:M1(8,c,s)}var f=c.child;if(f!==null)f.return=c,ft=f;else for(;ft!==null;){c=ft;var h=c.sibling,d=c.return;if(JN(c),c===u){ft=null;break}if(h!==null){h.return=d,ft=h;break}ft=d}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}ft=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ft=o;else e:for(;ft!==null;){if(s=ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:M1(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,ft=A;break e}ft=s.return}}var x=t.current;for(ft=x;ft!==null;){o=ft;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ft=E;else e:for(o=x;ft!==null;){if(a=ft,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:r6(9,a)}}catch(w){Ir(a,a.return,w)}if(a===o){ft=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ft=S;break e}ft=a.return}}if(vn=i,Ff(),Hl&&typeof Hl.onPostCommitFiberRoot=="function")try{Hl.onPostCommitFiberRoot(Kx,t)}catch{}r=!0}return r}finally{Pn=n,ya.transition=e}}return!1}function rB(t,e,n){e=O0(n,e),e=NN(t,e,1),t=uf(t,e,1),e=Ts(),t!==null&&(h3(t,1,e),js(t,e))}function Ir(t,e,n){if(t.tag===3)rB(t,t,n);else for(;e!==null;){if(e.tag===3){rB(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cf===null||!cf.has(r))){t=O0(n,t),t=GN(e,t,1),e=uf(e,t,1),t=Ts(),e!==null&&(h3(e,1,t),js(e,t));break}}e=e.return}}function yq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ts(),t.pingedLanes|=t.suspendedLanes&n,Bi===t&&(Gi&n)===n&&(fi===4||fi===3&&(Gi&130023424)===Gi&&500>Qr()-U9?Jh(t,0):O9|=n),js(t,e)}function oG(t,e){e===0&&(t.mode&1?(e=av,av<<=1,!(av&130023424)&&(av=4194304)):e=1);var n=Ts();t=Zu(t,e),t!==null&&(h3(t,e,n),js(t,n))}function xq(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oG(t,n)}function Eq(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ye(314))}r!==null&&r.delete(e),oG(t,n)}var aG;aG=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vs.current)Hs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hs=!1,lq(t,e,n);Hs=!!(t.flags&131072)}else Hs=!1,cr&&e.flags&1048576&&cN(e,z5,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t5(t,e),t=e.pendingProps;var i=D0(e,ss.current);d0(e,n),i=B9(null,e,r,t,i,n);var s=R9();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ws(r)?(s=!0,N5(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,T9(e),i.updater=t6,e.stateNode=i,i._reactInternals=e,wC(e,r,t,n),e=_C(null,e,r,!0,s,n)):(e.tag=0,cr&&s&&v9(e),Es(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t5(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Cq(r),t=Wa(r,t),i){case 0:e=MC(null,e,r,t,n);break e;case 1:e=Xb(null,e,r,t,n);break e;case 11:e=Wb(null,e,r,t,n);break e;case 14:e=jb(null,e,r,Wa(r.type,t),n);break e}throw Error(Ye(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),MC(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),Xb(t,e,r,i,n);case 3:e:{if(VN(e),t===null)throw Error(Ye(387));r=e.pendingProps,s=e.memoizedState,i=s.element,pN(t,e),V5(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=O0(Error(Ye(423)),e),e=Yb(t,e,r,n,i);break e}else if(r!==i){i=O0(Error(Ye(424)),e),e=Yb(t,e,r,n,i);break e}else for(xo=lf(e.stateNode.containerInfo.firstChild),To=e,cr=!0,Ya=null,n=vN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(P0(),r===i){e=$u(t,e,n);break e}Es(t,e,r,n)}e=e.child}return e;case 5:return yN(e),t===null&&EC(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gC(r,i)?o=null:s!==null&&gC(r,s)&&(e.flags|=32),QN(t,e),Es(t,e,o,n),e.child;case 6:return t===null&&EC(e),null;case 13:return WN(t,e,n);case 4:return M9(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=L0(e,null,r,n):Es(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),Wb(t,e,r,i,n);case 7:return Es(t,e,e.pendingProps,n),e.child;case 8:return Es(t,e,e.pendingProps.children,n),e.child;case 12:return Es(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Yn(H5,r._currentValue),r._currentValue=o,s!==null)if(rl(s.value,o)){if(s.children===i.children&&!Vs.current){e=$u(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wu(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),SC(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ye(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),SC(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Es(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,d0(e,n),i=Ca(i),r=r(i),e.flags|=1,Es(t,e,r,n),e.child;case 14:return r=e.type,i=Wa(r,e.pendingProps),i=Wa(r.type,i),jb(t,e,r,i,n);case 15:return zN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),t5(t,e),e.tag=1,Ws(r)?(t=!0,N5(e)):t=!1,d0(e,n),gN(e,r,i),wC(e,r,i,n),_C(null,e,r,!0,t,n);case 19:return jN(t,e,n);case 22:return HN(t,e,n)}throw Error(Ye(156,e.tag))};function lG(t,e){return Lk(t,e)}function Sq(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(t,e,n,r){return new Sq(t,e,n,r)}function z9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cq(t){if(typeof t=="function")return z9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===o9)return 11;if(t===a9)return 14}return 2}function hf(t,e){var n=t.alternate;return n===null?(n=pa(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function i5(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")z9(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zp:return qh(n.children,i,s,e);case s9:o=8,i|=8;break;case YS:return t=pa(12,n,e,i|2),t.elementType=YS,t.lanes=s,t;case KS:return t=pa(13,n,e,i),t.elementType=KS,t.lanes=s,t;case JS:return t=pa(19,n,e,i),t.elementType=JS,t.lanes=s,t;case Ak:return s6(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mk:o=10;break e;case gk:o=9;break e;case o9:o=11;break e;case a9:o=14;break e;case Vc:o=16,r=null;break e}throw Error(Ye(130,t==null?t:typeof t,""))}return e=pa(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qh(t,e,n,r){return t=pa(7,t,r,e),t.lanes=n,t}function s6(t,e,n,r){return t=pa(22,t,r,e),t.elementType=Ak,t.lanes=n,t.stateNode={isHidden:!1},t}function QE(t,e,n){return t=pa(6,t,null,e),t.lanes=n,t}function VE(t,e,n){return e=pa(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wq(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wE(0),this.expirationTimes=wE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H9(t,e,n,r,i,s,o,a,l){return t=new wq(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pa(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T9(s),t}function Tq(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uG(t){if(!t)return yf;t=t._reactInternals;e:{if(_d(t)!==t||t.tag!==1)throw Error(Ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ws(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(t.tag===1){var n=t.type;if(Ws(n))return lN(t,n,e)}return e}function cG(t,e,n,r,i,s,o,a,l){return t=H9(n,r,!0,t,i,s,o,a,l),t.context=uG(null),n=t.current,r=Ts(),i=ff(n),s=Wu(r,i),s.callback=e??null,uf(n,s,i),t.current.lanes=i,h3(t,i,r),js(t,r),t}function o6(t,e,n,r){var i=e.current,s=Ts(),o=ff(i);return n=uG(n),e.context===null?e.context=n:e.pendingContext=n,e=Wu(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=uf(i,e,o),t!==null&&($a(t,i,o,s),Zy(t,i,o)),o}function Z5(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Q9(t,e){iB(t,e),(t=t.alternate)&&iB(t,e)}function Mq(){return null}var fG=typeof reportError=="function"?reportError:function(t){console.error(t)};function V9(t){this._internalRoot=t}a6.prototype.render=V9.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ye(409));o6(t,e,null,null)};a6.prototype.unmount=V9.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dd(function(){o6(null,t,null,null)}),e[qu]=null}};function a6(t){this._internalRoot=t}a6.prototype.unstable_scheduleHydration=function(t){if(t){var e=zk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xc.length&&e!==0&&e<Xc[n].priority;n++);Xc.splice(n,0,t),n===0&&Qk(t)}};function W9(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sB(){}function _q(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Z5(o);s.call(u)}}var o=cG(e,r,t,0,null,!1,!1,"",sB);return t._reactRootContainer=o,t[qu]=o.current,uA(t.nodeType===8?t.parentNode:t),dd(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Z5(l);a.call(u)}}var l=H9(t,0,!1,null,null,!1,!1,"",sB);return t._reactRootContainer=l,t[qu]=l.current,uA(t.nodeType===8?t.parentNode:t),dd(function(){o6(e,l,n,r)}),l}function u6(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Z5(o);a.call(l)}}o6(e,o,t,i)}else o=_q(n,e,t,i,r);return Z5(o)}Nk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=o1(e.pendingLanes);n!==0&&(c9(e,n|1),js(e,Qr()),!(vn&6)&&(U0=Qr()+500,Ff()))}break;case 13:dd(function(){var r=Zu(t,1);if(r!==null){var i=Ts();$a(r,t,1,i)}}),Q9(t,1)}};f9=function(t){if(t.tag===13){var e=Zu(t,134217728);if(e!==null){var n=Ts();$a(e,t,134217728,n)}Q9(t,134217728)}};Gk=function(t){if(t.tag===13){var e=ff(t),n=Zu(t,e);if(n!==null){var r=Ts();$a(n,t,e,r)}Q9(t,e)}};zk=function(){return Pn};Hk=function(t,e){var n=Pn;try{return Pn=t,e()}finally{Pn=n}};oC=function(t,e,n){switch(e){case"input":if($S(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$x(r);if(!i)throw Error(Ye(90));yk(r),$S(r,i)}}}break;case"textarea":Ek(t,n);break;case"select":e=n.value,e!=null&&u0(t,!!n.multiple,e,!1)}};Ik=k9;bk=dd;var Iq={usingClientEntryPoint:!1,Events:[p3,Wp,$x,Mk,_k,k9]},mg={findFiberByHostInstance:kh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bq={bundleType:mg.bundleType,version:mg.version,rendererPackageName:mg.rendererPackageName,rendererConfig:mg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dk(t),t===null?null:t.stateNode},findFiberByHostInstance:mg.findFiberByHostInstance||Mq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vv.isDisabled&&vv.supportsFiber)try{Kx=vv.inject(bq),Hl=vv}catch{}}Uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iq;Uo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W9(e))throw Error(Ye(200));return Tq(t,e,null,n)};Uo.createRoot=function(t,e){if(!W9(t))throw Error(Ye(299));var n=!1,r="",i=fG;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=H9(t,1,!1,null,null,n,!1,r,i),t[qu]=e.current,uA(t.nodeType===8?t.parentNode:t),new V9(e)};Uo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ye(188)):(t=Object.keys(t).join(","),Error(Ye(268,t)));return t=Dk(e),t=t===null?null:t.stateNode,t};Uo.flushSync=function(t){return dd(t)};Uo.hydrate=function(t,e,n){if(!l6(e))throw Error(Ye(200));return u6(null,t,e,!0,n)};Uo.hydrateRoot=function(t,e,n){if(!W9(t))throw Error(Ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fG;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cG(e,null,t,1,n??null,i,!1,s,o),t[qu]=e.current,uA(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new a6(e)};Uo.render=function(t,e,n){if(!l6(e))throw Error(Ye(200));return u6(null,t,e,!1,n)};Uo.unmountComponentAtNode=function(t){if(!l6(t))throw Error(Ye(40));return t._reactRootContainer?(dd(function(){u6(null,null,t,!1,function(){t._reactRootContainer=null,t[qu]=null})}),!0):!1};Uo.unstable_batchedUpdates=k9;Uo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!l6(n))throw Error(Ye(200));if(t==null||t._reactInternals===void 0)throw Error(Ye(38));return u6(t,e,n,!1,r)};Uo.version="18.2.0-next-9e3b772b8-20220608";function hG(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hG)}catch(t){console.error(t)}}hG(),ck.exports=Uo;var j9=ck.exports;const dG=Td(j9);var oB=j9;jS.createRoot=oB.createRoot,jS.hydrateRoot=oB.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const no="153",Bq={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Rq={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},pG=0,NC=1,mG=2,Dq=3,gG=0,c6=1,b1=2,ja=3,Ta=0,Vr=1,$r=2,Pq=2,Ct=0,Vl=1,k0=2,GC=3,zC=4,vA=5,vo=100,AG=101,vG=102,HC=103,QC=104,N0=200,yG=201,xG=202,EG=203,yA=204,xA=205,f6=206,SG=207,h6=208,CG=209,wG=210,X9=0,Y9=1,$5=2,EA=3,SA=4,K9=5,J9=6,d6=7,g3=0,TG=1,MG=2,Mo=0,_G=1,IG=2,bG=3,q9=4,BG=5,p6=300,xf=301,Ef=302,CA=303,wA=304,hm=306,ei=1e3,Kn=1001,G0=1002,ot=1003,TA=1004,Lq=1004,m0=1005,Fq=1005,ct=1006,m6=1007,Oq=1007,Ma=1008,Uq=1008,an=1009,RG=1010,DG=1011,Id=1012,Z9=1013,Ol=1014,Un=1015,Ln=1016,$9=1017,eM=1018,Wl=1020,PG=1021,yn=1023,A3=1024,LG=1025,df=1026,ec=1027,Qu=1028,tM=1029,zh=1030,nM=1031,rM=1033,g0=33776,s5=33777,o5=33778,A0=33779,MA=35840,VC=35841,_A=35842,WC=35843,g6=36196,IA=37492,bA=37496,BA=37808,jC=37809,XC=37810,YC=37811,KC=37812,JC=37813,qC=37814,ZC=37815,$C=37816,ew=37817,tw=37818,nw=37819,rw=37820,iw=37821,v0=36492,FG=36283,sw=36284,ow=36285,aw=36286,OG=2200,UG=2201,kG=2202,z0=2300,pd=2301,a5=2302,Hh=2400,Qh=2401,RA=2402,A6=2500,iM=2501,NG=0,sM=1,ex=2,v3=3e3,xa=3001,ti=3200,_a=3201,uc=0,GG=1,ju="",Kt="srgb",il="srgb-linear",oM="display-p3",kq=0,l5=7680,Nq=7681,Gq=7682,zq=7683,Hq=34055,Qq=34056,Vq=5386,Wq=512,jq=513,Xq=514,Yq=515,Kq=516,Jq=517,qq=518,zG=519,HG=512,QG=513,VG=514,WG=515,jG=516,XG=517,YG=518,KG=519,DA=35044,u5=35048,Zq=35040,$q=35045,eZ=35049,tZ=35041,nZ=35046,rZ=35050,iZ=35042,sZ="100",tx="300 es",nx=1035,Ul=2e3,PA=2001;class Ra{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Zi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let aB=1234567;const Zh=Math.PI/180,H0=180/Math.PI;function _o(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Zi[t&255]+Zi[t>>8&255]+Zi[t>>16&255]+Zi[t>>24&255]+"-"+Zi[e&255]+Zi[e>>8&255]+"-"+Zi[e>>16&15|64]+Zi[e>>24&255]+"-"+Zi[n&63|128]+Zi[n>>8&255]+"-"+Zi[n>>16&255]+Zi[n>>24&255]+Zi[r&255]+Zi[r>>8&255]+Zi[r>>16&255]+Zi[r>>24&255]).toLowerCase()}function br(t,e,n){return Math.max(e,Math.min(n,t))}function aM(t,e){return(t%e+e)%e}function oZ(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function aZ(t,e,n){return t!==e?(n-t)/(e-t):0}function B1(t,e,n){return(1-n)*t+n*e}function lZ(t,e,n,r){return B1(t,e,1-Math.exp(-n*r))}function uZ(t,e=1){return e-Math.abs(aM(t,e*2)-e)}function cZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function fZ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function hZ(t,e){return t+Math.floor(Math.random()*(e-t+1))}function dZ(t,e){return t+Math.random()*(e-t)}function pZ(t){return t*(.5-Math.random())}function mZ(t){t!==void 0&&(aB=t);let e=aB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gZ(t){return t*Zh}function AZ(t){return t*H0}function lw(t){return(t&t-1)===0&&t!==0}function JG(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function rx(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function vZ(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),d=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*c,l*f,l*h,a*u);break;case"YZY":t.set(l*h,a*c,l*f,a*u);break;case"ZXZ":t.set(l*f,l*h,a*c,a*u);break;case"XZX":t.set(a*c,l*g,l*d,a*u);break;case"YXY":t.set(l*d,a*c,l*g,a*u);break;case"ZYZ":t.set(l*g,l*d,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Eo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function en(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const So={DEG2RAD:Zh,RAD2DEG:H0,generateUUID:_o,clamp:br,euclideanModulo:aM,mapLinear:oZ,inverseLerp:aZ,lerp:B1,damp:lZ,pingpong:uZ,smoothstep:cZ,smootherstep:fZ,randInt:hZ,randFloat:dZ,randFloatSpread:pZ,seededRandom:mZ,degToRad:gZ,radToDeg:AZ,isPowerOfTwo:lw,ceilPowerOfTwo:JG,floorPowerOfTwo:rx,setQuaternionFromProperEuler:vZ,normalize:en,denormalize:Eo};class ie{constructor(e=0,n=0){ie.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(br(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Jt{constructor(e,n,r,i,s,o,a,l,u){Jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=n,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],d=r[5],g=r[8],v=i[0],y=i[3],A=i[6],x=i[1],E=i[4],S=i[7],w=i[2],M=i[5],_=i[8];return s[0]=o*v+a*x+l*w,s[3]=o*y+a*E+l*M,s[6]=o*A+a*S+l*_,s[1]=u*v+c*x+f*w,s[4]=u*y+c*E+f*M,s[7]=u*A+c*S+f*_,s[2]=h*v+d*x+g*w,s[5]=h*y+d*E+g*M,s[8]=h*A+d*S+g*_,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,h=a*l-c*s,d=u*s-o*l,g=n*f+r*h+i*d;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*u-c*r)*v,e[2]=(a*r-i*o)*v,e[3]=h*v,e[4]=(c*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=d*v,e[7]=(r*l-u*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(WE.makeScale(e,n)),this}rotate(e){return this.premultiply(WE.makeRotation(-e)),this}translate(e,n){return this.premultiply(WE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const WE=new Jt;function qG(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const yZ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zp(t,e){return new yZ[t](e)}function LA(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const lB={};function R1(t){t in lB||(lB[t]=!0,console.warn(t))}function y0(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function jE(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const xZ=new Jt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),EZ=new Jt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function SZ(t){return t.convertSRGBToLinear().applyMatrix3(EZ)}function CZ(t){return t.applyMatrix3(xZ).convertLinearToSRGB()}const wZ={[il]:t=>t,[Kt]:t=>t.convertSRGBToLinear(),[oM]:SZ},TZ={[il]:t=>t,[Kt]:t=>t.convertLinearToSRGB(),[oM]:CZ},na={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return il},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=wZ[e],i=TZ[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let np;class lM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{np===void 0&&(np=LA("canvas")),np.width=e.width,np.height=e.height;const r=np.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=np}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=LA("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=y0(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(y0(n[r]/255)*255):n[r]=y0(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let MZ=0;class Vh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MZ++}),this.uuid=_o(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(XE(i[o].image)):s.push(XE(i[o]))}else s=XE(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function XE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?lM.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _Z=0;class xn extends Ra{constructor(e=xn.DEFAULT_IMAGE,n=xn.DEFAULT_MAPPING,r=Kn,i=Kn,s=ct,o=Ma,a=yn,l=an,u=xn.DEFAULT_ANISOTROPY,c=ju){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_Z++}),this.uuid=_o(),this.name="",this.source=new Vh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ie(0,0),this.repeat=new ie(1,1),this.center=new ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof c=="string"?this.colorSpace=c:(R1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===xa?Kt:ju),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==p6)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ei:e.x=e.x-Math.floor(e.x);break;case Kn:e.x=e.x<0?0:1;break;case G0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ei:e.y=e.y-Math.floor(e.y);break;case Kn:e.y=e.y<0?0:1;break;case G0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return R1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Kt?xa:v3}set encoding(e){R1("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===xa?Kt:ju}}xn.DEFAULT_IMAGE=null;xn.DEFAULT_MAPPING=p6;xn.DEFAULT_ANISOTROPY=1;class kt{constructor(e=0,n=0,r=0,i=1){kt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],d=l[5],g=l[9],v=l[2],y=l[6],A=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(u+d+A-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const E=(u+1)/2,S=(d+1)/2,w=(A+1)/2,M=(c+h)/4,_=(f+v)/4,b=(g+y)/4;return E>S&&E>w?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=M/r,s=_/r):S>w?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=M/i,s=b/i):w<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(w),r=_/s,i=b/s),this.set(r,i,s,n),this}let x=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(h-c)*(h-c));return Math.abs(x)<.001&&(x=1),this.x=(y-g)/x,this.y=(f-v)/x,this.z=(h-c)/x,this.w=Math.acos((u+d+A-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Tt extends Ra{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new kt(0,0,e,n),this.scissorTest=!1,this.viewport=new kt(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(R1("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===xa?Kt:ju),this.texture=new xn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:ct,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Vh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class v6 extends xn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ot,this.minFilter=ot,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class IZ extends Tt{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new v6(null,e,n,r),this.texture.isRenderTargetTexture=!0}}let $h=class extends xn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ot,this.minFilter=ot,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class bZ extends Tt{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new $h(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class uM extends Tt{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class sr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=s[o+0],d=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=h,e[n+1]=d,e[n+2]=g,e[n+3]=v;return}if(f!==v||l!==h||u!==d||c!==g){let y=1-a;const A=l*h+u*d+c*g+f*v,x=A>=0?1:-1,E=1-A*A;if(E>Number.EPSILON){const w=Math.sqrt(E),M=Math.atan2(w,A*x);y=Math.sin(y*M)/w,a=Math.sin(a*M)/w}const S=a*x;if(l=l*y+h*S,u=u*y+d*S,c=c*y+g*S,f=f*y+v*S,y===1-a){const w=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=w,u*=w,c*=w,f*=w}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],h=s[o+1],d=s[o+2],g=s[o+3];return e[n]=a*g+c*f+l*d-u*h,e[n+1]=l*g+c*h+u*f-a*d,e[n+2]=u*g+c*d+a*h-l*f,e[n+3]=c*g-a*f-l*h-u*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),h=l(r/2),d=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=h*c*f+u*d*g,this._y=u*d*f-h*c*g,this._z=u*c*g+h*d*f,this._w=u*c*f-h*d*g;break;case"YXZ":this._x=h*c*f+u*d*g,this._y=u*d*f-h*c*g,this._z=u*c*g-h*d*f,this._w=u*c*f+h*d*g;break;case"ZXY":this._x=h*c*f-u*d*g,this._y=u*d*f+h*c*g,this._z=u*c*g+h*d*f,this._w=u*c*f-h*d*g;break;case"ZYX":this._x=h*c*f-u*d*g,this._y=u*d*f+h*c*g,this._z=u*c*g-h*d*f,this._w=u*c*f+h*d*g;break;case"YZX":this._x=h*c*f+u*d*g,this._y=u*d*f+h*c*g,this._z=u*c*g-h*d*f,this._w=u*c*f-h*d*g;break;case"XZY":this._x=h*c*f-u*d*g,this._y=u*d*f-h*c*g,this._z=u*c*g+h*d*f,this._w=u*c*f+h*d*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+a+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(c-l)*d,this._y=(s-u)*d,this._z=(o-i)*d}else if(r>a&&r>f){const d=2*Math.sqrt(1+r-a-f);this._w=(c-l)/d,this._x=.25*d,this._y=(i+o)/d,this._z=(s+u)/d}else if(a>f){const d=2*Math.sqrt(1+a-r-f);this._w=(s-u)/d,this._x=(i+o)/d,this._y=.25*d,this._z=(l+c)/d}else{const d=2*Math.sqrt(1+f-r-a);this._w=(o-i)/d,this._x=(s+u)/d,this._y=(l+c)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(br(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const d=1-n;return this._w=d*o+n*this._w,this._x=d*r+n*this._x,this._y=d*i+n*this._y,this._z=d*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,h=Math.sin(n*c)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,n=0,r=0){k.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(uB.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(uB.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,c=l*r+a*n-s*i,f=l*i+s*r-o*n,h=-s*n-o*r-a*i;return this.x=u*l+h*-s+c*-a-f*-o,this.y=c*l+h*-o+f*-s-u*-a,this.z=f*l+h*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return YE.copy(this).projectOnVector(e),this.sub(YE)}reflect(e){return this.sub(YE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(br(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const YE=new k,uB=new sr;class No{constructor(e=new k(1/0,1/0,1/0),n=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(wu.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(wu.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=wu.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),rp.copy(e.boundingBox),rp.applyMatrix4(e.matrixWorld),this.union(rp);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)wu.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(wu)}else i.boundingBox===null&&i.computeBoundingBox(),rp.copy(i.boundingBox),rp.applyMatrix4(e.matrixWorld),this.union(rp)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,wu),wu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gg),yv.subVectors(this.max,gg),ip.subVectors(e.a,gg),sp.subVectors(e.b,gg),op.subVectors(e.c,gg),bc.subVectors(sp,ip),Bc.subVectors(op,sp),ah.subVectors(ip,op);let n=[0,-bc.z,bc.y,0,-Bc.z,Bc.y,0,-ah.z,ah.y,bc.z,0,-bc.x,Bc.z,0,-Bc.x,ah.z,0,-ah.x,-bc.y,bc.x,0,-Bc.y,Bc.x,0,-ah.y,ah.x,0];return!KE(n,ip,sp,op,yv)||(n=[1,0,0,0,1,0,0,0,1],!KE(n,ip,sp,op,yv))?!1:(xv.crossVectors(bc,Bc),n=[xv.x,xv.y,xv.z],KE(n,ip,sp,op,yv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(wu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Cu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Cu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Cu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Cu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Cu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Cu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Cu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Cu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Cu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Cu=[new k,new k,new k,new k,new k,new k,new k,new k],wu=new k,rp=new No,ip=new k,sp=new k,op=new k,bc=new k,Bc=new k,ah=new k,gg=new k,yv=new k,xv=new k,lh=new k;function KE(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){lh.fromArray(t,s);const a=i.x*Math.abs(lh.x)+i.y*Math.abs(lh.y)+i.z*Math.abs(lh.z),l=e.dot(lh),u=n.dot(lh),c=r.dot(lh);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const BZ=new No,Ag=new k,JE=new k;let ro=class{constructor(e=new k,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):BZ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ag.subVectors(e,this.center);const n=Ag.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Ag,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(JE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ag.copy(e.center).add(JE)),this.expandByPoint(Ag.copy(e.center).sub(JE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Tu=new k,qE=new k,Ev=new k,Rc=new k,ZE=new k,Sv=new k,$E=new k;class dm{constructor(e=new k,n=new k(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Tu)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Tu.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Tu.copy(this.origin).addScaledVector(this.direction,n),Tu.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){qE.copy(e).add(n).multiplyScalar(.5),Ev.copy(n).sub(e).normalize(),Rc.copy(this.origin).sub(qE);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Ev),a=Rc.dot(this.direction),l=-Rc.dot(Ev),u=Rc.lengthSq(),c=Math.abs(1-o*o);let f,h,d,g;if(c>0)if(f=o*l-a,h=o*a-l,g=s*c,f>=0)if(h>=-g)if(h<=g){const v=1/c;f*=v,h*=v,d=f*(f+o*h+2*a)+h*(o*f+h+2*l)+u}else h=s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+u;else h=-s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-s,-l),s),d=h*(h+2*l)+u):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),d=-f*f+h*(h+2*l)+u);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(qE).addScaledVector(Ev,h),d}intersectSphere(e,n){Tu.subVectors(e.center,this.origin);const r=Tu.dot(this.direction),i=Tu.dot(Tu)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(s=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(s=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Tu)!==null}intersectTriangle(e,n,r,i,s){ZE.subVectors(n,e),Sv.subVectors(r,e),$E.crossVectors(ZE,Sv);let o=this.direction.dot($E),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Rc.subVectors(this.origin,e);const l=a*this.direction.dot(Sv.crossVectors(Rc,Sv));if(l<0)return null;const u=a*this.direction.dot(ZE.cross(Rc));if(u<0||l+u>o)return null;const c=-a*Rc.dot($E);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ke{constructor(e,n,r,i,s,o,a,l,u,c,f,h,d,g,v,y){Ke.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,c,f,h,d,g,v,y)}set(e,n,r,i,s,o,a,l,u,c,f,h,d,g,v,y){const A=this.elements;return A[0]=e,A[4]=n,A[8]=r,A[12]=i,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=u,A[6]=c,A[10]=f,A[14]=h,A[3]=d,A[7]=g,A[11]=v,A[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ke().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ap.setFromMatrixColumn(e,0).length(),s=1/ap.setFromMatrixColumn(e,1).length(),o=1/ap.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*c,d=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=d+g*u,n[5]=h-v*u,n[9]=-a*l,n[2]=v-h*u,n[6]=g+d*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*c,d=l*f,g=u*c,v=u*f;n[0]=h+v*a,n[4]=g*a-d,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-a,n[2]=d*a-g,n[6]=v+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*c,d=l*f,g=u*c,v=u*f;n[0]=h-v*a,n[4]=-o*f,n[8]=g+d*a,n[1]=d+g*a,n[5]=o*c,n[9]=v-h*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*c,d=o*f,g=a*c,v=a*f;n[0]=l*c,n[4]=g*u-d,n[8]=h*u+v,n[1]=l*f,n[5]=v*u+h,n[9]=d*u-g,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,d=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=v-h*f,n[8]=g*f+d,n[1]=f,n[5]=o*c,n[9]=-a*c,n[2]=-u*c,n[6]=d*f+g,n[10]=h-v*f}else if(e.order==="XZY"){const h=o*l,d=o*u,g=a*l,v=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+v,n[5]=o*c,n[9]=d*f-g,n[2]=g*f-d,n[6]=a*c,n[10]=v*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(RZ,e,DZ)}lookAt(e,n,r){const i=this.elements;return ho.subVectors(e,n),ho.lengthSq()===0&&(ho.z=1),ho.normalize(),Dc.crossVectors(r,ho),Dc.lengthSq()===0&&(Math.abs(r.z)===1?ho.x+=1e-4:ho.z+=1e-4,ho.normalize(),Dc.crossVectors(r,ho)),Dc.normalize(),Cv.crossVectors(ho,Dc),i[0]=Dc.x,i[4]=Cv.x,i[8]=ho.x,i[1]=Dc.y,i[5]=Cv.y,i[9]=ho.y,i[2]=Dc.z,i[6]=Cv.z,i[10]=ho.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],d=r[13],g=r[2],v=r[6],y=r[10],A=r[14],x=r[3],E=r[7],S=r[11],w=r[15],M=i[0],_=i[4],b=i[8],I=i[12],B=i[1],L=i[5],F=i[9],O=i[13],G=i[2],V=i[6],Y=i[10],J=i[14],z=i[3],W=i[7],j=i[11],Q=i[15];return s[0]=o*M+a*B+l*G+u*z,s[4]=o*_+a*L+l*V+u*W,s[8]=o*b+a*F+l*Y+u*j,s[12]=o*I+a*O+l*J+u*Q,s[1]=c*M+f*B+h*G+d*z,s[5]=c*_+f*L+h*V+d*W,s[9]=c*b+f*F+h*Y+d*j,s[13]=c*I+f*O+h*J+d*Q,s[2]=g*M+v*B+y*G+A*z,s[6]=g*_+v*L+y*V+A*W,s[10]=g*b+v*F+y*Y+A*j,s[14]=g*I+v*O+y*J+A*Q,s[3]=x*M+E*B+S*G+w*z,s[7]=x*_+E*L+S*V+w*W,s[11]=x*b+E*F+S*Y+w*j,s[15]=x*I+E*O+S*J+w*Q,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],d=e[14],g=e[3],v=e[7],y=e[11],A=e[15];return g*(+s*l*f-i*u*f-s*a*h+r*u*h+i*a*d-r*l*d)+v*(+n*l*d-n*u*h+s*o*h-i*o*d+i*u*c-s*l*c)+y*(+n*u*f-n*a*d-s*o*f+r*o*d+s*a*c-r*u*c)+A*(-i*a*c-n*l*f+n*a*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],g=e[12],v=e[13],y=e[14],A=e[15],x=f*y*u-v*h*u+v*l*d-a*y*d-f*l*A+a*h*A,E=g*h*u-c*y*u-g*l*d+o*y*d+c*l*A-o*h*A,S=c*v*u-g*f*u+g*a*d-o*v*d-c*a*A+o*f*A,w=g*f*l-c*v*l-g*a*h+o*v*h+c*a*y-o*f*y,M=n*x+r*E+i*S+s*w;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/M;return e[0]=x*_,e[1]=(v*h*s-f*y*s-v*i*d+r*y*d+f*i*A-r*h*A)*_,e[2]=(a*y*s-v*l*s+v*i*u-r*y*u-a*i*A+r*l*A)*_,e[3]=(f*l*s-a*h*s-f*i*u+r*h*u+a*i*d-r*l*d)*_,e[4]=E*_,e[5]=(c*y*s-g*h*s+g*i*d-n*y*d-c*i*A+n*h*A)*_,e[6]=(g*l*s-o*y*s-g*i*u+n*y*u+o*i*A-n*l*A)*_,e[7]=(o*h*s-c*l*s+c*i*u-n*h*u-o*i*d+n*l*d)*_,e[8]=S*_,e[9]=(g*f*s-c*v*s-g*r*d+n*v*d+c*r*A-n*f*A)*_,e[10]=(o*v*s-g*a*s+g*r*u-n*v*u-o*r*A+n*a*A)*_,e[11]=(c*a*s-o*f*s-c*r*u+n*f*u+o*r*d-n*a*d)*_,e[12]=w*_,e[13]=(c*v*i-g*f*i+g*r*h-n*v*h-c*r*y+n*f*y)*_,e[14]=(g*a*i-o*v*i-g*r*l+n*v*l+o*r*y-n*a*y)*_,e[15]=(o*f*i-c*a*i+c*r*l-n*f*l-o*r*h+n*a*h)*_,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,c=o+o,f=a+a,h=s*u,d=s*c,g=s*f,v=o*c,y=o*f,A=a*f,x=l*u,E=l*c,S=l*f,w=r.x,M=r.y,_=r.z;return i[0]=(1-(v+A))*w,i[1]=(d+S)*w,i[2]=(g-E)*w,i[3]=0,i[4]=(d-S)*M,i[5]=(1-(h+A))*M,i[6]=(y+x)*M,i[7]=0,i[8]=(g+E)*_,i[9]=(y-x)*_,i[10]=(1-(h+v))*_,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=ap.set(i[0],i[1],i[2]).length();const o=ap.set(i[4],i[5],i[6]).length(),a=ap.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ga.copy(this);const u=1/s,c=1/o,f=1/a;return Ga.elements[0]*=u,Ga.elements[1]*=u,Ga.elements[2]*=u,Ga.elements[4]*=c,Ga.elements[5]*=c,Ga.elements[6]*=c,Ga.elements[8]*=f,Ga.elements[9]*=f,Ga.elements[10]*=f,n.setFromRotationMatrix(Ga),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Ul){const l=this.elements,u=2*s/(n-e),c=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let d,g;if(a===Ul)d=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===PA)d=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Ul){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(o-s),h=(n+e)*u,d=(r+i)*c;let g,v;if(a===Ul)g=(o+s)*f,v=-2*f;else if(a===PA)g=s*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=v,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ap=new k,Ga=new Ke,RZ=new k(0,0,0),DZ=new k(1,1,1),Dc=new k,Cv=new k,ho=new k,cB=new Ke,fB=new sr;class bd{constructor(e=0,n=0,r=0,i=bd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],d=i[10];switch(n){case"XYZ":this._y=Math.asin(br(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-br(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(br(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-br(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(br(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-br(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return cB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cB,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return fB.setFromEuler(this),this.setFromQuaternion(fB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}bd.DEFAULT_ORDER="XYZ";class ed{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let PZ=0;const hB=new k,lp=new sr,Mu=new Ke,wv=new k,vg=new k,LZ=new k,FZ=new sr,dB=new k(1,0,0),pB=new k(0,1,0),mB=new k(0,0,1),OZ={type:"added"},gB={type:"removed"};class dn extends Ra{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:PZ++}),this.uuid=_o(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=dn.DEFAULT_UP.clone();const e=new k,n=new bd,r=new sr,i=new k(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ke},normalMatrix:{value:new Jt}}),this.matrix=new Ke,this.matrixWorld=new Ke,this.matrixAutoUpdate=dn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ed,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return lp.setFromAxisAngle(e,n),this.quaternion.multiply(lp),this}rotateOnWorldAxis(e,n){return lp.setFromAxisAngle(e,n),this.quaternion.premultiply(lp),this}rotateX(e){return this.rotateOnAxis(dB,e)}rotateY(e){return this.rotateOnAxis(pB,e)}rotateZ(e){return this.rotateOnAxis(mB,e)}translateOnAxis(e,n){return hB.copy(e).applyQuaternion(this.quaternion),this.position.add(hB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(dB,e)}translateY(e){return this.translateOnAxis(pB,e)}translateZ(e){return this.translateOnAxis(mB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Mu.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?wv.copy(e):wv.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),vg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mu.lookAt(vg,wv,this.up):Mu.lookAt(wv,vg,this.up),this.quaternion.setFromRotationMatrix(Mu),i&&(Mu.extractRotation(i.matrixWorld),lp.setFromRotationMatrix(Mu),this.quaternion.premultiply(lp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(OZ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(gB)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(gB)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Mu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Mu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Mu),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vg,e,LZ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(vg,FZ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),d=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),d.length>0&&(r.animations=d),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}dn.DEFAULT_UP=new k(0,1,0);dn.DEFAULT_MATRIX_AUTO_UPDATE=!0;dn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const za=new k,_u=new k,e8=new k,Iu=new k,up=new k,cp=new k,AB=new k,t8=new k,n8=new k,r8=new k;let Tv=!1;class Cs{constructor(e=new k,n=new k,r=new k){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),za.subVectors(e,n),i.cross(za);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){za.subVectors(i,n),_u.subVectors(r,n),e8.subVectors(e,n);const o=za.dot(za),a=za.dot(_u),l=za.dot(e8),u=_u.dot(_u),c=_u.dot(e8),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,d=(u*l-a*c)*h,g=(o*c-a*l)*h;return s.set(1-d-g,g,d)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Iu),Iu.x>=0&&Iu.y>=0&&Iu.x+Iu.y<=1}static getUV(e,n,r,i,s,o,a,l){return Tv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tv=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Iu),l.setScalar(0),l.addScaledVector(s,Iu.x),l.addScaledVector(o,Iu.y),l.addScaledVector(a,Iu.z),l}static isFrontFacing(e,n,r,i){return za.subVectors(r,n),_u.subVectors(e,n),za.cross(_u).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return za.subVectors(this.c,this.b),_u.subVectors(this.a,this.b),za.cross(_u).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Cs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Cs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Tv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Tv=!0),Cs.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return Cs.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Cs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Cs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;up.subVectors(i,r),cp.subVectors(s,r),t8.subVectors(e,r);const l=up.dot(t8),u=cp.dot(t8);if(l<=0&&u<=0)return n.copy(r);n8.subVectors(e,i);const c=up.dot(n8),f=cp.dot(n8);if(c>=0&&f<=c)return n.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(up,o);r8.subVectors(e,s);const d=up.dot(r8),g=cp.dot(r8);if(g>=0&&d<=g)return n.copy(s);const v=d*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),n.copy(r).addScaledVector(cp,a);const y=c*g-d*f;if(y<=0&&f-c>=0&&d-g>=0)return AB.subVectors(s,i),a=(f-c)/(f-c+(d-g)),n.copy(i).addScaledVector(AB,a);const A=1/(y+v+h);return o=v*A,a=h*A,n.copy(r).addScaledVector(up,o).addScaledVector(cp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let UZ=0;class fr extends Ra{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:UZ++}),this.uuid=_o(),this.name="",this.type="Material",this.blending=Vl,this.side=Ta,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=yA,this.blendDst=xA,this.blendEquation=vo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=EA,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zG,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=l5,this.stencilZFail=l5,this.stencilZPass=l5,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Vl&&(r.blending=this.blending),this.side!==Ta&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const ZG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ha={h:0,s:0,l:0},Mv={h:0,s:0,l:0};function i8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Be=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Kt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,na.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=na.workingColorSpace){return this.r=e,this.g=n,this.b=r,na.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=na.workingColorSpace){if(e=aM(e,1),n=br(n,0,1),r=br(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=i8(o,s,e+1/3),this.g=i8(o,s,e),this.b=i8(o,s,e-1/3)}return na.toWorkingColorSpace(this,i),this}setStyle(e,n=Kt){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Kt){const r=ZG[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=y0(e.r),this.g=y0(e.g),this.b=y0(e.b),this}copyLinearToSRGB(e){return this.r=jE(e.r),this.g=jE(e.g),this.b=jE(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Kt){return na.fromWorkingColorSpace($i.copy(this),e),Math.round(br($i.r*255,0,255))*65536+Math.round(br($i.g*255,0,255))*256+Math.round(br($i.b*255,0,255))}getHexString(e=Kt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=na.workingColorSpace){na.fromWorkingColorSpace($i.copy(this),n);const r=$i.r,i=$i.g,s=$i.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=na.workingColorSpace){return na.fromWorkingColorSpace($i.copy(this),n),e.r=$i.r,e.g=$i.g,e.b=$i.b,e}getStyle(e=Kt){na.fromWorkingColorSpace($i.copy(this),e);const n=$i.r,r=$i.g,i=$i.b;return e!==Kt?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ha),Ha.h+=e,Ha.s+=n,Ha.l+=r,this.setHSL(Ha.h,Ha.s,Ha.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ha),e.getHSL(Mv);const r=B1(Ha.h,Mv.h,n),i=B1(Ha.s,Mv.s,n),s=B1(Ha.l,Mv.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const $i=new Be;Be.NAMES=ZG;class Pr extends fr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=g3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nu=kZ();function kZ(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Us(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=br(t,-65504,65504),Nu.floatView[0]=t;const e=Nu.uint32View[0],n=e>>23&511;return Nu.baseTable[n]+((e&8388607)>>Nu.shiftTable[n])}function l1(t){const e=t>>10;return Nu.uint32View[0]=Nu.mantissaTable[Nu.offsetTable[e]+(t&1023)]+Nu.exponentTable[e],Nu.floatView[0]}const NZ={toHalfFloat:Us,fromHalfFloat:l1},Kr=new k,_v=new ie;class Yt{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=DA,this.updateRange={offset:0,count:-1},this.gpuType=Un,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)_v.fromBufferAttribute(this,n),_v.applyMatrix3(e),this.setXY(n,_v.x,_v.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyMatrix3(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyMatrix4(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.applyNormalMatrix(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Kr.fromBufferAttribute(this,n),Kr.transformDirection(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Eo(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Eo(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Eo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Eo(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==DA&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class GZ extends Yt{constructor(e,n,r){super(new Int8Array(e),n,r)}}class zZ extends Yt{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class HZ extends Yt{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class QZ extends Yt{constructor(e,n,r){super(new Int16Array(e),n,r)}}class cM extends Yt{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class VZ extends Yt{constructor(e,n,r){super(new Int32Array(e),n,r)}}class y6 extends Yt{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class WZ extends Yt{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=l1(this.array[e*this.itemSize]);return this.normalized&&(n=Eo(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=Us(n),this}getY(e){let n=l1(this.array[e*this.itemSize+1]);return this.normalized&&(n=Eo(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=Us(n),this}getZ(e){let n=l1(this.array[e*this.itemSize+2]);return this.normalized&&(n=Eo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=Us(n),this}getW(e){let n=l1(this.array[e*this.itemSize+3]);return this.normalized&&(n=Eo(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=Us(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=Us(n),this.array[e+1]=Us(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=Us(n),this.array[e+1]=Us(r),this.array[e+2]=Us(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=Us(n),this.array[e+1]=Us(r),this.array[e+2]=Us(i),this.array[e+3]=Us(s),this}}class at extends Yt{constructor(e,n,r){super(new Float32Array(e),n,r)}}class jZ extends Yt{constructor(e,n,r){super(new Float64Array(e),n,r)}}let XZ=0;const qo=new Ke,s8=new dn,fp=new k,po=new No,yg=new No,Mi=new k;class bt extends Ra{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:XZ++}),this.uuid=_o(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qG(e)?y6:cM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Jt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return qo.makeRotationFromQuaternion(e),this.applyMatrix4(qo),this}rotateX(e){return qo.makeRotationX(e),this.applyMatrix4(qo),this}rotateY(e){return qo.makeRotationY(e),this.applyMatrix4(qo),this}rotateZ(e){return qo.makeRotationZ(e),this.applyMatrix4(qo),this}translate(e,n,r){return qo.makeTranslation(e,n,r),this.applyMatrix4(qo),this}scale(e,n,r){return qo.makeScale(e,n,r),this.applyMatrix4(qo),this}lookAt(e){return s8.lookAt(e),s8.updateMatrix(),this.applyMatrix4(s8.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(fp).negate(),this.translate(fp.x,fp.y,fp.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new at(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new No);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];po.setFromBufferAttribute(s),this.morphTargetsRelative?(Mi.addVectors(this.boundingBox.min,po.min),this.boundingBox.expandByPoint(Mi),Mi.addVectors(this.boundingBox.max,po.max),this.boundingBox.expandByPoint(Mi)):(this.boundingBox.expandByPoint(po.min),this.boundingBox.expandByPoint(po.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ro);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new k,1/0);return}if(e){const r=this.boundingSphere.center;if(po.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];yg.setFromBufferAttribute(a),this.morphTargetsRelative?(Mi.addVectors(po.min,yg.min),po.expandByPoint(Mi),Mi.addVectors(po.max,yg.max),po.expandByPoint(Mi)):(po.expandByPoint(yg.min),po.expandByPoint(yg.max))}po.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Mi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Mi));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Mi.fromBufferAttribute(a,u),l&&(fp.fromBufferAttribute(e,u),Mi.add(fp)),i=Math.max(i,r.distanceToSquared(Mi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let B=0;B<a;B++)u[B]=new k,c[B]=new k;const f=new k,h=new k,d=new k,g=new ie,v=new ie,y=new ie,A=new k,x=new k;function E(B,L,F){f.fromArray(i,B*3),h.fromArray(i,L*3),d.fromArray(i,F*3),g.fromArray(o,B*2),v.fromArray(o,L*2),y.fromArray(o,F*2),h.sub(f),d.sub(f),v.sub(g),y.sub(g);const O=1/(v.x*y.y-y.x*v.y);isFinite(O)&&(A.copy(h).multiplyScalar(y.y).addScaledVector(d,-v.y).multiplyScalar(O),x.copy(d).multiplyScalar(v.x).addScaledVector(h,-y.x).multiplyScalar(O),u[B].add(A),u[L].add(A),u[F].add(A),c[B].add(x),c[L].add(x),c[F].add(x))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let B=0,L=S.length;B<L;++B){const F=S[B],O=F.start,G=F.count;for(let V=O,Y=O+G;V<Y;V+=3)E(r[V+0],r[V+1],r[V+2])}const w=new k,M=new k,_=new k,b=new k;function I(B){_.fromArray(s,B*3),b.copy(_);const L=u[B];w.copy(L),w.sub(_.multiplyScalar(_.dot(L))).normalize(),M.crossVectors(b,L);const O=M.dot(c[B])<0?-1:1;l[B*4]=w.x,l[B*4+1]=w.y,l[B*4+2]=w.z,l[B*4+3]=O}for(let B=0,L=S.length;B<L;++B){const F=S[B],O=F.start,G=F.count;for(let V=O,Y=O+G;V<Y;V+=3)I(r[V+0]),I(r[V+1]),I(r[V+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Yt(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,d=r.count;h<d;h++)r.setXYZ(h,0,0,0);const i=new k,s=new k,o=new k,a=new k,l=new k,u=new k,c=new k,f=new k;if(e)for(let h=0,d=e.count;h<d;h+=3){const g=e.getX(h+0),v=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,y),a.add(c),l.add(c),u.add(c),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,d=n.count;h<d;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Mi.fromBufferAttribute(e,n),Mi.normalize(),e.setXYZ(n,Mi.x,Mi.y,Mi.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,h=new u.constructor(l.length*c);let d=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?d=l[v]*a.data.stride+a.offset:d=l[v]*c;for(let A=0;A<c;A++)h[g++]=u[d++]}return new Yt(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new bt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const h=u[c],d=e(h,r);l.push(d)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f];c.push(d.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let h=0,d=f.length;h<d;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const vB=new Ke,uh=new dm,Iv=new ro,yB=new k,hp=new k,dp=new k,pp=new k,o8=new k,bv=new k,Bv=new ie,Rv=new ie,Dv=new ie,xB=new k,EB=new k,SB=new k,Pv=new k,Lv=new k;class sn extends dn{constructor(e=new bt,n=new Pr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){bv.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=a[l],f=s[l];c!==0&&(o8.fromBufferAttribute(f,e),o?bv.addScaledVector(o8,c):bv.addScaledVector(o8.sub(n),c))}n.add(bv)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Iv.copy(r.boundingSphere),Iv.applyMatrix4(s),uh.copy(e.ray).recast(e.near),!(Iv.containsPoint(uh.origin)===!1&&(uh.intersectSphere(Iv,yB)===null||uh.origin.distanceToSquared(yB)>(e.far-e.near)**2))&&(vB.copy(s).invert(),uh.copy(e.ray).applyMatrix4(vB),!(r.boundingBox!==null&&uh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,uh)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,f=s.attributes.normal,h=s.groups,d=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,v=h.length;g<v;g++){const y=h[g],A=o[y.materialIndex],x=Math.max(y.start,d.start),E=Math.min(a.count,Math.min(y.start+y.count,d.start+d.count));for(let S=x,w=E;S<w;S+=3){const M=a.getX(S),_=a.getX(S+1),b=a.getX(S+2);i=Fv(this,A,e,r,u,c,f,M,_,b),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,d.start),v=Math.min(a.count,d.start+d.count);for(let y=g,A=v;y<A;y+=3){const x=a.getX(y),E=a.getX(y+1),S=a.getX(y+2);i=Fv(this,o,e,r,u,c,f,x,E,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,v=h.length;g<v;g++){const y=h[g],A=o[y.materialIndex],x=Math.max(y.start,d.start),E=Math.min(l.count,Math.min(y.start+y.count,d.start+d.count));for(let S=x,w=E;S<w;S+=3){const M=S,_=S+1,b=S+2;i=Fv(this,A,e,r,u,c,f,M,_,b),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,d.start),v=Math.min(l.count,d.start+d.count);for(let y=g,A=v;y<A;y+=3){const x=y,E=y+1,S=y+2;i=Fv(this,o,e,r,u,c,f,x,E,S),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function YZ(t,e,n,r,i,s,o,a){let l;if(e.side===Vr?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ta,a),l===null)return null;Lv.copy(a),Lv.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Lv);return u<n.near||u>n.far?null:{distance:u,point:Lv.clone(),object:t}}function Fv(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,hp),t.getVertexPosition(l,dp),t.getVertexPosition(u,pp);const c=YZ(t,e,n,r,hp,dp,pp,Pv);if(c){i&&(Bv.fromBufferAttribute(i,a),Rv.fromBufferAttribute(i,l),Dv.fromBufferAttribute(i,u),c.uv=Cs.getInterpolation(Pv,hp,dp,pp,Bv,Rv,Dv,new ie)),s&&(Bv.fromBufferAttribute(s,a),Rv.fromBufferAttribute(s,l),Dv.fromBufferAttribute(s,u),c.uv1=Cs.getInterpolation(Pv,hp,dp,pp,Bv,Rv,Dv,new ie),c.uv2=c.uv1),o&&(xB.fromBufferAttribute(o,a),EB.fromBufferAttribute(o,l),SB.fromBufferAttribute(o,u),c.normal=Cs.getInterpolation(Pv,hp,dp,pp,xB,EB,SB,new k),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a,b:l,c:u,normal:new k,materialIndex:0};Cs.getNormal(hp,dp,pp,f.normal),c.face=f}return c}class cc extends bt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,d=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new at(u,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(f,2));function g(v,y,A,x,E,S,w,M,_,b,I){const B=S/_,L=w/b,F=S/2,O=w/2,G=M/2,V=_+1,Y=b+1;let J=0,z=0;const W=new k;for(let j=0;j<Y;j++){const Q=j*L-O;for(let H=0;H<V;H++){const ee=H*B-F;W[v]=ee*x,W[y]=Q*E,W[A]=G,u.push(W.x,W.y,W.z),W[v]=0,W[y]=0,W[A]=M>0?1:-1,c.push(W.x,W.y,W.z),f.push(H/_),f.push(1-j/b),J+=1}}for(let j=0;j<b;j++)for(let Q=0;Q<_;Q++){const H=h+Q+V*j,ee=h+Q+V*(j+1),Z=h+(Q+1)+V*(j+1),ne=h+(Q+1)+V*j;l.push(H,ee,ne),l.push(ee,Z,ne),z+=6}a.addGroup(d,z,I),d+=z,h+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Q0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function xs(t){const e={};for(let n=0;n<t.length;n++){const r=Q0(t[n]);for(const i in r)e[i]=r[i]}return e}function KZ(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function $G(t){return t.getRenderTarget()===null?t.outputColorSpace:il}const rr={clone:Q0,merge:xs};var JZ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class lt extends fr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=JZ,this.fragmentShader=qZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Q0(e.uniforms),this.uniformsGroups=KZ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class pm extends dn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ke,this.projectionMatrix=new Ke,this.projectionMatrixInverse=new Ke,this.coordinateSystem=Ul}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Hn extends pm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=H0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Zh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return H0*2*Math.atan(Math.tan(Zh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Zh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const mp=-90,gp=1;class fM extends dn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Hn(mp,gp,e,n);i.layers=this.layers,this.add(i);const s=new Hn(mp,gp,e,n);s.layers=this.layers,this.add(s);const o=new Hn(mp,gp,e,n);o.layers=this.layers,this.add(o);const a=new Hn(mp,gp,e,n);a.layers=this.layers,this.add(a);const l=new Hn(mp,gp,e,n);l.layers=this.layers,this.add(l);const u=new Hn(mp,gp,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===Ul)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===PA)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,h=e.xr.enabled;e.toneMapping=Mo,e.xr.enabled=!1;const d=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=d,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class y3 extends xn{constructor(e,n,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:xf,super(e,n,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class x6 extends Tt{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(R1("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===xa?Kt:ju),this.texture=new y3(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ct}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new cc(5,5,5),s=new lt({name:"CubemapFromEquirect",uniforms:Q0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Vr,blending:Ct});s.uniforms.tEquirect.value=n;const o=new sn(i,s),a=n.minFilter;return n.minFilter===Ma&&(n.minFilter=ct),new fM(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const a8=new k,ZZ=new k,$Z=new Jt;let ua=class{constructor(e=new k(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=a8.subVectors(r,n).cross(ZZ.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(a8),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||$Z.getNormalMatrix(e),i=this.coplanarPoint(a8).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const ch=new ro,Ov=new k;class E6{constructor(e=new ua,n=new ua,r=new ua,i=new ua,s=new ua,o=new ua){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ul){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],d=i[8],g=i[9],v=i[10],y=i[11],A=i[12],x=i[13],E=i[14],S=i[15];if(r[0].setComponents(l-s,h-u,y-d,S-A).normalize(),r[1].setComponents(l+s,h+u,y+d,S+A).normalize(),r[2].setComponents(l+o,h+c,y+g,S+x).normalize(),r[3].setComponents(l-o,h-c,y-g,S-x).normalize(),r[4].setComponents(l-a,h-f,y-v,S-E).normalize(),n===Ul)r[5].setComponents(l+a,h+f,y+v,S+E).normalize();else if(n===PA)r[5].setComponents(a,f,v,E).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ch.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ch.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ch)}intersectsSprite(e){return ch.center.set(0,0,0),ch.radius=.7071067811865476,ch.applyMatrix4(e.matrixWorld),this.intersectsSphere(ch)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Ov.x=i.normal.x>0?e.max.x:e.min.x,Ov.y=i.normal.y>0?e.max.y:e.min.y,Ov.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ov)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ez(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function e$(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,h=u.usage,d=t.createBuffer();t.bindBuffer(c,d),t.bufferData(c,f,h),u.onUploadCallback();let g;if(f instanceof Float32Array)g=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=t.SHORT;else if(f instanceof Uint32Array)g=t.UNSIGNED_INT;else if(f instanceof Int32Array)g=t.INT;else if(f instanceof Int8Array)g=t.BYTE;else if(f instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:d,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const h=c.array,d=c.updateRange;t.bindBuffer(f,u),d.count===-1?t.bufferSubData(f,0,h):(n?t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):t.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),c.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(t.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class iu extends bt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,h=n/l,d=[],g=[],v=[],y=[];for(let A=0;A<c;A++){const x=A*h-o;for(let E=0;E<u;E++){const S=E*f-s;g.push(S,-x,0),v.push(0,0,1),y.push(E/a),y.push(1-A/l)}}for(let A=0;A<l;A++)for(let x=0;x<a;x++){const E=x+u*A,S=x+u*(A+1),w=x+1+u*(A+1),M=x+1+u*A;d.push(E,S,M),d.push(S,w,M)}this.setIndex(d),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(v,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iu(e.width,e.height,e.widthSegments,e.heightSegments)}}var t$=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,n$=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,r$=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,i$=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,s$=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,o$=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,a$="vec3 transformed = vec3( position );",l$=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,u$=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,c$=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,f$=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,h$=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,d$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,p$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,m$=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,g$=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,A$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,v$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,y$=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,x$=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,E$=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,S$=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,C$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,w$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,T$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,M$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_$="gl_FragColor = linearToOutputTexel( gl_FragColor );",I$=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,b$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,B$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,R$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,D$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,P$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,L$=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,F$=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,O$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,U$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,k$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,N$=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,G$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,z$=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,H$=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Q$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,V$=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,W$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,j$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,X$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Y$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,K$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,J$=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,q$=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Z$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,$$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,eee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,tee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ree=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,iee=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,see=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,oee=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aee=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lee=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,uee=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,cee=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,fee=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,hee=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,dee=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,pee=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,mee=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,gee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Aee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vee=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,yee=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xee=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Eee=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,See=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Cee=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,wee=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Tee=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Mee=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_ee=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Iee=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,bee=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Bee=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Ree=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Dee=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Pee=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Lee=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Fee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Oee=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Uee=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,kee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Nee=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Gee=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zee=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Hee=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Qee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Vee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Wee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,jee=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Xee=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yee=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Kee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Jee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qee=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Zee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$ee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ete=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tte=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,nte=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rte=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ite=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ste=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ote=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,ate=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,lte=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ute=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cte=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fte=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hte=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dte=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pte=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mte=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gte=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Ate=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vte=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yte=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xte=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ete=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ste=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cte=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wte=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Tte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Mte=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_te=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ite=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,St={alphamap_fragment:t$,alphamap_pars_fragment:n$,alphatest_fragment:r$,alphatest_pars_fragment:i$,aomap_fragment:s$,aomap_pars_fragment:o$,begin_vertex:a$,beginnormal_vertex:l$,bsdfs:u$,iridescence_fragment:c$,bumpmap_pars_fragment:f$,clipping_planes_fragment:h$,clipping_planes_pars_fragment:d$,clipping_planes_pars_vertex:p$,clipping_planes_vertex:m$,color_fragment:g$,color_pars_fragment:A$,color_pars_vertex:v$,color_vertex:y$,common:x$,cube_uv_reflection_fragment:E$,defaultnormal_vertex:S$,displacementmap_pars_vertex:C$,displacementmap_vertex:w$,emissivemap_fragment:T$,emissivemap_pars_fragment:M$,encodings_fragment:_$,encodings_pars_fragment:I$,envmap_fragment:b$,envmap_common_pars_fragment:B$,envmap_pars_fragment:R$,envmap_pars_vertex:D$,envmap_physical_pars_fragment:V$,envmap_vertex:P$,fog_vertex:L$,fog_pars_vertex:F$,fog_fragment:O$,fog_pars_fragment:U$,gradientmap_pars_fragment:k$,lightmap_fragment:N$,lightmap_pars_fragment:G$,lights_lambert_fragment:z$,lights_lambert_pars_fragment:H$,lights_pars_begin:Q$,lights_toon_fragment:W$,lights_toon_pars_fragment:j$,lights_phong_fragment:X$,lights_phong_pars_fragment:Y$,lights_physical_fragment:K$,lights_physical_pars_fragment:J$,lights_fragment_begin:q$,lights_fragment_maps:Z$,lights_fragment_end:$$,logdepthbuf_fragment:eee,logdepthbuf_pars_fragment:tee,logdepthbuf_pars_vertex:nee,logdepthbuf_vertex:ree,map_fragment:iee,map_pars_fragment:see,map_particle_fragment:oee,map_particle_pars_fragment:aee,metalnessmap_fragment:lee,metalnessmap_pars_fragment:uee,morphcolor_vertex:cee,morphnormal_vertex:fee,morphtarget_pars_vertex:hee,morphtarget_vertex:dee,normal_fragment_begin:pee,normal_fragment_maps:mee,normal_pars_fragment:gee,normal_pars_vertex:Aee,normal_vertex:vee,normalmap_pars_fragment:yee,clearcoat_normal_fragment_begin:xee,clearcoat_normal_fragment_maps:Eee,clearcoat_pars_fragment:See,iridescence_pars_fragment:Cee,output_fragment:wee,packing:Tee,premultiplied_alpha_fragment:Mee,project_vertex:_ee,dithering_fragment:Iee,dithering_pars_fragment:bee,roughnessmap_fragment:Bee,roughnessmap_pars_fragment:Ree,shadowmap_pars_fragment:Dee,shadowmap_pars_vertex:Pee,shadowmap_vertex:Lee,shadowmask_pars_fragment:Fee,skinbase_vertex:Oee,skinning_pars_vertex:Uee,skinning_vertex:kee,skinnormal_vertex:Nee,specularmap_fragment:Gee,specularmap_pars_fragment:zee,tonemapping_fragment:Hee,tonemapping_pars_fragment:Qee,transmission_fragment:Vee,transmission_pars_fragment:Wee,uv_pars_fragment:jee,uv_pars_vertex:Xee,uv_vertex:Yee,worldpos_vertex:Kee,background_vert:Jee,background_frag:qee,backgroundCube_vert:Zee,backgroundCube_frag:$ee,cube_vert:ete,cube_frag:tte,depth_vert:nte,depth_frag:rte,distanceRGBA_vert:ite,distanceRGBA_frag:ste,equirect_vert:ote,equirect_frag:ate,linedashed_vert:lte,linedashed_frag:ute,meshbasic_vert:cte,meshbasic_frag:fte,meshlambert_vert:hte,meshlambert_frag:dte,meshmatcap_vert:pte,meshmatcap_frag:mte,meshnormal_vert:gte,meshnormal_frag:Ate,meshphong_vert:vte,meshphong_frag:yte,meshphysical_vert:xte,meshphysical_frag:Ete,meshtoon_vert:Ste,meshtoon_frag:Cte,points_vert:wte,points_frag:Tte,shadow_vert:Mte,shadow_frag:_te,sprite_vert:Ite,sprite_frag:bte},tt={common:{diffuse:{value:new Be(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jt},normalScale:{value:new ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0},uvTransform:{value:new Jt}},sprite:{diffuse:{value:new Be(16777215)},opacity:{value:1},center:{value:new ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}}},Ka={basic:{uniforms:xs([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.fog]),vertexShader:St.meshbasic_vert,fragmentShader:St.meshbasic_frag},lambert:{uniforms:xs([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new Be(0)}}]),vertexShader:St.meshlambert_vert,fragmentShader:St.meshlambert_frag},phong:{uniforms:xs([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new Be(0)},specular:{value:new Be(1118481)},shininess:{value:30}}]),vertexShader:St.meshphong_vert,fragmentShader:St.meshphong_frag},standard:{uniforms:xs([tt.common,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.roughnessmap,tt.metalnessmap,tt.fog,tt.lights,{emissive:{value:new Be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:St.meshphysical_vert,fragmentShader:St.meshphysical_frag},toon:{uniforms:xs([tt.common,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.gradientmap,tt.fog,tt.lights,{emissive:{value:new Be(0)}}]),vertexShader:St.meshtoon_vert,fragmentShader:St.meshtoon_frag},matcap:{uniforms:xs([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,{matcap:{value:null}}]),vertexShader:St.meshmatcap_vert,fragmentShader:St.meshmatcap_frag},points:{uniforms:xs([tt.points,tt.fog]),vertexShader:St.points_vert,fragmentShader:St.points_frag},dashed:{uniforms:xs([tt.common,tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:St.linedashed_vert,fragmentShader:St.linedashed_frag},depth:{uniforms:xs([tt.common,tt.displacementmap]),vertexShader:St.depth_vert,fragmentShader:St.depth_frag},normal:{uniforms:xs([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,{opacity:{value:1}}]),vertexShader:St.meshnormal_vert,fragmentShader:St.meshnormal_frag},sprite:{uniforms:xs([tt.sprite,tt.fog]),vertexShader:St.sprite_vert,fragmentShader:St.sprite_frag},background:{uniforms:{uvTransform:{value:new Jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:St.background_vert,fragmentShader:St.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:St.backgroundCube_vert,fragmentShader:St.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:St.cube_vert,fragmentShader:St.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:St.equirect_vert,fragmentShader:St.equirect_frag},distanceRGBA:{uniforms:xs([tt.common,tt.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:St.distanceRGBA_vert,fragmentShader:St.distanceRGBA_frag},shadow:{uniforms:xs([tt.lights,tt.fog,{color:{value:new Be(0)},opacity:{value:1}}]),vertexShader:St.shadow_vert,fragmentShader:St.shadow_frag}};Ka.physical={uniforms:xs([Ka.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jt},clearcoatNormalScale:{value:new ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jt},sheen:{value:0},sheenColor:{value:new Be(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jt},transmissionSamplerSize:{value:new ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jt},attenuationDistance:{value:0},attenuationColor:{value:new Be(0)},specularColor:{value:new Be(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jt},anisotropyVector:{value:new ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Jt}}]),vertexShader:St.meshphysical_vert,fragmentShader:St.meshphysical_frag};const Uv={r:0,b:0,g:0};function Bte(t,e,n,r,i,s,o){const a=new Be(0);let l=s===!0?0:1,u,c,f=null,h=0,d=null;function g(y,A){let x=!1,E=A.isScene===!0?A.background:null;switch(E&&E.isTexture&&(E=(A.backgroundBlurriness>0?n:e).get(E)),E===null?v(a,l):E&&E.isColor&&(v(E,1),x=!0),t.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),x=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),x=!0;break}(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),E&&(E.isCubeTexture||E.mapping===hm)?(c===void 0&&(c=new sn(new cc(1,1,1),new lt({name:"BackgroundCubeMaterial",uniforms:Q0(Ka.backgroundCube.uniforms),vertexShader:Ka.backgroundCube.vertexShader,fragmentShader:Ka.backgroundCube.fragmentShader,side:Vr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(M,_,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=E.colorSpace!==Kt,(f!==E||h!==E.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,f=E,h=E.version,d=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new sn(new iu(2,2),new lt({name:"BackgroundMaterial",uniforms:Q0(Ka.background.uniforms),vertexShader:Ka.background.vertexShader,fragmentShader:Ka.background.fragmentShader,side:Ta,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=E.colorSpace!==Kt,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(f!==E||h!==E.version||d!==t.toneMapping)&&(u.material.needsUpdate=!0,f=E,h=E.version,d=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null))}function v(y,A){y.getRGB(Uv,$G(t)),r.buffers.color.setClear(Uv.r,Uv.g,Uv.b,A,o)}return{getClearColor:function(){return a},setClearColor:function(y,A=1){a.set(y),l=A,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function Rte(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let u=l,c=!1;function f(G,V,Y,J,z){let W=!1;if(o){const j=v(J,Y,V);u!==j&&(u=j,d(u.object)),W=A(G,J,Y,z),W&&x(G,J,Y,z)}else{const j=V.wireframe===!0;(u.geometry!==J.id||u.program!==Y.id||u.wireframe!==j)&&(u.geometry=J.id,u.program=Y.id,u.wireframe=j,W=!0)}z!==null&&n.update(z,t.ELEMENT_ARRAY_BUFFER),(W||c)&&(c=!1,b(G,V,Y,J),z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(z).buffer))}function h(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function d(G){return r.isWebGL2?t.bindVertexArray(G):s.bindVertexArrayOES(G)}function g(G){return r.isWebGL2?t.deleteVertexArray(G):s.deleteVertexArrayOES(G)}function v(G,V,Y){const J=Y.wireframe===!0;let z=a[G.id];z===void 0&&(z={},a[G.id]=z);let W=z[V.id];W===void 0&&(W={},z[V.id]=W);let j=W[J];return j===void 0&&(j=y(h()),W[J]=j),j}function y(G){const V=[],Y=[],J=[];for(let z=0;z<i;z++)V[z]=0,Y[z]=0,J[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:V,enabledAttributes:Y,attributeDivisors:J,object:G,attributes:{},index:null}}function A(G,V,Y,J){const z=u.attributes,W=V.attributes;let j=0;const Q=Y.getAttributes();for(const H in Q)if(Q[H].location>=0){const Z=z[H];let ne=W[H];if(ne===void 0&&(H==="instanceMatrix"&&G.instanceMatrix&&(ne=G.instanceMatrix),H==="instanceColor"&&G.instanceColor&&(ne=G.instanceColor)),Z===void 0||Z.attribute!==ne||ne&&Z.data!==ne.data)return!0;j++}return u.attributesNum!==j||u.index!==J}function x(G,V,Y,J){const z={},W=V.attributes;let j=0;const Q=Y.getAttributes();for(const H in Q)if(Q[H].location>=0){let Z=W[H];Z===void 0&&(H==="instanceMatrix"&&G.instanceMatrix&&(Z=G.instanceMatrix),H==="instanceColor"&&G.instanceColor&&(Z=G.instanceColor));const ne={};ne.attribute=Z,Z&&Z.data&&(ne.data=Z.data),z[H]=ne,j++}u.attributes=z,u.attributesNum=j,u.index=J}function E(){const G=u.newAttributes;for(let V=0,Y=G.length;V<Y;V++)G[V]=0}function S(G){w(G,0)}function w(G,V){const Y=u.newAttributes,J=u.enabledAttributes,z=u.attributeDivisors;Y[G]=1,J[G]===0&&(t.enableVertexAttribArray(G),J[G]=1),z[G]!==V&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](G,V),z[G]=V)}function M(){const G=u.newAttributes,V=u.enabledAttributes;for(let Y=0,J=V.length;Y<J;Y++)V[Y]!==G[Y]&&(t.disableVertexAttribArray(Y),V[Y]=0)}function _(G,V,Y,J,z,W,j){j===!0?t.vertexAttribIPointer(G,V,Y,z,W):t.vertexAttribPointer(G,V,Y,J,z,W)}function b(G,V,Y,J){if(r.isWebGL2===!1&&(G.isInstancedMesh||J.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const z=J.attributes,W=Y.getAttributes(),j=V.defaultAttributeValues;for(const Q in W){const H=W[Q];if(H.location>=0){let ee=z[Q];if(ee===void 0&&(Q==="instanceMatrix"&&G.instanceMatrix&&(ee=G.instanceMatrix),Q==="instanceColor"&&G.instanceColor&&(ee=G.instanceColor)),ee!==void 0){const Z=ee.normalized,ne=ee.itemSize,oe=n.get(ee);if(oe===void 0)continue;const se=oe.buffer,he=oe.type,we=oe.bytesPerElement,ke=r.isWebGL2===!0&&(he===t.INT||he===t.UNSIGNED_INT||ee.gpuType===Z9);if(ee.isInterleavedBufferAttribute){const Se=ee.data,X=Se.stride,ve=ee.offset;if(Se.isInstancedInterleavedBuffer){for(let de=0;de<H.locationSize;de++)w(H.location+de,Se.meshPerAttribute);G.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let de=0;de<H.locationSize;de++)S(H.location+de);t.bindBuffer(t.ARRAY_BUFFER,se);for(let de=0;de<H.locationSize;de++)_(H.location+de,ne/H.locationSize,he,Z,X*we,(ve+ne/H.locationSize*de)*we,ke)}else{if(ee.isInstancedBufferAttribute){for(let Se=0;Se<H.locationSize;Se++)w(H.location+Se,ee.meshPerAttribute);G.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Se=0;Se<H.locationSize;Se++)S(H.location+Se);t.bindBuffer(t.ARRAY_BUFFER,se);for(let Se=0;Se<H.locationSize;Se++)_(H.location+Se,ne/H.locationSize,he,Z,ne*we,ne/H.locationSize*Se*we,ke)}}else if(j!==void 0){const Z=j[Q];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(H.location,Z);break;case 3:t.vertexAttrib3fv(H.location,Z);break;case 4:t.vertexAttrib4fv(H.location,Z);break;default:t.vertexAttrib1fv(H.location,Z)}}}}M()}function I(){F();for(const G in a){const V=a[G];for(const Y in V){const J=V[Y];for(const z in J)g(J[z].object),delete J[z];delete V[Y]}delete a[G]}}function B(G){if(a[G.id]===void 0)return;const V=a[G.id];for(const Y in V){const J=V[Y];for(const z in J)g(J[z].object),delete J[z];delete V[Y]}delete a[G.id]}function L(G){for(const V in a){const Y=a[V];if(Y[G.id]===void 0)continue;const J=Y[G.id];for(const z in J)g(J[z].object),delete J[z];delete Y[G.id]}}function F(){O(),c=!0,u!==l&&(u=l,d(u.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:F,resetDefaultState:O,dispose:I,releaseStatesOfGeometry:B,releaseStatesOfProgram:L,initAttributes:E,enableAttribute:S,disableUnusedAttributes:M}}function Dte(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){t.drawArrays(s,u,c),n.update(c,s,1)}function l(u,c,f){if(f===0)return;let h,d;if(i)h=t,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[d](s,u,c,f),n.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function Pte(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const _=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(_){if(_==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";_="mediump"}return _==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),A=t.getParameter(t.MAX_VARYING_VECTORS),x=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=h>0,S=o||e.has("OES_texture_float"),w=E&&S,M=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:A,maxFragmentUniforms:x,vertexTextures:E,floatFragmentTextures:S,floatVertexTextures:w,maxSamples:M}}function Lte(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new ua,a=new Jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=f.length!==0||h||r!==0||i;return i=h,r=f.length,d},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,d){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,A=t.get(f);if(!i||g===null||g.length===0||s&&!y)s?c(null):u();else{const x=s?0:r,E=x*4;let S=A.clippingState||null;l.value=S,S=c(g,h,E,d);for(let w=0;w!==E;++w)S[w]=n[w];A.clippingState=S,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,d,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const A=d+v*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(y===null||y.length<A)&&(y=new Float32Array(A));for(let E=0,S=d;E!==v;++E,S+=4)o.copy(f[E]).applyMatrix4(x,a),o.normal.toArray(y,S),y[S+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function Fte(t){let e=new WeakMap;function n(o,a){return a===CA?o.mapping=xf:a===wA&&(o.mapping=Ef),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===CA||a===wA)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new x6(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Of extends pm{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const $p=4,CB=[.125,.215,.35,.446,.526,.582],Lh=20,l8=new Of,wB=new Be;let u8=null;const Mh=(1+Math.sqrt(5))/2,Ap=1/Mh,TB=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,Mh,Ap),new k(0,Mh,-Ap),new k(Ap,0,Mh),new k(-Ap,0,Mh),new k(Mh,Ap,0),new k(-Mh,Ap,0)];class ix{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){u8=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=IB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_B(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(u8),e.scissorTest=!1,kv(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===xf||e.mapping===Ef?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),u8=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ct,minFilter:ct,generateMipmaps:!1,type:Ln,format:yn,colorSpace:il,depthBuffer:!1},i=MB(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=MB(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ote(s)),this._blurMaterial=Ute(s,e,n)}return i}_compileMaterial(e){const n=new sn(this._lodPlanes[0],e);this._renderer.compile(n,l8)}_sceneToCubeUV(e,n,r,i){const a=new Hn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(wB),c.toneMapping=Mo,c.autoClear=!1;const d=new Pr({name:"PMREM.Background",side:Vr,depthWrite:!1,depthTest:!1}),g=new sn(new cc,d);let v=!1;const y=e.background;y?y.isColor&&(d.color.copy(y),e.background=null,v=!0):(d.color.copy(wB),v=!0);for(let A=0;A<6;A++){const x=A%3;x===0?(a.up.set(0,l[A],0),a.lookAt(u[A],0,0)):x===1?(a.up.set(0,0,l[A]),a.lookAt(0,u[A],0)):(a.up.set(0,l[A],0),a.lookAt(0,0,u[A]));const E=this._cubeSize;kv(i,x*E,A>2?E:0,E,E),c.setRenderTarget(i),v&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===xf||e.mapping===Ef;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=IB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_B());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new sn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;kv(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,l8)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=TB[(i-1)%TB.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new sn(this._lodPlanes[i],u),h=u.uniforms,d=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*d):2*Math.PI/(2*Lh-1),v=s/g,y=isFinite(s)?1+Math.floor(c*v):Lh;y>Lh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Lh}`);const A=[];let x=0;for(let _=0;_<Lh;++_){const b=_/v,I=Math.exp(-b*b/2);A.push(I),_===0?x+=I:_<y&&(x+=2*I)}for(let _=0;_<A.length;_++)A[_]=A[_]/x;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=A,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:E}=this;h.dTheta.value=g,h.mipInt.value=E-r;const S=this._sizeLods[i],w=3*S*(i>E-$p?i-E+$p:0),M=4*(this._cubeSize-S);kv(n,w,M,3*S,2*S),l.setRenderTarget(n),l.render(f,l8)}}function Ote(t){const e=[],n=[],r=[];let i=t;const s=t-$p+1+CB.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-$p?l=CB[o-t+$p-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,g=6,v=3,y=2,A=1,x=new Float32Array(v*g*d),E=new Float32Array(y*g*d),S=new Float32Array(A*g*d);for(let M=0;M<d;M++){const _=M%3*2/3-1,b=M>2?0:-1,I=[_,b,0,_+2/3,b,0,_+2/3,b+1,0,_,b,0,_+2/3,b+1,0,_,b+1,0];x.set(I,v*g*M),E.set(h,y*g*M);const B=[M,M,M,M,M,M];S.set(B,A*g*M)}const w=new bt;w.setAttribute("position",new Yt(x,v)),w.setAttribute("uv",new Yt(E,y)),w.setAttribute("faceIndex",new Yt(S,A)),e.push(w),i>$p&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function MB(t,e,n){const r=new Tt(t,e,n);return r.texture.mapping=hm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function kv(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Ute(t,e,n){const r=new Float32Array(Lh),i=new k(0,1,0);return new lt({name:"SphericalGaussianBlur",defines:{n:Lh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ct,depthTest:!1,depthWrite:!1})}function _B(){return new lt({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ct,depthTest:!1,depthWrite:!1})}function IB(){return new lt({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ct,depthTest:!1,depthWrite:!1})}function hM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kte(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===CA||l===wA,c=l===xf||l===Ef;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new ix(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){n===null&&(n=new ix(t));const h=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Nte(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Gte(t,e,n,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const v=h.morphAttributes[g];for(let y=0,A=v.length;y<A;y++)e.remove(v[y])}h.removeEventListener("dispose",o),delete i[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER);const d=f.morphAttributes;for(const g in d){const v=d[g];for(let y=0,A=v.length;y<A;y++)e.update(v[y],t.ARRAY_BUFFER)}}function u(f){const h=[],d=f.index,g=f.attributes.position;let v=0;if(d!==null){const x=d.array;v=d.version;for(let E=0,S=x.length;E<S;E+=3){const w=x[E+0],M=x[E+1],_=x[E+2];h.push(w,M,M,_,_,w)}}else{const x=g.array;v=g.version;for(let E=0,S=x.length/3-1;E<S;E+=3){const w=E+0,M=E+1,_=E+2;h.push(w,M,M,_,_,w)}}const y=new(qG(h)?y6:cM)(h,1);y.version=v;const A=s.get(f);A&&e.remove(A),s.set(f,y)}function c(f){const h=s.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function zte(t,e,n,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function u(h){a=h.type,l=h.bytesPerElement}function c(h,d){t.drawElements(s,d,a,h*l),n.update(d,s,1)}function f(h,d,g){if(g===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,d,a,h*l,g),n.update(d,s,g)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function Hte(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Qte(t,e){return t[0]-e[0]}function Vte(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Wte(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new kt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f){const h=u.morphTargetInfluences;if(e.isWebGL2===!0){const g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,v=g!==void 0?g.length:0;let y=s.get(c);if(y===void 0||y.count!==v){let V=function(){O.dispose(),s.delete(c),c.removeEventListener("dispose",V)};var d=V;y!==void 0&&y.texture.dispose();const E=c.morphAttributes.position!==void 0,S=c.morphAttributes.normal!==void 0,w=c.morphAttributes.color!==void 0,M=c.morphAttributes.position||[],_=c.morphAttributes.normal||[],b=c.morphAttributes.color||[];let I=0;E===!0&&(I=1),S===!0&&(I=2),w===!0&&(I=3);let B=c.attributes.position.count*I,L=1;B>e.maxTextureSize&&(L=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const F=new Float32Array(B*L*4*v),O=new v6(F,B,L,v);O.type=Un,O.needsUpdate=!0;const G=I*4;for(let Y=0;Y<v;Y++){const J=M[Y],z=_[Y],W=b[Y],j=B*L*4*Y;for(let Q=0;Q<J.count;Q++){const H=Q*G;E===!0&&(o.fromBufferAttribute(J,Q),F[j+H+0]=o.x,F[j+H+1]=o.y,F[j+H+2]=o.z,F[j+H+3]=0),S===!0&&(o.fromBufferAttribute(z,Q),F[j+H+4]=o.x,F[j+H+5]=o.y,F[j+H+6]=o.z,F[j+H+7]=0),w===!0&&(o.fromBufferAttribute(W,Q),F[j+H+8]=o.x,F[j+H+9]=o.y,F[j+H+10]=o.z,F[j+H+11]=W.itemSize===4?o.w:1)}}y={count:v,texture:O,size:new ie(B,L)},s.set(c,y),c.addEventListener("dispose",V)}let A=0;for(let E=0;E<h.length;E++)A+=h[E];const x=c.morphTargetsRelative?1:1-A;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",h),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const g=h===void 0?0:h.length;let v=r[c.id];if(v===void 0||v.length!==g){v=[];for(let S=0;S<g;S++)v[S]=[S,0];r[c.id]=v}for(let S=0;S<g;S++){const w=v[S];w[0]=S,w[1]=h[S]}v.sort(Vte);for(let S=0;S<8;S++)S<g&&v[S][1]?(a[S][0]=v[S][0],a[S][1]=v[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(Qte);const y=c.morphAttributes.position,A=c.morphAttributes.normal;let x=0;for(let S=0;S<8;S++){const w=a[S],M=w[0],_=w[1];M!==Number.MAX_SAFE_INTEGER&&_?(y&&c.getAttribute("morphTarget"+S)!==y[M]&&c.setAttribute("morphTarget"+S,y[M]),A&&c.getAttribute("morphNormal"+S)!==A[M]&&c.setAttribute("morphNormal"+S,A[M]),i[S]=_,x+=_):(y&&c.hasAttribute("morphTarget"+S)===!0&&c.deleteAttribute("morphTarget"+S),A&&c.hasAttribute("morphNormal"+S)===!0&&c.deleteAttribute("morphNormal"+S),i[S]=0)}const E=c.morphTargetsRelative?1:1-x;f.getUniforms().setValue(t,"morphTargetBaseInfluence",E),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function jte(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const tz=new xn,nz=new v6,rz=new $h,iz=new y3,bB=[],BB=[],RB=new Float32Array(16),DB=new Float32Array(9),PB=new Float32Array(4);function mm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=bB[i];if(s===void 0&&(s=new Float32Array(i),bB[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function gi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ai(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function S6(t,e){let n=BB[e];n===void 0&&(n=new Int32Array(e),BB[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Xte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Yte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(gi(n,e))return;t.uniform2fv(this.addr,e),Ai(n,e)}}function Kte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(gi(n,e))return;t.uniform3fv(this.addr,e),Ai(n,e)}}function Jte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(gi(n,e))return;t.uniform4fv(this.addr,e),Ai(n,e)}}function qte(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(gi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ai(n,e)}else{if(gi(n,r))return;PB.set(r),t.uniformMatrix2fv(this.addr,!1,PB),Ai(n,r)}}function Zte(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(gi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ai(n,e)}else{if(gi(n,r))return;DB.set(r),t.uniformMatrix3fv(this.addr,!1,DB),Ai(n,r)}}function $te(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(gi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ai(n,e)}else{if(gi(n,r))return;RB.set(r),t.uniformMatrix4fv(this.addr,!1,RB),Ai(n,r)}}function ene(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function tne(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(gi(n,e))return;t.uniform2iv(this.addr,e),Ai(n,e)}}function nne(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(gi(n,e))return;t.uniform3iv(this.addr,e),Ai(n,e)}}function rne(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(gi(n,e))return;t.uniform4iv(this.addr,e),Ai(n,e)}}function ine(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function sne(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(gi(n,e))return;t.uniform2uiv(this.addr,e),Ai(n,e)}}function one(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(gi(n,e))return;t.uniform3uiv(this.addr,e),Ai(n,e)}}function ane(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(gi(n,e))return;t.uniform4uiv(this.addr,e),Ai(n,e)}}function lne(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||tz,i)}function une(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||rz,i)}function cne(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||iz,i)}function fne(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||nz,i)}function hne(t){switch(t){case 5126:return Xte;case 35664:return Yte;case 35665:return Kte;case 35666:return Jte;case 35674:return qte;case 35675:return Zte;case 35676:return $te;case 5124:case 35670:return ene;case 35667:case 35671:return tne;case 35668:case 35672:return nne;case 35669:case 35673:return rne;case 5125:return ine;case 36294:return sne;case 36295:return one;case 36296:return ane;case 35678:case 36198:case 36298:case 36306:case 35682:return lne;case 35679:case 36299:case 36307:return une;case 35680:case 36300:case 36308:case 36293:return cne;case 36289:case 36303:case 36311:case 36292:return fne}}function dne(t,e){t.uniform1fv(this.addr,e)}function pne(t,e){const n=mm(e,this.size,2);t.uniform2fv(this.addr,n)}function mne(t,e){const n=mm(e,this.size,3);t.uniform3fv(this.addr,n)}function gne(t,e){const n=mm(e,this.size,4);t.uniform4fv(this.addr,n)}function Ane(t,e){const n=mm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function vne(t,e){const n=mm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function yne(t,e){const n=mm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function xne(t,e){t.uniform1iv(this.addr,e)}function Ene(t,e){t.uniform2iv(this.addr,e)}function Sne(t,e){t.uniform3iv(this.addr,e)}function Cne(t,e){t.uniform4iv(this.addr,e)}function wne(t,e){t.uniform1uiv(this.addr,e)}function Tne(t,e){t.uniform2uiv(this.addr,e)}function Mne(t,e){t.uniform3uiv(this.addr,e)}function _ne(t,e){t.uniform4uiv(this.addr,e)}function Ine(t,e,n){const r=this.cache,i=e.length,s=S6(n,i);gi(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||tz,s[o])}function bne(t,e,n){const r=this.cache,i=e.length,s=S6(n,i);gi(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||rz,s[o])}function Bne(t,e,n){const r=this.cache,i=e.length,s=S6(n,i);gi(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||iz,s[o])}function Rne(t,e,n){const r=this.cache,i=e.length,s=S6(n,i);gi(r,s)||(t.uniform1iv(this.addr,s),Ai(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||nz,s[o])}function Dne(t){switch(t){case 5126:return dne;case 35664:return pne;case 35665:return mne;case 35666:return gne;case 35674:return Ane;case 35675:return vne;case 35676:return yne;case 5124:case 35670:return xne;case 35667:case 35671:return Ene;case 35668:case 35672:return Sne;case 35669:case 35673:return Cne;case 5125:return wne;case 36294:return Tne;case 36295:return Mne;case 36296:return _ne;case 35678:case 36198:case 36298:case 36306:case 35682:return Ine;case 35679:case 36299:case 36307:return bne;case 35680:case 36300:case 36308:case 36293:return Bne;case 36289:case 36303:case 36311:case 36292:return Rne}}class Pne{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=hne(n.type)}}class Lne{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=Dne(n.type)}}class Fne{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const c8=/(\w+)(\])?(\[|\.)?/g;function LB(t,e){t.seq.push(e),t.map[e.id]=e}function One(t,e,n){const r=t.name,i=r.length;for(c8.lastIndex=0;;){const s=c8.exec(r),o=c8.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){LB(n,u===void 0?new Pne(a,t,e):new Lne(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new Fne(a),LB(n,f)),n=f}}}class c5{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);One(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function FB(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Une=0;function kne(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function Nne(t){switch(t){case il:return["Linear","( value )"];case Kt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function OB(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+kne(t.getShaderSource(e),o)}else return i}function Gne(t,e){const n=Nne(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function zne(t,e){let n;switch(e){case _G:n="Linear";break;case IG:n="Reinhard";break;case bG:n="OptimizedCineon";break;case q9:n="ACESFilmic";break;case BG:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Hne(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(u1).join(`
`)}function Qne(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Vne(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function u1(t){return t!==""}function UB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Wne=/^[ \t]*#include +<([\w\d./]+)>/gm;function uw(t){return t.replace(Wne,jne)}function jne(t,e){const n=St[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return uw(n)}const Xne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function NB(t){return t.replace(Xne,Yne)}function Yne(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function GB(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Kne(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===c6?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===b1?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ja&&(e="SHADOWMAP_TYPE_VSM"),e}function Jne(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case xf:case Ef:e="ENVMAP_TYPE_CUBE";break;case hm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function qne(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ef:e="ENVMAP_MODE_REFRACTION";break}return e}function Zne(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case g3:e="ENVMAP_BLENDING_MULTIPLY";break;case TG:e="ENVMAP_BLENDING_MIX";break;case MG:e="ENVMAP_BLENDING_ADD";break}return e}function $ne(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function ere(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Kne(n),u=Jne(n),c=qne(n),f=Zne(n),h=$ne(n),d=n.isWebGL2?"":Hne(n),g=Qne(s),v=i.createProgram();let y,A,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(u1).join(`
`),y.length>0&&(y+=`
`),A=[d,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(u1).join(`
`),A.length>0&&(A+=`
`)):(y=[GB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(u1).join(`
`),A=[d,GB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Mo?"#define TONE_MAPPING":"",n.toneMapping!==Mo?St.tonemapping_pars_fragment:"",n.toneMapping!==Mo?zne("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",St.encodings_pars_fragment,Gne("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(u1).join(`
`)),o=uw(o),o=UB(o,n),o=kB(o,n),a=uw(a),a=UB(a,n),a=kB(a,n),o=NB(o),a=NB(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,A=["#define varying in",n.glslVersion===tx?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===tx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const E=x+y+o,S=x+A+a,w=FB(i,i.VERTEX_SHADER,E),M=FB(i,i.FRAGMENT_SHADER,S);if(i.attachShader(v,w),i.attachShader(v,M),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const I=i.getProgramInfoLog(v).trim(),B=i.getShaderInfoLog(w).trim(),L=i.getShaderInfoLog(M).trim();let F=!0,O=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(F=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,w,M);else{const G=OB(i,w,"vertex"),V=OB(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Program Info Log: `+I+`
`+G+`
`+V)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(B===""||L==="")&&(O=!1);O&&(this.diagnostics={runnable:F,programLog:I,vertexShader:{log:B,prefix:y},fragmentShader:{log:L,prefix:A}})}i.deleteShader(w),i.deleteShader(M);let _;this.getUniforms=function(){return _===void 0&&(_=new c5(i,v)),_};let b;return this.getAttributes=function(){return b===void 0&&(b=Vne(i,v)),b},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Une++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=w,this.fragmentShader=M,this}let tre=0;class nre{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new rre(e),n.set(e,r)),r}}class rre{constructor(e){this.id=tre++,this.code=e,this.usedTimes=0}}function ire(t,e,n,r,i,s,o){const a=new ed,l=new nre,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let d=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(I){return I===0?"uv":`uv${I}`}function y(I,B,L,F,O){const G=F.fog,V=O.geometry,Y=I.isMeshStandardMaterial?F.environment:null,J=(I.isMeshStandardMaterial?n:e).get(I.envMap||Y),z=J&&J.mapping===hm?J.image.height:null,W=g[I.type];I.precision!==null&&(d=i.getMaxPrecision(I.precision),d!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",d,"instead."));const j=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,Q=j!==void 0?j.length:0;let H=0;V.morphAttributes.position!==void 0&&(H=1),V.morphAttributes.normal!==void 0&&(H=2),V.morphAttributes.color!==void 0&&(H=3);let ee,Z,ne,oe;if(W){const on=Ka[W];ee=on.vertexShader,Z=on.fragmentShader}else ee=I.vertexShader,Z=I.fragmentShader,l.update(I),ne=l.getVertexShaderID(I),oe=l.getFragmentShaderID(I);const se=t.getRenderTarget(),he=O.isInstancedMesh===!0,we=!!I.map,ke=!!I.matcap,Se=!!J,X=!!I.aoMap,ve=!!I.lightMap,de=!!I.bumpMap,xe=!!I.normalMap,pe=!!I.displacementMap,je=!!I.emissiveMap,Ae=!!I.metalnessMap,Le=!!I.roughnessMap,Ue=I.anisotropy>0,Ce=I.clearcoat>0,Je=I.iridescence>0,N=I.sheen>0,U=I.transmission>0,re=Ue&&!!I.anisotropyMap,_e=Ce&&!!I.clearcoatMap,Te=Ce&&!!I.clearcoatNormalMap,Ie=Ce&&!!I.clearcoatRoughnessMap,He=Je&&!!I.iridescenceMap,Ne=Je&&!!I.iridescenceThicknessMap,ge=N&&!!I.sheenColorMap,Ge=N&&!!I.sheenRoughnessMap,qe=!!I.specularMap,Ve=!!I.specularColorMap,Oe=!!I.specularIntensityMap,ze=U&&!!I.transmissionMap,it=U&&!!I.thicknessMap,vt=!!I.gradientMap,$=!!I.alphaMap,Qe=I.alphaTest>0,me=!!I.extensions,Xe=!!V.attributes.uv1,et=!!V.attributes.uv2,zt=!!V.attributes.uv3;return{isWebGL2:c,shaderID:W,shaderType:I.type,shaderName:I.name,vertexShader:ee,fragmentShader:Z,defines:I.defines,customVertexShaderID:ne,customFragmentShaderID:oe,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:d,instancing:he,instancingColor:he&&O.instanceColor!==null,supportsVertexTextures:h,outputColorSpace:se===null?t.outputColorSpace:se.isXRRenderTarget===!0?se.texture.colorSpace:il,map:we,matcap:ke,envMap:Se,envMapMode:Se&&J.mapping,envMapCubeUVHeight:z,aoMap:X,lightMap:ve,bumpMap:de,normalMap:xe,displacementMap:h&&pe,emissiveMap:je,normalMapObjectSpace:xe&&I.normalMapType===GG,normalMapTangentSpace:xe&&I.normalMapType===uc,metalnessMap:Ae,roughnessMap:Le,anisotropy:Ue,anisotropyMap:re,clearcoat:Ce,clearcoatMap:_e,clearcoatNormalMap:Te,clearcoatRoughnessMap:Ie,iridescence:Je,iridescenceMap:He,iridescenceThicknessMap:Ne,sheen:N,sheenColorMap:ge,sheenRoughnessMap:Ge,specularMap:qe,specularColorMap:Ve,specularIntensityMap:Oe,transmission:U,transmissionMap:ze,thicknessMap:it,gradientMap:vt,opaque:I.transparent===!1&&I.blending===Vl,alphaMap:$,alphaTest:Qe,combine:I.combine,mapUv:we&&v(I.map.channel),aoMapUv:X&&v(I.aoMap.channel),lightMapUv:ve&&v(I.lightMap.channel),bumpMapUv:de&&v(I.bumpMap.channel),normalMapUv:xe&&v(I.normalMap.channel),displacementMapUv:pe&&v(I.displacementMap.channel),emissiveMapUv:je&&v(I.emissiveMap.channel),metalnessMapUv:Ae&&v(I.metalnessMap.channel),roughnessMapUv:Le&&v(I.roughnessMap.channel),anisotropyMapUv:re&&v(I.anisotropyMap.channel),clearcoatMapUv:_e&&v(I.clearcoatMap.channel),clearcoatNormalMapUv:Te&&v(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&v(I.clearcoatRoughnessMap.channel),iridescenceMapUv:He&&v(I.iridescenceMap.channel),iridescenceThicknessMapUv:Ne&&v(I.iridescenceThicknessMap.channel),sheenColorMapUv:ge&&v(I.sheenColorMap.channel),sheenRoughnessMapUv:Ge&&v(I.sheenRoughnessMap.channel),specularMapUv:qe&&v(I.specularMap.channel),specularColorMapUv:Ve&&v(I.specularColorMap.channel),specularIntensityMapUv:Oe&&v(I.specularIntensityMap.channel),transmissionMapUv:ze&&v(I.transmissionMap.channel),thicknessMapUv:it&&v(I.thicknessMap.channel),alphaMapUv:$&&v(I.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(xe||Ue),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,vertexUv1s:Xe,vertexUv2s:et,vertexUv3s:zt,pointsUvs:O.isPoints===!0&&!!V.attributes.uv&&(we||$),fog:!!G,useFog:I.fog===!0,fogExp2:G&&G.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:O.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:H,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:I.toneMapped?t.toneMapping:Mo,useLegacyLights:t.useLegacyLights,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===$r,flipSided:I.side===Vr,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:me&&I.extensions.derivatives===!0,extensionFragDepth:me&&I.extensions.fragDepth===!0,extensionDrawBuffers:me&&I.extensions.drawBuffers===!0,extensionShaderTextureLOD:me&&I.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:I.customProgramCacheKey()}}function A(I){const B=[];if(I.shaderID?B.push(I.shaderID):(B.push(I.customVertexShaderID),B.push(I.customFragmentShaderID)),I.defines!==void 0)for(const L in I.defines)B.push(L),B.push(I.defines[L]);return I.isRawShaderMaterial===!1&&(x(B,I),E(B,I),B.push(t.outputColorSpace)),B.push(I.customProgramCacheKey),B.join()}function x(I,B){I.push(B.precision),I.push(B.outputColorSpace),I.push(B.envMapMode),I.push(B.envMapCubeUVHeight),I.push(B.mapUv),I.push(B.alphaMapUv),I.push(B.lightMapUv),I.push(B.aoMapUv),I.push(B.bumpMapUv),I.push(B.normalMapUv),I.push(B.displacementMapUv),I.push(B.emissiveMapUv),I.push(B.metalnessMapUv),I.push(B.roughnessMapUv),I.push(B.anisotropyMapUv),I.push(B.clearcoatMapUv),I.push(B.clearcoatNormalMapUv),I.push(B.clearcoatRoughnessMapUv),I.push(B.iridescenceMapUv),I.push(B.iridescenceThicknessMapUv),I.push(B.sheenColorMapUv),I.push(B.sheenRoughnessMapUv),I.push(B.specularMapUv),I.push(B.specularColorMapUv),I.push(B.specularIntensityMapUv),I.push(B.transmissionMapUv),I.push(B.thicknessMapUv),I.push(B.combine),I.push(B.fogExp2),I.push(B.sizeAttenuation),I.push(B.morphTargetsCount),I.push(B.morphAttributeCount),I.push(B.numDirLights),I.push(B.numPointLights),I.push(B.numSpotLights),I.push(B.numSpotLightMaps),I.push(B.numHemiLights),I.push(B.numRectAreaLights),I.push(B.numDirLightShadows),I.push(B.numPointLightShadows),I.push(B.numSpotLightShadows),I.push(B.numSpotLightShadowsWithMaps),I.push(B.shadowMapType),I.push(B.toneMapping),I.push(B.numClippingPlanes),I.push(B.numClipIntersection),I.push(B.depthPacking)}function E(I,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),I.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),I.push(a.mask)}function S(I){const B=g[I.type];let L;if(B){const F=Ka[B];L=rr.clone(F.uniforms)}else L=I.uniforms;return L}function w(I,B){let L;for(let F=0,O=u.length;F<O;F++){const G=u[F];if(G.cacheKey===B){L=G,++L.usedTimes;break}}return L===void 0&&(L=new ere(t,B,I,s),u.push(L)),L}function M(I){if(--I.usedTimes===0){const B=u.indexOf(I);u[B]=u[u.length-1],u.pop(),I.destroy()}}function _(I){l.remove(I)}function b(){l.dispose()}return{getParameters:y,getProgramCacheKey:A,getUniforms:S,acquireProgram:w,releaseProgram:M,releaseShaderCache:_,programs:u,dispose:b}}function sre(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function ore(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function zB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function HB(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,d,g,v,y){let A=t[e];return A===void 0?(A={id:f.id,object:f,geometry:h,material:d,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},t[e]=A):(A.id=f.id,A.object=f,A.geometry=h,A.material=d,A.groupOrder=g,A.renderOrder=f.renderOrder,A.z=v,A.group=y),e++,A}function a(f,h,d,g,v,y){const A=o(f,h,d,g,v,y);d.transmission>0?r.push(A):d.transparent===!0?i.push(A):n.push(A)}function l(f,h,d,g,v,y){const A=o(f,h,d,g,v,y);d.transmission>0?r.unshift(A):d.transparent===!0?i.unshift(A):n.unshift(A)}function u(f,h){n.length>1&&n.sort(f||ore),r.length>1&&r.sort(h||zB),i.length>1&&i.sort(h||zB)}function c(){for(let f=e,h=t.length;f<h;f++){const d=t[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function are(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new HB,t.set(r,[o])):i>=s.length?(o=new HB,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function lre(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new k,color:new Be};break;case"SpotLight":n={position:new k,direction:new k,color:new Be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new k,color:new Be,distance:0,decay:0};break;case"HemisphereLight":n={direction:new k,skyColor:new Be,groundColor:new Be};break;case"RectAreaLight":n={color:new Be,position:new k,halfWidth:new k,halfHeight:new k};break}return t[e.id]=n,n}}}function ure(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let cre=0;function fre(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function hre(t,e){const n=new lre,r=ure(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new k);const s=new k,o=new Ke,a=new Ke;function l(c,f){let h=0,d=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let v=0,y=0,A=0,x=0,E=0,S=0,w=0,M=0,_=0,b=0;c.sort(fre);const I=f===!0?Math.PI:1;for(let L=0,F=c.length;L<F;L++){const O=c[L],G=O.color,V=O.intensity,Y=O.distance,J=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)h+=G.r*V*I,d+=G.g*V*I,g+=G.b*V*I;else if(O.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(O.sh.coefficients[z],V);else if(O.isDirectionalLight){const z=n.get(O);if(z.color.copy(O.color).multiplyScalar(O.intensity*I),O.castShadow){const W=O.shadow,j=r.get(O);j.shadowBias=W.bias,j.shadowNormalBias=W.normalBias,j.shadowRadius=W.radius,j.shadowMapSize=W.mapSize,i.directionalShadow[v]=j,i.directionalShadowMap[v]=J,i.directionalShadowMatrix[v]=O.shadow.matrix,S++}i.directional[v]=z,v++}else if(O.isSpotLight){const z=n.get(O);z.position.setFromMatrixPosition(O.matrixWorld),z.color.copy(G).multiplyScalar(V*I),z.distance=Y,z.coneCos=Math.cos(O.angle),z.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),z.decay=O.decay,i.spot[A]=z;const W=O.shadow;if(O.map&&(i.spotLightMap[_]=O.map,_++,W.updateMatrices(O),O.castShadow&&b++),i.spotLightMatrix[A]=W.matrix,O.castShadow){const j=r.get(O);j.shadowBias=W.bias,j.shadowNormalBias=W.normalBias,j.shadowRadius=W.radius,j.shadowMapSize=W.mapSize,i.spotShadow[A]=j,i.spotShadowMap[A]=J,M++}A++}else if(O.isRectAreaLight){const z=n.get(O);z.color.copy(G).multiplyScalar(V),z.halfWidth.set(O.width*.5,0,0),z.halfHeight.set(0,O.height*.5,0),i.rectArea[x]=z,x++}else if(O.isPointLight){const z=n.get(O);if(z.color.copy(O.color).multiplyScalar(O.intensity*I),z.distance=O.distance,z.decay=O.decay,O.castShadow){const W=O.shadow,j=r.get(O);j.shadowBias=W.bias,j.shadowNormalBias=W.normalBias,j.shadowRadius=W.radius,j.shadowMapSize=W.mapSize,j.shadowCameraNear=W.camera.near,j.shadowCameraFar=W.camera.far,i.pointShadow[y]=j,i.pointShadowMap[y]=J,i.pointShadowMatrix[y]=O.shadow.matrix,w++}i.point[y]=z,y++}else if(O.isHemisphereLight){const z=n.get(O);z.skyColor.copy(O.color).multiplyScalar(V*I),z.groundColor.copy(O.groundColor).multiplyScalar(V*I),i.hemi[E]=z,E++}}x>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=tt.LTC_FLOAT_1,i.rectAreaLTC2=tt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=tt.LTC_HALF_1,i.rectAreaLTC2=tt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=d,i.ambient[2]=g;const B=i.hash;(B.directionalLength!==v||B.pointLength!==y||B.spotLength!==A||B.rectAreaLength!==x||B.hemiLength!==E||B.numDirectionalShadows!==S||B.numPointShadows!==w||B.numSpotShadows!==M||B.numSpotMaps!==_)&&(i.directional.length=v,i.spot.length=A,i.rectArea.length=x,i.point.length=y,i.hemi.length=E,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=M+_-b,i.spotLightMap.length=_,i.numSpotLightShadowsWithMaps=b,B.directionalLength=v,B.pointLength=y,B.spotLength=A,B.rectAreaLength=x,B.hemiLength=E,B.numDirectionalShadows=S,B.numPointShadows=w,B.numSpotShadows=M,B.numSpotMaps=_,i.version=cre++)}function u(c,f){let h=0,d=0,g=0,v=0,y=0;const A=f.matrixWorldInverse;for(let x=0,E=c.length;x<E;x++){const S=c[x];if(S.isDirectionalLight){const w=i.directional[h];w.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(A),h++}else if(S.isSpotLight){const w=i.spot[g];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(A),w.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(A),g++}else if(S.isRectAreaLight){const w=i.rectArea[v];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(A),a.identity(),o.copy(S.matrixWorld),o.premultiply(A),a.extractRotation(o),w.halfWidth.set(S.width*.5,0,0),w.halfHeight.set(0,S.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),v++}else if(S.isPointLight){const w=i.point[d];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(A),d++}else if(S.isHemisphereLight){const w=i.hemi[y];w.direction.setFromMatrixPosition(S.matrixWorld),w.direction.transformDirection(A),y++}}}return{setup:l,setupView:u,state:i}}function QB(t,e){const n=new hre(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function dre(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new QB(t,e),n.set(s,[l])):o>=a.length?(l=new QB(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class gm extends fr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ti,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class C6 extends fr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const pre=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mre=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gre(t,e,n){let r=new E6;const i=new ie,s=new ie,o=new kt,a=new gm({depthPacking:_a}),l=new C6,u={},c=n.maxTextureSize,f={[Ta]:Vr,[Vr]:Ta,[$r]:$r},h=new lt({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ie},radius:{value:4}},vertexShader:pre,fragmentShader:mre}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const g=new bt;g.setAttribute("position",new Yt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new sn(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=c6;let A=this.type;this.render=function(w,M,_){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||w.length===0)return;const b=t.getRenderTarget(),I=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Ct),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const F=A!==ja&&this.type===ja,O=A===ja&&this.type!==ja;for(let G=0,V=w.length;G<V;G++){const Y=w[G],J=Y.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",Y,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const z=J.getFrameExtents();if(i.multiply(z),s.copy(J.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/z.x),i.x=s.x*z.x,J.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/z.y),i.y=s.y*z.y,J.mapSize.y=s.y)),J.map===null||F===!0||O===!0){const j=this.type!==ja?{minFilter:ot,magFilter:ot}:{};J.map!==null&&J.map.dispose(),J.map=new Tt(i.x,i.y,j),J.map.texture.name=Y.name+".shadowMap",J.camera.updateProjectionMatrix()}t.setRenderTarget(J.map),t.clear();const W=J.getViewportCount();for(let j=0;j<W;j++){const Q=J.getViewport(j);o.set(s.x*Q.x,s.y*Q.y,s.x*Q.z,s.y*Q.w),L.viewport(o),J.updateMatrices(Y,j),r=J.getFrustum(),S(M,_,J.camera,Y,this.type)}J.isPointLightShadow!==!0&&this.type===ja&&x(J,_),J.needsUpdate=!1}A=this.type,y.needsUpdate=!1,t.setRenderTarget(b,I,B)};function x(w,M){const _=e.update(v);h.defines.VSM_SAMPLES!==w.blurSamples&&(h.defines.VSM_SAMPLES=w.blurSamples,d.defines.VSM_SAMPLES=w.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new Tt(i.x,i.y)),h.uniforms.shadow_pass.value=w.map.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(M,null,_,h,v,null),d.uniforms.shadow_pass.value=w.mapPass.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(M,null,_,d,v,null)}function E(w,M,_,b){let I=null;const B=_.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(B!==void 0)I=B;else if(I=_.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const L=I.uuid,F=M.uuid;let O=u[L];O===void 0&&(O={},u[L]=O);let G=O[F];G===void 0&&(G=I.clone(),O[F]=G),I=G}if(I.visible=M.visible,I.wireframe=M.wireframe,b===ja?I.side=M.shadowSide!==null?M.shadowSide:M.side:I.side=M.shadowSide!==null?M.shadowSide:f[M.side],I.alphaMap=M.alphaMap,I.alphaTest=M.alphaTest,I.map=M.map,I.clipShadows=M.clipShadows,I.clippingPlanes=M.clippingPlanes,I.clipIntersection=M.clipIntersection,I.displacementMap=M.displacementMap,I.displacementScale=M.displacementScale,I.displacementBias=M.displacementBias,I.wireframeLinewidth=M.wireframeLinewidth,I.linewidth=M.linewidth,_.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const L=t.properties.get(I);L.light=_}return I}function S(w,M,_,b,I){if(w.visible===!1)return;if(w.layers.test(M.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&I===ja)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,w.matrixWorld);const F=e.update(w),O=w.material;if(Array.isArray(O)){const G=F.groups;for(let V=0,Y=G.length;V<Y;V++){const J=G[V],z=O[J.materialIndex];if(z&&z.visible){const W=E(w,z,b,I);t.renderBufferDirect(_,null,F,W,w,J)}}}else if(O.visible){const G=E(w,O,b,I);t.renderBufferDirect(_,null,F,G,w,null)}}const L=w.children;for(let F=0,O=L.length;F<O;F++)S(L[F],M,_,b,I)}}function Are(t,e,n){const r=n.isWebGL2;function i(){let $=!1;const Qe=new kt;let me=null;const Xe=new kt(0,0,0,0);return{setMask:function(et){me!==et&&!$&&(t.colorMask(et,et,et,et),me=et)},setLocked:function(et){$=et},setClear:function(et,zt,nn,on,gn){gn===!0&&(et*=on,zt*=on,nn*=on),Qe.set(et,zt,nn,on),Xe.equals(Qe)===!1&&(t.clearColor(et,zt,nn,on),Xe.copy(Qe))},reset:function(){$=!1,me=null,Xe.set(-1,0,0,0)}}}function s(){let $=!1,Qe=null,me=null,Xe=null;return{setTest:function(et){et?se(t.DEPTH_TEST):he(t.DEPTH_TEST)},setMask:function(et){Qe!==et&&!$&&(t.depthMask(et),Qe=et)},setFunc:function(et){if(me!==et){switch(et){case X9:t.depthFunc(t.NEVER);break;case Y9:t.depthFunc(t.ALWAYS);break;case $5:t.depthFunc(t.LESS);break;case EA:t.depthFunc(t.LEQUAL);break;case SA:t.depthFunc(t.EQUAL);break;case K9:t.depthFunc(t.GEQUAL);break;case J9:t.depthFunc(t.GREATER);break;case d6:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}me=et}},setLocked:function(et){$=et},setClear:function(et){Xe!==et&&(t.clearDepth(et),Xe=et)},reset:function(){$=!1,Qe=null,me=null,Xe=null}}}function o(){let $=!1,Qe=null,me=null,Xe=null,et=null,zt=null,nn=null,on=null,gn=null;return{setTest:function(_n){$||(_n?se(t.STENCIL_TEST):he(t.STENCIL_TEST))},setMask:function(_n){Qe!==_n&&!$&&(t.stencilMask(_n),Qe=_n)},setFunc:function(_n,un,Zt){(me!==_n||Xe!==un||et!==Zt)&&(t.stencilFunc(_n,un,Zt),me=_n,Xe=un,et=Zt)},setOp:function(_n,un,Zt){(zt!==_n||nn!==un||on!==Zt)&&(t.stencilOp(_n,un,Zt),zt=_n,nn=un,on=Zt)},setLocked:function(_n){$=_n},setClear:function(_n){gn!==_n&&(t.clearStencil(_n),gn=_n)},reset:function(){$=!1,Qe=null,me=null,Xe=null,et=null,zt=null,nn=null,on=null,gn=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let h={},d={},g=new WeakMap,v=[],y=null,A=!1,x=null,E=null,S=null,w=null,M=null,_=null,b=null,I=!1,B=null,L=null,F=null,O=null,G=null;const V=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,J=0;const z=t.getParameter(t.VERSION);z.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(z)[1]),Y=J>=1):z.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),Y=J>=2);let W=null,j={};const Q=t.getParameter(t.SCISSOR_BOX),H=t.getParameter(t.VIEWPORT),ee=new kt().fromArray(Q),Z=new kt().fromArray(H);function ne($,Qe,me,Xe){const et=new Uint8Array(4),zt=t.createTexture();t.bindTexture($,zt),t.texParameteri($,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri($,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let nn=0;nn<me;nn++)r&&($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)?t.texImage3D(Qe,0,t.RGBA,1,1,Xe,0,t.RGBA,t.UNSIGNED_BYTE,et):t.texImage2D(Qe+nn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,et);return zt}const oe={};oe[t.TEXTURE_2D]=ne(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=ne(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(oe[t.TEXTURE_2D_ARRAY]=ne(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=ne(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),se(t.DEPTH_TEST),l.setFunc(EA),pe(!1),je(NC),se(t.CULL_FACE),de(Ct);function se($){h[$]!==!0&&(t.enable($),h[$]=!0)}function he($){h[$]!==!1&&(t.disable($),h[$]=!1)}function we($,Qe){return d[$]!==Qe?(t.bindFramebuffer($,Qe),d[$]=Qe,r&&($===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Qe),$===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Qe)),!0):!1}function ke($,Qe){let me=v,Xe=!1;if($)if(me=g.get(Qe),me===void 0&&(me=[],g.set(Qe,me)),$.isWebGLMultipleRenderTargets){const et=$.texture;if(me.length!==et.length||me[0]!==t.COLOR_ATTACHMENT0){for(let zt=0,nn=et.length;zt<nn;zt++)me[zt]=t.COLOR_ATTACHMENT0+zt;me.length=et.length,Xe=!0}}else me[0]!==t.COLOR_ATTACHMENT0&&(me[0]=t.COLOR_ATTACHMENT0,Xe=!0);else me[0]!==t.BACK&&(me[0]=t.BACK,Xe=!0);Xe&&(n.isWebGL2?t.drawBuffers(me):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(me))}function Se($){return y!==$?(t.useProgram($),y=$,!0):!1}const X={[vo]:t.FUNC_ADD,[AG]:t.FUNC_SUBTRACT,[vG]:t.FUNC_REVERSE_SUBTRACT};if(r)X[HC]=t.MIN,X[QC]=t.MAX;else{const $=e.get("EXT_blend_minmax");$!==null&&(X[HC]=$.MIN_EXT,X[QC]=$.MAX_EXT)}const ve={[N0]:t.ZERO,[yG]:t.ONE,[xG]:t.SRC_COLOR,[yA]:t.SRC_ALPHA,[wG]:t.SRC_ALPHA_SATURATE,[h6]:t.DST_COLOR,[f6]:t.DST_ALPHA,[EG]:t.ONE_MINUS_SRC_COLOR,[xA]:t.ONE_MINUS_SRC_ALPHA,[CG]:t.ONE_MINUS_DST_COLOR,[SG]:t.ONE_MINUS_DST_ALPHA};function de($,Qe,me,Xe,et,zt,nn,on){if($===Ct){A===!0&&(he(t.BLEND),A=!1);return}if(A===!1&&(se(t.BLEND),A=!0),$!==vA){if($!==x||on!==I){if((E!==vo||M!==vo)&&(t.blendEquation(t.FUNC_ADD),E=vo,M=vo),on)switch($){case Vl:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case k0:t.blendFunc(t.ONE,t.ONE);break;case GC:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case zC:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case Vl:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case k0:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case GC:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case zC:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}S=null,w=null,_=null,b=null,x=$,I=on}return}et=et||Qe,zt=zt||me,nn=nn||Xe,(Qe!==E||et!==M)&&(t.blendEquationSeparate(X[Qe],X[et]),E=Qe,M=et),(me!==S||Xe!==w||zt!==_||nn!==b)&&(t.blendFuncSeparate(ve[me],ve[Xe],ve[zt],ve[nn]),S=me,w=Xe,_=zt,b=nn),x=$,I=!1}function xe($,Qe){$.side===$r?he(t.CULL_FACE):se(t.CULL_FACE);let me=$.side===Vr;Qe&&(me=!me),pe(me),$.blending===Vl&&$.transparent===!1?de(Ct):de($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.premultipliedAlpha),l.setFunc($.depthFunc),l.setTest($.depthTest),l.setMask($.depthWrite),a.setMask($.colorWrite);const Xe=$.stencilWrite;u.setTest(Xe),Xe&&(u.setMask($.stencilWriteMask),u.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),u.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),Le($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?se(t.SAMPLE_ALPHA_TO_COVERAGE):he(t.SAMPLE_ALPHA_TO_COVERAGE)}function pe($){B!==$&&($?t.frontFace(t.CW):t.frontFace(t.CCW),B=$)}function je($){$!==pG?(se(t.CULL_FACE),$!==L&&($===NC?t.cullFace(t.BACK):$===mG?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):he(t.CULL_FACE),L=$}function Ae($){$!==F&&(Y&&t.lineWidth($),F=$)}function Le($,Qe,me){$?(se(t.POLYGON_OFFSET_FILL),(O!==Qe||G!==me)&&(t.polygonOffset(Qe,me),O=Qe,G=me)):he(t.POLYGON_OFFSET_FILL)}function Ue($){$?se(t.SCISSOR_TEST):he(t.SCISSOR_TEST)}function Ce($){$===void 0&&($=t.TEXTURE0+V-1),W!==$&&(t.activeTexture($),W=$)}function Je($,Qe,me){me===void 0&&(W===null?me=t.TEXTURE0+V-1:me=W);let Xe=j[me];Xe===void 0&&(Xe={type:void 0,texture:void 0},j[me]=Xe),(Xe.type!==$||Xe.texture!==Qe)&&(W!==me&&(t.activeTexture(me),W=me),t.bindTexture($,Qe||oe[$]),Xe.type=$,Xe.texture=Qe)}function N(){const $=j[W];$!==void 0&&$.type!==void 0&&(t.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function U(){try{t.compressedTexImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function re(){try{t.compressedTexImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function _e(){try{t.texSubImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Te(){try{t.texSubImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ie(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function He(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ne(){try{t.texStorage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function ge(){try{t.texStorage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ge(){try{t.texImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function qe(){try{t.texImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ve($){ee.equals($)===!1&&(t.scissor($.x,$.y,$.z,$.w),ee.copy($))}function Oe($){Z.equals($)===!1&&(t.viewport($.x,$.y,$.z,$.w),Z.copy($))}function ze($,Qe){let me=f.get(Qe);me===void 0&&(me=new WeakMap,f.set(Qe,me));let Xe=me.get($);Xe===void 0&&(Xe=t.getUniformBlockIndex(Qe,$.name),me.set($,Xe))}function it($,Qe){const Xe=f.get(Qe).get($);c.get(Qe)!==Xe&&(t.uniformBlockBinding(Qe,Xe,$.__bindingPointIndex),c.set(Qe,Xe))}function vt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),h={},W=null,j={},d={},g=new WeakMap,v=[],y=null,A=!1,x=null,E=null,S=null,w=null,M=null,_=null,b=null,I=!1,B=null,L=null,F=null,O=null,G=null,ee.set(0,0,t.canvas.width,t.canvas.height),Z.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:se,disable:he,bindFramebuffer:we,drawBuffers:ke,useProgram:Se,setBlending:de,setMaterial:xe,setFlipSided:pe,setCullFace:je,setLineWidth:Ae,setPolygonOffset:Le,setScissorTest:Ue,activeTexture:Ce,bindTexture:Je,unbindTexture:N,compressedTexImage2D:U,compressedTexImage3D:re,texImage2D:Ge,texImage3D:qe,updateUBOMapping:ze,uniformBlockBinding:it,texStorage2D:Ne,texStorage3D:ge,texSubImage2D:_e,texSubImage3D:Te,compressedTexSubImage2D:Ie,compressedTexSubImage3D:He,scissor:Ve,viewport:Oe,reset:vt}}function vre(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(N,U){return A?new OffscreenCanvas(N,U):LA("canvas")}function E(N,U,re,_e){let Te=1;if((N.width>_e||N.height>_e)&&(Te=_e/Math.max(N.width,N.height)),Te<1||U===!0)if(typeof HTMLImageElement<"u"&&N instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&N instanceof ImageBitmap){const Ie=U?rx:Math.floor,He=Ie(Te*N.width),Ne=Ie(Te*N.height);v===void 0&&(v=x(He,Ne));const ge=re?x(He,Ne):v;return ge.width=He,ge.height=Ne,ge.getContext("2d").drawImage(N,0,0,He,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+N.width+"x"+N.height+") to ("+He+"x"+Ne+")."),ge}else return"data"in N&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+N.width+"x"+N.height+")."),N;return N}function S(N){return lw(N.width)&&lw(N.height)}function w(N){return a?!1:N.wrapS!==Kn||N.wrapT!==Kn||N.minFilter!==ot&&N.minFilter!==ct}function M(N,U){return N.generateMipmaps&&U&&N.minFilter!==ot&&N.minFilter!==ct}function _(N){t.generateMipmap(N)}function b(N,U,re,_e,Te=!1){if(a===!1)return U;if(N!==null){if(t[N]!==void 0)return t[N];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+N+"'")}let Ie=U;return U===t.RED&&(re===t.FLOAT&&(Ie=t.R32F),re===t.HALF_FLOAT&&(Ie=t.R16F),re===t.UNSIGNED_BYTE&&(Ie=t.R8)),U===t.RG&&(re===t.FLOAT&&(Ie=t.RG32F),re===t.HALF_FLOAT&&(Ie=t.RG16F),re===t.UNSIGNED_BYTE&&(Ie=t.RG8)),U===t.RGBA&&(re===t.FLOAT&&(Ie=t.RGBA32F),re===t.HALF_FLOAT&&(Ie=t.RGBA16F),re===t.UNSIGNED_BYTE&&(Ie=_e===Kt&&Te===!1?t.SRGB8_ALPHA8:t.RGBA8),re===t.UNSIGNED_SHORT_4_4_4_4&&(Ie=t.RGBA4),re===t.UNSIGNED_SHORT_5_5_5_1&&(Ie=t.RGB5_A1)),(Ie===t.R16F||Ie===t.R32F||Ie===t.RG16F||Ie===t.RG32F||Ie===t.RGBA16F||Ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function I(N,U,re){return M(N,re)===!0||N.isFramebufferTexture&&N.minFilter!==ot&&N.minFilter!==ct?Math.log2(Math.max(U.width,U.height))+1:N.mipmaps!==void 0&&N.mipmaps.length>0?N.mipmaps.length:N.isCompressedTexture&&Array.isArray(N.image)?U.mipmaps.length:1}function B(N){return N===ot||N===TA||N===m0?t.NEAREST:t.LINEAR}function L(N){const U=N.target;U.removeEventListener("dispose",L),O(U),U.isVideoTexture&&g.delete(U)}function F(N){const U=N.target;U.removeEventListener("dispose",F),V(U)}function O(N){const U=r.get(N);if(U.__webglInit===void 0)return;const re=N.source,_e=y.get(re);if(_e){const Te=_e[U.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&G(N),Object.keys(_e).length===0&&y.delete(re)}r.remove(N)}function G(N){const U=r.get(N);t.deleteTexture(U.__webglTexture);const re=N.source,_e=y.get(re);delete _e[U.__cacheKey],o.memory.textures--}function V(N){const U=N.texture,re=r.get(N),_e=r.get(U);if(_e.__webglTexture!==void 0&&(t.deleteTexture(_e.__webglTexture),o.memory.textures--),N.depthTexture&&N.depthTexture.dispose(),N.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)t.deleteFramebuffer(re.__webglFramebuffer[Te]),re.__webglDepthbuffer&&t.deleteRenderbuffer(re.__webglDepthbuffer[Te]);else{if(t.deleteFramebuffer(re.__webglFramebuffer),re.__webglDepthbuffer&&t.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&t.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let Te=0;Te<re.__webglColorRenderbuffer.length;Te++)re.__webglColorRenderbuffer[Te]&&t.deleteRenderbuffer(re.__webglColorRenderbuffer[Te]);re.__webglDepthRenderbuffer&&t.deleteRenderbuffer(re.__webglDepthRenderbuffer)}if(N.isWebGLMultipleRenderTargets)for(let Te=0,Ie=U.length;Te<Ie;Te++){const He=r.get(U[Te]);He.__webglTexture&&(t.deleteTexture(He.__webglTexture),o.memory.textures--),r.remove(U[Te])}r.remove(U),r.remove(N)}let Y=0;function J(){Y=0}function z(){const N=Y;return N>=l&&console.warn("THREE.WebGLTextures: Trying to use "+N+" texture units while this GPU supports only "+l),Y+=1,N}function W(N){const U=[];return U.push(N.wrapS),U.push(N.wrapT),U.push(N.wrapR||0),U.push(N.magFilter),U.push(N.minFilter),U.push(N.anisotropy),U.push(N.internalFormat),U.push(N.format),U.push(N.type),U.push(N.generateMipmaps),U.push(N.premultiplyAlpha),U.push(N.flipY),U.push(N.unpackAlignment),U.push(N.colorSpace),U.join()}function j(N,U){const re=r.get(N);if(N.isVideoTexture&&Ce(N),N.isRenderTargetTexture===!1&&N.version>0&&re.__version!==N.version){const _e=N.image;if(_e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(_e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(re,N,U);return}}n.bindTexture(t.TEXTURE_2D,re.__webglTexture,t.TEXTURE0+U)}function Q(N,U){const re=r.get(N);if(N.version>0&&re.__version!==N.version){we(re,N,U);return}n.bindTexture(t.TEXTURE_2D_ARRAY,re.__webglTexture,t.TEXTURE0+U)}function H(N,U){const re=r.get(N);if(N.version>0&&re.__version!==N.version){we(re,N,U);return}n.bindTexture(t.TEXTURE_3D,re.__webglTexture,t.TEXTURE0+U)}function ee(N,U){const re=r.get(N);if(N.version>0&&re.__version!==N.version){ke(re,N,U);return}n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture,t.TEXTURE0+U)}const Z={[ei]:t.REPEAT,[Kn]:t.CLAMP_TO_EDGE,[G0]:t.MIRRORED_REPEAT},ne={[ot]:t.NEAREST,[TA]:t.NEAREST_MIPMAP_NEAREST,[m0]:t.NEAREST_MIPMAP_LINEAR,[ct]:t.LINEAR,[m6]:t.LINEAR_MIPMAP_NEAREST,[Ma]:t.LINEAR_MIPMAP_LINEAR},oe={[HG]:t.NEVER,[KG]:t.ALWAYS,[QG]:t.LESS,[WG]:t.LEQUAL,[VG]:t.EQUAL,[YG]:t.GEQUAL,[jG]:t.GREATER,[XG]:t.NOTEQUAL};function se(N,U,re){if(re?(t.texParameteri(N,t.TEXTURE_WRAP_S,Z[U.wrapS]),t.texParameteri(N,t.TEXTURE_WRAP_T,Z[U.wrapT]),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,Z[U.wrapR]),t.texParameteri(N,t.TEXTURE_MAG_FILTER,ne[U.magFilter]),t.texParameteri(N,t.TEXTURE_MIN_FILTER,ne[U.minFilter])):(t.texParameteri(N,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(N,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(U.wrapS!==Kn||U.wrapT!==Kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(N,t.TEXTURE_MAG_FILTER,B(U.magFilter)),t.texParameteri(N,t.TEXTURE_MIN_FILTER,B(U.minFilter)),U.minFilter!==ot&&U.minFilter!==ct&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),U.compareFunction&&(t.texParameteri(N,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(N,t.TEXTURE_COMPARE_FUNC,oe[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const _e=e.get("EXT_texture_filter_anisotropic");if(U.magFilter===ot||U.minFilter!==m0&&U.minFilter!==Ma||U.type===Un&&e.has("OES_texture_float_linear")===!1||a===!1&&U.type===Ln&&e.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||r.get(U).__currentAnisotropy)&&(t.texParameterf(N,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy)}}function he(N,U){let re=!1;N.__webglInit===void 0&&(N.__webglInit=!0,U.addEventListener("dispose",L));const _e=U.source;let Te=y.get(_e);Te===void 0&&(Te={},y.set(_e,Te));const Ie=W(U);if(Ie!==N.__cacheKey){Te[Ie]===void 0&&(Te[Ie]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,re=!0),Te[Ie].usedTimes++;const He=Te[N.__cacheKey];He!==void 0&&(Te[N.__cacheKey].usedTimes--,He.usedTimes===0&&G(U)),N.__cacheKey=Ie,N.__webglTexture=Te[Ie].texture}return re}function we(N,U,re){let _e=t.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(_e=t.TEXTURE_2D_ARRAY),U.isData3DTexture&&(_e=t.TEXTURE_3D);const Te=he(N,U),Ie=U.source;n.bindTexture(_e,N.__webglTexture,t.TEXTURE0+re);const He=r.get(Ie);if(Ie.version!==He.__version||Te===!0){n.activeTexture(t.TEXTURE0+re),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ne=w(U)&&S(U.image)===!1;let ge=E(U.image,Ne,!1,c);ge=Je(U,ge);const Ge=S(ge)||a,qe=s.convert(U.format,U.colorSpace);let Ve=s.convert(U.type),Oe=b(U.internalFormat,qe,Ve,U.colorSpace);se(_e,U,Ge);let ze;const it=U.mipmaps,vt=a&&U.isVideoTexture!==!0,$=He.__version===void 0||Te===!0,Qe=I(U,ge,Ge);if(U.isDepthTexture)Oe=t.DEPTH_COMPONENT,a?U.type===Un?Oe=t.DEPTH_COMPONENT32F:U.type===Ol?Oe=t.DEPTH_COMPONENT24:U.type===Wl?Oe=t.DEPTH24_STENCIL8:Oe=t.DEPTH_COMPONENT16:U.type===Un&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===df&&Oe===t.DEPTH_COMPONENT&&U.type!==Id&&U.type!==Ol&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=Ol,Ve=s.convert(U.type)),U.format===ec&&Oe===t.DEPTH_COMPONENT&&(Oe=t.DEPTH_STENCIL,U.type!==Wl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=Wl,Ve=s.convert(U.type))),$&&(vt?n.texStorage2D(t.TEXTURE_2D,1,Oe,ge.width,ge.height):n.texImage2D(t.TEXTURE_2D,0,Oe,ge.width,ge.height,0,qe,Ve,null));else if(U.isDataTexture)if(it.length>0&&Ge){vt&&$&&n.texStorage2D(t.TEXTURE_2D,Qe,Oe,it[0].width,it[0].height);for(let me=0,Xe=it.length;me<Xe;me++)ze=it[me],vt?n.texSubImage2D(t.TEXTURE_2D,me,0,0,ze.width,ze.height,qe,Ve,ze.data):n.texImage2D(t.TEXTURE_2D,me,Oe,ze.width,ze.height,0,qe,Ve,ze.data);U.generateMipmaps=!1}else vt?($&&n.texStorage2D(t.TEXTURE_2D,Qe,Oe,ge.width,ge.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ge.width,ge.height,qe,Ve,ge.data)):n.texImage2D(t.TEXTURE_2D,0,Oe,ge.width,ge.height,0,qe,Ve,ge.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){vt&&$&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Qe,Oe,it[0].width,it[0].height,ge.depth);for(let me=0,Xe=it.length;me<Xe;me++)ze=it[me],U.format!==yn?qe!==null?vt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,me,0,0,0,ze.width,ze.height,ge.depth,qe,ze.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,me,Oe,ze.width,ze.height,ge.depth,0,ze.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):vt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,me,0,0,0,ze.width,ze.height,ge.depth,qe,Ve,ze.data):n.texImage3D(t.TEXTURE_2D_ARRAY,me,Oe,ze.width,ze.height,ge.depth,0,qe,Ve,ze.data)}else{vt&&$&&n.texStorage2D(t.TEXTURE_2D,Qe,Oe,it[0].width,it[0].height);for(let me=0,Xe=it.length;me<Xe;me++)ze=it[me],U.format!==yn?qe!==null?vt?n.compressedTexSubImage2D(t.TEXTURE_2D,me,0,0,ze.width,ze.height,qe,ze.data):n.compressedTexImage2D(t.TEXTURE_2D,me,Oe,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):vt?n.texSubImage2D(t.TEXTURE_2D,me,0,0,ze.width,ze.height,qe,Ve,ze.data):n.texImage2D(t.TEXTURE_2D,me,Oe,ze.width,ze.height,0,qe,Ve,ze.data)}else if(U.isDataArrayTexture)vt?($&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Qe,Oe,ge.width,ge.height,ge.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ge.width,ge.height,ge.depth,qe,Ve,ge.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Oe,ge.width,ge.height,ge.depth,0,qe,Ve,ge.data);else if(U.isData3DTexture)vt?($&&n.texStorage3D(t.TEXTURE_3D,Qe,Oe,ge.width,ge.height,ge.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ge.width,ge.height,ge.depth,qe,Ve,ge.data)):n.texImage3D(t.TEXTURE_3D,0,Oe,ge.width,ge.height,ge.depth,0,qe,Ve,ge.data);else if(U.isFramebufferTexture){if($)if(vt)n.texStorage2D(t.TEXTURE_2D,Qe,Oe,ge.width,ge.height);else{let me=ge.width,Xe=ge.height;for(let et=0;et<Qe;et++)n.texImage2D(t.TEXTURE_2D,et,Oe,me,Xe,0,qe,Ve,null),me>>=1,Xe>>=1}}else if(it.length>0&&Ge){vt&&$&&n.texStorage2D(t.TEXTURE_2D,Qe,Oe,it[0].width,it[0].height);for(let me=0,Xe=it.length;me<Xe;me++)ze=it[me],vt?n.texSubImage2D(t.TEXTURE_2D,me,0,0,qe,Ve,ze):n.texImage2D(t.TEXTURE_2D,me,Oe,qe,Ve,ze);U.generateMipmaps=!1}else vt?($&&n.texStorage2D(t.TEXTURE_2D,Qe,Oe,ge.width,ge.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,qe,Ve,ge)):n.texImage2D(t.TEXTURE_2D,0,Oe,qe,Ve,ge);M(U,Ge)&&_(_e),He.__version=Ie.version,U.onUpdate&&U.onUpdate(U)}N.__version=U.version}function ke(N,U,re){if(U.image.length!==6)return;const _e=he(N,U),Te=U.source;n.bindTexture(t.TEXTURE_CUBE_MAP,N.__webglTexture,t.TEXTURE0+re);const Ie=r.get(Te);if(Te.version!==Ie.__version||_e===!0){n.activeTexture(t.TEXTURE0+re),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const He=U.isCompressedTexture||U.image[0].isCompressedTexture,Ne=U.image[0]&&U.image[0].isDataTexture,ge=[];for(let me=0;me<6;me++)!He&&!Ne?ge[me]=E(U.image[me],!1,!0,u):ge[me]=Ne?U.image[me].image:U.image[me],ge[me]=Je(U,ge[me]);const Ge=ge[0],qe=S(Ge)||a,Ve=s.convert(U.format,U.colorSpace),Oe=s.convert(U.type),ze=b(U.internalFormat,Ve,Oe,U.colorSpace),it=a&&U.isVideoTexture!==!0,vt=Ie.__version===void 0||_e===!0;let $=I(U,Ge,qe);se(t.TEXTURE_CUBE_MAP,U,qe);let Qe;if(He){it&&vt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,$,ze,Ge.width,Ge.height);for(let me=0;me<6;me++){Qe=ge[me].mipmaps;for(let Xe=0;Xe<Qe.length;Xe++){const et=Qe[Xe];U.format!==yn?Ve!==null?it?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe,0,0,et.width,et.height,Ve,et.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe,ze,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe,0,0,et.width,et.height,Ve,Oe,et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe,ze,et.width,et.height,0,Ve,Oe,et.data)}}}else{Qe=U.mipmaps,it&&vt&&(Qe.length>0&&$++,n.texStorage2D(t.TEXTURE_CUBE_MAP,$,ze,ge[0].width,ge[0].height));for(let me=0;me<6;me++)if(Ne){it?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,ge[me].width,ge[me].height,Ve,Oe,ge[me].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,ze,ge[me].width,ge[me].height,0,Ve,Oe,ge[me].data);for(let Xe=0;Xe<Qe.length;Xe++){const zt=Qe[Xe].image[me].image;it?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe+1,0,0,zt.width,zt.height,Ve,Oe,zt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe+1,ze,zt.width,zt.height,0,Ve,Oe,zt.data)}}else{it?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,0,0,Ve,Oe,ge[me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,0,ze,Ve,Oe,ge[me]);for(let Xe=0;Xe<Qe.length;Xe++){const et=Qe[Xe];it?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe+1,0,0,Ve,Oe,et.image[me]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+me,Xe+1,ze,Ve,Oe,et.image[me])}}}M(U,qe)&&_(t.TEXTURE_CUBE_MAP),Ie.__version=Te.version,U.onUpdate&&U.onUpdate(U)}N.__version=U.version}function Se(N,U,re,_e,Te){const Ie=s.convert(re.format,re.colorSpace),He=s.convert(re.type),Ne=b(re.internalFormat,Ie,He,re.colorSpace);r.get(U).__hasExternalTextures||(Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY?n.texImage3D(Te,0,Ne,U.width,U.height,U.depth,0,Ie,He,null):n.texImage2D(Te,0,Ne,U.width,U.height,0,Ie,He,null)),n.bindFramebuffer(t.FRAMEBUFFER,N),Ue(U)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,_e,Te,r.get(re).__webglTexture,0,Le(U)):(Te===t.TEXTURE_2D||Te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,_e,Te,r.get(re).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function X(N,U,re){if(t.bindRenderbuffer(t.RENDERBUFFER,N),U.depthBuffer&&!U.stencilBuffer){let _e=t.DEPTH_COMPONENT16;if(re||Ue(U)){const Te=U.depthTexture;Te&&Te.isDepthTexture&&(Te.type===Un?_e=t.DEPTH_COMPONENT32F:Te.type===Ol&&(_e=t.DEPTH_COMPONENT24));const Ie=Le(U);Ue(U)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,_e,U.width,U.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,_e,U.width,U.height)}else t.renderbufferStorage(t.RENDERBUFFER,_e,U.width,U.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,N)}else if(U.depthBuffer&&U.stencilBuffer){const _e=Le(U);re&&Ue(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,_e,t.DEPTH24_STENCIL8,U.width,U.height):Ue(U)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_e,t.DEPTH24_STENCIL8,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,N)}else{const _e=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let Te=0;Te<_e.length;Te++){const Ie=_e[Te],He=s.convert(Ie.format,Ie.colorSpace),Ne=s.convert(Ie.type),ge=b(Ie.internalFormat,He,Ne,Ie.colorSpace),Ge=Le(U);re&&Ue(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ge,ge,U.width,U.height):Ue(U)?h.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ge,ge,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,ge,U.width,U.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ve(N,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,N),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),j(U.depthTexture,0);const _e=r.get(U.depthTexture).__webglTexture,Te=Le(U);if(U.depthTexture.format===df)Ue(U)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,_e,0);else if(U.depthTexture.format===ec)Ue(U)?h.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,_e,0);else throw new Error("Unknown depthTexture format")}function de(N){const U=r.get(N),re=N.isWebGLCubeRenderTarget===!0;if(N.depthTexture&&!U.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");ve(U.__webglFramebuffer,N)}else if(re){U.__webglDepthbuffer=[];for(let _e=0;_e<6;_e++)n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[_e]),U.__webglDepthbuffer[_e]=t.createRenderbuffer(),X(U.__webglDepthbuffer[_e],N,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),X(U.__webglDepthbuffer,N,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(N,U,re){const _e=r.get(N);U!==void 0&&Se(_e.__webglFramebuffer,N,N.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),re!==void 0&&de(N)}function pe(N){const U=N.texture,re=r.get(N),_e=r.get(U);N.addEventListener("dispose",F),N.isWebGLMultipleRenderTargets!==!0&&(_e.__webglTexture===void 0&&(_e.__webglTexture=t.createTexture()),_e.__version=U.version,o.memory.textures++);const Te=N.isWebGLCubeRenderTarget===!0,Ie=N.isWebGLMultipleRenderTargets===!0,He=S(N)||a;if(Te){re.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)re.__webglFramebuffer[Ne]=t.createFramebuffer()}else{if(re.__webglFramebuffer=t.createFramebuffer(),Ie)if(i.drawBuffers){const Ne=N.texture;for(let ge=0,Ge=Ne.length;ge<Ge;ge++){const qe=r.get(Ne[ge]);qe.__webglTexture===void 0&&(qe.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&N.samples>0&&Ue(N)===!1){const Ne=Ie?U:[U];re.__webglMultisampledFramebuffer=t.createFramebuffer(),re.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let ge=0;ge<Ne.length;ge++){const Ge=Ne[ge];re.__webglColorRenderbuffer[ge]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,re.__webglColorRenderbuffer[ge]);const qe=s.convert(Ge.format,Ge.colorSpace),Ve=s.convert(Ge.type),Oe=b(Ge.internalFormat,qe,Ve,Ge.colorSpace,N.isXRRenderTarget===!0),ze=Le(N);t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,Oe,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ge,t.RENDERBUFFER,re.__webglColorRenderbuffer[ge])}t.bindRenderbuffer(t.RENDERBUFFER,null),N.depthBuffer&&(re.__webglDepthRenderbuffer=t.createRenderbuffer(),X(re.__webglDepthRenderbuffer,N,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Te){n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture),se(t.TEXTURE_CUBE_MAP,U,He);for(let Ne=0;Ne<6;Ne++)Se(re.__webglFramebuffer[Ne],N,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne);M(U,He)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ie){const Ne=N.texture;for(let ge=0,Ge=Ne.length;ge<Ge;ge++){const qe=Ne[ge],Ve=r.get(qe);n.bindTexture(t.TEXTURE_2D,Ve.__webglTexture),se(t.TEXTURE_2D,qe,He),Se(re.__webglFramebuffer,N,qe,t.COLOR_ATTACHMENT0+ge,t.TEXTURE_2D),M(qe,He)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let Ne=t.TEXTURE_2D;(N.isWebGL3DRenderTarget||N.isWebGLArrayRenderTarget)&&(a?Ne=N.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ne,_e.__webglTexture),se(Ne,U,He),Se(re.__webglFramebuffer,N,U,t.COLOR_ATTACHMENT0,Ne),M(U,He)&&_(Ne),n.unbindTexture()}N.depthBuffer&&de(N)}function je(N){const U=S(N)||a,re=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let _e=0,Te=re.length;_e<Te;_e++){const Ie=re[_e];if(M(Ie,U)){const He=N.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ne=r.get(Ie).__webglTexture;n.bindTexture(He,Ne),_(He),n.unbindTexture()}}}function Ae(N){if(a&&N.samples>0&&Ue(N)===!1){const U=N.isWebGLMultipleRenderTargets?N.texture:[N.texture],re=N.width,_e=N.height;let Te=t.COLOR_BUFFER_BIT;const Ie=[],He=N.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ne=r.get(N),ge=N.isWebGLMultipleRenderTargets===!0;if(ge)for(let Ge=0;Ge<U.length;Ge++)n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ne.__webglFramebuffer);for(let Ge=0;Ge<U.length;Ge++){Ie.push(t.COLOR_ATTACHMENT0+Ge),N.depthBuffer&&Ie.push(He);const qe=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(qe===!1&&(N.depthBuffer&&(Te|=t.DEPTH_BUFFER_BIT),N.stencilBuffer&&(Te|=t.STENCIL_BUFFER_BIT)),ge&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[Ge]),qe===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[He]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[He])),ge){const Ve=r.get(U[Ge]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ve,0)}t.blitFramebuffer(0,0,re,_e,0,0,re,_e,Te,t.NEAREST),d&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ie)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ge)for(let Ge=0;Ge<U.length;Ge++){n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[Ge]);const qe=r.get(U[Ge]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ge,t.TEXTURE_2D,qe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer)}}function Le(N){return Math.min(f,N.samples)}function Ue(N){const U=r.get(N);return a&&N.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function Ce(N){const U=o.render.frame;g.get(N)!==U&&(g.set(N,U),N.update())}function Je(N,U){const re=N.colorSpace,_e=N.format,Te=N.type;return N.isCompressedTexture===!0||N.format===nx||re!==il&&re!==ju&&(re===Kt?a===!1?e.has("EXT_sRGB")===!0&&_e===yn?(N.format=nx,N.minFilter=ct,N.generateMipmaps=!1):U=lM.sRGBToLinear(U):(_e!==yn||Te!==an)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),U}this.allocateTextureUnit=z,this.resetTextureUnits=J,this.setTexture2D=j,this.setTexture2DArray=Q,this.setTexture3D=H,this.setTextureCube=ee,this.rebindTextures=xe,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=je,this.updateMultisampleRenderTarget=Ae,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=Ue}function sz(t,e,n){const r=n.isWebGL2;function i(s,o=ju){let a;if(s===an)return t.UNSIGNED_BYTE;if(s===$9)return t.UNSIGNED_SHORT_4_4_4_4;if(s===eM)return t.UNSIGNED_SHORT_5_5_5_1;if(s===RG)return t.BYTE;if(s===DG)return t.SHORT;if(s===Id)return t.UNSIGNED_SHORT;if(s===Z9)return t.INT;if(s===Ol)return t.UNSIGNED_INT;if(s===Un)return t.FLOAT;if(s===Ln)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===PG)return t.ALPHA;if(s===yn)return t.RGBA;if(s===A3)return t.LUMINANCE;if(s===LG)return t.LUMINANCE_ALPHA;if(s===df)return t.DEPTH_COMPONENT;if(s===ec)return t.DEPTH_STENCIL;if(s===nx)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Qu)return t.RED;if(s===tM)return t.RED_INTEGER;if(s===zh)return t.RG;if(s===nM)return t.RG_INTEGER;if(s===rM)return t.RGBA_INTEGER;if(s===g0||s===s5||s===o5||s===A0)if(o===Kt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===g0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===s5)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===o5)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===A0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===g0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===s5)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===o5)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===A0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===MA||s===VC||s===_A||s===WC)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===MA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===VC)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===_A)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===WC)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===g6)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===IA||s===bA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===IA)return o===Kt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===bA)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===BA||s===jC||s===XC||s===YC||s===KC||s===JC||s===qC||s===ZC||s===$C||s===ew||s===tw||s===nw||s===rw||s===iw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===BA)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===jC)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===XC)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===YC)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===KC)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===JC)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===qC)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===ZC)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===$C)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===ew)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===tw)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===nw)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===rw)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===iw)return o===Kt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===v0)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===v0)return o===Kt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===FG||s===sw||s===ow||s===aw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===v0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===sw)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===ow)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===aw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Wl?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class oz extends Hn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class kl extends dn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yre={type:"move"};class f8{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new kl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new kl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new kl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r),A=this._getHandJoint(u,v);y!==null&&(A.matrix.fromArray(y.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=y.radius),A.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),d=.02,g=.005;u.inputState.pinching&&h>d+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=d-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yre)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new kl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class Uf extends xn{constructor(e,n,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:df,c!==df&&c!==ec)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===df&&(r=Ol),r===void 0&&c===ec&&(r=Wl),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:ot,this.minFilter=l!==void 0?l:ot,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class xre extends Ra{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,c=null,f=null,h=null,d=null,g=null;const v=n.getContextAttributes();let y=null,A=null;const x=[],E=[];let S=null;const w=new Hn;w.layers.enable(1),w.viewport=new kt;const M=new Hn;M.layers.enable(2),M.viewport=new kt;const _=[w,M],b=new oz;b.layers.enable(1),b.layers.enable(2);let I=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(H){S=H},this.getController=function(H){let ee=x[H];return ee===void 0&&(ee=new f8,x[H]=ee),ee.getTargetRaySpace()},this.getControllerGrip=function(H){let ee=x[H];return ee===void 0&&(ee=new f8,x[H]=ee),ee.getGripSpace()},this.getHand=function(H){let ee=x[H];return ee===void 0&&(ee=new f8,x[H]=ee),ee.getHandSpace()};function L(H){const ee=E.indexOf(H.inputSource);if(ee===-1)return;const Z=x[ee];Z!==void 0&&(Z.update(H.inputSource,H.frame,u||o),Z.dispatchEvent({type:H.type,data:H.inputSource}))}function F(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",F),i.removeEventListener("inputsourceschange",O);for(let H=0;H<x.length;H++){const ee=E[H];ee!==null&&(E[H]=null,x[H].disconnect(ee))}I=null,B=null,e.setRenderTarget(y),d=null,h=null,f=null,i=null,A=null,Q.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(H){u=H},this.getBaseLayer=function(){return h!==null?h:d},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(H){if(i=H,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",F),i.addEventListener("inputsourceschange",O),v.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ee={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,n,ee),i.updateRenderState({baseLayer:d}),A=new Tt(d.framebufferWidth,d.framebufferHeight,{format:yn,type:an,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let ee=null,Z=null,ne=null;v.depth&&(ne=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ee=v.stencil?ec:df,Z=v.stencil?Wl:Ol);const oe={colorFormat:n.RGBA8,depthFormat:ne,scaleFactor:s};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(oe),i.updateRenderState({layers:[h]}),A=new Tt(h.textureWidth,h.textureHeight,{format:yn,type:an,depthTexture:new Uf(h.textureWidth,h.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,ee),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0});const se=e.properties.get(A);se.__ignoreDepthValues=h.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),Q.setContext(i),Q.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function O(H){for(let ee=0;ee<H.removed.length;ee++){const Z=H.removed[ee],ne=E.indexOf(Z);ne>=0&&(E[ne]=null,x[ne].disconnect(Z))}for(let ee=0;ee<H.added.length;ee++){const Z=H.added[ee];let ne=E.indexOf(Z);if(ne===-1){for(let se=0;se<x.length;se++)if(se>=E.length){E.push(Z),ne=se;break}else if(E[se]===null){E[se]=Z,ne=se;break}if(ne===-1)break}const oe=x[ne];oe&&oe.connect(Z)}}const G=new k,V=new k;function Y(H,ee,Z){G.setFromMatrixPosition(ee.matrixWorld),V.setFromMatrixPosition(Z.matrixWorld);const ne=G.distanceTo(V),oe=ee.projectionMatrix.elements,se=Z.projectionMatrix.elements,he=oe[14]/(oe[10]-1),we=oe[14]/(oe[10]+1),ke=(oe[9]+1)/oe[5],Se=(oe[9]-1)/oe[5],X=(oe[8]-1)/oe[0],ve=(se[8]+1)/se[0],de=he*X,xe=he*ve,pe=ne/(-X+ve),je=pe*-X;ee.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(je),H.translateZ(pe),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const Ae=he+pe,Le=we+pe,Ue=de-je,Ce=xe+(ne-je),Je=ke*we/Le*Ae,N=Se*we/Le*Ae;H.projectionMatrix.makePerspective(Ue,Ce,Je,N,Ae,Le),H.projectionMatrixInverse.copy(H.projectionMatrix).invert()}function J(H,ee){ee===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(ee.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCameraXR=function(H){if(i===null)return H;S&&(H=S),b.near=M.near=w.near=H.near,b.far=M.far=w.far=H.far,(I!==b.near||B!==b.far)&&(i.updateRenderState({depthNear:b.near,depthFar:b.far}),I=b.near,B=b.far);const ee=H.parent,Z=b.cameras;J(b,ee);for(let ne=0;ne<Z.length;ne++)J(Z[ne],ee);return Z.length===2?Y(b,w,M):b.projectionMatrix.copy(w.projectionMatrix),S&&z(b,ee),b};function z(H,ee){const Z=S;ee===null?Z.matrix.copy(H.matrixWorld):(Z.matrix.copy(ee.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(H.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0);const ne=Z.children;for(let oe=0,se=ne.length;oe<se;oe++)ne[oe].updateMatrixWorld(!0);Z.projectionMatrix.copy(H.projectionMatrix),Z.projectionMatrixInverse.copy(H.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=H0*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getFoveation=function(){if(!(h===null&&d===null))return l},this.setFoveation=function(H){l=H,h!==null&&(h.fixedFoveation=H),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=H)};let W=null;function j(H,ee){if(c=ee.getViewerPose(u||o),g=ee,c!==null){const Z=c.views;d!==null&&(e.setRenderTargetFramebuffer(A,d.framebuffer),e.setRenderTarget(A));let ne=!1;Z.length!==b.cameras.length&&(b.cameras.length=0,ne=!0);for(let oe=0;oe<Z.length;oe++){const se=Z[oe];let he=null;if(d!==null)he=d.getViewport(se);else{const ke=f.getViewSubImage(h,se);he=ke.viewport,oe===0&&(e.setRenderTargetTextures(A,ke.colorTexture,h.ignoreDepthValues?void 0:ke.depthStencilTexture),e.setRenderTarget(A))}let we=_[oe];we===void 0&&(we=new Hn,we.layers.enable(oe),we.viewport=new kt,_[oe]=we),we.matrix.fromArray(se.transform.matrix),we.matrix.decompose(we.position,we.quaternion,we.scale),we.projectionMatrix.fromArray(se.projectionMatrix),we.projectionMatrixInverse.copy(we.projectionMatrix).invert(),we.viewport.set(he.x,he.y,he.width,he.height),oe===0&&(b.matrix.copy(we.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),ne===!0&&b.cameras.push(we)}}for(let Z=0;Z<x.length;Z++){const ne=E[Z],oe=x[Z];ne!==null&&oe!==void 0&&oe.update(ne,ee,u||o)}W&&W(H,ee),ee.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ee}),g=null}const Q=new ez;Q.setAnimationLoop(j),this.setAnimationLoop=function(H){W=H},this.dispose=function(){}}}function Ere(t,e){function n(y,A){y.matrixAutoUpdate===!0&&y.updateMatrix(),A.value.copy(y.matrix)}function r(y,A){A.color.getRGB(y.fogColor.value,$G(t)),A.isFog?(y.fogNear.value=A.near,y.fogFar.value=A.far):A.isFogExp2&&(y.fogDensity.value=A.density)}function i(y,A,x,E,S){A.isMeshBasicMaterial||A.isMeshLambertMaterial?s(y,A):A.isMeshToonMaterial?(s(y,A),f(y,A)):A.isMeshPhongMaterial?(s(y,A),c(y,A)):A.isMeshStandardMaterial?(s(y,A),h(y,A),A.isMeshPhysicalMaterial&&d(y,A,S)):A.isMeshMatcapMaterial?(s(y,A),g(y,A)):A.isMeshDepthMaterial?s(y,A):A.isMeshDistanceMaterial?(s(y,A),v(y,A)):A.isMeshNormalMaterial?s(y,A):A.isLineBasicMaterial?(o(y,A),A.isLineDashedMaterial&&a(y,A)):A.isPointsMaterial?l(y,A,x,E):A.isSpriteMaterial?u(y,A):A.isShadowMaterial?(y.color.value.copy(A.color),y.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function s(y,A){y.opacity.value=A.opacity,A.color&&y.diffuse.value.copy(A.color),A.emissive&&y.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(y.map.value=A.map,n(A.map,y.mapTransform)),A.alphaMap&&(y.alphaMap.value=A.alphaMap,n(A.alphaMap,y.alphaMapTransform)),A.bumpMap&&(y.bumpMap.value=A.bumpMap,n(A.bumpMap,y.bumpMapTransform),y.bumpScale.value=A.bumpScale,A.side===Vr&&(y.bumpScale.value*=-1)),A.normalMap&&(y.normalMap.value=A.normalMap,n(A.normalMap,y.normalMapTransform),y.normalScale.value.copy(A.normalScale),A.side===Vr&&y.normalScale.value.negate()),A.displacementMap&&(y.displacementMap.value=A.displacementMap,n(A.displacementMap,y.displacementMapTransform),y.displacementScale.value=A.displacementScale,y.displacementBias.value=A.displacementBias),A.emissiveMap&&(y.emissiveMap.value=A.emissiveMap,n(A.emissiveMap,y.emissiveMapTransform)),A.specularMap&&(y.specularMap.value=A.specularMap,n(A.specularMap,y.specularMapTransform)),A.alphaTest>0&&(y.alphaTest.value=A.alphaTest);const x=e.get(A).envMap;if(x&&(y.envMap.value=x,y.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=A.reflectivity,y.ior.value=A.ior,y.refractionRatio.value=A.refractionRatio),A.lightMap){y.lightMap.value=A.lightMap;const E=t.useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=A.lightMapIntensity*E,n(A.lightMap,y.lightMapTransform)}A.aoMap&&(y.aoMap.value=A.aoMap,y.aoMapIntensity.value=A.aoMapIntensity,n(A.aoMap,y.aoMapTransform))}function o(y,A){y.diffuse.value.copy(A.color),y.opacity.value=A.opacity,A.map&&(y.map.value=A.map,n(A.map,y.mapTransform))}function a(y,A){y.dashSize.value=A.dashSize,y.totalSize.value=A.dashSize+A.gapSize,y.scale.value=A.scale}function l(y,A,x,E){y.diffuse.value.copy(A.color),y.opacity.value=A.opacity,y.size.value=A.size*x,y.scale.value=E*.5,A.map&&(y.map.value=A.map,n(A.map,y.uvTransform)),A.alphaMap&&(y.alphaMap.value=A.alphaMap,n(A.alphaMap,y.alphaMapTransform)),A.alphaTest>0&&(y.alphaTest.value=A.alphaTest)}function u(y,A){y.diffuse.value.copy(A.color),y.opacity.value=A.opacity,y.rotation.value=A.rotation,A.map&&(y.map.value=A.map,n(A.map,y.mapTransform)),A.alphaMap&&(y.alphaMap.value=A.alphaMap,n(A.alphaMap,y.alphaMapTransform)),A.alphaTest>0&&(y.alphaTest.value=A.alphaTest)}function c(y,A){y.specular.value.copy(A.specular),y.shininess.value=Math.max(A.shininess,1e-4)}function f(y,A){A.gradientMap&&(y.gradientMap.value=A.gradientMap)}function h(y,A){y.metalness.value=A.metalness,A.metalnessMap&&(y.metalnessMap.value=A.metalnessMap,n(A.metalnessMap,y.metalnessMapTransform)),y.roughness.value=A.roughness,A.roughnessMap&&(y.roughnessMap.value=A.roughnessMap,n(A.roughnessMap,y.roughnessMapTransform)),e.get(A).envMap&&(y.envMapIntensity.value=A.envMapIntensity)}function d(y,A,x){y.ior.value=A.ior,A.sheen>0&&(y.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),y.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(y.sheenColorMap.value=A.sheenColorMap,n(A.sheenColorMap,y.sheenColorMapTransform)),A.sheenRoughnessMap&&(y.sheenRoughnessMap.value=A.sheenRoughnessMap,n(A.sheenRoughnessMap,y.sheenRoughnessMapTransform))),A.clearcoat>0&&(y.clearcoat.value=A.clearcoat,y.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(y.clearcoatMap.value=A.clearcoatMap,n(A.clearcoatMap,y.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,n(A.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(y.clearcoatNormalMap.value=A.clearcoatNormalMap,n(A.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===Vr&&y.clearcoatNormalScale.value.negate())),A.iridescence>0&&(y.iridescence.value=A.iridescence,y.iridescenceIOR.value=A.iridescenceIOR,y.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(y.iridescenceMap.value=A.iridescenceMap,n(A.iridescenceMap,y.iridescenceMapTransform)),A.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=A.iridescenceThicknessMap,n(A.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),A.transmission>0&&(y.transmission.value=A.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),A.transmissionMap&&(y.transmissionMap.value=A.transmissionMap,n(A.transmissionMap,y.transmissionMapTransform)),y.thickness.value=A.thickness,A.thicknessMap&&(y.thicknessMap.value=A.thicknessMap,n(A.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=A.attenuationDistance,y.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(y.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(y.anisotropyMap.value=A.anisotropyMap,n(A.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=A.specularIntensity,y.specularColor.value.copy(A.specularColor),A.specularColorMap&&(y.specularColorMap.value=A.specularColorMap,n(A.specularColorMap,y.specularColorMapTransform)),A.specularIntensityMap&&(y.specularIntensityMap.value=A.specularIntensityMap,n(A.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,A){A.matcap&&(y.matcap.value=A.matcap)}function v(y,A){const x=e.get(A).light;y.referencePosition.value.setFromMatrixPosition(x.matrixWorld),y.nearDistance.value=x.shadow.camera.near,y.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Sre(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,E){const S=E.program;r.uniformBlockBinding(x,S)}function u(x,E){let S=i[x.id];S===void 0&&(g(x),S=c(x),i[x.id]=S,x.addEventListener("dispose",y));const w=E.program;r.updateUBOMapping(x,w);const M=e.render.frame;s[x.id]!==M&&(h(x),s[x.id]=M)}function c(x){const E=f();x.__bindingPointIndex=E;const S=t.createBuffer(),w=x.__size,M=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,w,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,E,S),S}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const E=i[x.id],S=x.uniforms,w=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,E);for(let M=0,_=S.length;M<_;M++){const b=S[M];if(d(b,M,w)===!0){const I=b.__offset,B=Array.isArray(b.value)?b.value:[b.value];let L=0;for(let F=0;F<B.length;F++){const O=B[F],G=v(O);typeof O=="number"?(b.__data[0]=O,t.bufferSubData(t.UNIFORM_BUFFER,I+L,b.__data)):O.isMatrix3?(b.__data[0]=O.elements[0],b.__data[1]=O.elements[1],b.__data[2]=O.elements[2],b.__data[3]=O.elements[0],b.__data[4]=O.elements[3],b.__data[5]=O.elements[4],b.__data[6]=O.elements[5],b.__data[7]=O.elements[0],b.__data[8]=O.elements[6],b.__data[9]=O.elements[7],b.__data[10]=O.elements[8],b.__data[11]=O.elements[0]):(O.toArray(b.__data,L),L+=G.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,b.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function d(x,E,S){const w=x.value;if(S[E]===void 0){if(typeof w=="number")S[E]=w;else{const M=Array.isArray(w)?w:[w],_=[];for(let b=0;b<M.length;b++)_.push(M[b].clone());S[E]=_}return!0}else if(typeof w=="number"){if(S[E]!==w)return S[E]=w,!0}else{const M=Array.isArray(S[E])?S[E]:[S[E]],_=Array.isArray(w)?w:[w];for(let b=0;b<M.length;b++){const I=M[b];if(I.equals(_[b])===!1)return I.copy(_[b]),!0}}return!1}function g(x){const E=x.uniforms;let S=0;const w=16;let M=0;for(let _=0,b=E.length;_<b;_++){const I=E[_],B={boundary:0,storage:0},L=Array.isArray(I.value)?I.value:[I.value];for(let F=0,O=L.length;F<O;F++){const G=L[F],V=v(G);B.boundary+=V.boundary,B.storage+=V.storage}if(I.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=S,_>0){M=S%w;const F=w-M;M!==0&&F-B.boundary<0&&(S+=w-M,I.__offset=S)}S+=B.storage}return M=S%w,M>0&&(S+=w-M),x.__size=S,x.__cache={},this}function v(x){const E={boundary:0,storage:0};return typeof x=="number"?(E.boundary=4,E.storage=4):x.isVector2?(E.boundary=8,E.storage=8):x.isVector3||x.isColor?(E.boundary=16,E.storage=12):x.isVector4?(E.boundary=16,E.storage=16):x.isMatrix3?(E.boundary=48,E.storage=48):x.isMatrix4?(E.boundary=64,E.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),E}function y(x){const E=x.target;E.removeEventListener("dispose",y);const S=o.indexOf(E.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(i[E.id]),delete i[E.id],delete s[E.id]}function A(){for(const x in i)t.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:u,dispose:A}}function Cre(){const t=LA("canvas");return t.style.display="block",t}class dM{constructor(e={}){const{canvas:n=Cre(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;r!==null?h=r.getContextAttributes().alpha:h=o;const d=new Uint32Array(4),g=new Int32Array(4);let v=null,y=null;const A=[],x=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Kt,this.useLegacyLights=!0,this.toneMapping=Mo,this.toneMappingExposure=1;const E=this;let S=!1,w=0,M=0,_=null,b=-1,I=null;const B=new kt,L=new kt;let F=null;const O=new Be(0);let G=0,V=n.width,Y=n.height,J=1,z=null,W=null;const j=new kt(0,0,V,Y),Q=new kt(0,0,V,Y);let H=!1;const ee=new E6;let Z=!1,ne=!1,oe=null;const se=new Ke,he=new ie,we=new k,ke={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Se(){return _===null?J:1}let X=r;function ve(K,ye){for(let De=0;De<K.length;De++){const fe=K[De],Pe=n.getContext(fe,ye);if(Pe!==null)return Pe}return null}try{const K={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${no}`),n.addEventListener("webglcontextlost",Qe,!1),n.addEventListener("webglcontextrestored",me,!1),n.addEventListener("webglcontextcreationerror",Xe,!1),X===null){const ye=["webgl2","webgl","experimental-webgl"];if(E.isWebGL1Renderer===!0&&ye.shift(),X=ve(ye,K),X===null)throw ve(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(K){throw console.error("THREE.WebGLRenderer: "+K.message),K}let de,xe,pe,je,Ae,Le,Ue,Ce,Je,N,U,re,_e,Te,Ie,He,Ne,ge,Ge,qe,Ve,Oe,ze,it;function vt(){de=new Nte(X),xe=new Pte(X,de,e),de.init(xe),Oe=new sz(X,de,xe),pe=new Are(X,de,xe),je=new Hte(X),Ae=new sre,Le=new vre(X,de,pe,Ae,xe,Oe,je),Ue=new Fte(E),Ce=new kte(E),Je=new e$(X,xe),ze=new Rte(X,de,Je,xe),N=new Gte(X,Je,je,ze),U=new jte(X,N,Je,je),Ge=new Wte(X,xe,Le),He=new Lte(Ae),re=new ire(E,Ue,Ce,de,xe,ze,He),_e=new Ere(E,Ae),Te=new are,Ie=new dre(de,xe),ge=new Bte(E,Ue,Ce,pe,U,h,l),Ne=new gre(E,U,xe),it=new Sre(X,je,xe,pe),qe=new Dte(X,de,je,xe),Ve=new zte(X,de,je,xe),je.programs=re.programs,E.capabilities=xe,E.extensions=de,E.properties=Ae,E.renderLists=Te,E.shadowMap=Ne,E.state=pe,E.info=je}vt();const $=new xre(E,X);this.xr=$,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const K=de.get("WEBGL_lose_context");K&&K.loseContext()},this.forceContextRestore=function(){const K=de.get("WEBGL_lose_context");K&&K.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(K){K!==void 0&&(J=K,this.setSize(V,Y,!1))},this.getSize=function(K){return K.set(V,Y)},this.setSize=function(K,ye,De=!0){if($.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}V=K,Y=ye,n.width=Math.floor(K*J),n.height=Math.floor(ye*J),De===!0&&(n.style.width=K+"px",n.style.height=ye+"px"),this.setViewport(0,0,K,ye)},this.getDrawingBufferSize=function(K){return K.set(V*J,Y*J).floor()},this.setDrawingBufferSize=function(K,ye,De){V=K,Y=ye,J=De,n.width=Math.floor(K*De),n.height=Math.floor(ye*De),this.setViewport(0,0,K,ye)},this.getCurrentViewport=function(K){return K.copy(B)},this.getViewport=function(K){return K.copy(j)},this.setViewport=function(K,ye,De,fe){K.isVector4?j.set(K.x,K.y,K.z,K.w):j.set(K,ye,De,fe),pe.viewport(B.copy(j).multiplyScalar(J).floor())},this.getScissor=function(K){return K.copy(Q)},this.setScissor=function(K,ye,De,fe){K.isVector4?Q.set(K.x,K.y,K.z,K.w):Q.set(K,ye,De,fe),pe.scissor(L.copy(Q).multiplyScalar(J).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(K){pe.setScissorTest(H=K)},this.setOpaqueSort=function(K){z=K},this.setTransparentSort=function(K){W=K},this.getClearColor=function(K){return K.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(K=!0,ye=!0,De=!0){let fe=0;if(K){let Pe=!1;if(_!==null){const ut=_.texture.format;Pe=ut===rM||ut===nM||ut===tM}if(Pe){const ut=_.texture.type,Et=ut===an||ut===Ol||ut===Id||ut===Wl||ut===$9||ut===eM,Mt=ge.getClearColor(),Dt=ge.getClearAlpha(),Qt=Mt.r,We=Mt.g,_t=Mt.b,In=Ae.get(_).__webglFramebuffer;Et?(d[0]=Qt,d[1]=We,d[2]=_t,d[3]=Dt,X.clearBufferuiv(X.COLOR,In,d)):(g[0]=Qt,g[1]=We,g[2]=_t,g[3]=Dt,X.clearBufferiv(X.COLOR,In,g))}else fe|=X.COLOR_BUFFER_BIT}ye&&(fe|=X.DEPTH_BUFFER_BIT),De&&(fe|=X.STENCIL_BUFFER_BIT),X.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Qe,!1),n.removeEventListener("webglcontextrestored",me,!1),n.removeEventListener("webglcontextcreationerror",Xe,!1),Te.dispose(),Ie.dispose(),Ae.dispose(),Ue.dispose(),Ce.dispose(),U.dispose(),ze.dispose(),it.dispose(),re.dispose(),$.dispose(),$.removeEventListener("sessionstart",_n),$.removeEventListener("sessionend",un),oe&&(oe.dispose(),oe=null),Zt.stop()};function Qe(K){K.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function me(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const K=je.autoReset,ye=Ne.enabled,De=Ne.autoUpdate,fe=Ne.needsUpdate,Pe=Ne.type;vt(),je.autoReset=K,Ne.enabled=ye,Ne.autoUpdate=De,Ne.needsUpdate=fe,Ne.type=Pe}function Xe(K){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",K.statusMessage)}function et(K){const ye=K.target;ye.removeEventListener("dispose",et),zt(ye)}function zt(K){nn(K),Ae.remove(K)}function nn(K){const ye=Ae.get(K).programs;ye!==void 0&&(ye.forEach(function(De){re.releaseProgram(De)}),K.isShaderMaterial&&re.releaseShaderCache(K))}this.renderBufferDirect=function(K,ye,De,fe,Pe,ut){ye===null&&(ye=ke);const Et=Pe.isMesh&&Pe.matrixWorld.determinant()<0,Mt=si(K,ye,De,fe,Pe);pe.setMaterial(fe,Et);let Dt=De.index,Qt=1;fe.wireframe===!0&&(Dt=N.getWireframeAttribute(De),Qt=2);const We=De.drawRange,_t=De.attributes.position;let In=We.start*Qt,Cn=(We.start+We.count)*Qt;ut!==null&&(In=Math.max(In,ut.start*Qt),Cn=Math.min(Cn,(ut.start+ut.count)*Qt)),Dt!==null?(In=Math.max(In,0),Cn=Math.min(Cn,Dt.count)):_t!=null&&(In=Math.max(In,0),Cn=Math.min(Cn,_t.count));const Ei=Cn-In;if(Ei<0||Ei===1/0)return;ze.setup(Pe,fe,Mt,De,Dt);let Vi,bn=qe;if(Dt!==null&&(Vi=Je.get(Dt),bn=Ve,bn.setIndex(Vi)),Pe.isMesh)fe.wireframe===!0?(pe.setLineWidth(fe.wireframeLinewidth*Se()),bn.setMode(X.LINES)):bn.setMode(X.TRIANGLES);else if(Pe.isLine){let Lt=fe.linewidth;Lt===void 0&&(Lt=1),pe.setLineWidth(Lt*Se()),Pe.isLineSegments?bn.setMode(X.LINES):Pe.isLineLoop?bn.setMode(X.LINE_LOOP):bn.setMode(X.LINE_STRIP)}else Pe.isPoints?bn.setMode(X.POINTS):Pe.isSprite&&bn.setMode(X.TRIANGLES);if(Pe.isInstancedMesh)bn.renderInstances(In,Ei,Pe.count);else if(De.isInstancedBufferGeometry){const Lt=De._maxInstanceCount!==void 0?De._maxInstanceCount:1/0,pn=Math.min(De.instanceCount,Lt);bn.renderInstances(In,Ei,pn)}else bn.render(In,Ei)},this.compile=function(K,ye){function De(fe,Pe,ut){fe.transparent===!0&&fe.side===$r&&fe.forceSinglePass===!1?(fe.side=Vr,fe.needsUpdate=!0,kn(fe,Pe,ut),fe.side=Ta,fe.needsUpdate=!0,kn(fe,Pe,ut),fe.side=$r):kn(fe,Pe,ut)}y=Ie.get(K),y.init(),x.push(y),K.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ye.layers)&&(y.pushLight(fe),fe.castShadow&&y.pushShadow(fe))}),y.setupLights(E.useLegacyLights),K.traverse(function(fe){const Pe=fe.material;if(Pe)if(Array.isArray(Pe))for(let ut=0;ut<Pe.length;ut++){const Et=Pe[ut];De(Et,K,fe)}else De(Pe,K,fe)}),x.pop(),y=null};let on=null;function gn(K){on&&on(K)}function _n(){Zt.stop()}function un(){Zt.start()}const Zt=new ez;Zt.setAnimationLoop(gn),typeof self<"u"&&Zt.setContext(self),this.setAnimationLoop=function(K){on=K,$.setAnimationLoop(K),K===null?Zt.stop():Zt.start()},$.addEventListener("sessionstart",_n),$.addEventListener("sessionend",un),this.render=function(K,ye){if(ye!==void 0&&ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),ye.parent===null&&ye.matrixWorldAutoUpdate===!0&&ye.updateMatrixWorld(),$.enabled===!0&&$.isPresenting===!0&&(ye=$.updateCameraXR(ye)),K.isScene===!0&&K.onBeforeRender(E,K,ye,_),y=Ie.get(K,x.length),y.init(),x.push(y),se.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),ee.setFromProjectionMatrix(se),ne=this.localClippingEnabled,Z=He.init(this.clippingPlanes,ne),v=Te.get(K,A.length),v.init(),A.push(v),Qi(K,ye,0,E.sortObjects),v.finish(),E.sortObjects===!0&&v.sort(z,W),Z===!0&&He.beginShadows();const De=y.state.shadowsArray;if(Ne.render(De,K,ye),Z===!0&&He.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,ge.render(v,K),y.setupLights(E.useLegacyLights),ye.isArrayCamera){const fe=ye.cameras;for(let Pe=0,ut=fe.length;Pe<ut;Pe++){const Et=fe[Pe];xi(v,K,Et,Et.viewport)}}else xi(v,K,ye);_!==null&&(Le.updateMultisampleRenderTarget(_),Le.updateRenderTargetMipmap(_)),K.isScene===!0&&K.onAfterRender(E,K,ye),ze.resetDefaultState(),b=-1,I=null,x.pop(),x.length>0?y=x[x.length-1]:y=null,A.pop(),A.length>0?v=A[A.length-1]:v=null};function Qi(K,ye,De,fe){if(K.visible===!1)return;if(K.layers.test(ye.layers)){if(K.isGroup)De=K.renderOrder;else if(K.isLOD)K.autoUpdate===!0&&K.update(ye);else if(K.isLight)y.pushLight(K),K.castShadow&&y.pushShadow(K);else if(K.isSprite){if(!K.frustumCulled||ee.intersectsSprite(K)){fe&&we.setFromMatrixPosition(K.matrixWorld).applyMatrix4(se);const Et=U.update(K),Mt=K.material;Mt.visible&&v.push(K,Et,Mt,De,we.z,null)}}else if((K.isMesh||K.isLine||K.isPoints)&&(!K.frustumCulled||ee.intersectsObject(K))){K.isSkinnedMesh&&K.skeleton.frame!==je.render.frame&&(K.skeleton.update(),K.skeleton.frame=je.render.frame);const Et=U.update(K),Mt=K.material;if(fe&&(K.boundingSphere!==void 0?(K.boundingSphere===null&&K.computeBoundingSphere(),we.copy(K.boundingSphere.center)):(Et.boundingSphere===null&&Et.computeBoundingSphere(),we.copy(Et.boundingSphere.center)),we.applyMatrix4(K.matrixWorld).applyMatrix4(se)),Array.isArray(Mt)){const Dt=Et.groups;for(let Qt=0,We=Dt.length;Qt<We;Qt++){const _t=Dt[Qt],In=Mt[_t.materialIndex];In&&In.visible&&v.push(K,Et,In,De,we.z,_t)}}else Mt.visible&&v.push(K,Et,Mt,De,we.z,null)}}const ut=K.children;for(let Et=0,Mt=ut.length;Et<Mt;Et++)Qi(ut[Et],ye,De,fe)}function xi(K,ye,De,fe){const Pe=K.opaque,ut=K.transmissive,Et=K.transparent;y.setupLightsView(De),Z===!0&&He.setGlobalState(E.clippingPlanes,De),ut.length>0&&Sn(Pe,ut,ye,De),fe&&pe.viewport(B.copy(fe)),Pe.length>0&&Qn(Pe,ye,De),ut.length>0&&Qn(ut,ye,De),Et.length>0&&Qn(Et,ye,De),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Sn(K,ye,De,fe){const Pe=xe.isWebGL2;oe===null&&(oe=new Tt(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")?Ln:an,minFilter:Ma,samples:Pe&&a===!0?4:0})),E.getDrawingBufferSize(he),Pe?oe.setSize(he.x,he.y):oe.setSize(rx(he.x),rx(he.y));const ut=E.getRenderTarget();E.setRenderTarget(oe),E.getClearColor(O),G=E.getClearAlpha(),G<1&&E.setClearColor(16777215,.5),E.clear();const Et=E.toneMapping;E.toneMapping=Mo,Qn(K,De,fe),Le.updateMultisampleRenderTarget(oe),Le.updateRenderTargetMipmap(oe);let Mt=!1;for(let Dt=0,Qt=ye.length;Dt<Qt;Dt++){const We=ye[Dt],_t=We.object,In=We.geometry,Cn=We.material,Ei=We.group;if(Cn.side===$r&&_t.layers.test(fe.layers)){const Vi=Cn.side;Cn.side=Vr,Cn.needsUpdate=!0,Di(_t,De,fe,In,Cn,Ei),Cn.side=Vi,Cn.needsUpdate=!0,Mt=!0}}Mt===!0&&(Le.updateMultisampleRenderTarget(oe),Le.updateRenderTargetMipmap(oe)),E.setRenderTarget(ut),E.setClearColor(O,G),E.toneMapping=Et}function Qn(K,ye,De){const fe=ye.isScene===!0?ye.overrideMaterial:null;for(let Pe=0,ut=K.length;Pe<ut;Pe++){const Et=K[Pe],Mt=Et.object,Dt=Et.geometry,Qt=fe===null?Et.material:fe,We=Et.group;Mt.layers.test(De.layers)&&Di(Mt,ye,De,Dt,Qt,We)}}function Di(K,ye,De,fe,Pe,ut){K.onBeforeRender(E,ye,De,fe,Pe,ut),K.modelViewMatrix.multiplyMatrices(De.matrixWorldInverse,K.matrixWorld),K.normalMatrix.getNormalMatrix(K.modelViewMatrix),Pe.onBeforeRender(E,ye,De,fe,K,ut),Pe.transparent===!0&&Pe.side===$r&&Pe.forceSinglePass===!1?(Pe.side=Vr,Pe.needsUpdate=!0,E.renderBufferDirect(De,ye,fe,Pe,K,ut),Pe.side=Ta,Pe.needsUpdate=!0,E.renderBufferDirect(De,ye,fe,Pe,K,ut),Pe.side=$r):E.renderBufferDirect(De,ye,fe,Pe,K,ut),K.onAfterRender(E,ye,De,fe,Pe,ut)}function kn(K,ye,De){ye.isScene!==!0&&(ye=ke);const fe=Ae.get(K),Pe=y.state.lights,ut=y.state.shadowsArray,Et=Pe.state.version,Mt=re.getParameters(K,Pe.state,ut,ye,De),Dt=re.getProgramCacheKey(Mt);let Qt=fe.programs;fe.environment=K.isMeshStandardMaterial?ye.environment:null,fe.fog=ye.fog,fe.envMap=(K.isMeshStandardMaterial?Ce:Ue).get(K.envMap||fe.environment),Qt===void 0&&(K.addEventListener("dispose",et),Qt=new Map,fe.programs=Qt);let We=Qt.get(Dt);if(We!==void 0){if(fe.currentProgram===We&&fe.lightsStateVersion===Et)return hr(K,Mt),We}else Mt.uniforms=re.getUniforms(K),K.onBuild(De,Mt,E),K.onBeforeCompile(Mt,E),We=re.acquireProgram(Mt,Dt),Qt.set(Dt,We),fe.uniforms=Mt.uniforms;const _t=fe.uniforms;(!K.isShaderMaterial&&!K.isRawShaderMaterial||K.clipping===!0)&&(_t.clippingPlanes=He.uniform),hr(K,Mt),fe.needsLights=ls(K),fe.lightsStateVersion=Et,fe.needsLights&&(_t.ambientLightColor.value=Pe.state.ambient,_t.lightProbe.value=Pe.state.probe,_t.directionalLights.value=Pe.state.directional,_t.directionalLightShadows.value=Pe.state.directionalShadow,_t.spotLights.value=Pe.state.spot,_t.spotLightShadows.value=Pe.state.spotShadow,_t.rectAreaLights.value=Pe.state.rectArea,_t.ltc_1.value=Pe.state.rectAreaLTC1,_t.ltc_2.value=Pe.state.rectAreaLTC2,_t.pointLights.value=Pe.state.point,_t.pointLightShadows.value=Pe.state.pointShadow,_t.hemisphereLights.value=Pe.state.hemi,_t.directionalShadowMap.value=Pe.state.directionalShadowMap,_t.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,_t.spotShadowMap.value=Pe.state.spotShadowMap,_t.spotLightMatrix.value=Pe.state.spotLightMatrix,_t.spotLightMap.value=Pe.state.spotLightMap,_t.pointShadowMap.value=Pe.state.pointShadowMap,_t.pointShadowMatrix.value=Pe.state.pointShadowMatrix);const In=We.getUniforms(),Cn=c5.seqWithValue(In.seq,_t);return fe.currentProgram=We,fe.uniformsList=Cn,We}function hr(K,ye){const De=Ae.get(K);De.outputColorSpace=ye.outputColorSpace,De.instancing=ye.instancing,De.skinning=ye.skinning,De.morphTargets=ye.morphTargets,De.morphNormals=ye.morphNormals,De.morphColors=ye.morphColors,De.morphTargetsCount=ye.morphTargetsCount,De.numClippingPlanes=ye.numClippingPlanes,De.numIntersection=ye.numClipIntersection,De.vertexAlphas=ye.vertexAlphas,De.vertexTangents=ye.vertexTangents,De.toneMapping=ye.toneMapping}function si(K,ye,De,fe,Pe){ye.isScene!==!0&&(ye=ke),Le.resetTextureUnits();const ut=ye.fog,Et=fe.isMeshStandardMaterial?ye.environment:null,Mt=_===null?E.outputColorSpace:_.isXRRenderTarget===!0?_.texture.colorSpace:il,Dt=(fe.isMeshStandardMaterial?Ce:Ue).get(fe.envMap||Et),Qt=fe.vertexColors===!0&&!!De.attributes.color&&De.attributes.color.itemSize===4,We=!!De.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),_t=!!De.morphAttributes.position,In=!!De.morphAttributes.normal,Cn=!!De.morphAttributes.color,Ei=fe.toneMapped?E.toneMapping:Mo,Vi=De.morphAttributes.position||De.morphAttributes.normal||De.morphAttributes.color,bn=Vi!==void 0?Vi.length:0,Lt=Ae.get(fe),pn=y.state.lights;if(Z===!0&&(ne===!0||K!==I)){const jr=K===I&&fe.id===b;He.setState(fe,K,jr)}let Ft=!1;fe.version===Lt.__version?(Lt.needsLights&&Lt.lightsStateVersion!==pn.state.version||Lt.outputColorSpace!==Mt||Pe.isInstancedMesh&&Lt.instancing===!1||!Pe.isInstancedMesh&&Lt.instancing===!0||Pe.isSkinnedMesh&&Lt.skinning===!1||!Pe.isSkinnedMesh&&Lt.skinning===!0||Lt.envMap!==Dt||fe.fog===!0&&Lt.fog!==ut||Lt.numClippingPlanes!==void 0&&(Lt.numClippingPlanes!==He.numPlanes||Lt.numIntersection!==He.numIntersection)||Lt.vertexAlphas!==Qt||Lt.vertexTangents!==We||Lt.morphTargets!==_t||Lt.morphNormals!==In||Lt.morphColors!==Cn||Lt.toneMapping!==Ei||xe.isWebGL2===!0&&Lt.morphTargetsCount!==bn)&&(Ft=!0):(Ft=!0,Lt.__version=fe.version);let Or=Lt.currentProgram;Ft===!0&&(Or=kn(fe,ye,Pe));let Tr=!1,lr=!1,Rs=!1;const Fn=Or.getUniforms(),Vn=Lt.uniforms;if(pe.useProgram(Or.program)&&(Tr=!0,lr=!0,Rs=!0),fe.id!==b&&(b=fe.id,lr=!0),Tr||I!==K){if(Fn.setValue(X,"projectionMatrix",K.projectionMatrix),xe.logarithmicDepthBuffer&&Fn.setValue(X,"logDepthBufFC",2/(Math.log(K.far+1)/Math.LN2)),I!==K&&(I=K,lr=!0,Rs=!0),fe.isShaderMaterial||fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshStandardMaterial||fe.envMap){const jr=Fn.map.cameraPosition;jr!==void 0&&jr.setValue(X,we.setFromMatrixPosition(K.matrixWorld))}(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&Fn.setValue(X,"isOrthographic",K.isOrthographicCamera===!0),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial||fe.isShadowMaterial||Pe.isSkinnedMesh)&&Fn.setValue(X,"viewMatrix",K.matrixWorldInverse)}if(Pe.isSkinnedMesh){Fn.setOptional(X,Pe,"bindMatrix"),Fn.setOptional(X,Pe,"bindMatrixInverse");const jr=Pe.skeleton;jr&&(xe.floatVertexTextures?(jr.boneTexture===null&&jr.computeBoneTexture(),Fn.setValue(X,"boneTexture",jr.boneTexture,Le),Fn.setValue(X,"boneTextureSize",jr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const us=De.morphAttributes;if((us.position!==void 0||us.normal!==void 0||us.color!==void 0&&xe.isWebGL2===!0)&&Ge.update(Pe,De,Or),(lr||Lt.receiveShadow!==Pe.receiveShadow)&&(Lt.receiveShadow=Pe.receiveShadow,Fn.setValue(X,"receiveShadow",Pe.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Vn.envMap.value=Dt,Vn.flipEnvMap.value=Dt.isCubeTexture&&Dt.isRenderTargetTexture===!1?-1:1),lr&&(Fn.setValue(X,"toneMappingExposure",E.toneMappingExposure),Lt.needsLights&&Ho(Vn,Rs),ut&&fe.fog===!0&&_e.refreshFogUniforms(Vn,ut),_e.refreshMaterialUniforms(Vn,fe,J,Y,oe),c5.upload(X,Lt.uniformsList,Vn,Le)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(c5.upload(X,Lt.uniformsList,Vn,Le),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&Fn.setValue(X,"center",Pe.center),Fn.setValue(X,"modelViewMatrix",Pe.modelViewMatrix),Fn.setValue(X,"normalMatrix",Pe.normalMatrix),Fn.setValue(X,"modelMatrix",Pe.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const jr=fe.uniformsGroups;for(let vl=0,yl=jr.length;vl<yl;vl++)if(xe.isWebGL2){const Wi=jr[vl];it.update(Wi,Or),it.bind(Wi,Or)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Or}function Ho(K,ye){K.ambientLightColor.needsUpdate=ye,K.lightProbe.needsUpdate=ye,K.directionalLights.needsUpdate=ye,K.directionalLightShadows.needsUpdate=ye,K.pointLights.needsUpdate=ye,K.pointLightShadows.needsUpdate=ye,K.spotLights.needsUpdate=ye,K.spotLightShadows.needsUpdate=ye,K.rectAreaLights.needsUpdate=ye,K.hemisphereLights.needsUpdate=ye}function ls(K){return K.isMeshLambertMaterial||K.isMeshToonMaterial||K.isMeshPhongMaterial||K.isMeshStandardMaterial||K.isShadowMaterial||K.isShaderMaterial&&K.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(K,ye,De){Ae.get(K.texture).__webglTexture=ye,Ae.get(K.depthTexture).__webglTexture=De;const fe=Ae.get(K);fe.__hasExternalTextures=!0,fe.__hasExternalTextures&&(fe.__autoAllocateDepthBuffer=De===void 0,fe.__autoAllocateDepthBuffer||de.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(K,ye){const De=Ae.get(K);De.__webglFramebuffer=ye,De.__useDefaultFramebuffer=ye===void 0},this.setRenderTarget=function(K,ye=0,De=0){_=K,w=ye,M=De;let fe=!0,Pe=null,ut=!1,Et=!1;if(K){const Dt=Ae.get(K);Dt.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(X.FRAMEBUFFER,null),fe=!1):Dt.__webglFramebuffer===void 0?Le.setupRenderTarget(K):Dt.__hasExternalTextures&&Le.rebindTextures(K,Ae.get(K.texture).__webglTexture,Ae.get(K.depthTexture).__webglTexture);const Qt=K.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(Et=!0);const We=Ae.get(K).__webglFramebuffer;K.isWebGLCubeRenderTarget?(Pe=We[ye],ut=!0):xe.isWebGL2&&K.samples>0&&Le.useMultisampledRTT(K)===!1?Pe=Ae.get(K).__webglMultisampledFramebuffer:Pe=We,B.copy(K.viewport),L.copy(K.scissor),F=K.scissorTest}else B.copy(j).multiplyScalar(J).floor(),L.copy(Q).multiplyScalar(J).floor(),F=H;if(pe.bindFramebuffer(X.FRAMEBUFFER,Pe)&&xe.drawBuffers&&fe&&pe.drawBuffers(K,Pe),pe.viewport(B),pe.scissor(L),pe.setScissorTest(F),ut){const Dt=Ae.get(K.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+ye,Dt.__webglTexture,De)}else if(Et){const Dt=Ae.get(K.texture),Qt=ye||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,Dt.__webglTexture,De||0,Qt)}b=-1},this.readRenderTargetPixels=function(K,ye,De,fe,Pe,ut,Et){if(!(K&&K.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Mt=Ae.get(K).__webglFramebuffer;if(K.isWebGLCubeRenderTarget&&Et!==void 0&&(Mt=Mt[Et]),Mt){pe.bindFramebuffer(X.FRAMEBUFFER,Mt);try{const Dt=K.texture,Qt=Dt.format,We=Dt.type;if(Qt!==yn&&Oe.convert(Qt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const _t=We===Ln&&(de.has("EXT_color_buffer_half_float")||xe.isWebGL2&&de.has("EXT_color_buffer_float"));if(We!==an&&Oe.convert(We)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(We===Un&&(xe.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!_t){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ye>=0&&ye<=K.width-fe&&De>=0&&De<=K.height-Pe&&X.readPixels(ye,De,fe,Pe,Oe.convert(Qt),Oe.convert(We),ut)}finally{const Dt=_!==null?Ae.get(_).__webglFramebuffer:null;pe.bindFramebuffer(X.FRAMEBUFFER,Dt)}}},this.copyFramebufferToTexture=function(K,ye,De=0){const fe=Math.pow(2,-De),Pe=Math.floor(ye.image.width*fe),ut=Math.floor(ye.image.height*fe);Le.setTexture2D(ye,0),X.copyTexSubImage2D(X.TEXTURE_2D,De,0,0,K.x,K.y,Pe,ut),pe.unbindTexture()},this.copyTextureToTexture=function(K,ye,De,fe=0){const Pe=ye.image.width,ut=ye.image.height,Et=Oe.convert(De.format),Mt=Oe.convert(De.type);Le.setTexture2D(De,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,De.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,De.unpackAlignment),ye.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,fe,K.x,K.y,Pe,ut,Et,Mt,ye.image.data):ye.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,fe,K.x,K.y,ye.mipmaps[0].width,ye.mipmaps[0].height,Et,ye.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,fe,K.x,K.y,Et,Mt,ye.image),fe===0&&De.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),pe.unbindTexture()},this.copyTextureToTexture3D=function(K,ye,De,fe,Pe=0){if(E.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ut=K.max.x-K.min.x+1,Et=K.max.y-K.min.y+1,Mt=K.max.z-K.min.z+1,Dt=Oe.convert(fe.format),Qt=Oe.convert(fe.type);let We;if(fe.isData3DTexture)Le.setTexture3D(fe,0),We=X.TEXTURE_3D;else if(fe.isDataArrayTexture)Le.setTexture2DArray(fe,0),We=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,fe.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,fe.unpackAlignment);const _t=X.getParameter(X.UNPACK_ROW_LENGTH),In=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Cn=X.getParameter(X.UNPACK_SKIP_PIXELS),Ei=X.getParameter(X.UNPACK_SKIP_ROWS),Vi=X.getParameter(X.UNPACK_SKIP_IMAGES),bn=De.isCompressedTexture?De.mipmaps[0]:De.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,bn.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,bn.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,K.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,K.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,K.min.z),De.isDataTexture||De.isData3DTexture?X.texSubImage3D(We,Pe,ye.x,ye.y,ye.z,ut,Et,Mt,Dt,Qt,bn.data):De.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(We,Pe,ye.x,ye.y,ye.z,ut,Et,Mt,Dt,bn.data)):X.texSubImage3D(We,Pe,ye.x,ye.y,ye.z,ut,Et,Mt,Dt,Qt,bn),X.pixelStorei(X.UNPACK_ROW_LENGTH,_t),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,In),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Cn),X.pixelStorei(X.UNPACK_SKIP_ROWS,Ei),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Vi),Pe===0&&fe.generateMipmaps&&X.generateMipmap(We),pe.unbindTexture()},this.initTexture=function(K){K.isCubeTexture?Le.setTextureCube(K,0):K.isData3DTexture?Le.setTexture3D(K,0):K.isDataArrayTexture||K.isCompressedArrayTexture?Le.setTexture2DArray(K,0):Le.setTexture2D(K,0),pe.unbindTexture()},this.resetState=function(){w=0,M=0,_=null,pe.reset(),ze.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ul}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Kt?xa:v3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===xa?Kt:il}}class az extends dM{}az.prototype.isWebGL1Renderer=!0;class w6{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Be(e),this.density=n}clone(){return new w6(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class T6{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Be(e),this.near=n,this.far=r}clone(){return new T6(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Sf extends dn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class x3{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=DA,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=_o()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_o()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=_o()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const gs=new k;class Cf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)gs.fromBufferAttribute(this,n),gs.applyMatrix4(e),this.setXYZ(n,gs.x,gs.y,gs.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)gs.fromBufferAttribute(this,n),gs.applyNormalMatrix(e),this.setXYZ(n,gs.x,gs.y,gs.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)gs.fromBufferAttribute(this,n),gs.transformDirection(e),this.setXYZ(n,gs.x,gs.y,gs.z);return this}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Eo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Eo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Eo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Eo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Yt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pM extends fr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let vp;const xg=new k,yp=new k,xp=new k,Ep=new ie,Eg=new ie,lz=new Ke,Nv=new k,Sg=new k,Gv=new k,VB=new ie,h8=new ie,WB=new ie;class uz extends dn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",vp===void 0){vp=new bt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new x3(n,5);vp.setIndex([0,1,2,0,2,3]),vp.setAttribute("position",new Cf(r,3,0,!1)),vp.setAttribute("uv",new Cf(r,2,3,!1))}this.geometry=vp,this.material=e!==void 0?e:new pM,this.center=new ie(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yp.setFromMatrixScale(this.matrixWorld),lz.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),xp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&yp.multiplyScalar(-xp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;zv(Nv.set(-.5,-.5,0),xp,o,yp,i,s),zv(Sg.set(.5,-.5,0),xp,o,yp,i,s),zv(Gv.set(.5,.5,0),xp,o,yp,i,s),VB.set(0,0),h8.set(1,0),WB.set(1,1);let a=e.ray.intersectTriangle(Nv,Sg,Gv,!1,xg);if(a===null&&(zv(Sg.set(-.5,.5,0),xp,o,yp,i,s),h8.set(0,1),a=e.ray.intersectTriangle(Nv,Gv,Sg,!1,xg),a===null))return;const l=e.ray.origin.distanceTo(xg);l<e.near||l>e.far||n.push({distance:l,point:xg.clone(),uv:Cs.getInterpolation(xg,Nv,Sg,Gv,VB,h8,WB,new ie),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function zv(t,e,n,r,i,s){Ep.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Eg.x=s*Ep.x-i*Ep.y,Eg.y=i*Ep.x+s*Ep.y):Eg.copy(Ep),t.copy(e),t.x+=Eg.x,t.y+=Eg.y,t.applyMatrix4(lz)}const Hv=new k,jB=new k;class cz extends dn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Hv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Hv);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Hv.setFromMatrixPosition(e.matrixWorld),jB.setFromMatrixPosition(this.matrixWorld);const r=Hv.distanceTo(jB)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const XB=new k,YB=new kt,KB=new kt,wre=new k,JB=new Ke,Sp=new k,d8=new ro,qB=new Ke,p8=new dm;class mM extends sn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ke,this.bindMatrixInverse=new Ke,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new No),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Sp.fromBufferAttribute(n,r),this.applyBoneTransform(r,Sp),this.boundingBox.expandByPoint(Sp)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ro),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Sp.fromBufferAttribute(n,r),this.applyBoneTransform(r,Sp),this.boundingSphere.expandByPoint(Sp)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),d8.copy(this.boundingSphere),d8.applyMatrix4(i),e.ray.intersectsSphere(d8)!==!1&&(qB.copy(i).invert(),p8.copy(e.ray).applyMatrix4(qB),!(this.boundingBox!==null&&p8.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,p8)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;YB.fromBufferAttribute(i.attributes.skinIndex,e),KB.fromBufferAttribute(i.attributes.skinWeight,e),XB.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=KB.getComponent(s);if(o!==0){const a=YB.getComponent(s);JB.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(wre.copy(XB).applyMatrix4(JB),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class M6 extends dn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Xs extends xn{constructor(e=null,n=1,r=1,i,s,o,a,l,u=ot,c=ot,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ZB=new Ke,Tre=new Ke;class E3{constructor(e=[],n=[]){this.uuid=_o(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ke)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ke;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Tre;ZB.multiplyMatrices(a,n[s]),ZB.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new E3(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=JG(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Xs(n,e,e,yn,Un);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new M6),this.bones.push(o),this.boneInverses.push(new Ke().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class jl extends Yt{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Cp=new Ke,$B=new Ke,Qv=[],eR=new No,Mre=new Ke,Cg=new sn,wg=new ro;class gM extends sn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new jl(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Mre)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new No),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Cp),eR.copy(e.boundingBox).applyMatrix4(Cp),this.boundingBox.union(eR)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ro),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Cp),wg.copy(e.boundingSphere).applyMatrix4(Cp),this.boundingSphere.union(wg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Cg.geometry=this.geometry,Cg.material=this.material,Cg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wg.copy(this.boundingSphere),wg.applyMatrix4(r),e.ray.intersectsSphere(wg)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Cp),$B.multiplyMatrices(r,Cp),Cg.matrixWorld=$B,Cg.raycast(e,Qv);for(let o=0,a=Qv.length;o<a;o++){const l=Qv[o];l.instanceId=s,l.object=this,n.push(l)}Qv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new jl(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class mi extends fr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tR=new k,nR=new k,rR=new Ke,m8=new dm,Vv=new ro;class tc extends dn{constructor(e=new bt,n=new mi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)tR.fromBufferAttribute(n,i-1),nR.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=tR.distanceTo(nR);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Vv.copy(r.boundingSphere),Vv.applyMatrix4(i),Vv.radius+=s,e.ray.intersectsSphere(Vv)===!1)return;rR.copy(i).invert(),m8.copy(e.ray).applyMatrix4(rR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new k,c=new k,f=new k,h=new k,d=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const A=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let E=A,S=x-1;E<S;E+=d){const w=g.getX(E),M=g.getX(E+1);if(u.fromBufferAttribute(y,w),c.fromBufferAttribute(y,M),m8.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||n.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let E=A,S=x-1;E<S;E+=d){if(u.fromBufferAttribute(y,E),c.fromBufferAttribute(y,E+1),m8.distanceSqToSegment(u,c,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(h);M<e.near||M>e.far||n.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const iR=new k,sR=new k;class Ro extends tc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)iR.fromBufferAttribute(n,i),sR.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+iR.distanceTo(sR);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class AM extends tc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Nl extends fr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const oR=new Ke,cw=new dm,Wv=new ro,jv=new k;class Xu extends dn{constructor(e=new bt,n=new Nl){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Wv.copy(r.boundingSphere),Wv.applyMatrix4(i),Wv.radius+=s,e.ray.intersectsSphere(Wv)===!1)return;oR.copy(i).invert(),cw.copy(e.ray).applyMatrix4(oR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),d=Math.min(u.count,o.start+o.count);for(let g=h,v=d;g<v;g++){const y=u.getX(g);jv.fromBufferAttribute(f,y),aR(jv,y,l,i,e,n,this)}}else{const h=Math.max(0,o.start),d=Math.min(f.count,o.start+o.count);for(let g=h,v=d;g<v;g++)jv.fromBufferAttribute(f,g),aR(jv,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function aR(t,e,n,r,i,s,o){const a=cw.distanceSqToPoint(t);if(a<n){const l=new k;cw.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class sx extends xn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ct,this.magFilter=s!==void 0?s:ct,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class fw extends xn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=ot,this.minFilter=ot,this.generateMipmaps=!1,this.needsUpdate=!0}}class md extends xn{constructor(e,n,r,i,s,o,a,l,u,c,f,h){super(null,o,a,l,u,c,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let _re=class extends md{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Kn}};class fz extends xn{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Da{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],h=r[i+1]-c,d=(o-c)/h;return(i+d)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ie:new k);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new k,i=[],s=[],o=[],a=new k,l=new Ke;for(let d=0;d<=e;d++){const g=d/e;i[d]=this.getTangentAt(g,new k)}s[0]=new k,o[0]=new k;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(i[d-1],i[d]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(br(i[d-1].dot(i[d]),-1,1));s[d].applyMatrix4(l.makeRotationAxis(a,g))}o[d].crossVectors(i[d],s[d])}if(n===!0){let d=Math.acos(br(s[0].dot(s[e]),-1,1));d/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],d*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class S3 extends Da{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new ie,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,d=u-this.aY;l=h*c-d*f+this.aX,u=h*f+d*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class hz extends S3{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function vM(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let h=(o-s)/u-(a-s)/(u+c)+(a-o)/c,d=(a-o)/c-(l-o)/(c+f)+(l-a)/f;h*=c,d*=c,i(o,a,h,d)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Xv=new k,g8=new vM,A8=new vM,v8=new vM;class dz extends Da{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new k){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(Xv.subVectors(i[0],i[1]).add(i[0]),u=Xv);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(Xv.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=Xv),this.curveType==="centripetal"||this.curveType==="chordal"){const d=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),d),v=Math.pow(f.distanceToSquared(h),d),y=Math.pow(h.distanceToSquared(c),d);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),g8.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,v,y),A8.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,v,y),v8.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,v,y)}else this.curveType==="catmullrom"&&(g8.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),A8.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),v8.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(g8.calc(l),A8.calc(l),v8.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new k().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lR(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function Ire(t,e){const n=1-t;return n*n*e}function bre(t,e){return 2*(1-t)*t*e}function Bre(t,e){return t*t*e}function D1(t,e,n,r){return Ire(t,e)+bre(t,n)+Bre(t,r)}function Rre(t,e){const n=1-t;return n*n*n*e}function Dre(t,e){const n=1-t;return 3*n*n*t*e}function Pre(t,e){return 3*(1-t)*t*t*e}function Lre(t,e){return t*t*t*e}function P1(t,e,n,r,i){return Rre(t,e)+Dre(t,n)+Pre(t,r)+Lre(t,i)}class yM extends Da{constructor(e=new ie,n=new ie,r=new ie,i=new ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ie){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(P1(e,i.x,s.x,o.x,a.x),P1(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pz extends Da{constructor(e=new k,n=new k,r=new k,i=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new k){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(P1(e,i.x,s.x,o.x,a.x),P1(e,i.y,s.y,o.y,a.y),P1(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _6 extends Da{constructor(e=new ie,n=new ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ie){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ie){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class I6 extends Da{constructor(e=new k,n=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new k){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new k){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xM extends Da{constructor(e=new ie,n=new ie,r=new ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ie){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(D1(e,i.x,s.x,o.x),D1(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EM extends Da{constructor(e=new k,n=new k,r=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new k){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(D1(e,i.x,s.x,o.x),D1(e,i.y,s.y,o.y),D1(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SM extends Da{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ie){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(lR(a,l.x,u.x,c.x,f.x),lR(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ie().fromArray(i))}return this}}var CM=Object.freeze({__proto__:null,ArcCurve:hz,CatmullRomCurve3:dz,CubicBezierCurve:yM,CubicBezierCurve3:pz,EllipseCurve:S3,LineCurve:_6,LineCurve3:I6,QuadraticBezierCurve:xM,QuadraticBezierCurve3:EM,SplineCurve:SM});class mz extends Da{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new _6(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new CM[i.type]().fromJSON(i))}return this}}let FA=class extends mz{constructor(e){super(),this.type="Path",this.currentPoint=new ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new _6(this.currentPoint.clone(),new ie(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new xM(this.currentPoint.clone(),new ie(e,n),new ie(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new yM(this.currentPoint.clone(),new ie(e,n),new ie(r,i),new ie(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new SM(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new S3(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Am extends bt{constructor(e=[new ie(0,-.5),new ie(.5,0),new ie(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=br(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/n,f=new k,h=new ie,d=new k,g=new k,v=new k;let y=0,A=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,A=e[x+1].y-e[x].y,d.x=A*1,d.y=-y,d.z=A*0,v.copy(d),d.normalize(),l.push(d.x,d.y,d.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[x+1].x-e[x].x,A=e[x+1].y-e[x].y,d.x=A*1,d.y=-y,d.z=A*0,g.copy(d),d.x+=v.x,d.y+=v.y,d.z+=v.z,d.normalize(),l.push(d.x,d.y,d.z),v.copy(g)}for(let x=0;x<=n;x++){const E=r+x*c*i,S=Math.sin(E),w=Math.cos(E);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*S,f.y=e[M].y,f.z=e[M].x*w,o.push(f.x,f.y,f.z),h.x=x/n,h.y=M/(e.length-1),a.push(h.x,h.y);const _=l[3*M+0]*S,b=l[3*M+1],I=l[3*M+0]*w;u.push(_,b,I)}}for(let x=0;x<n;x++)for(let E=0;E<e.length-1;E++){const S=E+x*e.length,w=S,M=S+e.length,_=S+e.length+1,b=S+1;s.push(w,M,b),s.push(_,b,M)}this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Am(e.points,e.segments,e.phiStart,e.phiLength)}}class C3 extends Am{constructor(e=1,n=1,r=4,i=8){const s=new FA;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new C3(e.radius,e.length,e.capSegments,e.radialSegments)}}class w3 extends bt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new k,c=new ie;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const d=r+f/n*i;u.x=e*Math.cos(d),u.y=e*Math.sin(d),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new w3(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Bd extends bt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],h=[],d=[];let g=0;const v=[],y=r/2;let A=0;x(),o===!1&&(e>0&&E(!0),n>0&&E(!1)),this.setIndex(c),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(h,3)),this.setAttribute("uv",new at(d,2));function x(){const S=new k,w=new k;let M=0;const _=(n-e)/r;for(let b=0;b<=s;b++){const I=[],B=b/s,L=B*(n-e)+e;for(let F=0;F<=i;F++){const O=F/i,G=O*l+a,V=Math.sin(G),Y=Math.cos(G);w.x=L*V,w.y=-B*r+y,w.z=L*Y,f.push(w.x,w.y,w.z),S.set(V,_,Y).normalize(),h.push(S.x,S.y,S.z),d.push(O,1-B),I.push(g++)}v.push(I)}for(let b=0;b<i;b++)for(let I=0;I<s;I++){const B=v[I][b],L=v[I+1][b],F=v[I+1][b+1],O=v[I][b+1];c.push(B,L,O),c.push(L,F,O),M+=6}u.addGroup(A,M,0),A+=M}function E(S){const w=g,M=new ie,_=new k;let b=0;const I=S===!0?e:n,B=S===!0?1:-1;for(let F=1;F<=i;F++)f.push(0,y*B,0),h.push(0,B,0),d.push(.5,.5),g++;const L=g;for(let F=0;F<=i;F++){const G=F/i*l+a,V=Math.cos(G),Y=Math.sin(G);_.x=I*Y,_.y=y*B,_.z=I*V,f.push(_.x,_.y,_.z),h.push(0,B,0),M.x=V*.5+.5,M.y=Y*.5*B+.5,d.push(M.x,M.y),g++}for(let F=0;F<i;F++){const O=w+F,G=L+F;S===!0?c.push(G,G+1,O):c.push(G+1,G,O),b+=3}u.addGroup(A,b,S===!0?1:2),A+=b}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class T3 extends Bd{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new T3(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fc extends bt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(s.slice(),3)),this.setAttribute("uv",new at(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const E=new k,S=new k,w=new k;for(let M=0;M<n.length;M+=3)d(n[M+0],E),d(n[M+1],S),d(n[M+2],w),l(E,S,w,x)}function l(x,E,S,w){const M=w+1,_=[];for(let b=0;b<=M;b++){_[b]=[];const I=x.clone().lerp(S,b/M),B=E.clone().lerp(S,b/M),L=M-b;for(let F=0;F<=L;F++)F===0&&b===M?_[b][F]=I:_[b][F]=I.clone().lerp(B,F/L)}for(let b=0;b<M;b++)for(let I=0;I<2*(M-b)-1;I++){const B=Math.floor(I/2);I%2===0?(h(_[b][B+1]),h(_[b+1][B]),h(_[b][B])):(h(_[b][B+1]),h(_[b+1][B+1]),h(_[b+1][B]))}}function u(x){const E=new k;for(let S=0;S<s.length;S+=3)E.x=s[S+0],E.y=s[S+1],E.z=s[S+2],E.normalize().multiplyScalar(x),s[S+0]=E.x,s[S+1]=E.y,s[S+2]=E.z}function c(){const x=new k;for(let E=0;E<s.length;E+=3){x.x=s[E+0],x.y=s[E+1],x.z=s[E+2];const S=y(x)/2/Math.PI+.5,w=A(x)/Math.PI+.5;o.push(S,1-w)}g(),f()}function f(){for(let x=0;x<o.length;x+=6){const E=o[x+0],S=o[x+2],w=o[x+4],M=Math.max(E,S,w),_=Math.min(E,S,w);M>.9&&_<.1&&(E<.2&&(o[x+0]+=1),S<.2&&(o[x+2]+=1),w<.2&&(o[x+4]+=1))}}function h(x){s.push(x.x,x.y,x.z)}function d(x,E){const S=x*3;E.x=e[S+0],E.y=e[S+1],E.z=e[S+2]}function g(){const x=new k,E=new k,S=new k,w=new k,M=new ie,_=new ie,b=new ie;for(let I=0,B=0;I<s.length;I+=9,B+=6){x.set(s[I+0],s[I+1],s[I+2]),E.set(s[I+3],s[I+4],s[I+5]),S.set(s[I+6],s[I+7],s[I+8]),M.set(o[B+0],o[B+1]),_.set(o[B+2],o[B+3]),b.set(o[B+4],o[B+5]),w.copy(x).add(E).add(S).divideScalar(3);const L=y(w);v(M,B+0,x,L),v(_,B+2,E,L),v(b,B+4,S,L)}}function v(x,E,S,w){w<0&&x.x===1&&(o[E]=x.x-1),S.x===0&&S.z===0&&(o[E]=w/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function A(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fc(e.vertices,e.indices,e.radius,e.details)}}class M3 extends fc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new M3(e.radius,e.detail)}}const Yv=new k,Kv=new k,y8=new k,Jv=new Cs;class gz extends bt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Zh*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},d=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:y,c:A}=Jv;if(v.fromBufferAttribute(a,u[0]),y.fromBufferAttribute(a,u[1]),A.fromBufferAttribute(a,u[2]),Jv.getNormal(y8),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const E=(x+1)%3,S=f[x],w=f[E],M=Jv[c[x]],_=Jv[c[E]],b=`${S}_${w}`,I=`${w}_${S}`;I in h&&h[I]?(y8.dot(h[I].normal)<=s&&(d.push(M.x,M.y,M.z),d.push(_.x,_.y,_.z)),h[I]=null):b in h||(h[b]={index0:u[x],index1:u[E],normal:y8.clone()})}}for(const g in h)if(h[g]){const{index0:v,index1:y}=h[g];Yv.fromBufferAttribute(a,v),Kv.fromBufferAttribute(a,y),d.push(Yv.x,Yv.y,Yv.z),d.push(Kv.x,Kv.y,Kv.z)}this.setAttribute("position",new at(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class td extends FA{constructor(e){super(e),this.uuid=_o(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new FA().fromJSON(i))}return this}}const Fre={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Az(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,h,d;if(r&&(s=Gre(t,e,s,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)f=t[g],h=t[g+1],f<a&&(a=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);d=Math.max(u-a,c-l),d=d!==0?32767/d:0}return OA(s,o,n,a,l,d,0),o}};function Az(t,e,n,r,i){let s,o;if(i===qre(t,e,n,r)>0)for(s=e;s<n;s+=r)o=uR(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=uR(s,t[s],t[s+1],o);return o&&b6(o,o.next)&&(kA(o),o=o.next),o}function gd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(b6(n,n.next)||yr(n.prev,n,n.next)===0)){if(kA(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function OA(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Wre(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?Ure(t,r,i,s):Ore(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),kA(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=kre(gd(t),e,n),OA(t,e,n,r,i,s,2)):o===2&&Nre(t,e,n,r,i,s):OA(gd(t),e,n,r,i,s,1);break}}}function Ore(t){const e=t.prev,n=t,r=t.next;if(yr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,h=i>s?i>o?i:o:s>o?s:o,d=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=d&&e0(i,a,s,l,o,u,g.x,g.y)&&yr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Ure(t,e,n,r){const i=t.prev,s=t,o=t.next;if(yr(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,h=o.y,d=a<l?a<u?a:u:l<u?l:u,g=c<f?c<h?c:h:f<h?f:h,v=a>l?a>u?a:u:l>u?l:u,y=c>f?c>h?c:h:f>h?f:h,A=hw(d,g,e,n,r),x=hw(v,y,e,n,r);let E=t.prevZ,S=t.nextZ;for(;E&&E.z>=A&&S&&S.z<=x;){if(E.x>=d&&E.x<=v&&E.y>=g&&E.y<=y&&E!==i&&E!==o&&e0(a,c,l,f,u,h,E.x,E.y)&&yr(E.prev,E,E.next)>=0||(E=E.prevZ,S.x>=d&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&e0(a,c,l,f,u,h,S.x,S.y)&&yr(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;E&&E.z>=A;){if(E.x>=d&&E.x<=v&&E.y>=g&&E.y<=y&&E!==i&&E!==o&&e0(a,c,l,f,u,h,E.x,E.y)&&yr(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;S&&S.z<=x;){if(S.x>=d&&S.x<=v&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&e0(a,c,l,f,u,h,S.x,S.y)&&yr(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function kre(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!b6(i,s)&&vz(i,r,r.next,s)&&UA(i,s)&&UA(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),kA(r),kA(r.next),r=t=s),r=r.next}while(r!==t);return gd(r)}function Nre(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Yre(o,a)){let l=yz(o,a);o=gd(o,o.next),l=gd(l,l.next),OA(o,e,n,r,i,s,0),OA(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Gre(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=Az(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Xre(u));for(i.sort(zre),s=0;s<i.length;s++)n=Hre(i[s],n);return n}function zre(t,e){return t.x-e.x}function Hre(t,e){const n=Qre(t,e);if(!n)return e;const r=yz(n,t);return gd(r,r.next),gd(n,n.next)}function Qre(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=s&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&e0(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),UA(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&Vre(i,n)))&&(i=n,c=f)),n=n.next;while(n!==a);return i}function Vre(t,e){return yr(t.prev,t,e.prev)<0&&yr(e.next,t,t.next)<0}function Wre(t,e,n,r){let i=t;do i.z===0&&(i.z=hw(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,jre(i)}function jre(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function hw(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Xre(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function e0(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Yre(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Kre(t,e)&&(UA(t,e)&&UA(e,t)&&Jre(t,e)&&(yr(t.prev,t,e.prev)||yr(t,e.prev,e))||b6(t,e)&&yr(t.prev,t,t.next)>0&&yr(e.prev,e,e.next)>0)}function yr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b6(t,e){return t.x===e.x&&t.y===e.y}function vz(t,e,n,r){const i=Zv(yr(t,e,n)),s=Zv(yr(t,e,r)),o=Zv(yr(n,r,t)),a=Zv(yr(n,r,e));return!!(i!==s&&o!==a||i===0&&qv(t,n,e)||s===0&&qv(t,r,e)||o===0&&qv(n,t,r)||a===0&&qv(n,e,r))}function qv(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zv(t){return t>0?1:t<0?-1:0}function Kre(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&vz(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function UA(t,e){return yr(t.prev,t,t.next)<0?yr(t,e,t.next)>=0&&yr(t,t.prev,e)>=0:yr(t,e,t.prev)<0||yr(t,t.next,e)<0}function Jre(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function yz(t,e){const n=new dw(t.i,t.x,t.y),r=new dw(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function uR(t,e,n,r){const i=new dw(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function kA(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function dw(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qre(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Xl{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Xl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];cR(e),fR(r,e);let o=e.length;n.forEach(cR);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,fR(r,n[l]);const a=Fre.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function cR(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function fR(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class _3 extends bt{constructor(e=new td([new ie(.5,.5),new ie(-.5,.5),new ie(-.5,-.5),new ie(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new at(i,3)),this.setAttribute("uv",new at(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,d=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:d-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const A=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:Zre;let E,S=!1,w,M,_,b;A&&(E=A.getSpacedPoints(c),S=!0,h=!1,w=A.computeFrenetFrames(c,!1),M=new k,_=new k,b=new k),h||(y=0,d=0,g=0,v=0);const I=a.extractPoints(u);let B=I.shape;const L=I.holes;if(!Xl.isClockWise(B)){B=B.reverse();for(let X=0,ve=L.length;X<ve;X++){const de=L[X];Xl.isClockWise(de)&&(L[X]=de.reverse())}}const O=Xl.triangulateShape(B,L),G=B;for(let X=0,ve=L.length;X<ve;X++){const de=L[X];B=B.concat(de)}function V(X,ve,de){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(ve,de)}const Y=B.length,J=O.length;function z(X,ve,de){let xe,pe,je;const Ae=X.x-ve.x,Le=X.y-ve.y,Ue=de.x-X.x,Ce=de.y-X.y,Je=Ae*Ae+Le*Le,N=Ae*Ce-Le*Ue;if(Math.abs(N)>Number.EPSILON){const U=Math.sqrt(Je),re=Math.sqrt(Ue*Ue+Ce*Ce),_e=ve.x-Le/U,Te=ve.y+Ae/U,Ie=de.x-Ce/re,He=de.y+Ue/re,Ne=((Ie-_e)*Ce-(He-Te)*Ue)/(Ae*Ce-Le*Ue);xe=_e+Ae*Ne-X.x,pe=Te+Le*Ne-X.y;const ge=xe*xe+pe*pe;if(ge<=2)return new ie(xe,pe);je=Math.sqrt(ge/2)}else{let U=!1;Ae>Number.EPSILON?Ue>Number.EPSILON&&(U=!0):Ae<-Number.EPSILON?Ue<-Number.EPSILON&&(U=!0):Math.sign(Le)===Math.sign(Ce)&&(U=!0),U?(xe=-Le,pe=Ae,je=Math.sqrt(Je)):(xe=Ae,pe=Le,je=Math.sqrt(Je/2))}return new ie(xe/je,pe/je)}const W=[];for(let X=0,ve=G.length,de=ve-1,xe=X+1;X<ve;X++,de++,xe++)de===ve&&(de=0),xe===ve&&(xe=0),W[X]=z(G[X],G[de],G[xe]);const j=[];let Q,H=W.concat();for(let X=0,ve=L.length;X<ve;X++){const de=L[X];Q=[];for(let xe=0,pe=de.length,je=pe-1,Ae=xe+1;xe<pe;xe++,je++,Ae++)je===pe&&(je=0),Ae===pe&&(Ae=0),Q[xe]=z(de[xe],de[je],de[Ae]);j.push(Q),H=H.concat(Q)}for(let X=0;X<y;X++){const ve=X/y,de=d*Math.cos(ve*Math.PI/2),xe=g*Math.sin(ve*Math.PI/2)+v;for(let pe=0,je=G.length;pe<je;pe++){const Ae=V(G[pe],W[pe],xe);se(Ae.x,Ae.y,-de)}for(let pe=0,je=L.length;pe<je;pe++){const Ae=L[pe];Q=j[pe];for(let Le=0,Ue=Ae.length;Le<Ue;Le++){const Ce=V(Ae[Le],Q[Le],xe);se(Ce.x,Ce.y,-de)}}}const ee=g+v;for(let X=0;X<Y;X++){const ve=h?V(B[X],H[X],ee):B[X];S?(_.copy(w.normals[0]).multiplyScalar(ve.x),M.copy(w.binormals[0]).multiplyScalar(ve.y),b.copy(E[0]).add(_).add(M),se(b.x,b.y,b.z)):se(ve.x,ve.y,0)}for(let X=1;X<=c;X++)for(let ve=0;ve<Y;ve++){const de=h?V(B[ve],H[ve],ee):B[ve];S?(_.copy(w.normals[X]).multiplyScalar(de.x),M.copy(w.binormals[X]).multiplyScalar(de.y),b.copy(E[X]).add(_).add(M),se(b.x,b.y,b.z)):se(de.x,de.y,f/c*X)}for(let X=y-1;X>=0;X--){const ve=X/y,de=d*Math.cos(ve*Math.PI/2),xe=g*Math.sin(ve*Math.PI/2)+v;for(let pe=0,je=G.length;pe<je;pe++){const Ae=V(G[pe],W[pe],xe);se(Ae.x,Ae.y,f+de)}for(let pe=0,je=L.length;pe<je;pe++){const Ae=L[pe];Q=j[pe];for(let Le=0,Ue=Ae.length;Le<Ue;Le++){const Ce=V(Ae[Le],Q[Le],xe);S?se(Ce.x,Ce.y+E[c-1].y,E[c-1].x+de):se(Ce.x,Ce.y,f+de)}}}Z(),ne();function Z(){const X=i.length/3;if(h){let ve=0,de=Y*ve;for(let xe=0;xe<J;xe++){const pe=O[xe];he(pe[2]+de,pe[1]+de,pe[0]+de)}ve=c+y*2,de=Y*ve;for(let xe=0;xe<J;xe++){const pe=O[xe];he(pe[0]+de,pe[1]+de,pe[2]+de)}}else{for(let ve=0;ve<J;ve++){const de=O[ve];he(de[2],de[1],de[0])}for(let ve=0;ve<J;ve++){const de=O[ve];he(de[0]+Y*c,de[1]+Y*c,de[2]+Y*c)}}r.addGroup(X,i.length/3-X,0)}function ne(){const X=i.length/3;let ve=0;oe(G,ve),ve+=G.length;for(let de=0,xe=L.length;de<xe;de++){const pe=L[de];oe(pe,ve),ve+=pe.length}r.addGroup(X,i.length/3-X,1)}function oe(X,ve){let de=X.length;for(;--de>=0;){const xe=de;let pe=de-1;pe<0&&(pe=X.length-1);for(let je=0,Ae=c+y*2;je<Ae;je++){const Le=Y*je,Ue=Y*(je+1),Ce=ve+xe+Le,Je=ve+pe+Le,N=ve+pe+Ue,U=ve+xe+Ue;we(Ce,Je,N,U)}}}function se(X,ve,de){l.push(X),l.push(ve),l.push(de)}function he(X,ve,de){ke(X),ke(ve),ke(de);const xe=i.length/3,pe=x.generateTopUV(r,i,xe-3,xe-2,xe-1);Se(pe[0]),Se(pe[1]),Se(pe[2])}function we(X,ve,de,xe){ke(X),ke(ve),ke(xe),ke(ve),ke(de),ke(xe);const pe=i.length/3,je=x.generateSideWallUV(r,i,pe-6,pe-3,pe-2,pe-1);Se(je[0]),Se(je[1]),Se(je[3]),Se(je[1]),Se(je[2]),Se(je[3])}function ke(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function Se(X){s.push(X.x),s.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return $re(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new CM[i.type]().fromJSON(i)),new _3(r,e.options)}}const Zre={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new ie(s,o),new ie(a,l),new ie(u,c)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],d=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],A=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new ie(o,1-l),new ie(u,1-f),new ie(h,1-g),new ie(v,1-A)]:[new ie(a,1-l),new ie(c,1-f),new ie(d,1-g),new ie(y,1-A)]}};function $re(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class I3 extends fc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new I3(e.radius,e.detail)}}class vm extends fc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new vm(e.radius,e.detail)}}class b3 extends bt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const h=(n-e)/i,d=new k,g=new ie;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const A=s+y/r*o;d.x=f*Math.cos(A),d.y=f*Math.sin(A),l.push(d.x,d.y,d.z),u.push(0,0,1),g.x=(d.x/n+1)/2,g.y=(d.y/n+1)/2,c.push(g.x,g.y)}f+=h}for(let v=0;v<i;v++){const y=v*(r+1);for(let A=0;A<r;A++){const x=A+y,E=x,S=x+r+1,w=x+r+2,M=x+1;a.push(E,S,M),a.push(S,w,M)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b3(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class B3 extends bt{constructor(e=new td([new ie(0,.5),new ie(-.5,-.5),new ie(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new at(i,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(o,2));function u(c){const f=i.length/3,h=c.extractPoints(n);let d=h.shape;const g=h.holes;Xl.isClockWise(d)===!1&&(d=d.reverse());for(let y=0,A=g.length;y<A;y++){const x=g[y];Xl.isClockWise(x)===!0&&(g[y]=x.reverse())}const v=Xl.triangulateShape(d,g);for(let y=0,A=g.length;y<A;y++){const x=g[y];d=d.concat(x)}for(let y=0,A=d.length;y<A;y++){const x=d[y];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let y=0,A=v.length;y<A;y++){const x=v[y],E=x[0]+f,S=x[1]+f,w=x[2]+f;r.push(E,S,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return eie(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new B3(r,e.curveSegments)}}function eie(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class ym extends bt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new k,h=new k,d=[],g=[],v=[],y=[];for(let A=0;A<=r;A++){const x=[],E=A/r;let S=0;A===0&&o===0?S=.5/n:A===r&&l===Math.PI&&(S=-.5/n);for(let w=0;w<=n;w++){const M=w/n;f.x=-e*Math.cos(i+M*s)*Math.sin(o+E*a),f.y=e*Math.cos(o+E*a),f.z=e*Math.sin(i+M*s)*Math.sin(o+E*a),g.push(f.x,f.y,f.z),h.copy(f).normalize(),v.push(h.x,h.y,h.z),y.push(M+S,1-E),x.push(u++)}c.push(x)}for(let A=0;A<r;A++)for(let x=0;x<n;x++){const E=c[A][x+1],S=c[A][x],w=c[A+1][x],M=c[A+1][x+1];(A!==0||o>0)&&d.push(E,S,M),(A!==r-1||l<Math.PI)&&d.push(S,w,M)}this.setIndex(d),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(v,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ym(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class R3 extends fc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new R3(e.radius,e.detail)}}class D3 extends bt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new k,f=new k,h=new k;for(let d=0;d<=r;d++)for(let g=0;g<=i;g++){const v=g/i*s,y=d/r*Math.PI*2;f.x=(e+n*Math.cos(y))*Math.cos(v),f.y=(e+n*Math.cos(y))*Math.sin(v),f.z=n*Math.sin(y),a.push(f.x,f.y,f.z),c.x=e*Math.cos(v),c.y=e*Math.sin(v),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(d/r)}for(let d=1;d<=r;d++)for(let g=1;g<=i;g++){const v=(i+1)*d+g-1,y=(i+1)*(d-1)+g-1,A=(i+1)*(d-1)+g,x=(i+1)*d+g;o.push(v,y,x),o.push(y,A,x)}this.setIndex(o),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new D3(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class P3 extends bt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new k,h=new k,d=new k,g=new k,v=new k,y=new k,A=new k;for(let E=0;E<=r;++E){const S=E/r*s*Math.PI*2;x(S,s,o,e,d),x(S+.01,s,o,e,g),y.subVectors(g,d),A.addVectors(g,d),v.crossVectors(y,A),A.crossVectors(v,y),v.normalize(),A.normalize();for(let w=0;w<=i;++w){const M=w/i*Math.PI*2,_=-n*Math.cos(M),b=n*Math.sin(M);f.x=d.x+(_*A.x+b*v.x),f.y=d.y+(_*A.y+b*v.y),f.z=d.z+(_*A.z+b*v.z),l.push(f.x,f.y,f.z),h.subVectors(f,d).normalize(),u.push(h.x,h.y,h.z),c.push(E/r),c.push(w/i)}}for(let E=1;E<=r;E++)for(let S=1;S<=i;S++){const w=(i+1)*(E-1)+(S-1),M=(i+1)*E+(S-1),_=(i+1)*E+S,b=(i+1)*(E-1)+S;a.push(w,M,b),a.push(M,_,b)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(c,2));function x(E,S,w,M,_){const b=Math.cos(E),I=Math.sin(E),B=w/S*E,L=Math.cos(B);_.x=M*(2+L)*.5*b,_.y=M*(2+L)*I*.5,_.z=M*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P3(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class xm extends bt{constructor(e=new EM(new k(-1,-1,0),new k(-1,1,0),new k(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new k,l=new k,u=new ie;let c=new k;const f=[],h=[],d=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(h,3)),this.setAttribute("uv",new at(d,2));function v(){for(let E=0;E<n;E++)y(E);y(s===!1?n:0),x(),A()}function y(E){c=e.getPointAt(E/n,c);const S=o.normals[E],w=o.binormals[E];for(let M=0;M<=i;M++){const _=M/i*Math.PI*2,b=Math.sin(_),I=-Math.cos(_);l.x=I*S.x+b*w.x,l.y=I*S.y+b*w.y,l.z=I*S.z+b*w.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function A(){for(let E=1;E<=n;E++)for(let S=1;S<=i;S++){const w=(i+1)*(E-1)+(S-1),M=(i+1)*E+(S-1),_=(i+1)*E+S,b=(i+1)*(E-1)+S;g.push(w,M,b),g.push(M,_,b)}}function x(){for(let E=0;E<=n;E++)for(let S=0;S<=i;S++)u.x=E/n,u.y=S/i,d.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new xm(new CM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class xz extends bt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new k,s=new k;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,d=f.count;for(let g=h,v=h+d;g<v;g+=3)for(let y=0;y<3;y++){const A=a.getX(g+y),x=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,A),s.fromBufferAttribute(o,x),hR(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),hR(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new at(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function hR(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var dR=Object.freeze({__proto__:null,BoxGeometry:cc,CapsuleGeometry:C3,CircleGeometry:w3,ConeGeometry:T3,CylinderGeometry:Bd,DodecahedronGeometry:M3,EdgesGeometry:gz,ExtrudeGeometry:_3,IcosahedronGeometry:I3,LatheGeometry:Am,OctahedronGeometry:vm,PlaneGeometry:iu,PolyhedronGeometry:fc,RingGeometry:b3,ShapeGeometry:B3,SphereGeometry:ym,TetrahedronGeometry:R3,TorusGeometry:D3,TorusKnotGeometry:P3,TubeGeometry:xm,WireframeGeometry:xz});class Ez extends fr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Be(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class L1 extends lt{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class L3 extends fr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uc,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class su extends L3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return br(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class B6 extends fr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Be(16777215),this.specular=new Be(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uc,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=g3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Sz extends fr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Be(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uc,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Em extends fr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uc,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Cz extends fr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uc,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=g3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wz extends fr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Be(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=uc,this.normalScale=new ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Tz extends mi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function oa(t,e,n){return wM(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Wh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function wM(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mz(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function pw(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function TM(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function tie(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],h=[];for(let d=0;d<u.times.length;++d){const g=u.times[d]*i;if(!(g<n||g>=r)){f.push(u.times[d]);for(let v=0;v<c;++v)h.push(u.values[d*c+v])}}f.length!==0&&(u.times=Wh(f,u.times.constructor),u.values=Wh(h,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function nie(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(A){return A.name===a.name&&A.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const d=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const A=c,x=f-c;v=oa(a.values,A,x)}else if(s>=a.times[g]){const A=g*f+c,x=A+f-c;v=oa(a.values,A,x)}else{const A=a.createInterpolant(),x=c,E=f-c;A.evaluate(s),v=oa(A.resultBuffer,x,E)}l==="quaternion"&&new sr().fromArray(v).normalize().conjugate().toArray(v);const y=u.times.length;for(let A=0;A<y;++A){const x=A*d+h;if(l==="quaternion")sr.multiplyQuaternionsFlat(u.values,x,v,0,u.values,x);else{const E=d-h*2;for(let S=0;S<E;++S)u.values[x+S]-=v[S]}}}return t.blendMode=iM,t}const rie={arraySlice:oa,convertArray:Wh,isTypedArray:wM,getKeyframeOrder:Mz,sortedArray:pw,flattenJSON:TM,subclip:tie,makeClipAdditive:nie};class Sm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _z extends Sm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hh,endingEnd:Hh}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Qh:s=e,a=2*n-r;break;case RA:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Qh:o=e,l=2*r-n;break;case RA:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,g=(r-n)/(i-n),v=g*g,y=v*g,A=-h*y+2*h*v-h*g,x=(1+h)*y+(-1.5-2*h)*v+(-.5+h)*g+1,E=(-1-d)*y+(1.5+d)*v+.5*g,S=d*y-d*v;for(let w=0;w!==a;++w)s[w]=A*o[c+w]+x*o[u+w]+E*o[l+w]+S*o[f+w];return s}}class MM extends Sm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-n)/(i-n),f=1-c;for(let h=0;h!==a;++h)s[h]=o[u+h]*f+o[l+h]*c;return s}}class Iz extends Sm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class fl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wh(n,this.TimeBufferType),this.values=Wh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Wh(e.times,Array),values:Wh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Iz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new MM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _z(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case z0:n=this.InterpolantFactoryMethodDiscrete;break;case pd:n=this.InterpolantFactoryMethodLinear;break;case a5:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return z0;case this.InterpolantFactoryMethodLinear:return pd;case this.InterpolantFactoryMethodSmooth:return a5}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=oa(r,s,o),this.values=oa(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&wM(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=oa(this.times),n=oa(this.values),r=this.getValueSize(),i=this.getInterpolation()===a5,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,d=f+r;for(let g=0;g!==r;++g){const v=n[f+g];if(v!==n[h+g]||v!==n[d+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let d=0;d!==r;++d)n[h+d]=n[f+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=oa(e,0,o),this.values=oa(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=oa(this.times,0),n=oa(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}fl.prototype.TimeBufferType=Float32Array;fl.prototype.ValueBufferType=Float32Array;fl.prototype.DefaultInterpolation=pd;class Rd extends fl{}Rd.prototype.ValueTypeName="bool";Rd.prototype.ValueBufferType=Array;Rd.prototype.DefaultInterpolation=z0;Rd.prototype.InterpolantFactoryMethodLinear=void 0;Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class _M extends fl{}_M.prototype.ValueTypeName="color";class V0 extends fl{}V0.prototype.ValueTypeName="number";class bz extends Sm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let c=u+a;u!==c;u+=4)sr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class wf extends fl{InterpolantFactoryMethodLinear(e){return new bz(this.times,this.values,this.getValueSize(),e)}}wf.prototype.ValueTypeName="quaternion";wf.prototype.DefaultInterpolation=pd;wf.prototype.InterpolantFactoryMethodSmooth=void 0;class Dd extends fl{}Dd.prototype.ValueTypeName="string";Dd.prototype.ValueBufferType=Array;Dd.prototype.DefaultInterpolation=z0;Dd.prototype.InterpolantFactoryMethodLinear=void 0;Dd.prototype.InterpolantFactoryMethodSmooth=void 0;class W0 extends fl{}W0.prototype.ValueTypeName="vector";class j0{constructor(e,n=-1,r,i=A6){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=_o(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(sie(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(fl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=Mz(l);l=pw(l,1,c),u=pw(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new V0(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,d,g,v){if(d.length!==0){const y=[],A=[];TM(d,y,A,g),y.length!==0&&v.push(new f(h,y,A))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const d={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let v=0;v<h[g].morphTargets.length;v++)d[h[g].morphTargets[v]]=-1;for(const v in d){const y=[],A=[];for(let x=0;x!==h[g].morphTargets.length;++x){const E=h[g];y.push(E.time),A.push(E.morphTarget===v?1:0)}i.push(new V0(".morphTargetInfluence["+v+"]",y,A))}l=d.length*o}else{const d=".bones["+n[f].name+"]";r(W0,d+".position",h,"pos",i),r(wf,d+".quaternion",h,"rot",i),r(W0,d+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function iie(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return V0;case"vector":case"vector2":case"vector3":case"vector4":return W0;case"color":return _M;case"quaternion":return wf;case"bool":case"boolean":return Rd;case"string":return Dd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function sie(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=iie(t.type);if(t.times===void 0){const n=[],r=[];TM(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ad={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class R6{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const d=u[f],g=u[f+1];if(d.global&&(d.lastIndex=0),d.test(c))return g}return null}}}const t0=new R6;let yi=class{constructor(e){this.manager=e!==void 0?e:t0,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const bu={};class oie extends Error{constructor(e,n){super(e),this.response=n}}class Wr extends yi{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ad.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(bu[e]!==void 0){bu[e].push({onLoad:n,onProgress:r,onError:i});return}bu[e]=[],bu[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=bu[e],f=u.body.getReader(),h=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),d=h?parseInt(h):0,g=d!==0;let v=0;const y=new ReadableStream({start(A){x();function x(){f.read().then(({done:E,value:S})=>{if(E)A.close();else{v+=S.byteLength;const w=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:d});for(let M=0,_=c.length;M<_;M++){const b=c[M];b.onProgress&&b.onProgress(w)}A.enqueue(S),x()}})}}});return new Response(y)}else throw new oie(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return u.arrayBuffer().then(g=>d.decode(g))}}}).then(u=>{Ad.add(e,u);const c=bu[e];delete bu[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onLoad&&d.onLoad(u)}}).catch(u=>{const c=bu[e];if(c===void 0)throw this.manager.itemError(e),u;delete bu[e];for(let f=0,h=c.length;f<h;f++){const d=c[f];d.onError&&d.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class aie extends yi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Wr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=j0.parse(e[r]);n.push(i)}return n}}class lie extends yi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new md,l=new Wr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const d=s.parse(h,!0);o[f]={width:d.width,height:d.height,format:d.format,mipmaps:d.mipmaps},u+=1,u===6&&(d.mipmapCount===1&&(a.minFilter=ct),a.image=o,a.format=d.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const d=h.mipmaps.length/h.mipmapCount;for(let g=0;g<d;g++){o[g]={mipmaps:[]};for(let v=0;v<h.mipmapCount;v++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+v]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=ct),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class NA extends yi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ad.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=LA("img");function l(){c(),Ad.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class uie extends yi{constructor(e){super(e)}load(e,n,r,i){const s=new y3;s.colorSpace=Kt;const o=new NA(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class cie extends yi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Xs,a=new Wr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Kn,o.wrapT=u.wrapT!==void 0?u.wrapT:Kn,o.magFilter=u.magFilter!==void 0?u.magFilter:ct,o.minFilter=u.minFilter!==void 0?u.minFilter:ct,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Ma),u.mipmapCount===1&&(o.minFilter=ct),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class kf extends yi{constructor(e){super(e)}load(e,n,r,i){const s=new xn,o=new NA(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Nf extends dn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Be(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Bz extends Nf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Be(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const x8=new Ke,pR=new k,mR=new k;class IM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ie(512,512),this.map=null,this.mapPass=null,this.matrix=new Ke,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new E6,this._frameExtents=new ie(1,1),this._viewportCount=1,this._viewports=[new kt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;pR.setFromMatrixPosition(e.matrixWorld),n.position.copy(pR),mR.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(mR),n.updateMatrixWorld(),x8.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(x8),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(x8)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class fie extends IM{constructor(){super(new Hn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=H0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bM extends Nf{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new fie}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gR=new Ke,Tg=new k,E8=new k;class hie extends IM{constructor(){super(new Hn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ie(4,2),this._viewportCount=6,this._viewports=[new kt(2,1,1,1),new kt(0,1,1,1),new kt(3,1,1,1),new kt(1,1,1,1),new kt(3,0,1,1),new kt(1,0,1,1)],this._cubeDirections=[new k(1,0,0),new k(-1,0,0),new k(0,0,1),new k(0,0,-1),new k(0,1,0),new k(0,-1,0)],this._cubeUps=[new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,1,0),new k(0,0,1),new k(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Tg.setFromMatrixPosition(e.matrixWorld),r.position.copy(Tg),E8.copy(r.position),E8.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(E8),r.updateMatrixWorld(),i.makeTranslation(-Tg.x,-Tg.y,-Tg.z),gR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gR)}}class BM extends Nf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new hie}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class die extends IM{constructor(){super(new Of(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class RM extends Nf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(dn.DEFAULT_UP),this.updateMatrix(),this.target=new dn,this.shadow=new die}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Rz extends Nf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Dz extends Nf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Pz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new k)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class D6 extends Nf{constructor(e=new Pz,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class P6 extends yi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Wr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=P6.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Be().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Be().setHex(o.value);break;case"v2":i.uniforms[s].value=new ie().fromArray(o.value);break;case"v3":i.uniforms[s].value=new k().fromArray(o.value);break;case"v4":i.uniforms[s].value=new kt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Jt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ke().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ie().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:Ez,SpriteMaterial:pM,RawShaderMaterial:L1,ShaderMaterial:lt,PointsMaterial:Nl,MeshPhysicalMaterial:su,MeshStandardMaterial:L3,MeshPhongMaterial:B6,MeshToonMaterial:Sz,MeshNormalMaterial:Em,MeshLambertMaterial:Cz,MeshDepthMaterial:gm,MeshDistanceMaterial:C6,MeshBasicMaterial:Pr,MeshMatcapMaterial:wz,LineDashedMaterial:Tz,LineBasicMaterial:mi,Material:fr};return new n[e]}}class Yl{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class L6 extends bt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Lz extends yi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Wr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(d,g){if(n[g]!==void 0)return n[g];const y=d.interleavedBuffers[g],A=s(d,y.buffer),x=Zp(y.type,A),E=new x3(x,y.stride);return E.uuid=y.uuid,n[g]=E,E}function s(d,g){if(r[g]!==void 0)return r[g];const y=d.arrayBuffers[g],A=new Uint32Array(y).buffer;return r[g]=A,A}const o=e.isInstancedBufferGeometry?new L6:new bt,a=e.data.index;if(a!==void 0){const d=Zp(a.type,a.array);o.setIndex(new Yt(d,1))}const l=e.data.attributes;for(const d in l){const g=l[d];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new Cf(y,g.itemSize,g.offset,g.normalized)}else{const y=Zp(g.type,g.array),A=g.isInstancedBufferAttribute?jl:Yt;v=new A(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(d,v)}const u=e.data.morphAttributes;if(u)for(const d in u){const g=u[d],v=[];for(let y=0,A=g.length;y<A;y++){const x=g[y];let E;if(x.isInterleavedBufferAttribute){const S=i(e.data,x.data);E=new Cf(S,x.itemSize,x.offset,x.normalized)}else{const S=Zp(x.type,x.array);E=new Yt(S,x.itemSize,x.normalized)}x.name!==void 0&&(E.name=x.name),v.push(E)}o.morphAttributes[d]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let d=0,g=f.length;d!==g;++d){const v=f[d];o.addGroup(v.start,v.count,v.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const d=new k;h.center!==void 0&&d.fromArray(h.center),o.boundingSphere=new ro(d,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class pie extends yi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Yl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Wr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Yl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Wr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new td().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new E3().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Lz;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in dR?a=dR[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new P6;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=j0.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Zp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new R6(n);s=new NA(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const d=[];for(let g=0,v=h.length;g<v;g++){const y=h[g],A=a(y);A!==null&&(A instanceof HTMLImageElement?d.push(A):d.push(new Xs(A.data,A.width,A.height)))}i[f.uuid]=new Vh(d)}else{const d=a(f.url);i[f.uuid]=new Vh(d)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Zp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new NA(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],g=await s(d);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new Xs(g.data,g.width,g.height)))}r[l.uuid]=new Vh(c)}else{const c=await s(l.url);r[l.uuid]=new Vh(c)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let c;Array.isArray(u)?(c=new y3,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Xs:c=new xn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,mie)),a.channel!==void 0&&(c.channel=a.channel),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],AR),c.wrapT=r(a.wrap[1],AR)),a.format!==void 0&&(c.format=a.format),a.internalFormat!==void 0&&(c.internalFormat=a.internalFormat),a.type!==void 0&&(c.type=a.type),a.colorSpace!==void 0&&(c.colorSpace=a.colorSpace),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,vR)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,vR)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.generateMipmaps!==void 0&&(c.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(c.compareFunction=a.compareFunction),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const d=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),d.push(r[y])}return d}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new Sf,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Be(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new T6(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new w6(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Hn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Of(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Rz(e.color,e.intensity);break;case"DirectionalLight":o=new RM(e.color,e.intensity);break;case"PointLight":o=new BM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Dz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new bM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Bz(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new D6().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new mM(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new sn(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const h=e.count,d=e.instanceMatrix,g=e.instanceColor;o=new gM(c,f,h),o.instanceMatrix=new jl(new Float32Array(d.array),16),g!==void 0&&(o.instanceColor=new jl(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new cz;break;case"Line":o=new tc(a(e.geometry),l(e.material));break;case"LineLoop":o=new AM(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ro(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Xu(a(e.geometry),l(e.material));break;case"Sprite":o=new uz(l(e.material));break;case"Group":o=new kl;break;case"Bone":o=new M6;break;default:o=new dn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let d=0;d<h.length;d++)o.add(this.parseObject(h[d],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let d=0;d<h.length;d++){const g=h[d];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let d=0;d<h.length;d++){const g=h[d],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const mie={UVMapping:p6,CubeReflectionMapping:xf,CubeRefractionMapping:Ef,EquirectangularReflectionMapping:CA,EquirectangularRefractionMapping:wA,CubeUVReflectionMapping:hm},AR={RepeatWrapping:ei,ClampToEdgeWrapping:Kn,MirroredRepeatWrapping:G0},vR={NearestFilter:ot,NearestMipmapNearestFilter:TA,NearestMipmapLinearFilter:m0,LinearFilter:ct,LinearMipmapNearestFilter:m6,LinearMipmapLinearFilter:Ma};class Fz extends yi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ad.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ad.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let $v;class DM{static getContext(){return $v===void 0&&($v=new(window.AudioContext||window.webkitAudioContext)),$v}static setContext(e){$v=e}}class gie extends yi{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Wr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);DM.getContext().decodeAudioData(u,function(f){n(f)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class Aie extends D6{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Be().set(e),s=new Be().set(n),o=new k(i.r,i.g,i.b),a=new k(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class vie extends D6{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Be().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const yR=new Ke,xR=new Ke,fh=new Ke;class yie{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Hn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Hn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,fh.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Zh*n.fov*.5)/n.zoom;let a,l;xR.elements[12]=-i,yR.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,fh.elements[0]=2*n.near/(l-a),fh.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(fh),a=-o*n.aspect-s,l=o*n.aspect-s,fh.elements[0]=2*n.near/(l-a),fh.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(fh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(xR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(yR)}}class F6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ER(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=ER();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function ER(){return(typeof performance>"u"?Date:performance).now()}const hh=new k,SR=new sr,xie=new k,dh=new k;class Eie extends dn{constructor(){super(),this.type="AudioListener",this.context=DM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new F6}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hh,SR,xie),dh.set(0,0,-1).applyQuaternion(SR),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(hh.x,i),n.positionY.linearRampToValueAtTime(hh.y,i),n.positionZ.linearRampToValueAtTime(hh.z,i),n.forwardX.linearRampToValueAtTime(dh.x,i),n.forwardY.linearRampToValueAtTime(dh.y,i),n.forwardZ.linearRampToValueAtTime(dh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(hh.x,hh.y,hh.z),n.setOrientation(dh.x,dh.y,dh.z,r.x,r.y,r.z)}}class Oz extends dn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const ph=new k,CR=new sr,Sie=new k,mh=new k;class Cie extends Oz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ph,CR,Sie),mh.set(0,0,1).applyQuaternion(CR);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(ph.x,r),n.positionY.linearRampToValueAtTime(ph.y,r),n.positionZ.linearRampToValueAtTime(ph.z,r),n.orientationX.linearRampToValueAtTime(mh.x,r),n.orientationY.linearRampToValueAtTime(mh.y,r),n.orientationZ.linearRampToValueAtTime(mh.z,r)}else n.setPosition(ph.x,ph.y,ph.z),n.setOrientation(mh.x,mh.y,mh.z)}}class wie{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Uz{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){sr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;sr.multiplyQuaternionsFlat(e,o,e,n,e,r),sr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const PM="\\[\\]\\.:\\/",Tie=new RegExp("["+PM+"]","g"),LM="[^"+PM+"]",Mie="[^"+PM.replace("\\.","")+"]",_ie=/((?:WC+[\/:])*)/.source.replace("WC",LM),Iie=/(WCOD+)?/.source.replace("WCOD",Mie),bie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",LM),Bie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",LM),Rie=new RegExp("^"+_ie+Iie+bie+Bie+"$"),Die=["material","materials","bones","map"];class Pie{constructor(e,n,r){const i=r||mn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class mn{constructor(e,n,r){this.path=n,this.parsedPath=r||mn.parseTrackName(n),this.node=mn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new mn.Composite(e,n,r):new mn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Tie,"")}static parseTrackName(e){const n=Rie.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Die.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=mn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}mn.Composite=Pie;mn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};mn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};mn.prototype.GetterByBindingType=[mn.prototype._getValue_direct,mn.prototype._getValue_array,mn.prototype._getValue_arrayElement,mn.prototype._getValue_toArray];mn.prototype.SetterByBindingTypeAndVersioning=[[mn.prototype._setValue_direct,mn.prototype._setValue_direct_setNeedsUpdate,mn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_array,mn.prototype._setValue_array_setNeedsUpdate,mn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_arrayElement,mn.prototype._setValue_arrayElement_setNeedsUpdate,mn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[mn.prototype._setValue_fromArray,mn.prototype._setValue_fromArray_setNeedsUpdate,mn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Lie{constructor(){this.isAnimationObjectGroup=!0,this.uuid=_o(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],d=h.uuid;let g=n[d];if(g===void 0){g=l++,n[d]=g,e.push(h);for(let v=0,y=o;v!==y;++v)s[v].push(new mn(h,r[v],i[v]))}else if(g<u){a=e[g];const v=--u,y=e[v];n[y.uuid]=g,e[g]=y,n[d]=v,e[v]=h;for(let A=0,x=o;A!==x;++A){const E=s[A],S=E[v];let w=E[g];E[g]=S,w===void 0&&(w=new mn(h,r[A],i[A])),E[v]=w}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=s){const f=s++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let d=0,g=i;d!==g;++d){const v=r[d],y=v[f],A=v[c];v[c]=y,v[f]=A}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<s){const h=--s,d=e[h],g=--o,v=e[g];n[d.uuid]=f,e[f]=d,n[v.uuid]=h,e[h]=v,e.pop();for(let y=0,A=i;y!==A;++y){const x=r[y],E=x[h],S=x[g];x[f]=E,x[h]=S,x.pop()}}else{const h=--o,d=e[h];h>0&&(n[d.uuid]=f),e[f]=d,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[h],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let h=c,d=l.length;h!==d;++h){const g=l[h];f[h]=new mn(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class kz{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Hh,endingEnd:Hh};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case iM:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case A6:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===kG;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===OG){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Qh,i.endingEnd=Qh):(e?i.endingStart=this.zeroSlopeAtStart?Qh:Hh:i.endingStart=RA,n?i.endingEnd=this.zeroSlopeAtEnd?Qh:Hh:i.endingEnd=RA)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Fie=new Float32Array(1);class Oie extends Ra{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const h=i[f],d=h.name;let g=c[d];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,d));continue}const v=n&&n._propertyBindings[f].binding.parsedPath;g=new Uz(mn.create(r,d,v),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,d),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new MM(new Float32Array(2),new Float32Array(2),1,Fie),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?j0.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=A6),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new kz(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?j0.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ae{constructor(e){this.value=e}clone(){return new ae(this.value.clone===void 0?this.value:this.value.clone())}}let Uie=0;class kie extends Ra{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Uie++}),this.name="",this.usage=DA,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Nie extends x3{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Gie{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class FM{constructor(e,n,r=0,i=1/0){this.ray=new dm(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new ed,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return mw(e,this,r,n),r.sort(wR),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)mw(e[i],this,r,n);return r.sort(wR),r}}function wR(t,e){return t.distance-e.distance}function mw(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)mw(i[s],e,n,!0)}}class O6{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(br(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zie{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const TR=new ie;class Nz{constructor(e=new ie(1/0,1/0),n=new ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=TR.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,TR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const MR=new k,ey=new k;class Hie{constructor(e=new k,n=new k){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){MR.subVectors(e,this.start),ey.subVectors(this.end,this.start);const r=ey.dot(ey);let s=ey.dot(MR)/r;return n&&(s=br(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _R=new k;class Qie extends dn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new bt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new at(i,3));const s=new mi({fog:!1,toneMapped:!1});this.cone=new Ro(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),_R.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_R),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Pc=new k,ty=new Ke,S8=new Ke;class Vie extends Ro{constructor(e){const n=Gz(e),r=new bt,i=[],s=[],o=new Be(0,0,1),a=new Be(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new at(i,3)),r.setAttribute("color",new at(s,3));const l=new mi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");S8.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(ty.multiplyMatrices(S8,a.matrixWorld),Pc.setFromMatrixPosition(ty),i.setXYZ(o,Pc.x,Pc.y,Pc.z),ty.multiplyMatrices(S8,a.parent.matrixWorld),Pc.setFromMatrixPosition(ty),i.setXYZ(o+1,Pc.x,Pc.y,Pc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Gz(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Gz(t.children[n]));return e}class Wie extends sn{constructor(e,n,r){const i=new ym(n,4,2),s=new Pr({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const jie=new k,IR=new Be,bR=new Be;class Xie extends dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new vm(n);i.rotateY(Math.PI*.5),this.material=new Pr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Yt(o,3)),this.add(new sn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");IR.copy(this.light.color),bR.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?IR:bR;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(jie.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Yie extends Ro{constructor(e=10,n=10,r=4473924,i=8947848){r=new Be(r),i=new Be(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let h=0,d=0,g=-a;h<=n;h++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=h===s?r:i;v.toArray(u,d),d+=3,v.toArray(u,d),d+=3,v.toArray(u,d),d+=3,v.toArray(u,d),d+=3}const c=new bt;c.setAttribute("position",new at(l,3)),c.setAttribute("color",new at(u,3));const f=new mi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kie extends Ro{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Be(s),o=new Be(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),d=Math.sin(h)*e,g=Math.cos(h)*e;a.push(0,0,0),a.push(d,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const h=f&1?s:o,d=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*d,A=Math.cos(v)*d;a.push(y,0,A),l.push(h.r,h.g,h.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*d,A=Math.cos(v)*d,a.push(y,0,A),l.push(h.r,h.g,h.b)}}const u=new bt;u.setAttribute("position",new at(a,3)),u.setAttribute("color",new at(l,3));const c=new mi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const BR=new k,ny=new k,RR=new k;class Jie extends dn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new bt;i.setAttribute("position",new at([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new mi({fog:!1,toneMapped:!1});this.lightPlane=new tc(i,s),this.add(this.lightPlane),i=new bt,i.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new tc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),BR.setFromMatrixPosition(this.light.matrixWorld),ny.setFromMatrixPosition(this.light.target.matrixWorld),RR.subVectors(ny,BR),this.lightPlane.lookAt(ny),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ny),this.targetLine.scale.z=RR.length()}}const ry=new k,_r=new pm;class qie extends Ro{constructor(e){const n=new bt,r=new mi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new at(i,3)),n.setAttribute("color",new at(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new Be(16755200),c=new Be(16711680),f=new Be(43775),h=new Be(16777215),d=new Be(3355443);this.setColors(u,c,f,h,d)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;_r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Gr("c",n,e,_r,0,0,-1),Gr("t",n,e,_r,0,0,1),Gr("n1",n,e,_r,-r,-i,-1),Gr("n2",n,e,_r,r,-i,-1),Gr("n3",n,e,_r,-r,i,-1),Gr("n4",n,e,_r,r,i,-1),Gr("f1",n,e,_r,-r,-i,1),Gr("f2",n,e,_r,r,-i,1),Gr("f3",n,e,_r,-r,i,1),Gr("f4",n,e,_r,r,i,1),Gr("u1",n,e,_r,r*.7,i*1.1,-1),Gr("u2",n,e,_r,-r*.7,i*1.1,-1),Gr("u3",n,e,_r,0,i*2,-1),Gr("cf1",n,e,_r,-r,0,1),Gr("cf2",n,e,_r,r,0,1),Gr("cf3",n,e,_r,0,-i,1),Gr("cf4",n,e,_r,0,i,1),Gr("cn1",n,e,_r,-r,0,-1),Gr("cn2",n,e,_r,r,0,-1),Gr("cn3",n,e,_r,0,-i,-1),Gr("cn4",n,e,_r,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Gr(t,e,n,r,i,s,o){ry.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],ry.x,ry.y,ry.z)}}const iy=new No;class Zie extends Ro{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new bt;s.setIndex(new Yt(r,1)),s.setAttribute("position",new Yt(i,3)),super(s,new mi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&iy.setFromObject(this.object),iy.isEmpty())return;const n=iy.min,r=iy.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $ie extends Ro{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new bt;s.setIndex(new Yt(r,1)),s.setAttribute("position",new at(i,3)),super(s,new mi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ese extends tc{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new bt;o.setAttribute("position",new at(s,3)),o.computeBoundingSphere(),super(o,new mi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new bt;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new sn(l,new Pr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DR=new k;let sy,C8;class tse extends dn{constructor(e=new k(0,0,1),n=new k(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",sy===void 0&&(sy=new bt,sy.setAttribute("position",new at([0,0,0,0,1,0],3)),C8=new Bd(0,.5,1,5,1),C8.translate(0,-.5,0)),this.position.copy(n),this.line=new tc(sy,new mi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new sn(C8,new Pr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DR.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(DR,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class nse extends Ro{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new bt;i.setAttribute("position",new at(n,3)),i.setAttribute("color",new at(r,3));const s=new mi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Be,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zz{constructor(){this.type="ShapePath",this.color=new Be,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new FA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(A){const x=[];for(let E=0,S=A.length;E<S;E++){const w=A[E],M=new td;M.curves=w.curves,x.push(M)}return x}function r(A,x){const E=x.length;let S=!1;for(let w=E-1,M=0;M<E;w=M++){let _=x[w],b=x[M],I=b.x-_.x,B=b.y-_.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(_=x[M],I=-I,b=x[w],B=-B),A.y<_.y||A.y>b.y)continue;if(A.y===_.y){if(A.x===_.x)return!0}else{const L=B*(A.x-_.x)-I*(A.y-_.y);if(L===0)return!0;if(L<0)continue;S=!S}}else{if(A.y!==_.y)continue;if(b.x<=A.x&&A.x<=_.x||_.x<=A.x&&A.x<=b.x)return!0}}return S}const i=Xl.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new td,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],h=[];let d=[],g=0,v;h[g]=void 0,d[g]=[];for(let A=0,x=s.length;A<x;A++)a=s[A],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new td,p:v},h[g].s.curves=a.curves,c&&g++,d[g]=[]):d[g].push({h:a,p:v[0]});if(!h[0])return n(s);if(h.length>1){let A=!1,x=0;for(let E=0,S=h.length;E<S;E++)f[E]=[];for(let E=0,S=h.length;E<S;E++){const w=d[E];for(let M=0;M<w.length;M++){const _=w[M];let b=!0;for(let I=0;I<h.length;I++)r(_.p,h[I].p)&&(E!==I&&x++,b?(b=!1,f[I].push(_)):A=!0);b&&f[E].push(_)}}x>0&&A===!1&&(d=f)}let y;for(let A=0,x=h.length;A<x;A++){l=h[A].s,u.push(l),y=d[A];for(let E=0,S=y.length;E<S;E++)l.holes.push(y[E].h)}return u}}class rse extends cc{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class ise extends C3{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class sse extends w3{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class ose extends T3{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class ase extends Bd{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class lse extends M3{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class use extends _3{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class cse extends I3{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class fse extends Am{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class hse extends vm{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class dse extends iu{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class pse extends fc{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class Hz extends b3{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class mse extends B3{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class gse extends ym{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class Ase extends R3{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class vse extends D3{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class yse extends P3{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class Qz extends xm{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:no}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=no);const xse=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:q9,AddEquation:vo,AddOperation:MG,AdditiveAnimationBlendMode:iM,AdditiveBlending:k0,AlphaFormat:PG,AlwaysCompare:KG,AlwaysDepth:Y9,AlwaysStencilFunc:zG,AmbientLight:Rz,AmbientLightProbe:vie,AnimationAction:kz,AnimationClip:j0,AnimationLoader:aie,AnimationMixer:Oie,AnimationObjectGroup:Lie,AnimationUtils:rie,ArcCurve:hz,ArrayCamera:oz,ArrowHelper:tse,Audio:Oz,AudioAnalyser:wie,AudioContext:DM,AudioListener:Eie,AudioLoader:gie,AxesHelper:nse,BackSide:Vr,BasicDepthPacking:ti,BasicShadowMap:gG,Bone:M6,BooleanKeyframeTrack:Rd,Box2:Nz,Box3:No,Box3Helper:$ie,BoxBufferGeometry:rse,BoxGeometry:cc,BoxHelper:Zie,BufferAttribute:Yt,BufferGeometry:bt,BufferGeometryLoader:Lz,ByteType:RG,Cache:Ad,Camera:pm,CameraHelper:qie,CanvasTexture:fz,CapsuleBufferGeometry:ise,CapsuleGeometry:C3,CatmullRomCurve3:dz,CineonToneMapping:bG,CircleBufferGeometry:sse,CircleGeometry:w3,ClampToEdgeWrapping:Kn,Clock:F6,Color:Be,ColorKeyframeTrack:_M,ColorManagement:na,CompressedArrayTexture:_re,CompressedTexture:md,CompressedTextureLoader:lie,ConeBufferGeometry:ose,ConeGeometry:T3,CubeCamera:fM,CubeReflectionMapping:xf,CubeRefractionMapping:Ef,CubeTexture:y3,CubeTextureLoader:uie,CubeUVReflectionMapping:hm,CubicBezierCurve:yM,CubicBezierCurve3:pz,CubicInterpolant:_z,CullFaceBack:NC,CullFaceFront:mG,CullFaceFrontBack:Dq,CullFaceNone:pG,Curve:Da,CurvePath:mz,CustomBlending:vA,CustomToneMapping:BG,CylinderBufferGeometry:ase,CylinderGeometry:Bd,Cylindrical:zie,Data3DTexture:$h,DataArrayTexture:v6,DataTexture:Xs,DataTextureLoader:cie,DataUtils:NZ,DecrementStencilOp:zq,DecrementWrapStencilOp:Qq,DefaultLoadingManager:t0,DepthFormat:df,DepthStencilFormat:ec,DepthTexture:Uf,DirectionalLight:RM,DirectionalLightHelper:Jie,DiscreteInterpolant:Iz,DisplayP3ColorSpace:oM,DodecahedronBufferGeometry:lse,DodecahedronGeometry:M3,DoubleSide:$r,DstAlphaFactor:f6,DstColorFactor:h6,DynamicCopyUsage:rZ,DynamicDrawUsage:u5,DynamicReadUsage:eZ,EdgesGeometry:gz,EllipseCurve:S3,EqualCompare:VG,EqualDepth:SA,EqualStencilFunc:Xq,EquirectangularReflectionMapping:CA,EquirectangularRefractionMapping:wA,Euler:bd,EventDispatcher:Ra,ExtrudeBufferGeometry:use,ExtrudeGeometry:_3,FileLoader:Wr,Float16BufferAttribute:WZ,Float32BufferAttribute:at,Float64BufferAttribute:jZ,FloatType:Un,Fog:T6,FogExp2:w6,FramebufferTexture:fw,FrontSide:Ta,Frustum:E6,GLBufferAttribute:Gie,GLSL1:sZ,GLSL3:tx,GreaterCompare:jG,GreaterDepth:J9,GreaterEqualCompare:YG,GreaterEqualDepth:K9,GreaterEqualStencilFunc:qq,GreaterStencilFunc:Kq,GridHelper:Yie,Group:kl,HalfFloatType:Ln,HemisphereLight:Bz,HemisphereLightHelper:Xie,HemisphereLightProbe:Aie,IcosahedronBufferGeometry:cse,IcosahedronGeometry:I3,ImageBitmapLoader:Fz,ImageLoader:NA,ImageUtils:lM,IncrementStencilOp:Gq,IncrementWrapStencilOp:Hq,InstancedBufferAttribute:jl,InstancedBufferGeometry:L6,InstancedInterleavedBuffer:Nie,InstancedMesh:gM,Int16BufferAttribute:QZ,Int32BufferAttribute:VZ,Int8BufferAttribute:GZ,IntType:Z9,InterleavedBuffer:x3,InterleavedBufferAttribute:Cf,Interpolant:Sm,InterpolateDiscrete:z0,InterpolateLinear:pd,InterpolateSmooth:a5,InvertStencilOp:Vq,KeepStencilOp:l5,KeyframeTrack:fl,LOD:cz,LatheBufferGeometry:fse,LatheGeometry:Am,Layers:ed,LessCompare:QG,LessDepth:$5,LessEqualCompare:WG,LessEqualDepth:EA,LessEqualStencilFunc:Yq,LessStencilFunc:jq,Light:Nf,LightProbe:D6,Line:tc,Line3:Hie,LineBasicMaterial:mi,LineCurve:_6,LineCurve3:I6,LineDashedMaterial:Tz,LineLoop:AM,LineSegments:Ro,LinearEncoding:v3,LinearFilter:ct,LinearInterpolant:MM,LinearMipMapLinearFilter:Uq,LinearMipMapNearestFilter:Oq,LinearMipmapLinearFilter:Ma,LinearMipmapNearestFilter:m6,LinearSRGBColorSpace:il,LinearToneMapping:_G,Loader:yi,LoaderUtils:Yl,LoadingManager:R6,LoopOnce:OG,LoopPingPong:kG,LoopRepeat:UG,LuminanceAlphaFormat:LG,LuminanceFormat:A3,MOUSE:Bq,Material:fr,MaterialLoader:P6,MathUtils:So,Matrix3:Jt,Matrix4:Ke,MaxEquation:QC,Mesh:sn,MeshBasicMaterial:Pr,MeshDepthMaterial:gm,MeshDistanceMaterial:C6,MeshLambertMaterial:Cz,MeshMatcapMaterial:wz,MeshNormalMaterial:Em,MeshPhongMaterial:B6,MeshPhysicalMaterial:su,MeshStandardMaterial:L3,MeshToonMaterial:Sz,MinEquation:HC,MirroredRepeatWrapping:G0,MixOperation:TG,MultiplyBlending:zC,MultiplyOperation:g3,NearestFilter:ot,NearestMipMapLinearFilter:Fq,NearestMipMapNearestFilter:Lq,NearestMipmapLinearFilter:m0,NearestMipmapNearestFilter:TA,NeverCompare:HG,NeverDepth:X9,NeverStencilFunc:Wq,NoBlending:Ct,NoColorSpace:ju,NoToneMapping:Mo,NormalAnimationBlendMode:A6,NormalBlending:Vl,NotEqualCompare:XG,NotEqualDepth:d6,NotEqualStencilFunc:Jq,NumberKeyframeTrack:V0,Object3D:dn,ObjectLoader:pie,ObjectSpaceNormalMap:GG,OctahedronBufferGeometry:hse,OctahedronGeometry:vm,OneFactor:yG,OneMinusDstAlphaFactor:SG,OneMinusDstColorFactor:CG,OneMinusSrcAlphaFactor:xA,OneMinusSrcColorFactor:EG,OrthographicCamera:Of,PCFShadowMap:c6,PCFSoftShadowMap:b1,PMREMGenerator:ix,Path:FA,PerspectiveCamera:Hn,Plane:ua,PlaneBufferGeometry:dse,PlaneGeometry:iu,PlaneHelper:ese,PointLight:BM,PointLightHelper:Wie,Points:Xu,PointsMaterial:Nl,PolarGridHelper:Kie,PolyhedronBufferGeometry:pse,PolyhedronGeometry:fc,PositionalAudio:Cie,PropertyBinding:mn,PropertyMixer:Uz,QuadraticBezierCurve:xM,QuadraticBezierCurve3:EM,Quaternion:sr,QuaternionKeyframeTrack:wf,QuaternionLinearInterpolant:bz,RED_GREEN_RGTC2_Format:ow,RED_RGTC1_Format:FG,REVISION:no,RGBADepthPacking:_a,RGBAFormat:yn,RGBAIntegerFormat:rM,RGBA_ASTC_10x10_Format:nw,RGBA_ASTC_10x5_Format:$C,RGBA_ASTC_10x6_Format:ew,RGBA_ASTC_10x8_Format:tw,RGBA_ASTC_12x10_Format:rw,RGBA_ASTC_12x12_Format:iw,RGBA_ASTC_4x4_Format:BA,RGBA_ASTC_5x4_Format:jC,RGBA_ASTC_5x5_Format:XC,RGBA_ASTC_6x5_Format:YC,RGBA_ASTC_6x6_Format:KC,RGBA_ASTC_8x5_Format:JC,RGBA_ASTC_8x6_Format:qC,RGBA_ASTC_8x8_Format:ZC,RGBA_BPTC_Format:v0,RGBA_ETC2_EAC_Format:bA,RGBA_PVRTC_2BPPV1_Format:WC,RGBA_PVRTC_4BPPV1_Format:_A,RGBA_S3TC_DXT1_Format:s5,RGBA_S3TC_DXT3_Format:o5,RGBA_S3TC_DXT5_Format:A0,RGB_ETC1_Format:g6,RGB_ETC2_Format:IA,RGB_PVRTC_2BPPV1_Format:VC,RGB_PVRTC_4BPPV1_Format:MA,RGB_S3TC_DXT1_Format:g0,RGFormat:zh,RGIntegerFormat:nM,RawShaderMaterial:L1,Ray:dm,Raycaster:FM,RectAreaLight:Dz,RedFormat:Qu,RedIntegerFormat:tM,ReinhardToneMapping:IG,RepeatWrapping:ei,ReplaceStencilOp:Nq,ReverseSubtractEquation:vG,RingBufferGeometry:Hz,RingGeometry:b3,SIGNED_RED_GREEN_RGTC2_Format:aw,SIGNED_RED_RGTC1_Format:sw,SRGBColorSpace:Kt,Scene:Sf,ShaderChunk:St,ShaderLib:Ka,ShaderMaterial:lt,ShadowMaterial:Ez,Shape:td,ShapeBufferGeometry:mse,ShapeGeometry:B3,ShapePath:zz,ShapeUtils:Xl,ShortType:DG,Skeleton:E3,SkeletonHelper:Vie,SkinnedMesh:mM,Source:Vh,Sphere:ro,SphereBufferGeometry:gse,SphereGeometry:ym,Spherical:O6,SphericalHarmonics3:Pz,SplineCurve:SM,SpotLight:bM,SpotLightHelper:Qie,Sprite:uz,SpriteMaterial:pM,SrcAlphaFactor:yA,SrcAlphaSaturateFactor:wG,SrcColorFactor:xG,StaticCopyUsage:nZ,StaticDrawUsage:DA,StaticReadUsage:$q,StereoCamera:yie,StreamCopyUsage:iZ,StreamDrawUsage:Zq,StreamReadUsage:tZ,StringKeyframeTrack:Dd,SubtractEquation:AG,SubtractiveBlending:GC,TOUCH:Rq,TangentSpaceNormalMap:uc,TetrahedronBufferGeometry:Ase,TetrahedronGeometry:R3,Texture:xn,TextureLoader:kf,TorusBufferGeometry:vse,TorusGeometry:D3,TorusKnotBufferGeometry:yse,TorusKnotGeometry:P3,Triangle:Cs,TriangleFanDrawMode:ex,TriangleStripDrawMode:sM,TrianglesDrawMode:NG,TubeBufferGeometry:Qz,TubeGeometry:xm,TwoPassDoubleSide:Pq,UVMapping:p6,Uint16BufferAttribute:cM,Uint32BufferAttribute:y6,Uint8BufferAttribute:zZ,Uint8ClampedBufferAttribute:HZ,Uniform:ae,UniformsGroup:kie,UniformsLib:tt,UniformsUtils:rr,UnsignedByteType:an,UnsignedInt248Type:Wl,UnsignedIntType:Ol,UnsignedShort4444Type:$9,UnsignedShort5551Type:eM,UnsignedShortType:Id,VSMShadowMap:ja,Vector2:ie,Vector3:k,Vector4:kt,VectorKeyframeTrack:W0,VideoTexture:sx,WebGL1Renderer:az,WebGL3DRenderTarget:bZ,WebGLArrayRenderTarget:IZ,WebGLCoordinateSystem:Ul,WebGLCubeRenderTarget:x6,WebGLMultipleRenderTargets:uM,WebGLRenderTarget:Tt,WebGLRenderer:dM,WebGLUtils:sz,WebGPUCoordinateSystem:PA,WireframeGeometry:xz,WrapAroundEnding:RA,ZeroCurvatureEnding:Hh,ZeroFactor:N0,ZeroSlopeEnding:Qh,ZeroStencilOp:kq,_SRGBAFormat:nx,sRGBEncoding:xa},Symbol.toStringTag,{value:"Module"}));var Vz={exports:{}},Pd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Pd.ConcurrentRoot=1;Pd.ContinuousEventPriority=4;Pd.DefaultEventPriority=16;Pd.DiscreteEventPriority=1;Pd.IdleEventPriority=536870912;Pd.LegacyRoot=0;Vz.exports=Pd;var n0=Vz.exports;function Ese(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function d(){const g=c(e);if(!f(h,g)){const v=h;u(h=g,v)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Sse=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),PR=Sse?D.useEffect:D.useLayoutEffect;function Wz(t){const e=typeof t=="function"?Ese(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=D.useReducer(y=>y+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(r),u=D.useRef(i),c=D.useRef(!1),f=D.useRef();f.current===void 0&&(f.current=r(o));let h,d=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),d=!i(f.current,h)),PR(()=>{d&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=D.useRef(o);PR(()=>{const y=()=>{try{const x=e.getState(),E=l.current(x);u.current(f.current,E)||(a.current=x,f.current=E,s())}catch{c.current=!0,s()}},A=e.subscribe(y);return e.getState()!==g.current&&y(),A},[]);const v=d?h:f.current;return D.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var jz={exports:{}},Xz={exports:{}},Yz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var j=z.length;z.push(W);e:for(;0<j;){var Q=j-1>>>1,H=z[Q];if(0<i(H,W))z[Q]=W,z[j]=H,j=Q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],j=z.pop();if(j!==W){z[0]=j;e:for(var Q=0,H=z.length,ee=H>>>1;Q<ee;){var Z=2*(Q+1)-1,ne=z[Z],oe=Z+1,se=z[oe];if(0>i(ne,j))oe<H&&0>i(se,ne)?(z[Q]=se,z[oe]=j,Q=oe):(z[Q]=ne,z[Z]=j,Q=Z);else if(oe<H&&0>i(se,j))z[Q]=se,z[oe]=j,Q=oe;else break e}}return W}function i(z,W){var j=z.sortIndex-W.sortIndex;return j!==0?j:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,h=3,d=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=z)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function S(z){if(v=!1,E(z),!g)if(n(l)!==null)g=!0,Y(w);else{var W=n(u);W!==null&&J(S,W.startTime-z)}}function w(z,W){g=!1,v&&(v=!1,A(b),b=-1),d=!0;var j=h;try{for(E(W),f=n(l);f!==null&&(!(f.expirationTime>W)||z&&!L());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var H=Q(f.expirationTime<=W);W=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),E(W)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var Z=n(u);Z!==null&&J(S,Z.startTime-W),ee=!1}return ee}finally{f=null,h=j,d=!1}}var M=!1,_=null,b=-1,I=5,B=-1;function L(){return!(t.unstable_now()-B<I)}function F(){if(_!==null){var z=t.unstable_now();B=z;var W=!0;try{W=_(!0,z)}finally{W?O():(M=!1,_=null)}}else M=!1}var O;if(typeof x=="function")O=function(){x(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,V=G.port2;G.port1.onmessage=F,O=function(){V.postMessage(null)}}else O=function(){y(F,0)};function Y(z){_=z,M||(M=!0,O())}function J(z,W){b=y(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){g||d||(g=!0,Y(w))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var j=h;h=W;try{return z()}finally{h=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var j=h;h=z;try{return W()}finally{h=j}},t.unstable_scheduleCallback=function(z,W,j){var Q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,z){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=j+H,z={id:c++,callback:W,priorityLevel:z,startTime:j,expirationTime:H,sortIndex:-1},j>Q?(z.sortIndex=j,e(u,z),n(l)===null&&z===n(u)&&(v?(A(b),b=-1):v=!0,J(S,j-Q))):(z.sortIndex=H,e(l,z),g||d||(g=!0,Y(w))),z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(z){var W=h;return function(){var j=h;h=W;try{return z.apply(this,arguments)}finally{h=j}}}})(Yz);Xz.exports=Yz;var gw=Xz.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cse=function(e){var n={},r=D,i=gw,s=Object.assign;function o(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,C=1;C<arguments.length;C++)m+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),w=Symbol.iterator;function M(p){return p===null||typeof p!="object"?null:(p=w&&p[w]||p["@@iterator"],typeof p=="function"?p:null)}function _(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case A:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case g:return(p.displayName||"Context")+".Consumer";case d:return(p._context.displayName||"Context")+".Provider";case v:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case x:return m=p.displayName||null,m!==null?m:_(p.type)||"Memo";case E:m=p._payload,p=p._init;try{return _(p(m))}catch{}}return null}function b(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function I(p){var m=p,C=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(C=m.return),p=m.return;while(p)}return m.tag===3?C:null}function B(p){if(I(p)!==p)throw Error(o(188))}function L(p){var m=p.alternate;if(!m){if(m=I(p),m===null)throw Error(o(188));return m!==p?null:p}for(var C=p,T=m;;){var R=C.return;if(R===null)break;var P=R.alternate;if(P===null){if(T=R.return,T!==null){C=T;continue}break}if(R.child===P.child){for(P=R.child;P;){if(P===C)return B(R),p;if(P===T)return B(R),m;P=P.sibling}throw Error(o(188))}if(C.return!==T.return)C=R,T=P;else{for(var q=!1,le=R.child;le;){if(le===C){q=!0,C=R,T=P;break}if(le===T){q=!0,T=R,C=P;break}le=le.sibling}if(!q){for(le=P.child;le;){if(le===C){q=!0,C=P,T=R;break}if(le===T){q=!0,T=P,C=R;break}le=le.sibling}if(!q)throw Error(o(189))}}if(C.alternate!==T)throw Error(o(190))}if(C.tag!==3)throw Error(o(188));return C.stateNode.current===C?p:m}function F(p){return p=L(p),p!==null?O(p):null}function O(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=O(p);if(m!==null)return m;p=p.sibling}return null}function G(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=G(p);if(m!==null)return m}p=p.sibling}return null}var V=Array.isArray,Y=e.getPublicInstance,J=e.getRootHostContext,z=e.getChildHostContext,W=e.prepareForCommit,j=e.resetAfterCommit,Q=e.createInstance,H=e.appendInitialChild,ee=e.finalizeInitialChildren,Z=e.prepareUpdate,ne=e.shouldSetTextContent,oe=e.createTextInstance,se=e.scheduleTimeout,he=e.cancelTimeout,we=e.noTimeout,ke=e.isPrimaryRenderer,Se=e.supportsMutation,X=e.supportsPersistence,ve=e.supportsHydration,de=e.getInstanceFromNode,xe=e.preparePortalMount,pe=e.getCurrentEventPriority,je=e.detachDeletedInstance,Ae=e.supportsMicrotasks,Le=e.scheduleMicrotask,Ue=e.supportsTestSelectors,Ce=e.findFiberRoot,Je=e.getBoundingRect,N=e.getTextContent,U=e.isHiddenSubtree,re=e.matchAccessibilityRole,_e=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,Ie=e.appendChild,He=e.appendChildToContainer,Ne=e.commitTextUpdate,ge=e.commitMount,Ge=e.commitUpdate,qe=e.insertBefore,Ve=e.insertInContainerBefore,Oe=e.removeChild,ze=e.removeChildFromContainer,it=e.resetTextContent,vt=e.hideInstance,$=e.hideTextInstance,Qe=e.unhideInstance,me=e.unhideTextInstance,Xe=e.clearContainer,et=e.cloneInstance,zt=e.createContainerChildSet,nn=e.appendChildToContainerChildSet,on=e.finalizeContainerChildren,gn=e.replaceContainerChildren,_n=e.cloneHiddenInstance,un=e.cloneHiddenTextInstance,Zt=e.canHydrateInstance,Qi=e.canHydrateTextInstance,xi=e.canHydrateSuspenseInstance,Sn=e.isSuspenseInstancePending,Qn=e.isSuspenseInstanceFallback,Di=e.registerSuspenseInstanceRetry,kn=e.getNextHydratableSibling,hr=e.getFirstHydratableChild,si=e.getFirstHydratableChildWithinContainer,Ho=e.getFirstHydratableChildWithinSuspenseInstance,ls=e.hydrateInstance,K=e.hydrateTextInstance,ye=e.hydrateSuspenseInstance,De=e.getNextHydratableInstanceAfterSuspenseInstance,fe=e.commitHydratedContainer,Pe=e.commitHydratedSuspenseInstance,ut=e.clearSuspenseBoundary,Et=e.clearSuspenseBoundaryFromContainer,Mt=e.shouldDeleteUnhydratedTailInstances,Dt=e.didNotMatchHydratedContainerTextInstance,Qt=e.didNotMatchHydratedTextInstance,We;function _t(p){if(We===void 0)try{throw Error()}catch(C){var m=C.stack.trim().match(/\n( *(at )?)/);We=m&&m[1]||""}return`
`+We+p}var In=!1;function Cn(p,m){if(!p||In)return"";In=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ze){var T=Ze}Reflect.construct(p,[],m)}else{try{m.call()}catch(Ze){T=Ze}p.call(m.prototype)}else{try{throw Error()}catch(Ze){T=Ze}p()}}catch(Ze){if(Ze&&T&&typeof Ze.stack=="string"){for(var R=Ze.stack.split(`
`),P=T.stack.split(`
`),q=R.length-1,le=P.length-1;1<=q&&0<=le&&R[q]!==P[le];)le--;for(;1<=q&&0<=le;q--,le--)if(R[q]!==P[le]){if(q!==1||le!==1)do if(q--,le--,0>le||R[q]!==P[le]){var Re=`
`+R[q].replace(" at new "," at ");return p.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",p.displayName)),Re}while(1<=q&&0<=le);break}}}finally{In=!1,Error.prepareStackTrace=C}return(p=p?p.displayName||p.name:"")?_t(p):""}var Ei=Object.prototype.hasOwnProperty,Vi=[],bn=-1;function Lt(p){return{current:p}}function pn(p){0>bn||(p.current=Vi[bn],Vi[bn]=null,bn--)}function Ft(p,m){bn++,Vi[bn]=p.current,p.current=m}var Or={},Tr=Lt(Or),lr=Lt(!1),Rs=Or;function Fn(p,m){var C=p.type.contextTypes;if(!C)return Or;var T=p.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var R={},P;for(P in C)R[P]=m[P];return T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=R),R}function Vn(p){return p=p.childContextTypes,p!=null}function us(){pn(lr),pn(Tr)}function jr(p,m,C){if(Tr.current!==Or)throw Error(o(168));Ft(Tr,m),Ft(lr,C)}function vl(p,m,C){var T=p.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return C;T=T.getChildContext();for(var R in T)if(!(R in m))throw Error(o(108,b(p)||"Unknown",R));return s({},C,T)}function yl(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Or,Rs=Tr.current,Ft(Tr,p),Ft(lr,lr.current),!0}function Wi(p,m,C){var T=p.stateNode;if(!T)throw Error(o(169));C?(p=vl(p,m,Rs),T.__reactInternalMemoizedMergedChildContext=p,pn(lr),pn(Tr),Ft(Tr,p)):pn(lr),Ft(lr,C)}var io=Math.clz32?Math.clz32:h2,Gd=Math.log,Wf=Math.LN2;function h2(p){return p>>>=0,p===0?32:31-(Gd(p)/Wf|0)|0}var du=64,pu=4194304;function mu(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function jf(p,m){var C=p.pendingLanes;if(C===0)return 0;var T=0,R=p.suspendedLanes,P=p.pingedLanes,q=C&268435455;if(q!==0){var le=q&~R;le!==0?T=mu(le):(P&=q,P!==0&&(T=mu(P)))}else q=C&~R,q!==0?T=mu(q):P!==0&&(T=mu(P));if(T===0)return 0;if(m!==0&&m!==T&&!(m&R)&&(R=T&-T,P=m&-m,R>=P||R===16&&(P&4194240)!==0))return m;if(T&4&&(T|=C&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=T;0<m;)C=31-io(m),R=1<<C,T|=p[C],m&=~R;return T}function d2(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function km(p,m){for(var C=p.suspendedLanes,T=p.pingedLanes,R=p.expirationTimes,P=p.pendingLanes;0<P;){var q=31-io(P),le=1<<q,Re=R[q];Re===-1?(!(le&C)||le&T)&&(R[q]=d2(le,m)):Re<=m&&(p.expiredLanes|=le),P&=~le}}function gu(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function zd(p){for(var m=[],C=0;31>C;C++)m.push(p);return m}function xl(p,m,C){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-io(m),p[m]=C}function vc(p,m){var C=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var T=p.eventTimes;for(p=p.expirationTimes;0<C;){var R=31-io(C),P=1<<R;m[R]=0,T[R]=-1,p[R]=-1,C&=~P}}function El(p,m){var C=p.entangledLanes|=m;for(p=p.entanglements;C;){var T=31-io(C),R=1<<T;R&m|p[T]&m&&(p[T]|=m),C&=~R}}var rn=0;function Nm(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var Au=i.unstable_scheduleCallback,Hd=i.unstable_cancelCallback,Gm=i.unstable_shouldYield,p2=i.unstable_requestPaint,dr=i.unstable_now,Xf=i.unstable_ImmediatePriority,m2=i.unstable_UserBlockingPriority,cs=i.unstable_NormalPriority,zm=i.unstable_IdlePriority,Yf=null,so=null;function Hm(p){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(Yf,p,void 0,(p.current.flags&128)===128)}catch{}}function g2(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var oo=typeof Object.is=="function"?Object.is:g2,fs=null,Sl=!1,Qo=!1;function Qm(p){fs===null?fs=[p]:fs.push(p)}function Vm(p){Sl=!0,Qm(p)}function Ds(){if(!Qo&&fs!==null){Qo=!0;var p=0,m=rn;try{var C=fs;for(rn=1;p<C.length;p++){var T=C[p];do T=T(!0);while(T!==null)}fs=null,Sl=!1}catch(R){throw fs!==null&&(fs=fs.slice(p+1)),Au(Xf,Ds),R}finally{rn=m,Qo=!1}}return null}var Kf=a.ReactCurrentBatchConfig;function Jf(p,m){if(oo(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var C=Object.keys(p),T=Object.keys(m);if(C.length!==T.length)return!1;for(T=0;T<C.length;T++){var R=C[T];if(!Ei.call(m,R)||!oo(p[R],m[R]))return!1}return!0}function qf(p){switch(p.tag){case 5:return _t(p.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return p=Cn(p.type,!1),p;case 11:return p=Cn(p.type.render,!1),p;case 1:return p=Cn(p.type,!0),p;default:return""}}function hs(p,m){if(p&&p.defaultProps){m=s({},m),p=p.defaultProps;for(var C in p)m[C]===void 0&&(m[C]=p[C]);return m}return m}var Si=Lt(null),Qd=null,Ua=null,yc=null;function Vd(){yc=Ua=Qd=null}function A2(p,m,C){ke?(Ft(Si,m._currentValue),m._currentValue=C):(Ft(Si,m._currentValue2),m._currentValue2=C)}function Ci(p){var m=Si.current;pn(Si),ke?p._currentValue=m:p._currentValue2=m}function ds(p,m,C){for(;p!==null;){var T=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),p===C)break;p=p.return}}function Ur(p,m){Qd=p,yc=Ua=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(co=!0),p.firstContext=null)}function kr(p){var m=ke?p._currentValue:p._currentValue2;if(yc!==p)if(p={context:p,memoizedValue:m,next:null},Ua===null){if(Qd===null)throw Error(o(308));Ua=p,Qd.dependencies={lanes:0,firstContext:p}}else Ua=Ua.next=p;return m}var ao=null,xc=!1;function M4(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T_(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function vu(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function Ec(p,m){var C=p.updateQueue;C!==null&&(C=C.shared,Xr!==null&&p.mode&1&&!(tn&2)?(p=C.interleaved,p===null?(m.next=m,ao===null?ao=[C]:ao.push(C)):(m.next=p.next,p.next=m),C.interleaved=m):(p=C.pending,p===null?m.next=m:(m.next=p.next,p.next=m),C.pending=m))}function v2(p,m,C){if(m=m.updateQueue,m!==null&&(m=m.shared,(C&4194240)!==0)){var T=m.lanes;T&=p.pendingLanes,C|=T,m.lanes=C,El(p,C)}}function M_(p,m){var C=p.updateQueue,T=p.alternate;if(T!==null&&(T=T.updateQueue,C===T)){var R=null,P=null;if(C=C.firstBaseUpdate,C!==null){do{var q={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};P===null?R=P=q:P=P.next=q,C=C.next}while(C!==null);P===null?R=P=m:P=P.next=m}else R=P=m;C={baseState:T.baseState,firstBaseUpdate:R,lastBaseUpdate:P,shared:T.shared,effects:T.effects},p.updateQueue=C;return}p=C.lastBaseUpdate,p===null?C.firstBaseUpdate=m:p.next=m,C.lastBaseUpdate=m}function y2(p,m,C,T){var R=p.updateQueue;xc=!1;var P=R.firstBaseUpdate,q=R.lastBaseUpdate,le=R.shared.pending;if(le!==null){R.shared.pending=null;var Re=le,Ze=Re.next;Re.next=null,q===null?P=Ze:q.next=Ze,q=Re;var ht=p.alternate;ht!==null&&(ht=ht.updateQueue,le=ht.lastBaseUpdate,le!==q&&(le===null?ht.firstBaseUpdate=Ze:le.next=Ze,ht.lastBaseUpdate=Re))}if(P!==null){var Vt=R.baseState;q=0,ht=Ze=Re=null,le=P;do{var It=le.lane,Nn=le.eventTime;if((T&It)===It){ht!==null&&(ht=ht.next={eventTime:Nn,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var yt=p,Ki=le;switch(It=m,Nn=C,Ki.tag){case 1:if(yt=Ki.payload,typeof yt=="function"){Vt=yt.call(Nn,Vt,It);break e}Vt=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Ki.payload,It=typeof yt=="function"?yt.call(Nn,Vt,It):yt,It==null)break e;Vt=s({},Vt,It);break e;case 2:xc=!0}}le.callback!==null&&le.lane!==0&&(p.flags|=64,It=R.effects,It===null?R.effects=[le]:It.push(le))}else Nn={eventTime:Nn,lane:It,tag:le.tag,payload:le.payload,callback:le.callback,next:null},ht===null?(Ze=ht=Nn,Re=Vt):ht=ht.next=Nn,q|=It;if(le=le.next,le===null){if(le=R.shared.pending,le===null)break;It=le,le=It.next,It.next=null,R.lastBaseUpdate=It,R.shared.pending=null}}while(1);if(ht===null&&(Re=Vt),R.baseState=Re,R.firstBaseUpdate=Ze,R.lastBaseUpdate=ht,m=R.shared.interleaved,m!==null){R=m;do q|=R.lane,R=R.next;while(R!==m)}else P===null&&(R.shared.lanes=0);$d|=q,p.lanes=q,p.memoizedState=Vt}}function __(p,m,C){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var T=p[m],R=T.callback;if(R!==null){if(T.callback=null,T=C,typeof R!="function")throw Error(o(191,R));R.call(T)}}}var I_=new r.Component().refs;function _4(p,m,C,T){m=p.memoizedState,C=C(T,m),C=C==null?m:s({},m,C),p.memoizedState=C,p.lanes===0&&(p.updateQueue.baseState=C)}var x2={isMounted:function(p){return(p=p._reactInternals)?I(p)===p:!1},enqueueSetState:function(p,m,C){p=p._reactInternals;var T=ms(),R=wc(p),P=vu(T,R);P.payload=m,C!=null&&(P.callback=C),Ec(p,P),m=Yo(p,R,T),m!==null&&v2(m,p,R)},enqueueReplaceState:function(p,m,C){p=p._reactInternals;var T=ms(),R=wc(p),P=vu(T,R);P.tag=1,P.payload=m,C!=null&&(P.callback=C),Ec(p,P),m=Yo(p,R,T),m!==null&&v2(m,p,R)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var C=ms(),T=wc(p),R=vu(C,T);R.tag=2,m!=null&&(R.callback=m),Ec(p,R),m=Yo(p,T,C),m!==null&&v2(m,p,T)}};function b_(p,m,C,T,R,P,q){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(T,P,q):m.prototype&&m.prototype.isPureReactComponent?!Jf(C,T)||!Jf(R,P):!0}function B_(p,m,C){var T=!1,R=Or,P=m.contextType;return typeof P=="object"&&P!==null?P=kr(P):(R=Vn(m)?Rs:Tr.current,T=m.contextTypes,P=(T=T!=null)?Fn(p,R):Or),m=new m(C,P),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=x2,p.stateNode=m,m._reactInternals=p,T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=R,p.__reactInternalMemoizedMaskedChildContext=P),m}function R_(p,m,C,T){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(C,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(C,T),m.state!==p&&x2.enqueueReplaceState(m,m.state,null)}function I4(p,m,C,T){var R=p.stateNode;R.props=C,R.state=p.memoizedState,R.refs=I_,M4(p);var P=m.contextType;typeof P=="object"&&P!==null?R.context=kr(P):(P=Vn(m)?Rs:Tr.current,R.context=Fn(p,P)),R.state=p.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&(_4(p,m,P,C),R.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&x2.enqueueReplaceState(R,R.state,null),y2(p,C,R,T),R.state=p.memoizedState),typeof R.componentDidMount=="function"&&(p.flags|=4194308)}var Wd=[],jd=0,E2=null,S2=0,Vo=[],Wo=0,Zf=null,yu=1,xu="";function $f(p,m){Wd[jd++]=S2,Wd[jd++]=E2,E2=p,S2=m}function D_(p,m,C){Vo[Wo++]=yu,Vo[Wo++]=xu,Vo[Wo++]=Zf,Zf=p;var T=yu;p=xu;var R=32-io(T)-1;T&=~(1<<R),C+=1;var P=32-io(m)+R;if(30<P){var q=R-R%5;P=(T&(1<<q)-1).toString(32),T>>=q,R-=q,yu=1<<32-io(m)+R|C<<R|T,xu=P+p}else yu=1<<P|C<<R|T,xu=p}function b4(p){p.return!==null&&($f(p,1),D_(p,1,0))}function B4(p){for(;p===E2;)E2=Wd[--jd],Wd[jd]=null,S2=Wd[--jd],Wd[jd]=null;for(;p===Zf;)Zf=Vo[--Wo],Vo[Wo]=null,xu=Vo[--Wo],Vo[Wo]=null,yu=Vo[--Wo],Vo[Wo]=null}var lo=null,uo=null,ur=!1,Wm=!1,ka=null;function P_(p,m){var C=Ko(5,null,null,0);C.elementType="DELETED",C.stateNode=m,C.return=p,m=p.deletions,m===null?(p.deletions=[C],p.flags|=16):m.push(C)}function L_(p,m){switch(p.tag){case 5:return m=Zt(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,lo=p,uo=hr(m),!0):!1;case 6:return m=Qi(m,p.pendingProps),m!==null?(p.stateNode=m,lo=p,uo=null,!0):!1;case 13:if(m=xi(m),m!==null){var C=Zf!==null?{id:yu,overflow:xu}:null;return p.memoizedState={dehydrated:m,treeContext:C,retryLane:1073741824},C=Ko(18,null,null,0),C.stateNode=m,C.return=p,p.child=C,lo=p,uo=null,!0}return!1;default:return!1}}function R4(p){return(p.mode&1)!==0&&(p.flags&128)===0}function D4(p){if(ur){var m=uo;if(m){var C=m;if(!L_(p,m)){if(R4(p))throw Error(o(418));m=kn(C);var T=lo;m&&L_(p,m)?P_(T,C):(p.flags=p.flags&-4097|2,ur=!1,lo=p)}}else{if(R4(p))throw Error(o(418));p.flags=p.flags&-4097|2,ur=!1,lo=p}}}function F_(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;lo=p}function jm(p){if(!ve||p!==lo)return!1;if(!ur)return F_(p),ur=!0,!1;if(p.tag!==3&&(p.tag!==5||Mt(p.type)&&!ne(p.type,p.memoizedProps))){var m=uo;if(m){if(R4(p)){for(p=uo;p;)p=kn(p);throw Error(o(418))}for(;m;)P_(p,m),m=kn(m)}}if(F_(p),p.tag===13){if(!ve)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));uo=De(p)}else uo=lo?kn(p.stateNode):null;return!0}function Xd(){ve&&(uo=lo=null,Wm=ur=!1)}function P4(p){ka===null?ka=[p]:ka.push(p)}function Xm(p,m,C){if(p=C.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(o(309));var T=C.stateNode}if(!T)throw Error(o(147,p));var R=T,P=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===P?m.ref:(m=function(q){var le=R.refs;le===I_&&(le=R.refs={}),q===null?delete le[P]:le[P]=q},m._stringRef=P,m)}if(typeof p!="string")throw Error(o(284));if(!C._owner)throw Error(o(290,p))}return p}function C2(p,m){throw p=Object.prototype.toString.call(m),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function O_(p){var m=p._init;return m(p._payload)}function U_(p){function m(Ee,ue){if(p){var Me=Ee.deletions;Me===null?(Ee.deletions=[ue],Ee.flags|=16):Me.push(ue)}}function C(Ee,ue){if(!p)return null;for(;ue!==null;)m(Ee,ue),ue=ue.sibling;return null}function T(Ee,ue){for(Ee=new Map;ue!==null;)ue.key!==null?Ee.set(ue.key,ue):Ee.set(ue.index,ue),ue=ue.sibling;return Ee}function R(Ee,ue){return Ee=Mc(Ee,ue),Ee.index=0,Ee.sibling=null,Ee}function P(Ee,ue,Me){return Ee.index=Me,p?(Me=Ee.alternate,Me!==null?(Me=Me.index,Me<ue?(Ee.flags|=2,ue):Me):(Ee.flags|=2,ue)):(Ee.flags|=1048576,ue)}function q(Ee){return p&&Ee.alternate===null&&(Ee.flags|=2),Ee}function le(Ee,ue,Me,st){return ue===null||ue.tag!==6?(ue=gE(Me,Ee.mode,st),ue.return=Ee,ue):(ue=R(ue,Me),ue.return=Ee,ue)}function Re(Ee,ue,Me,st){var At=Me.type;return At===c?ht(Ee,ue,Me.props.children,st,Me.key):ue!==null&&(ue.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===E&&O_(At)===ue.type)?(st=R(ue,Me.props),st.ref=Xm(Ee,ue,Me),st.return=Ee,st):(st=ev(Me.type,Me.key,Me.props,null,Ee.mode,st),st.ref=Xm(Ee,ue,Me),st.return=Ee,st)}function Ze(Ee,ue,Me,st){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==Me.containerInfo||ue.stateNode.implementation!==Me.implementation?(ue=AE(Me,Ee.mode,st),ue.return=Ee,ue):(ue=R(ue,Me.children||[]),ue.return=Ee,ue)}function ht(Ee,ue,Me,st,At){return ue===null||ue.tag!==7?(ue=oh(Me,Ee.mode,st,At),ue.return=Ee,ue):(ue=R(ue,Me),ue.return=Ee,ue)}function Vt(Ee,ue,Me){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=gE(""+ue,Ee.mode,Me),ue.return=Ee,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return Me=ev(ue.type,ue.key,ue.props,null,Ee.mode,Me),Me.ref=Xm(Ee,null,ue),Me.return=Ee,Me;case u:return ue=AE(ue,Ee.mode,Me),ue.return=Ee,ue;case E:var st=ue._init;return Vt(Ee,st(ue._payload),Me)}if(V(ue)||M(ue))return ue=oh(ue,Ee.mode,Me,null),ue.return=Ee,ue;C2(Ee,ue)}return null}function It(Ee,ue,Me,st){var At=ue!==null?ue.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return At!==null?null:le(Ee,ue,""+Me,st);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:return Me.key===At?Re(Ee,ue,Me,st):null;case u:return Me.key===At?Ze(Ee,ue,Me,st):null;case E:return At=Me._init,It(Ee,ue,At(Me._payload),st)}if(V(Me)||M(Me))return At!==null?null:ht(Ee,ue,Me,st,null);C2(Ee,Me)}return null}function Nn(Ee,ue,Me,st,At){if(typeof st=="string"&&st!==""||typeof st=="number")return Ee=Ee.get(Me)||null,le(ue,Ee,""+st,At);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return Ee=Ee.get(st.key===null?Me:st.key)||null,Re(ue,Ee,st,At);case u:return Ee=Ee.get(st.key===null?Me:st.key)||null,Ze(ue,Ee,st,At);case E:var $t=st._init;return Nn(Ee,ue,Me,$t(st._payload),At)}if(V(st)||M(st))return Ee=Ee.get(Me)||null,ht(ue,Ee,st,At,null);C2(ue,st)}return null}function yt(Ee,ue,Me,st){for(var At=null,$t=null,Wt=ue,wn=ue=0,Ti=null;Wt!==null&&wn<Me.length;wn++){Wt.index>wn?(Ti=Wt,Wt=null):Ti=Wt.sibling;var Tn=It(Ee,Wt,Me[wn],st);if(Tn===null){Wt===null&&(Wt=Ti);break}p&&Wt&&Tn.alternate===null&&m(Ee,Wt),ue=P(Tn,ue,wn),$t===null?At=Tn:$t.sibling=Tn,$t=Tn,Wt=Ti}if(wn===Me.length)return C(Ee,Wt),ur&&$f(Ee,wn),At;if(Wt===null){for(;wn<Me.length;wn++)Wt=Vt(Ee,Me[wn],st),Wt!==null&&(ue=P(Wt,ue,wn),$t===null?At=Wt:$t.sibling=Wt,$t=Wt);return ur&&$f(Ee,wn),At}for(Wt=T(Ee,Wt);wn<Me.length;wn++)Ti=Nn(Wt,Ee,wn,Me[wn],st),Ti!==null&&(p&&Ti.alternate!==null&&Wt.delete(Ti.key===null?wn:Ti.key),ue=P(Ti,ue,wn),$t===null?At=Ti:$t.sibling=Ti,$t=Ti);return p&&Wt.forEach(function(_c){return m(Ee,_c)}),ur&&$f(Ee,wn),At}function Ki(Ee,ue,Me,st){var At=M(Me);if(typeof At!="function")throw Error(o(150));if(Me=At.call(Me),Me==null)throw Error(o(151));for(var $t=At=null,Wt=ue,wn=ue=0,Ti=null,Tn=Me.next();Wt!==null&&!Tn.done;wn++,Tn=Me.next()){Wt.index>wn?(Ti=Wt,Wt=null):Ti=Wt.sibling;var _c=It(Ee,Wt,Tn.value,st);if(_c===null){Wt===null&&(Wt=Ti);break}p&&Wt&&_c.alternate===null&&m(Ee,Wt),ue=P(_c,ue,wn),$t===null?At=_c:$t.sibling=_c,$t=_c,Wt=Ti}if(Tn.done)return C(Ee,Wt),ur&&$f(Ee,wn),At;if(Wt===null){for(;!Tn.done;wn++,Tn=Me.next())Tn=Vt(Ee,Tn.value,st),Tn!==null&&(ue=P(Tn,ue,wn),$t===null?At=Tn:$t.sibling=Tn,$t=Tn);return ur&&$f(Ee,wn),At}for(Wt=T(Ee,Wt);!Tn.done;wn++,Tn=Me.next())Tn=Nn(Wt,Ee,wn,Tn.value,st),Tn!==null&&(p&&Tn.alternate!==null&&Wt.delete(Tn.key===null?wn:Tn.key),ue=P(Tn,ue,wn),$t===null?At=Tn:$t.sibling=Tn,$t=Tn);return p&&Wt.forEach(function(nK){return m(Ee,nK)}),ur&&$f(Ee,wn),At}function Jo(Ee,ue,Me,st){if(typeof Me=="object"&&Me!==null&&Me.type===c&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:e:{for(var At=Me.key,$t=ue;$t!==null;){if($t.key===At){if(At=Me.type,At===c){if($t.tag===7){C(Ee,$t.sibling),ue=R($t,Me.props.children),ue.return=Ee,Ee=ue;break e}}else if($t.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===E&&O_(At)===$t.type){C(Ee,$t.sibling),ue=R($t,Me.props),ue.ref=Xm(Ee,$t,Me),ue.return=Ee,Ee=ue;break e}C(Ee,$t);break}else m(Ee,$t);$t=$t.sibling}Me.type===c?(ue=oh(Me.props.children,Ee.mode,st,Me.key),ue.return=Ee,Ee=ue):(st=ev(Me.type,Me.key,Me.props,null,Ee.mode,st),st.ref=Xm(Ee,ue,Me),st.return=Ee,Ee=st)}return q(Ee);case u:e:{for($t=Me.key;ue!==null;){if(ue.key===$t)if(ue.tag===4&&ue.stateNode.containerInfo===Me.containerInfo&&ue.stateNode.implementation===Me.implementation){C(Ee,ue.sibling),ue=R(ue,Me.children||[]),ue.return=Ee,Ee=ue;break e}else{C(Ee,ue);break}else m(Ee,ue);ue=ue.sibling}ue=AE(Me,Ee.mode,st),ue.return=Ee,Ee=ue}return q(Ee);case E:return $t=Me._init,Jo(Ee,ue,$t(Me._payload),st)}if(V(Me))return yt(Ee,ue,Me,st);if(M(Me))return Ki(Ee,ue,Me,st);C2(Ee,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,ue!==null&&ue.tag===6?(C(Ee,ue.sibling),ue=R(ue,Me),ue.return=Ee,Ee=ue):(C(Ee,ue),ue=gE(Me,Ee.mode,st),ue.return=Ee,Ee=ue),q(Ee)):C(Ee,ue)}return Jo}var Yd=U_(!0),k_=U_(!1),Ym={},jo=Lt(Ym),Km=Lt(Ym),Kd=Lt(Ym);function Cl(p){if(p===Ym)throw Error(o(174));return p}function L4(p,m){Ft(Kd,m),Ft(Km,p),Ft(jo,Ym),p=J(m),pn(jo),Ft(jo,p)}function Jd(){pn(jo),pn(Km),pn(Kd)}function N_(p){var m=Cl(Kd.current),C=Cl(jo.current);m=z(C,p.type,m),C!==m&&(Ft(Km,p),Ft(jo,m))}function F4(p){Km.current===p&&(pn(jo),pn(Km))}var pr=Lt(0);function w2(p){for(var m=p;m!==null;){if(m.tag===13){var C=m.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||Sn(C)||Qn(C)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var O4=[];function U4(){for(var p=0;p<O4.length;p++){var m=O4[p];ke?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}O4.length=0}var T2=a.ReactCurrentDispatcher,Xo=a.ReactCurrentBatchConfig,qd=0,Mr=null,ji=null,wi=null,M2=!1,Jm=!1,qm=0,_Y=0;function Xi(){throw Error(o(321))}function k4(p,m){if(m===null)return!1;for(var C=0;C<m.length&&C<p.length;C++)if(!oo(p[C],m[C]))return!1;return!0}function N4(p,m,C,T,R,P){if(qd=P,Mr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,T2.current=p===null||p.memoizedState===null?RY:DY,p=C(T,R),Jm){P=0;do{if(Jm=!1,qm=0,25<=P)throw Error(o(301));P+=1,wi=ji=null,m.updateQueue=null,T2.current=PY,p=C(T,R)}while(Jm)}if(T2.current=R2,m=ji!==null&&ji.next!==null,qd=0,wi=ji=Mr=null,M2=!1,m)throw Error(o(300));return p}function G4(){var p=qm!==0;return qm=0,p}function Eu(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wi===null?Mr.memoizedState=wi=p:wi=wi.next=p,wi}function wl(){if(ji===null){var p=Mr.alternate;p=p!==null?p.memoizedState:null}else p=ji.next;var m=wi===null?Mr.memoizedState:wi.next;if(m!==null)wi=m,ji=p;else{if(p===null)throw Error(o(310));ji=p,p={memoizedState:ji.memoizedState,baseState:ji.baseState,baseQueue:ji.baseQueue,queue:ji.queue,next:null},wi===null?Mr.memoizedState=wi=p:wi=wi.next=p}return wi}function eh(p,m){return typeof m=="function"?m(p):m}function _2(p){var m=wl(),C=m.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=p;var T=ji,R=T.baseQueue,P=C.pending;if(P!==null){if(R!==null){var q=R.next;R.next=P.next,P.next=q}T.baseQueue=R=P,C.pending=null}if(R!==null){P=R.next,T=T.baseState;var le=q=null,Re=null,Ze=P;do{var ht=Ze.lane;if((qd&ht)===ht)Re!==null&&(Re=Re.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),T=Ze.hasEagerState?Ze.eagerState:p(T,Ze.action);else{var Vt={lane:ht,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};Re===null?(le=Re=Vt,q=T):Re=Re.next=Vt,Mr.lanes|=ht,$d|=ht}Ze=Ze.next}while(Ze!==null&&Ze!==P);Re===null?q=T:Re.next=le,oo(T,m.memoizedState)||(co=!0),m.memoizedState=T,m.baseState=q,m.baseQueue=Re,C.lastRenderedState=T}if(p=C.interleaved,p!==null){R=p;do P=R.lane,Mr.lanes|=P,$d|=P,R=R.next;while(R!==p)}else R===null&&(C.lanes=0);return[m.memoizedState,C.dispatch]}function I2(p){var m=wl(),C=m.queue;if(C===null)throw Error(o(311));C.lastRenderedReducer=p;var T=C.dispatch,R=C.pending,P=m.memoizedState;if(R!==null){C.pending=null;var q=R=R.next;do P=p(P,q.action),q=q.next;while(q!==R);oo(P,m.memoizedState)||(co=!0),m.memoizedState=P,m.baseQueue===null&&(m.baseState=P),C.lastRenderedState=P}return[P,T]}function G_(){}function z_(p,m){var C=Mr,T=wl(),R=m(),P=!oo(T.memoizedState,R);if(P&&(T.memoizedState=R,co=!0),T=T.queue,$m(V_.bind(null,C,T,p),[p]),T.getSnapshot!==m||P||wi!==null&&wi.memoizedState.tag&1){if(C.flags|=2048,Zm(9,Q_.bind(null,C,T,R,m),void 0,null),Xr===null)throw Error(o(349));qd&30||H_(C,m,R)}return R}function H_(p,m,C){p.flags|=16384,p={getSnapshot:m,value:C},m=Mr.updateQueue,m===null?(m={lastEffect:null,stores:null},Mr.updateQueue=m,m.stores=[p]):(C=m.stores,C===null?m.stores=[p]:C.push(p))}function Q_(p,m,C,T){m.value=C,m.getSnapshot=T,W_(m)&&Yo(p,1,-1)}function V_(p,m,C){return C(function(){W_(m)&&Yo(p,1,-1)})}function W_(p){var m=p.getSnapshot;p=p.value;try{var C=m();return!oo(p,C)}catch{return!0}}function z4(p){var m=Eu();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eh,lastRenderedState:p},m.queue=p,p=p.dispatch=BY.bind(null,Mr,p),[m.memoizedState,p]}function Zm(p,m,C,T){return p={tag:p,create:m,destroy:C,deps:T,next:null},m=Mr.updateQueue,m===null?(m={lastEffect:null,stores:null},Mr.updateQueue=m,m.lastEffect=p.next=p):(C=m.lastEffect,C===null?m.lastEffect=p.next=p:(T=C.next,C.next=p,p.next=T,m.lastEffect=p)),p}function j_(){return wl().memoizedState}function b2(p,m,C,T){var R=Eu();Mr.flags|=p,R.memoizedState=Zm(1|m,C,void 0,T===void 0?null:T)}function B2(p,m,C,T){var R=wl();T=T===void 0?null:T;var P=void 0;if(ji!==null){var q=ji.memoizedState;if(P=q.destroy,T!==null&&k4(T,q.deps)){R.memoizedState=Zm(m,C,P,T);return}}Mr.flags|=p,R.memoizedState=Zm(1|m,C,P,T)}function H4(p,m){return b2(8390656,8,p,m)}function $m(p,m){return B2(2048,8,p,m)}function X_(p,m){return B2(4,2,p,m)}function Y_(p,m){return B2(4,4,p,m)}function K_(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function J_(p,m,C){return C=C!=null?C.concat([p]):null,B2(4,4,K_.bind(null,m,p),C)}function Q4(){}function q_(p,m){var C=wl();m=m===void 0?null:m;var T=C.memoizedState;return T!==null&&m!==null&&k4(m,T[1])?T[0]:(C.memoizedState=[p,m],p)}function Z_(p,m){var C=wl();m=m===void 0?null:m;var T=C.memoizedState;return T!==null&&m!==null&&k4(m,T[1])?T[0]:(p=p(),C.memoizedState=[p,m],p)}function IY(p,m){var C=rn;rn=C!==0&&4>C?C:4,p(!0);var T=Xo.transition;Xo.transition={};try{p(!1),m()}finally{rn=C,Xo.transition=T}}function $_(){return wl().memoizedState}function bY(p,m,C){var T=wc(p);C={lane:T,action:C,hasEagerState:!1,eagerState:null,next:null},eI(p)?tI(m,C):(nI(p,m,C),C=ms(),p=Yo(p,T,C),p!==null&&rI(p,m,T))}function BY(p,m,C){var T=wc(p),R={lane:T,action:C,hasEagerState:!1,eagerState:null,next:null};if(eI(p))tI(m,R);else{nI(p,m,R);var P=p.alternate;if(p.lanes===0&&(P===null||P.lanes===0)&&(P=m.lastRenderedReducer,P!==null))try{var q=m.lastRenderedState,le=P(q,C);if(R.hasEagerState=!0,R.eagerState=le,oo(le,q))return}catch{}finally{}C=ms(),p=Yo(p,T,C),p!==null&&rI(p,m,T)}}function eI(p){var m=p.alternate;return p===Mr||m!==null&&m===Mr}function tI(p,m){Jm=M2=!0;var C=p.pending;C===null?m.next=m:(m.next=C.next,C.next=m),p.pending=m}function nI(p,m,C){Xr!==null&&p.mode&1&&!(tn&2)?(p=m.interleaved,p===null?(C.next=C,ao===null?ao=[m]:ao.push(m)):(C.next=p.next,p.next=C),m.interleaved=C):(p=m.pending,p===null?C.next=C:(C.next=p.next,p.next=C),m.pending=C)}function rI(p,m,C){if(C&4194240){var T=m.lanes;T&=p.pendingLanes,C|=T,m.lanes=C,El(p,C)}}var R2={readContext:kr,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useInsertionEffect:Xi,useLayoutEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi,useDeferredValue:Xi,useTransition:Xi,useMutableSource:Xi,useSyncExternalStore:Xi,useId:Xi,unstable_isNewReconciler:!1},RY={readContext:kr,useCallback:function(p,m){return Eu().memoizedState=[p,m===void 0?null:m],p},useContext:kr,useEffect:H4,useImperativeHandle:function(p,m,C){return C=C!=null?C.concat([p]):null,b2(4194308,4,K_.bind(null,m,p),C)},useLayoutEffect:function(p,m){return b2(4194308,4,p,m)},useInsertionEffect:function(p,m){return b2(4,2,p,m)},useMemo:function(p,m){var C=Eu();return m=m===void 0?null:m,p=p(),C.memoizedState=[p,m],p},useReducer:function(p,m,C){var T=Eu();return m=C!==void 0?C(m):m,T.memoizedState=T.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},T.queue=p,p=p.dispatch=bY.bind(null,Mr,p),[T.memoizedState,p]},useRef:function(p){var m=Eu();return p={current:p},m.memoizedState=p},useState:z4,useDebugValue:Q4,useDeferredValue:function(p){var m=z4(p),C=m[0],T=m[1];return H4(function(){var R=Xo.transition;Xo.transition={};try{T(p)}finally{Xo.transition=R}},[p]),C},useTransition:function(){var p=z4(!1),m=p[0];return p=IY.bind(null,p[1]),Eu().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,C){var T=Mr,R=Eu();if(ur){if(C===void 0)throw Error(o(407));C=C()}else{if(C=m(),Xr===null)throw Error(o(349));qd&30||H_(T,m,C)}R.memoizedState=C;var P={value:C,getSnapshot:m};return R.queue=P,H4(V_.bind(null,T,P,p),[p]),T.flags|=2048,Zm(9,Q_.bind(null,T,P,C,m),void 0,null),C},useId:function(){var p=Eu(),m=Xr.identifierPrefix;if(ur){var C=xu,T=yu;C=(T&~(1<<32-io(T)-1)).toString(32)+C,m=":"+m+"R"+C,C=qm++,0<C&&(m+="H"+C.toString(32)),m+=":"}else C=_Y++,m=":"+m+"r"+C.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},DY={readContext:kr,useCallback:q_,useContext:kr,useEffect:$m,useImperativeHandle:J_,useInsertionEffect:X_,useLayoutEffect:Y_,useMemo:Z_,useReducer:_2,useRef:j_,useState:function(){return _2(eh)},useDebugValue:Q4,useDeferredValue:function(p){var m=_2(eh),C=m[0],T=m[1];return $m(function(){var R=Xo.transition;Xo.transition={};try{T(p)}finally{Xo.transition=R}},[p]),C},useTransition:function(){var p=_2(eh)[0],m=wl().memoizedState;return[p,m]},useMutableSource:G_,useSyncExternalStore:z_,useId:$_,unstable_isNewReconciler:!1},PY={readContext:kr,useCallback:q_,useContext:kr,useEffect:$m,useImperativeHandle:J_,useInsertionEffect:X_,useLayoutEffect:Y_,useMemo:Z_,useReducer:I2,useRef:j_,useState:function(){return I2(eh)},useDebugValue:Q4,useDeferredValue:function(p){var m=I2(eh),C=m[0],T=m[1];return $m(function(){var R=Xo.transition;Xo.transition={};try{T(p)}finally{Xo.transition=R}},[p]),C},useTransition:function(){var p=I2(eh)[0],m=wl().memoizedState;return[p,m]},useMutableSource:G_,useSyncExternalStore:z_,useId:$_,unstable_isNewReconciler:!1};function V4(p,m){try{var C="",T=m;do C+=qf(T),T=T.return;while(T);var R=C}catch(P){R=`
Error generating stack: `+P.message+`
`+P.stack}return{value:p,source:m,stack:R}}function W4(p,m){try{console.error(m.value)}catch(C){setTimeout(function(){throw C})}}var LY=typeof WeakMap=="function"?WeakMap:Map;function iI(p,m,C){C=vu(-1,C),C.tag=3,C.payload={element:null};var T=m.value;return C.callback=function(){X2||(X2=!0,uE=T),W4(p,m)},C}function sI(p,m,C){C=vu(-1,C),C.tag=3;var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var R=m.value;C.payload=function(){return T(R)},C.callback=function(){W4(p,m)}}var P=p.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(C.callback=function(){W4(p,m),typeof T!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var q=m.stack;this.componentDidCatch(m.value,{componentStack:q!==null?q:""})}),C}function oI(p,m,C){var T=p.pingCache;if(T===null){T=p.pingCache=new LY;var R=new Set;T.set(m,R)}else R=T.get(m),R===void 0&&(R=new Set,T.set(m,R));R.has(C)||(R.add(C),p=YY.bind(null,p,m,C),m.then(p,p))}function aI(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function lI(p,m,C,T,R){return p.mode&1?(p.flags|=65536,p.lanes=R,p):(p===m?p.flags|=65536:(p.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(m=vu(-1,1),m.tag=2,Ec(C,m))),C.lanes|=1),p)}function Tl(p){p.flags|=4}function uI(p,m){if(p!==null&&p.child===m.child)return!0;if(m.flags&16)return!1;for(p=m.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var eg,tg,D2,P2;if(Se)eg=function(p,m){for(var C=m.child;C!==null;){if(C.tag===5||C.tag===6)H(p,C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===m)break;for(;C.sibling===null;){if(C.return===null||C.return===m)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},tg=function(){},D2=function(p,m,C,T,R){if(p=p.memoizedProps,p!==T){var P=m.stateNode,q=Cl(jo.current);C=Z(P,C,p,T,R,q),(m.updateQueue=C)&&Tl(m)}},P2=function(p,m,C,T){C!==T&&Tl(m)};else if(X){eg=function(p,m,C,T){for(var R=m.child;R!==null;){if(R.tag===5){var P=R.stateNode;C&&T&&(P=_n(P,R.type,R.memoizedProps,R)),H(p,P)}else if(R.tag===6)P=R.stateNode,C&&T&&(P=un(P,R.memoizedProps,R)),H(p,P);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)P=R.child,P!==null&&(P.return=R),eg(p,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var cI=function(p,m,C,T){for(var R=m.child;R!==null;){if(R.tag===5){var P=R.stateNode;C&&T&&(P=_n(P,R.type,R.memoizedProps,R)),nn(p,P)}else if(R.tag===6)P=R.stateNode,C&&T&&(P=un(P,R.memoizedProps,R)),nn(p,P);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)P=R.child,P!==null&&(P.return=R),cI(p,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};tg=function(p,m){var C=m.stateNode;if(!uI(p,m)){p=C.containerInfo;var T=zt(p);cI(T,m,!1,!1),C.pendingChildren=T,Tl(m),on(p,T)}},D2=function(p,m,C,T,R){var P=p.stateNode,q=p.memoizedProps;if((p=uI(p,m))&&q===T)m.stateNode=P;else{var le=m.stateNode,Re=Cl(jo.current),Ze=null;q!==T&&(Ze=Z(le,C,q,T,R,Re)),p&&Ze===null?m.stateNode=P:(P=et(P,Ze,C,q,T,m,p,le),ee(P,C,T,R,Re)&&Tl(m),m.stateNode=P,p?Tl(m):eg(P,m,!1,!1))}},P2=function(p,m,C,T){C!==T?(p=Cl(Kd.current),C=Cl(jo.current),m.stateNode=oe(T,p,C,m),Tl(m)):m.stateNode=p.stateNode}}else tg=function(){},D2=function(){},P2=function(){};function ng(p,m){if(!ur)switch(p.tailMode){case"hidden":m=p.tail;for(var C=null;m!==null;)m.alternate!==null&&(C=m),m=m.sibling;C===null?p.tail=null:C.sibling=null;break;case"collapsed":C=p.tail;for(var T=null;C!==null;)C.alternate!==null&&(T=C),C=C.sibling;T===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:T.sibling=null}}function Yi(p){var m=p.alternate!==null&&p.alternate.child===p.child,C=0,T=0;if(m)for(var R=p.child;R!==null;)C|=R.lanes|R.childLanes,T|=R.subtreeFlags&14680064,T|=R.flags&14680064,R.return=p,R=R.sibling;else for(R=p.child;R!==null;)C|=R.lanes|R.childLanes,T|=R.subtreeFlags,T|=R.flags,R.return=p,R=R.sibling;return p.subtreeFlags|=T,p.childLanes=C,m}function FY(p,m,C){var T=m.pendingProps;switch(B4(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(m),null;case 1:return Vn(m.type)&&us(),Yi(m),null;case 3:return T=m.stateNode,Jd(),pn(lr),pn(Tr),U4(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(p===null||p.child===null)&&(jm(m)?Tl(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,ka!==null&&(hE(ka),ka=null))),tg(p,m),Yi(m),null;case 5:F4(m),C=Cl(Kd.current);var R=m.type;if(p!==null&&m.stateNode!=null)D2(p,m,R,T,C),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(o(166));return Yi(m),null}if(p=Cl(jo.current),jm(m)){if(!ve)throw Error(o(175));p=ls(m.stateNode,m.type,m.memoizedProps,C,p,m,!Wm),m.updateQueue=p,p!==null&&Tl(m)}else{var P=Q(R,T,C,p,m);eg(P,m,!1,!1),m.stateNode=P,ee(P,R,T,C,p)&&Tl(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Yi(m),null;case 6:if(p&&m.stateNode!=null)P2(p,m,p.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(o(166));if(p=Cl(Kd.current),C=Cl(jo.current),jm(m)){if(!ve)throw Error(o(176));if(p=m.stateNode,T=m.memoizedProps,(C=K(p,T,m,!Wm))&&(R=lo,R!==null))switch(P=(R.mode&1)!==0,R.tag){case 3:Dt(R.stateNode.containerInfo,p,T,P);break;case 5:Qt(R.type,R.memoizedProps,R.stateNode,p,T,P)}C&&Tl(m)}else m.stateNode=oe(T,p,C,m)}return Yi(m),null;case 13:if(pn(pr),T=m.memoizedState,ur&&uo!==null&&m.mode&1&&!(m.flags&128)){for(p=uo;p;)p=kn(p);return Xd(),m.flags|=98560,m}if(T!==null&&T.dehydrated!==null){if(T=jm(m),p===null){if(!T)throw Error(o(318));if(!ve)throw Error(o(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));ye(p,m)}else Xd(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return Yi(m),null}return ka!==null&&(hE(ka),ka=null),m.flags&128?(m.lanes=C,m):(T=T!==null,C=!1,p===null?jm(m):C=p.memoizedState!==null,T&&!C&&(m.child.flags|=8192,m.mode&1&&(p===null||pr.current&1?oi===0&&(oi=3):pE())),m.updateQueue!==null&&(m.flags|=4),Yi(m),null);case 4:return Jd(),tg(p,m),p===null&&xe(m.stateNode.containerInfo),Yi(m),null;case 10:return Ci(m.type._context),Yi(m),null;case 17:return Vn(m.type)&&us(),Yi(m),null;case 19:if(pn(pr),R=m.memoizedState,R===null)return Yi(m),null;if(T=(m.flags&128)!==0,P=R.rendering,P===null)if(T)ng(R,!1);else{if(oi!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if(P=w2(p),P!==null){for(m.flags|=128,ng(R,!1),p=P.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=C,T=m.child;T!==null;)C=T,R=p,C.flags&=14680066,P=C.alternate,P===null?(C.childLanes=0,C.lanes=R,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=P.childLanes,C.lanes=P.lanes,C.child=P.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=P.memoizedProps,C.memoizedState=P.memoizedState,C.updateQueue=P.updateQueue,C.type=P.type,R=P.dependencies,C.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),T=T.sibling;return Ft(pr,pr.current&1|2),m.child}p=p.sibling}R.tail!==null&&dr()>lE&&(m.flags|=128,T=!0,ng(R,!1),m.lanes=4194304)}else{if(!T)if(p=w2(P),p!==null){if(m.flags|=128,T=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),ng(R,!0),R.tail===null&&R.tailMode==="hidden"&&!P.alternate&&!ur)return Yi(m),null}else 2*dr()-R.renderingStartTime>lE&&C!==1073741824&&(m.flags|=128,T=!0,ng(R,!1),m.lanes=4194304);R.isBackwards?(P.sibling=m.child,m.child=P):(p=R.last,p!==null?p.sibling=P:m.child=P,R.last=P)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=dr(),m.sibling=null,p=pr.current,Ft(pr,T?p&1|2:p&1),m):(Yi(m),null);case 22:case 23:return dE(),T=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==T&&(m.flags|=8192),T&&m.mode&1?fo&1073741824&&(Yi(m),Se&&m.subtreeFlags&6&&(m.flags|=8192)):Yi(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var OY=a.ReactCurrentOwner,co=!1;function ps(p,m,C,T){m.child=p===null?k_(m,null,C,T):Yd(m,p.child,C,T)}function fI(p,m,C,T,R){C=C.render;var P=m.ref;return Ur(m,R),T=N4(p,m,C,T,P,R),C=G4(),p!==null&&!co?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~R,Su(p,m,R)):(ur&&C&&b4(m),m.flags|=1,ps(p,m,T,R),m.child)}function hI(p,m,C,T,R){if(p===null){var P=C.type;return typeof P=="function"&&!mE(P)&&P.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(m.tag=15,m.type=P,dI(p,m,P,T,R)):(p=ev(C.type,null,T,m,m.mode,R),p.ref=m.ref,p.return=m,m.child=p)}if(P=p.child,!(p.lanes&R)){var q=P.memoizedProps;if(C=C.compare,C=C!==null?C:Jf,C(q,T)&&p.ref===m.ref)return Su(p,m,R)}return m.flags|=1,p=Mc(P,T),p.ref=m.ref,p.return=m,m.child=p}function dI(p,m,C,T,R){if(p!==null&&Jf(p.memoizedProps,T)&&p.ref===m.ref)if(co=!1,(p.lanes&R)!==0)p.flags&131072&&(co=!0);else return m.lanes=p.lanes,Su(p,m,R);return j4(p,m,C,T,R)}function pI(p,m,C){var T=m.pendingProps,R=T.children,P=p!==null?p.memoizedState:null;if(T.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Ft(Zd,fo),fo|=C;else if(C&1073741824)m.memoizedState={baseLanes:0,cachePool:null},T=P!==null?P.baseLanes:C,Ft(Zd,fo),fo|=T;else return p=P!==null?P.baseLanes|C:C,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,Ft(Zd,fo),fo|=p,null;else P!==null?(T=P.baseLanes|C,m.memoizedState=null):T=C,Ft(Zd,fo),fo|=T;return ps(p,m,R,C),m.child}function mI(p,m){var C=m.ref;(p===null&&C!==null||p!==null&&p.ref!==C)&&(m.flags|=512,m.flags|=2097152)}function j4(p,m,C,T,R){var P=Vn(C)?Rs:Tr.current;return P=Fn(m,P),Ur(m,R),C=N4(p,m,C,T,P,R),T=G4(),p!==null&&!co?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~R,Su(p,m,R)):(ur&&T&&b4(m),m.flags|=1,ps(p,m,C,R),m.child)}function gI(p,m,C,T,R){if(Vn(C)){var P=!0;yl(m)}else P=!1;if(Ur(m,R),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),B_(m,C,T),I4(m,C,T,R),T=!0;else if(p===null){var q=m.stateNode,le=m.memoizedProps;q.props=le;var Re=q.context,Ze=C.contextType;typeof Ze=="object"&&Ze!==null?Ze=kr(Ze):(Ze=Vn(C)?Rs:Tr.current,Ze=Fn(m,Ze));var ht=C.getDerivedStateFromProps,Vt=typeof ht=="function"||typeof q.getSnapshotBeforeUpdate=="function";Vt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(le!==T||Re!==Ze)&&R_(m,q,T,Ze),xc=!1;var It=m.memoizedState;q.state=It,y2(m,T,q,R),Re=m.memoizedState,le!==T||It!==Re||lr.current||xc?(typeof ht=="function"&&(_4(m,C,ht,T),Re=m.memoizedState),(le=xc||b_(m,C,le,T,It,Re,Ze))?(Vt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(m.flags|=4194308)):(typeof q.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=Re),q.props=T,q.state=Re,q.context=Ze,T=le):(typeof q.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{q=m.stateNode,T_(p,m),le=m.memoizedProps,Ze=m.type===m.elementType?le:hs(m.type,le),q.props=Ze,Vt=m.pendingProps,It=q.context,Re=C.contextType,typeof Re=="object"&&Re!==null?Re=kr(Re):(Re=Vn(C)?Rs:Tr.current,Re=Fn(m,Re));var Nn=C.getDerivedStateFromProps;(ht=typeof Nn=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(le!==Vt||It!==Re)&&R_(m,q,T,Re),xc=!1,It=m.memoizedState,q.state=It,y2(m,T,q,R);var yt=m.memoizedState;le!==Vt||It!==yt||lr.current||xc?(typeof Nn=="function"&&(_4(m,C,Nn,T),yt=m.memoizedState),(Ze=xc||b_(m,C,Ze,T,It,yt,Re)||!1)?(ht||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(T,yt,Re),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(T,yt,Re)),typeof q.componentDidUpdate=="function"&&(m.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof q.componentDidUpdate!="function"||le===p.memoizedProps&&It===p.memoizedState||(m.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||le===p.memoizedProps&&It===p.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=yt),q.props=T,q.state=yt,q.context=Re,T=Ze):(typeof q.componentDidUpdate!="function"||le===p.memoizedProps&&It===p.memoizedState||(m.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||le===p.memoizedProps&&It===p.memoizedState||(m.flags|=1024),T=!1)}return X4(p,m,C,T,P,R)}function X4(p,m,C,T,R,P){mI(p,m);var q=(m.flags&128)!==0;if(!T&&!q)return R&&Wi(m,C,!1),Su(p,m,P);T=m.stateNode,OY.current=m;var le=q&&typeof C.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,p!==null&&q?(m.child=Yd(m,p.child,null,P),m.child=Yd(m,null,le,P)):ps(p,m,le,P),m.memoizedState=T.state,R&&Wi(m,C,!0),m.child}function AI(p){var m=p.stateNode;m.pendingContext?jr(p,m.pendingContext,m.pendingContext!==m.context):m.context&&jr(p,m.context,!1),L4(p,m.containerInfo)}function vI(p,m,C,T,R){return Xd(),P4(R),m.flags|=256,ps(p,m,C,T),m.child}var L2={dehydrated:null,treeContext:null,retryLane:0};function F2(p){return{baseLanes:p,cachePool:null}}function yI(p,m,C){var T=m.pendingProps,R=pr.current,P=!1,q=(m.flags&128)!==0,le;if((le=q)||(le=p!==null&&p.memoizedState===null?!1:(R&2)!==0),le?(P=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(R|=1),Ft(pr,R&1),p===null)return D4(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(m.mode&1?Qn(p)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(R=T.children,p=T.fallback,P?(T=m.mode,P=m.child,R={mode:"hidden",children:R},!(T&1)&&P!==null?(P.childLanes=0,P.pendingProps=R):P=tv(R,T,0,null),p=oh(p,T,C,null),P.return=m,p.return=m,P.sibling=p,m.child=P,m.child.memoizedState=F2(C),m.memoizedState=L2,p):Y4(m,R));if(R=p.memoizedState,R!==null){if(le=R.dehydrated,le!==null){if(q)return m.flags&256?(m.flags&=-257,O2(p,m,C,Error(o(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(P=T.fallback,R=m.mode,T=tv({mode:"visible",children:T.children},R,0,null),P=oh(P,R,C,null),P.flags|=2,T.return=m,P.return=m,T.sibling=P,m.child=T,m.mode&1&&Yd(m,p.child,null,C),m.child.memoizedState=F2(C),m.memoizedState=L2,P);if(!(m.mode&1))m=O2(p,m,C,null);else if(Qn(le))m=O2(p,m,C,Error(o(419)));else if(T=(C&p.childLanes)!==0,co||T){if(T=Xr,T!==null){switch(C&-C){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}T=P&(T.suspendedLanes|C)?0:P,T!==0&&T!==R.retryLane&&(R.retryLane=T,Yo(p,T,-1))}pE(),m=O2(p,m,C,Error(o(421)))}else Sn(le)?(m.flags|=128,m.child=p.child,m=KY.bind(null,p),Di(le,m),m=null):(C=R.treeContext,ve&&(uo=Ho(le),lo=m,ur=!0,ka=null,Wm=!1,C!==null&&(Vo[Wo++]=yu,Vo[Wo++]=xu,Vo[Wo++]=Zf,yu=C.id,xu=C.overflow,Zf=m)),m=Y4(m,m.pendingProps.children),m.flags|=4096);return m}return P?(T=EI(p,m,T.children,T.fallback,C),P=m.child,R=p.child.memoizedState,P.memoizedState=R===null?F2(C):{baseLanes:R.baseLanes|C,cachePool:null},P.childLanes=p.childLanes&~C,m.memoizedState=L2,T):(C=xI(p,m,T.children,C),m.memoizedState=null,C)}return P?(T=EI(p,m,T.children,T.fallback,C),P=m.child,R=p.child.memoizedState,P.memoizedState=R===null?F2(C):{baseLanes:R.baseLanes|C,cachePool:null},P.childLanes=p.childLanes&~C,m.memoizedState=L2,T):(C=xI(p,m,T.children,C),m.memoizedState=null,C)}function Y4(p,m){return m=tv({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function xI(p,m,C,T){var R=p.child;return p=R.sibling,C=Mc(R,{mode:"visible",children:C}),!(m.mode&1)&&(C.lanes=T),C.return=m,C.sibling=null,p!==null&&(T=m.deletions,T===null?(m.deletions=[p],m.flags|=16):T.push(p)),m.child=C}function EI(p,m,C,T,R){var P=m.mode;p=p.child;var q=p.sibling,le={mode:"hidden",children:C};return!(P&1)&&m.child!==p?(C=m.child,C.childLanes=0,C.pendingProps=le,m.deletions=null):(C=Mc(p,le),C.subtreeFlags=p.subtreeFlags&14680064),q!==null?T=Mc(q,T):(T=oh(T,P,R,null),T.flags|=2),T.return=m,C.return=m,C.sibling=T,m.child=C,T}function O2(p,m,C,T){return T!==null&&P4(T),Yd(m,p.child,null,C),p=Y4(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function SI(p,m,C){p.lanes|=m;var T=p.alternate;T!==null&&(T.lanes|=m),ds(p.return,m,C)}function K4(p,m,C,T,R){var P=p.memoizedState;P===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:C,tailMode:R}:(P.isBackwards=m,P.rendering=null,P.renderingStartTime=0,P.last=T,P.tail=C,P.tailMode=R)}function CI(p,m,C){var T=m.pendingProps,R=T.revealOrder,P=T.tail;if(ps(p,m,T.children,C),T=pr.current,T&2)T=T&1|2,m.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&SI(p,C,m);else if(p.tag===19)SI(p,C,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}T&=1}if(Ft(pr,T),!(m.mode&1))m.memoizedState=null;else switch(R){case"forwards":for(C=m.child,R=null;C!==null;)p=C.alternate,p!==null&&w2(p)===null&&(R=C),C=C.sibling;C=R,C===null?(R=m.child,m.child=null):(R=C.sibling,C.sibling=null),K4(m,!1,R,C,P);break;case"backwards":for(C=null,R=m.child,m.child=null;R!==null;){if(p=R.alternate,p!==null&&w2(p)===null){m.child=R;break}p=R.sibling,R.sibling=C,C=R,R=p}K4(m,!0,C,null,P);break;case"together":K4(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Su(p,m,C){if(p!==null&&(m.dependencies=p.dependencies),$d|=m.lanes,!(C&m.childLanes))return null;if(p!==null&&m.child!==p.child)throw Error(o(153));if(m.child!==null){for(p=m.child,C=Mc(p,p.pendingProps),m.child=C,C.return=m;p.sibling!==null;)p=p.sibling,C=C.sibling=Mc(p,p.pendingProps),C.return=m;C.sibling=null}return m.child}function UY(p,m,C){switch(m.tag){case 3:AI(m),Xd();break;case 5:N_(m);break;case 1:Vn(m.type)&&yl(m);break;case 4:L4(m,m.stateNode.containerInfo);break;case 10:A2(m,m.type._context,m.memoizedProps.value);break;case 13:var T=m.memoizedState;if(T!==null)return T.dehydrated!==null?(Ft(pr,pr.current&1),m.flags|=128,null):C&m.child.childLanes?yI(p,m,C):(Ft(pr,pr.current&1),p=Su(p,m,C),p!==null?p.sibling:null);Ft(pr,pr.current&1);break;case 19:if(T=(C&m.childLanes)!==0,p.flags&128){if(T)return CI(p,m,C);m.flags|=128}var R=m.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Ft(pr,pr.current),T)break;return null;case 22:case 23:return m.lanes=0,pI(p,m,C)}return Su(p,m,C)}function kY(p,m){switch(B4(m),m.tag){case 1:return Vn(m.type)&&us(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return Jd(),pn(lr),pn(Tr),U4(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 5:return F4(m),null;case 13:if(pn(pr),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Xd()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return pn(pr),null;case 4:return Jd(),null;case 10:return Ci(m.type._context),null;case 22:case 23:return dE(),null;case 24:return null;default:return null}}var U2=!1,th=!1,NY=typeof WeakSet=="function"?WeakSet:Set,rt=null;function k2(p,m){var C=p.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(T){Fs(p,m,T)}else C.current=null}function J4(p,m,C){try{C()}catch(T){Fs(p,m,T)}}var wI=!1;function GY(p,m){for(W(p.containerInfo),rt=m;rt!==null;)if(p=rt,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,rt=m;else for(;rt!==null;){p=rt;try{var C=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var T=C.memoizedProps,R=C.memoizedState,P=p.stateNode,q=P.getSnapshotBeforeUpdate(p.elementType===p.type?T:hs(p.type,T),R);P.__reactInternalSnapshotBeforeUpdate=q}break;case 3:Se&&Xe(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(le){Fs(p,p.return,le)}if(m=p.sibling,m!==null){m.return=p.return,rt=m;break}rt=p.return}return C=wI,wI=!1,C}function nh(p,m,C){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var R=T=T.next;do{if((R.tag&p)===p){var P=R.destroy;R.destroy=void 0,P!==void 0&&J4(m,C,P)}R=R.next}while(R!==T)}}function rg(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var C=m=m.next;do{if((C.tag&p)===p){var T=C.create;C.destroy=T()}C=C.next}while(C!==m)}}function q4(p){var m=p.ref;if(m!==null){var C=p.stateNode;switch(p.tag){case 5:p=Y(C);break;default:p=C}typeof m=="function"?m(p):m.current=p}}function TI(p,m,C){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(Yf,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var T=p=p.next;do{var R=T,P=R.destroy;R=R.tag,P!==void 0&&(R&2||R&4)&&J4(m,C,P),T=T.next}while(T!==p)}break;case 1:if(k2(m,C),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(q){Fs(m,C,q)}break;case 5:k2(m,C);break;case 4:Se?RI(p,m,C):X&&X&&(m=m.stateNode.containerInfo,C=zt(m),gn(m,C))}}function MI(p,m,C){for(var T=m;;)if(TI(p,T,C),T.child===null||Se&&T.tag===4){if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function _I(p){var m=p.alternate;m!==null&&(p.alternate=null,_I(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&je(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function II(p){return p.tag===5||p.tag===3||p.tag===4}function bI(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||II(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function BI(p){if(Se){e:{for(var m=p.return;m!==null;){if(II(m))break e;m=m.return}throw Error(o(160))}var C=m;switch(C.tag){case 5:m=C.stateNode,C.flags&32&&(it(m),C.flags&=-33),C=bI(p),$4(p,C,m);break;case 3:case 4:m=C.stateNode.containerInfo,C=bI(p),Z4(p,C,m);break;default:throw Error(o(161))}}}function Z4(p,m,C){var T=p.tag;if(T===5||T===6)p=p.stateNode,m?Ve(C,p,m):He(C,p);else if(T!==4&&(p=p.child,p!==null))for(Z4(p,m,C),p=p.sibling;p!==null;)Z4(p,m,C),p=p.sibling}function $4(p,m,C){var T=p.tag;if(T===5||T===6)p=p.stateNode,m?qe(C,p,m):Ie(C,p);else if(T!==4&&(p=p.child,p!==null))for($4(p,m,C),p=p.sibling;p!==null;)$4(p,m,C),p=p.sibling}function RI(p,m,C){for(var T=m,R=!1,P,q;;){if(!R){R=T.return;e:for(;;){if(R===null)throw Error(o(160));switch(P=R.stateNode,R.tag){case 5:q=!1;break e;case 3:P=P.containerInfo,q=!0;break e;case 4:P=P.containerInfo,q=!0;break e}R=R.return}R=!0}if(T.tag===5||T.tag===6)MI(p,T,C),q?ze(P,T.stateNode):Oe(P,T.stateNode);else if(T.tag===18)q?Et(P,T.stateNode):ut(P,T.stateNode);else if(T.tag===4){if(T.child!==null){P=T.stateNode.containerInfo,q=!0,T.child.return=T,T=T.child;continue}}else if(TI(p,T,C),T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return,T.tag===4&&(R=!1)}T.sibling.return=T.return,T=T.sibling}}function eE(p,m){if(Se){switch(m.tag){case 0:case 11:case 14:case 15:nh(3,m,m.return),rg(3,m),nh(5,m,m.return);return;case 1:return;case 5:var C=m.stateNode;if(C!=null){var T=m.memoizedProps;p=p!==null?p.memoizedProps:T;var R=m.type,P=m.updateQueue;m.updateQueue=null,P!==null&&Ge(C,P,R,p,T,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));C=m.memoizedProps,Ne(m.stateNode,p!==null?p.memoizedProps:C,C);return;case 3:ve&&p!==null&&p.memoizedState.isDehydrated&&fe(m.stateNode.containerInfo);return;case 12:return;case 13:N2(m);return;case 19:N2(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:nh(3,m,m.return),rg(3,m),nh(5,m,m.return);return;case 12:return;case 13:N2(m);return;case 19:N2(m);return;case 3:ve&&p!==null&&p.memoizedState.isDehydrated&&fe(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,gn(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function N2(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var C=p.stateNode;C===null&&(C=p.stateNode=new NY),m.forEach(function(T){var R=JY.bind(null,p,T);C.has(T)||(C.add(T),T.then(R,R))})}}function zY(p,m){for(rt=m;rt!==null;){m=rt;var C=m.deletions;if(C!==null)for(var T=0;T<C.length;T++){var R=C[T];try{var P=p;Se?RI(P,R,m):MI(P,R,m);var q=R.alternate;q!==null&&(q.return=null),R.return=null}catch(At){Fs(R,m,At)}}if(C=m.child,m.subtreeFlags&12854&&C!==null)C.return=m,rt=C;else for(;rt!==null;){m=rt;try{var le=m.flags;if(le&32&&Se&&it(m.stateNode),le&512){var Re=m.alternate;if(Re!==null){var Ze=Re.ref;Ze!==null&&(typeof Ze=="function"?Ze(null):Ze.current=null)}}if(le&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var ht=m.alternate;(ht===null||ht.memoizedState===null)&&(aE=dr())}break;case 22:var Vt=m.memoizedState!==null,It=m.alternate,Nn=It!==null&&It.memoizedState!==null;if(C=m,Se){e:if(T=C,R=Vt,P=null,Se)for(var yt=T;;){if(yt.tag===5){if(P===null){P=yt;var Ki=yt.stateNode;R?vt(Ki):Qe(yt.stateNode,yt.memoizedProps)}}else if(yt.tag===6){if(P===null){var Jo=yt.stateNode;R?$(Jo):me(Jo,yt.memoizedProps)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===T)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===T)break;for(;yt.sibling===null;){if(yt.return===null||yt.return===T)break e;P===yt&&(P=null),yt=yt.return}P===yt&&(P=null),yt.sibling.return=yt.return,yt=yt.sibling}}if(Vt&&!Nn&&C.mode&1){rt=C;for(var Ee=C.child;Ee!==null;){for(C=rt=Ee;rt!==null;){T=rt;var ue=T.child;switch(T.tag){case 0:case 11:case 14:case 15:nh(4,T,T.return);break;case 1:k2(T,T.return);var Me=T.stateNode;if(typeof Me.componentWillUnmount=="function"){var st=T.return;try{Me.props=T.memoizedProps,Me.state=T.memoizedState,Me.componentWillUnmount()}catch(At){Fs(T,st,At)}}break;case 5:k2(T,T.return);break;case 22:if(T.memoizedState!==null){LI(C);continue}}ue!==null?(ue.return=T,rt=ue):LI(C)}Ee=Ee.sibling}}}switch(le&4102){case 2:BI(m),m.flags&=-3;break;case 6:BI(m),m.flags&=-3,eE(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,eE(m.alternate,m);break;case 4:eE(m.alternate,m)}}catch(At){Fs(m,m.return,At)}if(C=m.sibling,C!==null){C.return=m.return,rt=C;break}rt=m.return}}}function HY(p,m,C){rt=p,DI(p)}function DI(p,m,C){for(var T=(p.mode&1)!==0;rt!==null;){var R=rt,P=R.child;if(R.tag===22&&T){var q=R.memoizedState!==null||U2;if(!q){var le=R.alternate,Re=le!==null&&le.memoizedState!==null||th;le=U2;var Ze=th;if(U2=q,(th=Re)&&!Ze)for(rt=R;rt!==null;)q=rt,Re=q.child,q.tag===22&&q.memoizedState!==null?FI(R):Re!==null?(Re.return=q,rt=Re):FI(R);for(;P!==null;)rt=P,DI(P),P=P.sibling;rt=R,U2=le,th=Ze}PI(p)}else R.subtreeFlags&8772&&P!==null?(P.return=R,rt=P):PI(p)}}function PI(p){for(;rt!==null;){var m=rt;if(m.flags&8772){var C=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:th||rg(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!th)if(C===null)T.componentDidMount();else{var R=m.elementType===m.type?C.memoizedProps:hs(m.type,C.memoizedProps);T.componentDidUpdate(R,C.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var P=m.updateQueue;P!==null&&__(m,P,T);break;case 3:var q=m.updateQueue;if(q!==null){if(C=null,m.child!==null)switch(m.child.tag){case 5:C=Y(m.child.stateNode);break;case 1:C=m.child.stateNode}__(m,q,C)}break;case 5:var le=m.stateNode;C===null&&m.flags&4&&ge(le,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&m.memoizedState===null){var Re=m.alternate;if(Re!==null){var Ze=Re.memoizedState;if(Ze!==null){var ht=Ze.dehydrated;ht!==null&&Pe(ht)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}th||m.flags&512&&q4(m)}catch(Vt){Fs(m,m.return,Vt)}}if(m===p){rt=null;break}if(C=m.sibling,C!==null){C.return=m.return,rt=C;break}rt=m.return}}function LI(p){for(;rt!==null;){var m=rt;if(m===p){rt=null;break}var C=m.sibling;if(C!==null){C.return=m.return,rt=C;break}rt=m.return}}function FI(p){for(;rt!==null;){var m=rt;try{switch(m.tag){case 0:case 11:case 15:var C=m.return;try{rg(4,m)}catch(Re){Fs(m,C,Re)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var R=m.return;try{T.componentDidMount()}catch(Re){Fs(m,R,Re)}}var P=m.return;try{q4(m)}catch(Re){Fs(m,P,Re)}break;case 5:var q=m.return;try{q4(m)}catch(Re){Fs(m,q,Re)}}}catch(Re){Fs(m,m.return,Re)}if(m===p){rt=null;break}var le=m.sibling;if(le!==null){le.return=m.return,rt=le;break}rt=m.return}}var G2=0,z2=1,H2=2,Q2=3,V2=4;if(typeof Symbol=="function"&&Symbol.for){var ig=Symbol.for;G2=ig("selector.component"),z2=ig("selector.has_pseudo_class"),H2=ig("selector.role"),Q2=ig("selector.test_id"),V2=ig("selector.text")}function tE(p){var m=de(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(p=Ce(p),p===null)throw Error(o(362));return p.stateNode.current}function nE(p,m){switch(m.$$typeof){case G2:if(p.type===m.value)return!0;break;case z2:e:{m=m.value,p=[p,0];for(var C=0;C<p.length;){var T=p[C++],R=p[C++],P=m[R];if(T.tag!==5||!U(T)){for(;P!=null&&nE(T,P);)R++,P=m[R];if(R===m.length){m=!0;break e}else for(T=T.child;T!==null;)p.push(T,R),T=T.sibling}}m=!1}return m;case H2:if(p.tag===5&&re(p.stateNode,m.value))return!0;break;case V2:if((p.tag===5||p.tag===6)&&(p=N(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case Q2:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function rE(p){switch(p.$$typeof){case G2:return"<"+(_(p.value)||"Unknown")+">";case z2:return":has("+(rE(p)||"")+")";case H2:return'[role="'+p.value+'"]';case V2:return'"'+p.value+'"';case Q2:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function OI(p,m){var C=[];p=[p,0];for(var T=0;T<p.length;){var R=p[T++],P=p[T++],q=m[P];if(R.tag!==5||!U(R)){for(;q!=null&&nE(R,q);)P++,q=m[P];if(P===m.length)C.push(R);else for(R=R.child;R!==null;)p.push(R,P),R=R.sibling}}return C}function iE(p,m){if(!Ue)throw Error(o(363));p=tE(p),p=OI(p,m),m=[],p=Array.from(p);for(var C=0;C<p.length;){var T=p[C++];if(T.tag===5)U(T)||m.push(T.stateNode);else for(T=T.child;T!==null;)p.push(T),T=T.sibling}return m}var QY=Math.ceil,W2=a.ReactCurrentDispatcher,sE=a.ReactCurrentOwner,Nr=a.ReactCurrentBatchConfig,tn=0,Xr=null,Yr=null,Pi=0,fo=0,Zd=Lt(0),oi=0,sg=null,$d=0,j2=0,oE=0,og=null,Ps=null,aE=0,lE=1/0;function ep(){lE=dr()+500}var X2=!1,uE=null,Sc=null,Y2=!1,Cc=null,K2=0,ag=0,cE=null,J2=-1,q2=0;function ms(){return tn&6?dr():J2!==-1?J2:J2=dr()}function wc(p){return p.mode&1?tn&2&&Pi!==0?Pi&-Pi:Kf.transition!==null?(q2===0&&(p=du,du<<=1,!(du&4194240)&&(du=64),q2=p),q2):(p=rn,p!==0?p:pe()):1}function Yo(p,m,C){if(50<ag)throw ag=0,cE=null,Error(o(185));var T=Z2(p,m);return T===null?null:(xl(T,m,C),(!(tn&2)||T!==Xr)&&(T===Xr&&(!(tn&2)&&(j2|=m),oi===4&&Tc(T,Pi)),Ls(T,C),m===1&&tn===0&&!(p.mode&1)&&(ep(),Sl&&Ds())),T)}function Z2(p,m){p.lanes|=m;var C=p.alternate;for(C!==null&&(C.lanes|=m),C=p,p=p.return;p!==null;)p.childLanes|=m,C=p.alternate,C!==null&&(C.childLanes|=m),C=p,p=p.return;return C.tag===3?C.stateNode:null}function Ls(p,m){var C=p.callbackNode;km(p,m);var T=jf(p,p===Xr?Pi:0);if(T===0)C!==null&&Hd(C),p.callbackNode=null,p.callbackPriority=0;else if(m=T&-T,p.callbackPriority!==m){if(C!=null&&Hd(C),m===1)p.tag===0?Vm(kI.bind(null,p)):Qm(kI.bind(null,p)),Ae?Le(function(){tn===0&&Ds()}):Au(Xf,Ds),C=null;else{switch(Nm(T)){case 1:C=Xf;break;case 4:C=m2;break;case 16:C=cs;break;case 536870912:C=zm;break;default:C=cs}C=XI(C,UI.bind(null,p))}p.callbackPriority=m,p.callbackNode=C}}function UI(p,m){if(J2=-1,q2=0,tn&6)throw Error(o(327));var C=p.callbackNode;if(sh()&&p.callbackNode!==C)return null;var T=jf(p,p===Xr?Pi:0);if(T===0)return null;if(T&30||T&p.expiredLanes||m)m=$2(p,T);else{m=T;var R=tn;tn|=2;var P=zI();(Xr!==p||Pi!==m)&&(ep(),rh(p,m));do try{jY();break}catch(le){GI(p,le)}while(1);Vd(),W2.current=P,tn=R,Yr!==null?m=0:(Xr=null,Pi=0,m=oi)}if(m!==0){if(m===2&&(R=gu(p),R!==0&&(T=R,m=fE(p,R))),m===1)throw C=sg,rh(p,0),Tc(p,T),Ls(p,dr()),C;if(m===6)Tc(p,T);else{if(R=p.current.alternate,!(T&30)&&!VY(R)&&(m=$2(p,T),m===2&&(P=gu(p),P!==0&&(T=P,m=fE(p,P))),m===1))throw C=sg,rh(p,0),Tc(p,T),Ls(p,dr()),C;switch(p.finishedWork=R,p.finishedLanes=T,m){case 0:case 1:throw Error(o(345));case 2:ih(p,Ps);break;case 3:if(Tc(p,T),(T&130023424)===T&&(m=aE+500-dr(),10<m)){if(jf(p,0)!==0)break;if(R=p.suspendedLanes,(R&T)!==T){ms(),p.pingedLanes|=p.suspendedLanes&R;break}p.timeoutHandle=se(ih.bind(null,p,Ps),m);break}ih(p,Ps);break;case 4:if(Tc(p,T),(T&4194240)===T)break;for(m=p.eventTimes,R=-1;0<T;){var q=31-io(T);P=1<<q,q=m[q],q>R&&(R=q),T&=~P}if(T=R,T=dr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*QY(T/1960))-T,10<T){p.timeoutHandle=se(ih.bind(null,p,Ps),T);break}ih(p,Ps);break;case 5:ih(p,Ps);break;default:throw Error(o(329))}}}return Ls(p,dr()),p.callbackNode===C?UI.bind(null,p):null}function fE(p,m){var C=og;return p.current.memoizedState.isDehydrated&&(rh(p,m).flags|=256),p=$2(p,m),p!==2&&(m=Ps,Ps=C,m!==null&&hE(m)),p}function hE(p){Ps===null?Ps=p:Ps.push.apply(Ps,p)}function VY(p){for(var m=p;;){if(m.flags&16384){var C=m.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var T=0;T<C.length;T++){var R=C[T],P=R.getSnapshot;R=R.value;try{if(!oo(P(),R))return!1}catch{return!1}}}if(C=m.child,m.subtreeFlags&16384&&C!==null)C.return=m,m=C;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Tc(p,m){for(m&=~oE,m&=~j2,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var C=31-io(m),T=1<<C;p[C]=-1,m&=~T}}function kI(p){if(tn&6)throw Error(o(327));sh();var m=jf(p,0);if(!(m&1))return Ls(p,dr()),null;var C=$2(p,m);if(p.tag!==0&&C===2){var T=gu(p);T!==0&&(m=T,C=fE(p,T))}if(C===1)throw C=sg,rh(p,0),Tc(p,m),Ls(p,dr()),C;if(C===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,ih(p,Ps),Ls(p,dr()),null}function NI(p){Cc!==null&&Cc.tag===0&&!(tn&6)&&sh();var m=tn;tn|=1;var C=Nr.transition,T=rn;try{if(Nr.transition=null,rn=1,p)return p()}finally{rn=T,Nr.transition=C,tn=m,!(tn&6)&&Ds()}}function dE(){fo=Zd.current,pn(Zd)}function rh(p,m){p.finishedWork=null,p.finishedLanes=0;var C=p.timeoutHandle;if(C!==we&&(p.timeoutHandle=we,he(C)),Yr!==null)for(C=Yr.return;C!==null;){var T=C;switch(B4(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&us();break;case 3:Jd(),pn(lr),pn(Tr),U4();break;case 5:F4(T);break;case 4:Jd();break;case 13:pn(pr);break;case 19:pn(pr);break;case 10:Ci(T.type._context);break;case 22:case 23:dE()}C=C.return}if(Xr=p,Yr=p=Mc(p.current,null),Pi=fo=m,oi=0,sg=null,oE=j2=$d=0,Ps=og=null,ao!==null){for(m=0;m<ao.length;m++)if(C=ao[m],T=C.interleaved,T!==null){C.interleaved=null;var R=T.next,P=C.pending;if(P!==null){var q=P.next;P.next=R,T.next=q}C.pending=T}ao=null}return p}function GI(p,m){do{var C=Yr;try{if(Vd(),T2.current=R2,M2){for(var T=Mr.memoizedState;T!==null;){var R=T.queue;R!==null&&(R.pending=null),T=T.next}M2=!1}if(qd=0,wi=ji=Mr=null,Jm=!1,qm=0,sE.current=null,C===null||C.return===null){oi=1,sg=m,Yr=null;break}e:{var P=p,q=C.return,le=C,Re=m;if(m=Pi,le.flags|=32768,Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Ze=Re,ht=le,Vt=ht.tag;if(!(ht.mode&1)&&(Vt===0||Vt===11||Vt===15)){var It=ht.alternate;It?(ht.updateQueue=It.updateQueue,ht.memoizedState=It.memoizedState,ht.lanes=It.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Nn=aI(q);if(Nn!==null){Nn.flags&=-257,lI(Nn,q,le,P,m),Nn.mode&1&&oI(P,Ze,m),m=Nn,Re=Ze;var yt=m.updateQueue;if(yt===null){var Ki=new Set;Ki.add(Re),m.updateQueue=Ki}else yt.add(Re);break e}else{if(!(m&1)){oI(P,Ze,m),pE();break e}Re=Error(o(426))}}else if(ur&&le.mode&1){var Jo=aI(q);if(Jo!==null){!(Jo.flags&65536)&&(Jo.flags|=256),lI(Jo,q,le,P,m),P4(Re);break e}}P=Re,oi!==4&&(oi=2),og===null?og=[P]:og.push(P),Re=V4(Re,le),le=q;do{switch(le.tag){case 3:le.flags|=65536,m&=-m,le.lanes|=m;var Ee=iI(le,Re,m);M_(le,Ee);break e;case 1:P=Re;var ue=le.type,Me=le.stateNode;if(!(le.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Sc===null||!Sc.has(Me)))){le.flags|=65536,m&=-m,le.lanes|=m;var st=sI(le,P,m);M_(le,st);break e}}le=le.return}while(le!==null)}QI(C)}catch(At){m=At,Yr===C&&C!==null&&(Yr=C=C.return);continue}break}while(1)}function zI(){var p=W2.current;return W2.current=R2,p===null?R2:p}function pE(){(oi===0||oi===3||oi===2)&&(oi=4),Xr===null||!($d&268435455)&&!(j2&268435455)||Tc(Xr,Pi)}function $2(p,m){var C=tn;tn|=2;var T=zI();Xr===p&&Pi===m||rh(p,m);do try{WY();break}catch(R){GI(p,R)}while(1);if(Vd(),tn=C,W2.current=T,Yr!==null)throw Error(o(261));return Xr=null,Pi=0,oi}function WY(){for(;Yr!==null;)HI(Yr)}function jY(){for(;Yr!==null&&!Gm();)HI(Yr)}function HI(p){var m=jI(p.alternate,p,fo);p.memoizedProps=p.pendingProps,m===null?QI(p):Yr=m,sE.current=null}function QI(p){var m=p;do{var C=m.alternate;if(p=m.return,m.flags&32768){if(C=kY(C,m),C!==null){C.flags&=32767,Yr=C;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{oi=6,Yr=null;return}}else if(C=FY(C,m,fo),C!==null){Yr=C;return}if(m=m.sibling,m!==null){Yr=m;return}Yr=m=p}while(m!==null);oi===0&&(oi=5)}function ih(p,m){var C=rn,T=Nr.transition;try{Nr.transition=null,rn=1,XY(p,m,C)}finally{Nr.transition=T,rn=C}return null}function XY(p,m,C){do sh();while(Cc!==null);if(tn&6)throw Error(o(327));var T=p.finishedWork,R=p.finishedLanes;if(T===null)return null;if(p.finishedWork=null,p.finishedLanes=0,T===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var P=T.lanes|T.childLanes;if(vc(p,P),p===Xr&&(Yr=Xr=null,Pi=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Y2||(Y2=!0,XI(cs,function(){return sh(),null})),P=(T.flags&15990)!==0,T.subtreeFlags&15990||P){P=Nr.transition,Nr.transition=null;var q=rn;rn=1;var le=tn;tn|=4,sE.current=null,GY(p,T),zY(p,T),j(p.containerInfo),p.current=T,HY(T),p2(),tn=le,rn=q,Nr.transition=P}else p.current=T;if(Y2&&(Y2=!1,Cc=p,K2=R),P=p.pendingLanes,P===0&&(Sc=null),Hm(T.stateNode),Ls(p,dr()),m!==null)for(C=p.onRecoverableError,T=0;T<m.length;T++)C(m[T]);if(X2)throw X2=!1,p=uE,uE=null,p;return K2&1&&p.tag!==0&&sh(),P=p.pendingLanes,P&1?p===cE?ag++:(ag=0,cE=p):ag=0,Ds(),null}function sh(){if(Cc!==null){var p=Nm(K2),m=Nr.transition,C=rn;try{if(Nr.transition=null,rn=16>p?16:p,Cc===null)var T=!1;else{if(p=Cc,Cc=null,K2=0,tn&6)throw Error(o(331));var R=tn;for(tn|=4,rt=p.current;rt!==null;){var P=rt,q=P.child;if(rt.flags&16){var le=P.deletions;if(le!==null){for(var Re=0;Re<le.length;Re++){var Ze=le[Re];for(rt=Ze;rt!==null;){var ht=rt;switch(ht.tag){case 0:case 11:case 15:nh(8,ht,P)}var Vt=ht.child;if(Vt!==null)Vt.return=ht,rt=Vt;else for(;rt!==null;){ht=rt;var It=ht.sibling,Nn=ht.return;if(_I(ht),ht===Ze){rt=null;break}if(It!==null){It.return=Nn,rt=It;break}rt=Nn}}}var yt=P.alternate;if(yt!==null){var Ki=yt.child;if(Ki!==null){yt.child=null;do{var Jo=Ki.sibling;Ki.sibling=null,Ki=Jo}while(Ki!==null)}}rt=P}}if(P.subtreeFlags&2064&&q!==null)q.return=P,rt=q;else e:for(;rt!==null;){if(P=rt,P.flags&2048)switch(P.tag){case 0:case 11:case 15:nh(9,P,P.return)}var Ee=P.sibling;if(Ee!==null){Ee.return=P.return,rt=Ee;break e}rt=P.return}}var ue=p.current;for(rt=ue;rt!==null;){q=rt;var Me=q.child;if(q.subtreeFlags&2064&&Me!==null)Me.return=q,rt=Me;else e:for(q=ue;rt!==null;){if(le=rt,le.flags&2048)try{switch(le.tag){case 0:case 11:case 15:rg(9,le)}}catch(At){Fs(le,le.return,At)}if(le===q){rt=null;break e}var st=le.sibling;if(st!==null){st.return=le.return,rt=st;break e}rt=le.return}}if(tn=R,Ds(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(Yf,p)}catch{}T=!0}return T}finally{rn=C,Nr.transition=m}}return!1}function VI(p,m,C){m=V4(C,m),m=iI(p,m,1),Ec(p,m),m=ms(),p=Z2(p,1),p!==null&&(xl(p,1,m),Ls(p,m))}function Fs(p,m,C){if(p.tag===3)VI(p,p,C);else for(;m!==null;){if(m.tag===3){VI(m,p,C);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Sc===null||!Sc.has(T))){p=V4(C,p),p=sI(m,p,1),Ec(m,p),p=ms(),m=Z2(m,1),m!==null&&(xl(m,1,p),Ls(m,p));break}}m=m.return}}function YY(p,m,C){var T=p.pingCache;T!==null&&T.delete(m),m=ms(),p.pingedLanes|=p.suspendedLanes&C,Xr===p&&(Pi&C)===C&&(oi===4||oi===3&&(Pi&130023424)===Pi&&500>dr()-aE?rh(p,0):oE|=C),Ls(p,m)}function WI(p,m){m===0&&(p.mode&1?(m=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):m=1);var C=ms();p=Z2(p,m),p!==null&&(xl(p,m,C),Ls(p,C))}function KY(p){var m=p.memoizedState,C=0;m!==null&&(C=m.retryLane),WI(p,C)}function JY(p,m){var C=0;switch(p.tag){case 13:var T=p.stateNode,R=p.memoizedState;R!==null&&(C=R.retryLane);break;case 19:T=p.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(m),WI(p,C)}var jI;jI=function(p,m,C){if(p!==null)if(p.memoizedProps!==m.pendingProps||lr.current)co=!0;else{if(!(p.lanes&C)&&!(m.flags&128))return co=!1,UY(p,m,C);co=!!(p.flags&131072)}else co=!1,ur&&m.flags&1048576&&D_(m,S2,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var R=Fn(m,Tr.current);Ur(m,C),R=N4(null,m,T,p,R,C);var P=G4();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Vn(T)?(P=!0,yl(m)):P=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,M4(m),R.updater=x2,m.stateNode=R,R._reactInternals=m,I4(m,T,p,C),m=X4(null,m,T,!0,P,C)):(m.tag=0,ur&&P&&b4(m),ps(null,m,R,C),m=m.child),m;case 16:T=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,R=T._init,T=R(T._payload),m.type=T,R=m.tag=ZY(T),p=hs(T,p),R){case 0:m=j4(null,m,T,p,C);break e;case 1:m=gI(null,m,T,p,C);break e;case 11:m=fI(null,m,T,p,C);break e;case 14:m=hI(null,m,T,hs(T.type,p),C);break e}throw Error(o(306,T,""))}return m;case 0:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:hs(T,R),j4(p,m,T,R,C);case 1:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:hs(T,R),gI(p,m,T,R,C);case 3:e:{if(AI(m),p===null)throw Error(o(387));T=m.pendingProps,P=m.memoizedState,R=P.element,T_(p,m),y2(m,T,null,C);var q=m.memoizedState;if(T=q.element,ve&&P.isDehydrated)if(P={element:T,isDehydrated:!1,cache:q.cache,transitions:q.transitions},m.updateQueue.baseState=P,m.memoizedState=P,m.flags&256){R=Error(o(423)),m=vI(p,m,T,C,R);break e}else if(T!==R){R=Error(o(424)),m=vI(p,m,T,C,R);break e}else for(ve&&(uo=si(m.stateNode.containerInfo),lo=m,ur=!0,ka=null,Wm=!1),C=k_(m,null,T,C),m.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(Xd(),T===R){m=Su(p,m,C);break e}ps(p,m,T,C)}m=m.child}return m;case 5:return N_(m),p===null&&D4(m),T=m.type,R=m.pendingProps,P=p!==null?p.memoizedProps:null,q=R.children,ne(T,R)?q=null:P!==null&&ne(T,P)&&(m.flags|=32),mI(p,m),ps(p,m,q,C),m.child;case 6:return p===null&&D4(m),null;case 13:return yI(p,m,C);case 4:return L4(m,m.stateNode.containerInfo),T=m.pendingProps,p===null?m.child=Yd(m,null,T,C):ps(p,m,T,C),m.child;case 11:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:hs(T,R),fI(p,m,T,R,C);case 7:return ps(p,m,m.pendingProps,C),m.child;case 8:return ps(p,m,m.pendingProps.children,C),m.child;case 12:return ps(p,m,m.pendingProps.children,C),m.child;case 10:e:{if(T=m.type._context,R=m.pendingProps,P=m.memoizedProps,q=R.value,A2(m,T,q),P!==null)if(oo(P.value,q)){if(P.children===R.children&&!lr.current){m=Su(p,m,C);break e}}else for(P=m.child,P!==null&&(P.return=m);P!==null;){var le=P.dependencies;if(le!==null){q=P.child;for(var Re=le.firstContext;Re!==null;){if(Re.context===T){if(P.tag===1){Re=vu(-1,C&-C),Re.tag=2;var Ze=P.updateQueue;if(Ze!==null){Ze=Ze.shared;var ht=Ze.pending;ht===null?Re.next=Re:(Re.next=ht.next,ht.next=Re),Ze.pending=Re}}P.lanes|=C,Re=P.alternate,Re!==null&&(Re.lanes|=C),ds(P.return,C,m),le.lanes|=C;break}Re=Re.next}}else if(P.tag===10)q=P.type===m.type?null:P.child;else if(P.tag===18){if(q=P.return,q===null)throw Error(o(341));q.lanes|=C,le=q.alternate,le!==null&&(le.lanes|=C),ds(q,C,m),q=P.sibling}else q=P.child;if(q!==null)q.return=P;else for(q=P;q!==null;){if(q===m){q=null;break}if(P=q.sibling,P!==null){P.return=q.return,q=P;break}q=q.return}P=q}ps(p,m,R.children,C),m=m.child}return m;case 9:return R=m.type,T=m.pendingProps.children,Ur(m,C),R=kr(R),T=T(R),m.flags|=1,ps(p,m,T,C),m.child;case 14:return T=m.type,R=hs(T,m.pendingProps),R=hs(T.type,R),hI(p,m,T,R,C);case 15:return dI(p,m,m.type,m.pendingProps,C);case 17:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:hs(T,R),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Vn(T)?(p=!0,yl(m)):p=!1,Ur(m,C),B_(m,T,R),I4(m,T,R,C),X4(null,m,T,!0,p,C);case 19:return CI(p,m,C);case 22:return pI(p,m,C)}throw Error(o(156,m.tag))};function XI(p,m){return Au(p,m)}function qY(p,m,C,T){this.tag=p,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(p,m,C,T){return new qY(p,m,C,T)}function mE(p){return p=p.prototype,!(!p||!p.isReactComponent)}function ZY(p){if(typeof p=="function")return mE(p)?1:0;if(p!=null){if(p=p.$$typeof,p===v)return 11;if(p===x)return 14}return 2}function Mc(p,m){var C=p.alternate;return C===null?(C=Ko(p.tag,m,p.key,p.mode),C.elementType=p.elementType,C.type=p.type,C.stateNode=p.stateNode,C.alternate=p,p.alternate=C):(C.pendingProps=m,C.type=p.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=p.flags&14680064,C.childLanes=p.childLanes,C.lanes=p.lanes,C.child=p.child,C.memoizedProps=p.memoizedProps,C.memoizedState=p.memoizedState,C.updateQueue=p.updateQueue,m=p.dependencies,C.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},C.sibling=p.sibling,C.index=p.index,C.ref=p.ref,C}function ev(p,m,C,T,R,P){var q=2;if(T=p,typeof p=="function")mE(p)&&(q=1);else if(typeof p=="string")q=5;else e:switch(p){case c:return oh(C.children,R,P,m);case f:q=8,R|=8;break;case h:return p=Ko(12,C,m,R|2),p.elementType=h,p.lanes=P,p;case y:return p=Ko(13,C,m,R),p.elementType=y,p.lanes=P,p;case A:return p=Ko(19,C,m,R),p.elementType=A,p.lanes=P,p;case S:return tv(C,R,P,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case d:q=10;break e;case g:q=9;break e;case v:q=11;break e;case x:q=14;break e;case E:q=16,T=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return m=Ko(q,C,m,R),m.elementType=p,m.type=T,m.lanes=P,m}function oh(p,m,C,T){return p=Ko(7,p,T,m),p.lanes=C,p}function tv(p,m,C,T){return p=Ko(22,p,T,m),p.elementType=S,p.lanes=C,p.stateNode={},p}function gE(p,m,C){return p=Ko(6,p,null,m),p.lanes=C,p}function AE(p,m,C){return m=Ko(4,p.children!==null?p.children:[],p.key,m),m.lanes=C,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function $Y(p,m,C,T,R){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=we,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=T,this.onRecoverableError=R,ve&&(this.mutableSourceEagerHydrationData=null)}function YI(p,m,C,T,R,P,q,le,Re){return p=new $Y(p,m,C,le,Re),m===1?(m=1,P===!0&&(m|=8)):m=0,P=Ko(3,null,null,m),p.current=P,P.stateNode=p,P.memoizedState={element:T,isDehydrated:C,cache:null,transitions:null},M4(P),p}function KI(p){if(!p)return Or;p=p._reactInternals;e:{if(I(p)!==p||p.tag!==1)throw Error(o(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Vn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(p.tag===1){var C=p.type;if(Vn(C))return vl(p,C,m)}return m}function JI(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=F(m),p===null?null:p.stateNode}function qI(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var C=p.retryLane;p.retryLane=C!==0&&C<m?C:m}}function vE(p,m){qI(p,m),(p=p.alternate)&&qI(p,m)}function eK(p){return p=F(p),p===null?null:p.stateNode}function tK(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var m=ms();Yo(p,134217728,m),vE(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=ms(),C=wc(p);Yo(p,C,m),vE(p,C)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var C=mu(m.pendingLanes);C!==0&&(El(m,C|1),Ls(m,dr()),!(tn&6)&&(ep(),Ds()))}break;case 13:var T=ms();NI(function(){return Yo(p,1,T)}),vE(p,1)}},n.batchedUpdates=function(p,m){var C=tn;tn|=1;try{return p(m)}finally{tn=C,tn===0&&(ep(),Sl&&Ds())}},n.createComponentSelector=function(p){return{$$typeof:G2,value:p}},n.createContainer=function(p,m,C,T,R,P,q){return YI(p,m,!1,null,C,T,R,P,q)},n.createHasPseudoClassSelector=function(p){return{$$typeof:z2,value:p}},n.createHydrationContainer=function(p,m,C,T,R,P,q,le,Re){return p=YI(C,T,!0,p,R,P,q,le,Re),p.context=KI(null),C=p.current,T=ms(),R=wc(C),P=vu(T,R),P.callback=m??null,Ec(C,P),p.current.lanes=R,xl(p,R,T),Ls(p,T),p},n.createPortal=function(p,m,C){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:p,containerInfo:m,implementation:C}},n.createRoleSelector=function(p){return{$$typeof:H2,value:p}},n.createTestNameSelector=function(p){return{$$typeof:Q2,value:p}},n.createTextSelector=function(p){return{$$typeof:V2,value:p}},n.deferredUpdates=function(p){var m=rn,C=Nr.transition;try{return Nr.transition=null,rn=16,p()}finally{rn=m,Nr.transition=C}},n.discreteUpdates=function(p,m,C,T,R){var P=rn,q=Nr.transition;try{return Nr.transition=null,rn=1,p(m,C,T,R)}finally{rn=P,Nr.transition=q,tn===0&&ep()}},n.findAllNodes=iE,n.findBoundingRects=function(p,m){if(!Ue)throw Error(o(363));m=iE(p,m),p=[];for(var C=0;C<m.length;C++)p.push(Je(m[C]));for(m=p.length-1;0<m;m--){C=p[m];for(var T=C.x,R=T+C.width,P=C.y,q=P+C.height,le=m-1;0<=le;le--)if(m!==le){var Re=p[le],Ze=Re.x,ht=Ze+Re.width,Vt=Re.y,It=Vt+Re.height;if(T>=Ze&&P>=Vt&&R<=ht&&q<=It){p.splice(m,1);break}else if(T!==Ze||C.width!==Re.width||It<P||Vt>q){if(!(P!==Vt||C.height!==Re.height||ht<T||Ze>R)){Ze>T&&(Re.width+=Ze-T,Re.x=T),ht<R&&(Re.width=R-Ze),p.splice(m,1);break}}else{Vt>P&&(Re.height+=Vt-P,Re.y=P),It<q&&(Re.height=q-Vt),p.splice(m,1);break}}}return p},n.findHostInstance=JI,n.findHostInstanceWithNoPortals=function(p){return p=L(p),p=p!==null?G(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return JI(p)},n.flushControlled=function(p){var m=tn;tn|=1;var C=Nr.transition,T=rn;try{Nr.transition=null,rn=1,p()}finally{rn=T,Nr.transition=C,tn=m,tn===0&&(ep(),Ds())}},n.flushPassiveEffects=sh,n.flushSync=NI,n.focusWithin=function(p,m){if(!Ue)throw Error(o(363));for(p=tE(p),m=OI(p,m),m=Array.from(m),p=0;p<m.length;){var C=m[p++];if(!U(C)){if(C.tag===5&&_e(C.stateNode))return!0;for(C=C.child;C!==null;)m.push(C),C=C.sibling}}return!1},n.getCurrentUpdatePriority=function(){return rn},n.getFindAllNodesFailureDescription=function(p,m){if(!Ue)throw Error(o(363));var C=0,T=[];p=[tE(p),0];for(var R=0;R<p.length;){var P=p[R++],q=p[R++],le=m[q];if((P.tag!==5||!U(P))&&(nE(P,le)&&(T.push(rE(le)),q++,q>C&&(C=q)),q<m.length))for(P=P.child;P!==null;)p.push(P,q),P=P.sibling}if(C<m.length){for(p=[];C<m.length;C++)p.push(rE(m[C]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return Y(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:eK,findFiberByHostInstance:p.findFiberByHostInstance||tK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{Yf=m.inject(p),so=m}catch{}p=!!m.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,m,C,T){if(!Ue)throw Error(o(363));p=iE(p,m);var R=Te(p,C,T).disconnect;return{disconnect:function(){R()}}},n.registerMutableSourceForHydration=function(p,m){var C=m._getVersion;C=C(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,C]:p.mutableSourceEagerHydrationData.push(m,C)},n.runWithPriority=function(p,m){var C=rn;try{return rn=p,m()}finally{rn=C}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,m,C,T){var R=m.current,P=ms(),q=wc(R);return C=KI(C),m.context===null?m.context=C:m.pendingContext=C,m=vu(P,q),m.payload={element:p},T=T===void 0?null:T,T!==null&&(m.callback=T),Ec(R,m),p=Yo(R,q,P),p!==null&&v2(p,R,q),q},n};jz.exports=Cse;var wse=jz.exports;const Tse=Td(wse),Mse=t=>typeof t=="object"&&typeof t.then=="function",jh=[];function Kz(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Jz(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of jh)if(Kz(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=jh.indexOf(i);s!==-1&&jh.splice(s,1)},promise:(Mse(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(jh.push(i),!n)throw i.promise}const OM=(t,e,n)=>Jz(t,e,!1,n),qz=(t,e,n)=>void Jz(t,e,!0,n),Zz=t=>{if(t===void 0||t.length===0)jh.splice(0,jh.length);else{const e=jh.find(n=>Kz(t,n.keys,n.equal));e&&e.remove()}},UM={},F3=t=>void Object.assign(UM,t);function _se(t,e){function n(c,{args:f=[],attach:h,...d},g){let v=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(d.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=d.object;y=kp(A,{type:c,root:g,attach:h,primitive:!0})}else{const A=UM[v];if(!A)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=kp(new A(...f),{type:c,root:g,attach:h,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof bt?y.__r3f.attach="geometry":y instanceof fr&&(y.__r3f.attach="material")),v!=="inject"&&M8(y,d),y}function r(c,f){let h=!1;if(f){var d,g;(d=f.__r3f)!=null&&d.attach?T8(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||kp(f,{}),f.__r3f.parent=c,vw(f),Np(f)}}function i(c,f,h){let d=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)T8(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const y=c.children.filter(x=>x!==f),A=y.indexOf(h);c.children=[...y.slice(0,A),f,...y.slice(A)],d=!0}d||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||kp(f,{}),f.__r3f.parent=c,vw(f),Np(f)}}function s(c,f,h=!1){c&&[...c].forEach(d=>o(f,d,h))}function o(c,f,h){if(f){var d,g,v;if(f.__r3f&&(f.__r3f.parent=null),(d=c.__r3f)!=null&&d.objects&&(c.__r3f.objects=c.__r3f.objects.filter(S=>S!==f)),(g=f.__r3f)!=null&&g.attach)kR(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&Lse(f.__r3f.root,f)}const x=(v=f.__r3f)==null?void 0:v.primitive,E=h===void 0?f.dispose!==null&&!x:h;if(!x){var A;s((A=f.__r3f)==null?void 0:A.objects,f,E),s(f.children,f,E)}delete f.__r3f,E&&f.dispose&&f.type!=="Scene"&&gw.unstable_scheduleCallback(gw.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Np(c)}}function a(c,f,h,d){var g;const v=(g=c.__r3f)==null?void 0:g.parent;if(!v)return;const y=n(f,h,c.__r3f.root);if(c.children){for(const A of c.children)A.__r3f&&r(y,A);c.children=c.children.filter(A=>!A.__r3f)}c.__r3f.objects.forEach(A=>r(y,A)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(v,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[d,d.alternate].forEach(A=>{A!==null&&(A.stateNode=y,A.ref&&(typeof A.ref=="function"?A.ref(y):A.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Tse({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const d=c.getState().scene;d.__r3f&&i(d,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,d){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&d.object&&d.object!==c)return[!0];{const{args:y=[],children:A,...x}=d,{args:E=[],children:S,...w}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((_,b)=>_!==E[b]))return[!0];const M=sH(c,x,w,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[f,h],d,g,v,y){f?a(c,d,v,y):M8(c,h)},commitMount(c,f,h,d){var g;const v=(g=c.__r3f)!=null?g:{};c.raycast&&v.handlers&&v.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>kp(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:d}=(f=c.__r3f)!=null?f:{};h&&d&&kR(d,c,h),c.isObject3D&&(c.visible=!1),Np(c)},unhideInstance(c,f){var h;const{attach:d,parent:g}=(h=c.__r3f)!=null?h:{};d&&g&&T8(g,c,d),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Np(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():n0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&nr.fun(performance.now)?performance.now:nr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:nr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:nr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:M8}}var LR,FR;const w8=t=>"colorSpace"in t||"outputColorSpace"in t,$z=()=>{var t;return(t=UM.ColorManagement)!=null?t:null},eH=t=>t&&t.isOrthographicCamera,Ise=t=>t&&t.hasOwnProperty("current"),Cm=typeof window<"u"&&((LR=window.document)!=null&&LR.createElement||((FR=window.navigator)==null?void 0:FR.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function tH(t){const e=D.useRef(t);return Cm(()=>void(e.current=t),[t]),e}function bse({set:t}){return Cm(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class nH extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}nH.getDerivedStateFromError=()=>({error:!0});const rH="__default",OR=new Map,Bse=t=>t&&!!t.memoized&&!!t.changes;function iH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Mg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},nr={obj:t=>t===Object(t)&&!nr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(nr.str(t)||nr.num(t))return t===e;const s=nr.obj(t);if(s&&r==="reference")return t===e;const o=nr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!nr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(nr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Rse(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Dse(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function kp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Aw(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const UR=/-\d+$/;function T8(t,e,n){if(nr.str(n)){if(UR.test(n)){const s=n.replace(UR,""),{target:o,key:a}=Aw(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Aw(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function kR(t,e,n){var r,i;if(nr.str(n)){const{target:s,key:o}=Aw(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function sH(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=t==null?void 0:t.__r3f)!=null?c:{},h=Object.entries(i),d=[];if(u){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||h.unshift([v[y],rH+"remove"])}h.forEach(([v,y])=>{var A;if((A=t.__r3f)!=null&&A.primitive&&v==="object"||nr.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return d.push([v,y,!0,[]]);let x=[];v.includes("-")&&(x=v.split("-")),d.push([v,y,!1,x]);for(const E in i){const S=i[E];E.startsWith(`${v}-`)&&d.push([E,S,!1,E.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:d}}function M8(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=Bse(e)?e:sH(t,e),c=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let h=0;h<u.length;h++){let[d,g,v,y]=u[h];if(w8(t)){const S="srgb",w="srgb-linear";d==="encoding"?(d="colorSpace",g=g===3001?S:w):d==="outputEncoding"&&(d="outputColorSpace",g=g===3001?S:w)}let A=t,x=A[d];if(y.length&&(x=y.reduce((E,S)=>E[S],t),!(x&&x.set))){const[E,...S]=y.reverse();A=S.reverse().reduce((w,M)=>w[M],t),d=E}if(g===rH+"remove")if(A.constructor){let E=OR.get(A.constructor);E||(E=new A.constructor,OR.set(A.constructor,E)),g=E[d]}else g=0;if(v)g?s.handlers[d]=g:delete s.handlers[d],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof ed)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&x.constructor===g.constructor)x.copy(g);else if(g!==void 0){const E=x instanceof Be;!E&&x.setScalar?x.setScalar(g):x instanceof ed&&g instanceof ed?x.mask=g.mask:x.set(g),!$z()&&!a.linear&&E&&x.convertSRGBToLinear()}}else if(A[d]=g,A[d]instanceof xn&&A[d].format===yn&&A[d].type===an){const E=A[d];w8(E)&&w8(a.gl)?E.colorSpace=a.gl.outputColorSpace:E.encoding=a.gl.outputEncoding}Np(t)}if(s.parent&&a.internal&&t.raycast&&c!==s.eventCount){const h=a.internal.interaction.indexOf(t);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&vw(t),t}function Np(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function vw(t){t.onUpdate==null||t.onUpdate(t)}function oH(t,e){t.manual||(eH(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function oy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Pse(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return n0.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return n0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return n0.ContinuousEventPriority;default:return n0.DefaultEventPriority}}function aH(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Lse(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{aH(n.capturedMap,e,r,i)})}function Fse(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,h=[],d=u?u(c.internal.interaction):c.internal.interaction;for(let A=0;A<d.length;A++){const x=Mg(d[A]);x&&(x.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(A){const x=Mg(A);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var E;x.events.compute==null||x.events.compute(l,x,(E=x.previousRoot)==null?void 0:E.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(A,!0):[]}let v=d.flatMap(g).sort((A,x)=>{const E=Mg(A.object),S=Mg(x.object);return!E||!S?A.distance-x.distance:S.events.priority-E.events.priority||A.distance-x.distance}).filter(A=>{const x=oy(A);return f.has(x)?!1:(f.add(x),!0)});c.events.filter&&(v=c.events.filter(v,c));for(const A of v){let x=A.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&h.push({...A,eventObject:x}),x=x.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let A of c.internal.capturedMap.get(l.pointerId).values())f.has(oy(A.intersection))||h.push(A.intersection);return h}function i(l,u,c,f){const h=t.getState();if(l.length){const d={stopped:!1};for(const g of l){const v=Mg(g.object)||h,{raycaster:y,pointer:A,camera:x,internal:E}=v,S=new k(A.x,A.y,0).unproject(x),w=B=>{var L,F;return(L=(F=E.capturedMap.get(B))==null?void 0:F.has(g.eventObject))!=null?L:!1},M=B=>{const L={intersection:g,target:u.target};E.capturedMap.has(B)?E.capturedMap.get(B).set(g.eventObject,L):E.capturedMap.set(B,new Map([[g.eventObject,L]])),u.target.setPointerCapture(B)},_=B=>{const L=E.capturedMap.get(B);L&&aH(E.capturedMap,g.eventObject,L,B)};let b={};for(let B in u){let L=u[B];typeof L!="function"&&(b[B]=L)}let I={...g,...b,pointer:A,intersections:l,stopped:d.stopped,delta:c,unprojectedPoint:S,ray:y.ray,camera:x,stopPropagation(){const B="pointerId"in u&&E.capturedMap.get(u.pointerId);if((!B||B.has(g.eventObject))&&(I.stopped=d.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(L=>L.eventObject===g.eventObject))){const L=l.slice(0,l.indexOf(g));s([...L,g])}},target:{hasPointerCapture:w,setPointerCapture:M,releasePointerCapture:_},currentTarget:{hasPointerCapture:w,setPointerCapture:M,releasePointerCapture:_},nativeEvent:u};if(f(I),d.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,d=h==null?void 0:h.handlers;if(u.hovered.delete(oy(c)),h!=null&&h.eventCount){const g={...c,intersections:l};d.onPointerOut==null||d.onPointerOut(g),d.onPointerLeave==null||d.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const d=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,d?n:void 0),A=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=y.map(E=>E.eventObject)),g&&!y.length&&A<=2&&(o(c,h.interaction),f&&f(c)),d&&s(y);function x(E){const S=E.eventObject,w=S.__r3f,M=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(d){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const _=oy(E),b=h.hovered.get(_);b?b.stopped&&E.stopPropagation():(h.hovered.set(_,E),M.onPointerOver==null||M.onPointerOver(E),M.onPointerEnter==null||M.onPointerEnter(E))}M.onPointerMove==null||M.onPointerMove(E)}else{const _=M[l];_?(!g||h.initialHits.includes(S))&&(o(c,h.interaction.filter(b=>!h.initialHits.includes(b))),_(E)):g&&h.initialHits.includes(S)&&o(c,h.interaction.filter(b=>!h.initialHits.includes(b)))}}i(y,c,A,x)}}return{handlePointer:a}}const Ose=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],lH=t=>!!(t!=null&&t.render),kM=D.createContext(null),Use=(t,e)=>{const n=Wz((a,l)=>{const u=new k,c=new k,f=new k;function h(A=l().camera,x=c,E=l().size){const{width:S,height:w,top:M,left:_}=E,b=S/w;x instanceof k?f.copy(x):f.set(...x);const I=A.getWorldPosition(u).distanceTo(f);if(eH(A))return{width:S/A.zoom,height:w/A.zoom,top:M,left:_,factor:1,distance:I,aspect:b};{const B=A.fov*Math.PI/180,L=2*Math.tan(B/2)*I,F=L*(S/w);return{width:F,height:L,top:M,left:_,factor:S/F,distance:I,aspect:b}}}let d;const g=A=>a(x=>({performance:{...x.performance,current:A}})),v=new ie;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>t(l(),A),advance:(A,x)=>e(A,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new F6,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();d&&clearTimeout(d),A.performance.current!==A.performance.min&&g(A.performance.min),d=setTimeout(()=>g(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:A=>a(x=>({...x,events:{...x.events,...A}})),setSize:(A,x,E,S,w)=>{const M=l().camera,_={width:A,height:x,top:S||0,left:w||0,updateStyle:E};a(b=>({size:_,viewport:{...b.viewport,...h(M,c,_)}}))},setDpr:A=>a(x=>{const E=iH(A);return{viewport:{...x.viewport,dpr:E,initialDpr:x.viewport.initialDpr||E}}}),setFrameloop:(A="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,A!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,x,E)=>{const S=l().internal;return S.priority=S.priority+(x>0?1:0),S.subscribers.push({ref:A,priority:x,store:E}),S.subscribers=S.subscribers.sort((w,M)=>w.priority-M.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(x>0?1:0),w.subscribers=w.subscribers.filter(M=>M.ref!==A))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=n.getState();if(l!==i||u.dpr!==s){var h;i=l,s=u.dpr,oH(a,l),c.setPixelRatio(u.dpr);const d=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,d)}a!==o&&(o=a,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let ay,kse=new Set,Nse=new Set,Gse=new Set;function _8(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function _g(t,e){switch(t){case"before":return _8(kse,e);case"after":return _8(Nse,e);case"tail":return _8(Gse,e)}}let I8,b8;function B8(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),I8=e.internal.subscribers,ay=0;ay<I8.length;ay++)b8=I8[ay],b8.ref.current(b8.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function zse(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,_g("before",l);for(const c of t.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=B8(l,i))}if(_g("after",l),n===0)return _g("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return t.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&_g("before",l),c)B8(l,c,f);else for(const h of t.values())B8(l,h.store.getState());u&&_g("after",l)}return{loop:s,invalidate:o,advance:a}}function Hse(t){const e=D.useRef(null);return Cm(()=>void(e.current=t.current.__r3f),[t]),e}function NM(){const t=D.useContext(kM);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function qn(t=n=>n,e){return NM()(t,e)}function or(t,e=0){const n=NM(),r=n.getState().internal.subscribe,i=tH(t);return Cm(()=>r(i,e,n),[e,r,n]),null}const NR=new WeakMap;function uH(t,e){return function(n,...r){let i=NR.get(n);return i||(i=new n,NR.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Rse(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Pa(t,e,n,r){const i=Array.isArray(e)?e:[e],s=OM(uH(n,r),[t,...i],{equal:nr.equ});return Array.isArray(e)?s:s[0]}Pa.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return qz(uH(n),[t,...r])};Pa.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Zz([t,...n])};const X0=new Map,{invalidate:GR,advance:zR}=zse(X0),{reconciler:GA,applyProps:_h}=_se(X0,Pse),wp={objects:"shallow",strict:!1},Qse=(t,e)=>{const n=typeof t=="function"?t(e):t;return lH(n)?n:new dM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Vse(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function Wse(t){const e=X0.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Use(GR,zR),o=n||GA.createContainer(s,n0.ConcurrentRoot,null,!1,null,"",i,null);e||X0.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:d,events:g,onCreated:v,shadows:y=!1,linear:A=!1,flat:x=!1,legacy:E=!1,orthographic:S=!1,frameloop:w="always",dpr:M=[1,2],performance:_,raycaster:b,camera:I,onPointerMissed:B}=c,L=s.getState(),F=L.gl;L.gl||L.set({gl:F=Qse(f,t)});let O=L.raycaster;O||L.set({raycaster:O=new FM});const{params:G,...V}=b||{};if(nr.equ(V,O,wp)||_h(O,{...V}),nr.equ(G,O.params,wp)||_h(O,{params:{...O.params,...G}}),!L.camera||L.camera===u&&!nr.equ(u,I,wp)){u=I;const H=I instanceof pm,ee=H?I:S?new Of(0,0,0,0,.1,1e3):new Hn(75,0,.1,1e3);H||(ee.position.z=5,I&&_h(ee,I),!L.camera&&!(I!=null&&I.rotation)&&ee.lookAt(0,0,0)),L.set({camera:ee})}if(!L.scene){let H;d instanceof Sf?H=d:(H=new Sf,d&&_h(H,d)),L.set({scene:kp(H)})}if(!L.xr){var Y;const H=(ne,oe)=>{const se=s.getState();se.frameloop!=="never"&&zR(ne,!0,se,oe)},ee=()=>{const ne=s.getState();ne.gl.xr.enabled=ne.gl.xr.isPresenting,ne.gl.xr.setAnimationLoop(ne.gl.xr.isPresenting?H:null),ne.gl.xr.isPresenting||GR(ne)},Z={connect(){const ne=s.getState().gl;ne.xr.addEventListener("sessionstart",ee),ne.xr.addEventListener("sessionend",ee)},disconnect(){const ne=s.getState().gl;ne.xr.removeEventListener("sessionstart",ee),ne.xr.removeEventListener("sessionend",ee)}};typeof((Y=F.xr)==null?void 0:Y.addEventListener)=="function"&&Z.connect(),L.set({xr:Z})}if(F.shadowMap){const H=F.shadowMap.enabled,ee=F.shadowMap.type;if(F.shadowMap.enabled=!!y,nr.boo(y))F.shadowMap.type=b1;else if(nr.str(y)){var J;const Z={basic:gG,percentage:c6,soft:b1,variance:ja};F.shadowMap.type=(J=Z[y])!=null?J:b1}else nr.obj(y)&&Object.assign(F.shadowMap,y);(H!==F.shadowMap.enabled||ee!==F.shadowMap.type)&&(F.shadowMap.needsUpdate=!0)}const z=$z();z&&("enabled"in z?z.enabled=!E:"legacyMode"in z&&(z.legacyMode=E)),_h(F,{outputEncoding:A?3e3:3001,toneMapping:x?Mo:q9}),L.legacy!==E&&L.set(()=>({legacy:E})),L.linear!==A&&L.set(()=>({linear:A})),L.flat!==x&&L.set(()=>({flat:x})),f&&!nr.fun(f)&&!lH(f)&&!nr.equ(f,F,wp)&&_h(F,f),g&&!L.events.handlers&&L.set({events:g(s)});const Q=Vse(t,h);return nr.equ(Q,L.size,wp)||L.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),M&&L.viewport.dpr!==iH(M)&&L.setDpr(M),L.frameloop!==w&&L.setFrameloop(w),L.onPointerMissed||L.set({onPointerMissed:B}),_&&!nr.equ(_,L.performance,wp)&&L.set(H=>({performance:{...H.performance,..._}})),a=v,l=!0,this},render(c){return l||this.configure(),GA.updateContainer(D.createElement(jse,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){cH(t)}}}function jse({store:t,children:e,onCreated:n,rootElement:r}){return Cm(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),D.createElement(kM.Provider,{value:t},e)}function cH(t,e){const n=X0.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),GA.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Dse(i),X0.delete(t),e&&e(t)}catch{}},500)})}}function fH(t,e,n){return D.createElement(Xse,{key:e.uuid,children:t,container:e,state:n})}function Xse({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,o=NM(),[a]=D.useState(()=>new FM),[l]=D.useState(()=>new ie),u=D.useCallback((f,h)=>{const d={...f};Object.keys(f).forEach(v=>{(Ose.includes(v)||f[v]!==h[v]&&h[v])&&delete d[v]});let g;if(h&&i){const v=h.camera;g=f.viewport.getCurrentViewport(v,new k,i),v!==f.camera&&oH(v,i)}return{...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...h==null?void 0:h.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...g},...s}},[t]),[c]=D.useState(()=>{const f=o.getState();return Wz((d,g)=>({...f,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:d,get:g,setEvents:v=>d(y=>({...y,events:{...y.events,...v}}))}))});return D.useEffect(()=>{const f=o.subscribe(h=>c.setState(d=>u(h,d)));return()=>{f(),c.destroy()}},[]),D.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),D.createElement(D.Fragment,null,GA.createPortal(D.createElement(kM.Provider,{value:c},e),c,null))}GA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});function ar(){return ar=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ar.apply(this,arguments)}function yw(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}yw.debounce=yw;var Yse=yw;const HR=Td(Yse);function Kse(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=D.useRef(!1);D.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,d,g]=D.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:E,top:S,width:w,height:M,bottom:_,right:b,x:I,y:B}=l.current.element.getBoundingClientRect(),L={left:E,top:S,width:w,height:M,bottom:_,right:b,x:I,y:B};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),f.current&&!$se(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[x,c?HR(x,c):x,u?HR(x,u):x]},[a,i,u,c]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const A=x=>{!x||x===l.current.element||(v(),l.current.element=x,l.current.scrollContainers=hH(x),y())};return qse(g,!!n),Jse(d),D.useEffect(()=>{v(),y()},[n,g,d]),D.useEffect(()=>v,[]),[A,o,h]}function Jse(t){D.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function qse(t,e){D.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function hH(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...hH(t.parentElement)]}const Zse=["x","y","top","bottom","left","right","width","height"],$se=(t,e)=>Zse.every(n=>t[n]===e[n]);var eoe=Object.defineProperty,toe=Object.defineProperties,noe=Object.getOwnPropertyDescriptors,QR=Object.getOwnPropertySymbols,roe=Object.prototype.hasOwnProperty,ioe=Object.prototype.propertyIsEnumerable,VR=(t,e,n)=>e in t?eoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,WR=(t,e)=>{for(var n in e||(e={}))roe.call(e,n)&&VR(t,n,e[n]);if(QR)for(var n of QR(e))ioe.call(e,n)&&VR(t,n,e[n]);return t},soe=(t,e)=>toe(t,noe(e));function dH(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=dH(r,e,n);if(i)return i;r=e?null:r.sibling}}function pH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const GM=pH(D.createContext(null));class mH extends D.Component{render(){return D.createElement(GM.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:jR,ReactCurrentDispatcher:XR}=D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function ooe(){const t=D.useContext(GM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=D.useId();return D.useMemo(()=>{for(const r of[jR==null?void 0:jR.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=dH(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function aoe(){var t,e;const n=ooe(),[r]=D.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==GM&&!r.has(s)&&r.set(s,(e=XR==null?void 0:XR.current)==null?void 0:e.readContext(pH(s))),i=i.return}return r}function loe(){const t=aoe();return D.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>D.createElement(e,null,D.createElement(n.Provider,soe(WR({},r),{value:t.get(n)}))),e=>D.createElement(mH,WR({},e))),[t])}const R8={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function uoe(t){const{handlePointer:e}=Fse(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(R8).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=R8[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=R8[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const coe=D.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=uoe,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:g,dpr:v,performance:y,raycaster:A,camera:x,scene:E,onPointerMissed:S,onCreated:w,...M},_){D.useMemo(()=>F3(xse),[]);const b=loe(),[I,B]=Kse({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=D.useRef(null),F=D.useRef(null);D.useImperativeHandle(_,()=>L.current);const O=tH(S),[G,V]=D.useState(!1),[Y,J]=D.useState(!1);if(G)throw G;if(Y)throw Y;const z=D.useRef(null);Cm(()=>{const j=L.current;B.width>0&&B.height>0&&j&&(z.current||(z.current=Wse(j)),z.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:d,frameloop:g,dpr:v,performance:y,raycaster:A,camera:x,scene:E,size:B,onPointerMissed:(...Q)=>O.current==null?void 0:O.current(...Q),onCreated:Q=>{Q.events.connect==null||Q.events.connect(a?Ise(a)?a.current:a:F.current),l&&Q.setEvents({compute:(H,ee)=>{const Z=H[l+"X"],ne=H[l+"Y"];ee.pointer.set(Z/ee.size.width*2-1,-(ne/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),w==null||w(Q)}}),z.current.render(D.createElement(b,null,D.createElement(nH,{set:J},D.createElement(D.Suspense,{fallback:D.createElement(bse,{set:V})},e)))))}),D.useEffect(()=>{const j=L.current;if(j)return()=>cH(j)},[]);const W=a?"none":"auto";return D.createElement("div",ar({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i}},M),D.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},D.createElement("canvas",{ref:L,style:{display:"block"}},n)))}),foe=D.forwardRef(function(e,n){return D.createElement(mH,null,D.createElement(coe,ar({},e,{ref:n})))});function hoe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function d(){const g=c(e);if(!f(h,g)){const v=h;u(h=g,v)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const doe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YR=doe?D.useEffect:D.useLayoutEffect;function KR(t){const e=typeof t=="function"?hoe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=D.useReducer(y=>y+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(r),u=D.useRef(i),c=D.useRef(!1),f=D.useRef();f.current===void 0&&(f.current=r(o));let h,d=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),d=!i(f.current,h)),YR(()=>{d&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=D.useRef(o);YR(()=>{const y=()=>{try{const x=e.getState(),E=l.current(x);u.current(f.current,E)||(a.current=x,f.current=E,s())}catch{c.current=!0,s()}},A=e.subscribe(y);return e.getState()!==g.current&&y(),A},[]);const v=d?h:f.current;return D.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const poe=KR.default||KR;let Ig=0;const moe=poe(t=>(t0.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-Ig)/(r-Ig)*100})},t0.onLoad=()=>{t({active:!1})},t0.onError=e=>t(n=>({errors:[...n.errors,e]})),t0.onProgress=(e,n,r)=>{n===r&&(Ig=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-Ig)/(r-Ig)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),goe=t=>`Loading ${t.toFixed(2)}%`;function Aoe({containerStyles:t,innerStyles:e,barStyles:n,dataStyles:r,dataInterpolation:i=goe,initialState:s=o=>o}){const{active:o,progress:a}=moe(),l=D.useRef(0),u=D.useRef(0),c=D.useRef(null),[f,h]=D.useState(s(o));D.useEffect(()=>{let g;return o!==f&&(g=setTimeout(()=>h(o),300)),()=>clearTimeout(g)},[f,o]);const d=D.useCallback(()=>{c.current&&(l.current+=(a-l.current)/2,(l.current>.95*a||a===100)&&(l.current=a),c.current.innerText=i(l.current),l.current<a&&(u.current=requestAnimationFrame(d)))},[i,a]);return D.useEffect(()=>(d(),()=>cancelAnimationFrame(u.current)),[d]),f?D.createElement("div",{style:{...ly.container,opacity:o?1:0,...t}},D.createElement("div",null,D.createElement("div",{style:{...ly.inner,...e}},D.createElement("div",{style:{...ly.bar,transform:`scaleX(${a/100})`,...n}}),D.createElement("span",{ref:c,style:{...ly.data,...r}})))):null}const ly={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function gH(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function F1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function voe(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function yoe(t){if(Array.isArray(t))return xw(t)}function xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(t){return yoe(t)||xoe(t)||voe(t)||Eoe()}new ie;new ie;function Coe(t,e,n){return Math.max(e,Math.min(n,t))}function woe(t,e){return Coe(t-Math.floor(t/e)*e,0,e)}function Toe(t,e){var n=woe(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function AH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Zo=function t(e,n,r){var i=this;AH(this,t),F1(this,"dot2",function(s,o){return i.x*s+i.y*o}),F1(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},Moe=[new Zo(1,1,0),new Zo(-1,1,0),new Zo(1,-1,0),new Zo(-1,-1,0),new Zo(1,0,1),new Zo(-1,0,1),new Zo(1,0,-1),new Zo(-1,0,-1),new Zo(0,1,1),new Zo(0,-1,1),new Zo(0,1,-1),new Zo(0,-1,-1)],JR=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],qR=new Array(512),ZR=new Array(512),_oe=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=JR[n]^e&255:r=JR[n]^e>>8&255,qR[n]=qR[n+256]=r,ZR[n]=ZR[n+256]=Moe[r%12]}};_oe(0);function Ioe(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function $R(t){var e=Ioe(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var boe=function t(e){var n=this;AH(this,t),F1(this,"seed",0),F1(this,"init",function(r){n.seed=r,n.value=$R(r)}),F1(this,"value",$R(this.seed)),this.init(e)};new boe(Math.random());var Boe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},vH=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function hi(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:vH,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,c=o(u*i),f=t[e]-n,h=n,d=s*r;f=Math.min(Math.max(f,-d),d),n=t[e]-f;var g=(t.__damp[l]+u*f)*i;t.__damp[l]=(t.__damp[l]-u*g)*c;var v=n+(f+g)*c;return h-t[e]>0==v>h&&(v=h,t.__damp[l]=(v-h)/i),t[e]=v,!0}function x0(t,e,n,r,i,s,o,a){return hi(t,e,t[e]+Toe(t[e],n),r,i,s,o,a)}var bg=new ie,eD,tD;function Roe(t,e,n,r,i,s,o){return typeof e=="number"?bg.setScalar(e):Array.isArray(e)?bg.set(e[0],e[1]):bg.copy(e),eD=hi(t,"x",bg.x,n,r,i,s,o),tD=hi(t,"y",bg.y,n,r,i,s,o),eD||tD}var Tp=new k,nD,rD,iD;function Ew(t,e,n,r,i,s,o){return typeof e=="number"?Tp.setScalar(e):Array.isArray(e)?Tp.set(e[0],e[1],e[2]):Tp.copy(e),nD=hi(t,"x",Tp.x,n,r,i,s,o),rD=hi(t,"y",Tp.y,n,r,i,s,o),iD=hi(t,"z",Tp.z,n,r,i,s,o),nD||rD||iD}var gh=new kt,sD,oD,aD,lD;function Doe(t,e,n,r,i,s,o){return typeof e=="number"?gh.setScalar(e):Array.isArray(e)?gh.set(e[0],e[1],e[2],e[3]):gh.copy(e),sD=hi(t,"x",gh.x,n,r,i,s,o),oD=hi(t,"y",gh.y,n,r,i,s,o),aD=hi(t,"z",gh.z,n,r,i,s,o),lD=hi(t,"w",gh.w,n,r,i,s,o),sD||oD||aD||lD}var Bg=new bd,uD,cD,fD;function Poe(t,e,n,r,i,s,o){return Array.isArray(e)?Bg.set(e[0],e[1],e[2],e[3]):Bg.copy(e),uD=x0(t,"x",Bg.x,n,r,i,s,o),cD=x0(t,"y",Bg.y,n,r,i,s,o),fD=x0(t,"z",Bg.z,n,r,i,s,o),uD||cD||fD}var Mp=new Be,hD,dD,pD;function Loe(t,e,n,r,i,s,o){return e instanceof Be?Mp.copy(e):Array.isArray(e)?Mp.setRGB(e[0],e[1],e[2]):Mp.set(e),hD=hi(t,"r",Mp.r,n,r,i,s,o),dD=hi(t,"g",Mp.g,n,r,i,s,o),pD=hi(t,"b",Mp.b,n,r,i,s,o),hD||dD||pD}var Qa=new sr,Bu=new kt,mD=new kt,Rg=new kt,gD,AD,vD,yD;function yH(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?Qa.set(e[0],e[1],e[2],e[3]):Qa.copy(e);var l=t.dot(Qa)>0?1:-1;return Qa.x*=l,Qa.y*=l,Qa.z*=l,Qa.w*=l,gD=hi(t,"x",Qa.x,n,r,i,s,o),AD=hi(t,"y",Qa.y,n,r,i,s,o),vD=hi(t,"z",Qa.z,n,r,i,s,o),yD=hi(t,"w",Qa.w,n,r,i,s,o),Bu.set(t.x,t.y,t.z,t.w).normalize(),mD.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),Rg.copy(Bu).multiplyScalar(mD.dot(Bu)/Bu.dot(Bu)),a.__damp.velocity_x-=Rg.x,a.__damp.velocity_y-=Rg.y,a.__damp.velocity_z-=Rg.z,a.__damp.velocity_w-=Rg.w,t.set(Bu.x,Bu.y,Bu.z,Bu.w),gD||AD||vD||yD}var Dg=new O6,xD,ED,SD;function Foe(t,e,n,r,i,s,o){return Array.isArray(e)?Dg.set(e[0],e[1],e[2]):Dg.copy(e),xD=hi(t,"radius",Dg.radius,n,r,i,s,o),ED=x0(t,"phi",Dg.phi,n,r,i,s,o),SD=x0(t,"theta",Dg.theta,n,r,i,s,o),xD||ED||SD}var uy=new Ke,CD=new k,wD=new sr,TD=new k,MD,_D,ID;function Ooe(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new k,rotation:new sr,scale:new k},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?uy.set.apply(uy,Soe(e)):uy.copy(e),uy.decompose(CD,wD,TD),MD=Ew(a.__damp.position,CD,n,r,i,s,o),_D=yH(a.__damp.rotation,wD,n,r,i,s,o),ID=Ew(a.__damp.scale,TD,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),MD||_D||ID}var bD=Object.freeze({__proto__:null,rsqw:Boe,exp:vH,damp:hi,dampAngle:x0,damp2:Roe,damp3:Ew,damp4:Doe,dampE:Poe,dampC:Loe,dampQ:yH,dampS:Foe,dampM:Ooe});const xH=D.createContext(null);function O3(){return D.useContext(xH)}function Uoe({eps:t=1e-5,enabled:e=!0,infinite:n,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:u}){const{get:c,setEvents:f,gl:h,size:d,invalidate:g,events:v}=qn(),[y]=D.useState(()=>document.createElement("div")),[A]=D.useState(()=>document.createElement("div")),[x]=D.useState(()=>document.createElement("div")),E=h.domElement.parentNode,S=D.useRef(0),w=D.useMemo(()=>({el:y,eps:t,fill:A,fixed:x,horizontal:r,damping:o,offset:0,delta:0,scroll:S,pages:i,range(b,I,B=0){const L=b-B,F=L+I+B*2;return this.offset<L?0:this.offset>F?1:(this.offset-L)/(F-L)},curve(b,I,B=0){return Math.sin(this.range(b,I,B)*Math.PI)},visible(b,I,B=0){const L=b-B,F=L+I+B*2;return this.offset>=L&&this.offset<=F}}),[t,o,r,i]);D.useEffect(()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[r?"overflowX":"overflowY"]="auto",y.style[r?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px";for(const I in l)y.style[I]=l[I];x.style.position="sticky",x.style.top="0px",x.style.left="0px",x.style.width="100%",x.style.height="100%",x.style.overflow="hidden",y.appendChild(x),A.style.height=r?"100%":`${i*s*100}%`,A.style.width=r?`${i*s*100}%`:"100%",A.style.pointerEvents="none",y.appendChild(A),E.appendChild(y),y[r?"scrollLeft":"scrollTop"]=1;const _=v.connected||h.domElement;requestAnimationFrame(()=>v.connect==null?void 0:v.connect(y));const b=c().events.compute;return f({compute(I,B){const{left:L,top:F}=E.getBoundingClientRect(),O=I.clientX-L,G=I.clientY-F;B.pointer.set(O/B.size.width*2-1,-(G/B.size.height)*2+1),B.raycaster.setFromCamera(B.pointer,B.camera)}}),()=>{E.removeChild(y),f({compute:b}),v.connect==null||v.connect(_)}},[i,s,r,y,A,x,E]),D.useEffect(()=>{if(v.connected===y){const _=d[r?"width":"height"],b=y[r?"scrollWidth":"scrollHeight"],I=b-_;let B=0,L=!0,F=!0;const O=()=>{if(!(!e||F)&&(g(),B=y[r?"scrollLeft":"scrollTop"],S.current=B/I,n)){if(!L){if(B>=I){const V=1-w.offset;y[r?"scrollLeft":"scrollTop"]=1,S.current=w.offset=-V,L=!0}else if(B<=0){const V=1+w.offset;y[r?"scrollLeft":"scrollTop"]=b,S.current=w.offset=V,L=!0}}L&&setTimeout(()=>L=!1,40)}};y.addEventListener("scroll",O,{passive:!0}),requestAnimationFrame(()=>F=!1);const G=V=>y.scrollLeft+=V.deltaY/2;return r&&y.addEventListener("wheel",G,{passive:!0}),()=>{y.removeEventListener("scroll",O),r&&y.removeEventListener("wheel",G)}}},[y,v,d,n,w,g,r,e]);let M=0;return or((_,b)=>{M=w.offset,bD.damp(w,"offset",S.current,o,b,a,void 0,t),bD.damp(w,"delta",Math.abs(M-w.offset),o,b,a,void 0,t),w.delta>t&&g()}),D.createElement(xH.Provider,{value:w},u)}function koe(t,e,n){return Math.max(e,Math.min(t,n))}const ns={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function BD(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function RD(t,e,n,r=.15){return r===0?koe(t,e,n):t<e?-BD(e-t,n-e,r)+e:t>n?+BD(t-n,n-e,r)+n:t}function Noe(t,[e,n],[r,i]){const[[s,o],[a,l]]=t;return[RD(e,s,o,r),RD(n,a,l,i)]}function Goe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zoe(t){var e=Goe(t,"string");return typeof e=="symbol"?e:String(e)}function ks(t,e,n){return e=zoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const EH={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function PD(t){return t?t[0].toUpperCase()+t.slice(1):""}const Hoe=["enter","leave"];function Qoe(t=!1,e){return t&&!Hoe.includes(e)}function Voe(t,e="",n=!1){const r=EH[t],i=r&&r[e]||e;return"on"+PD(t)+PD(i)+(Qoe(n,i)?"Capture":"")}const Woe=["gotpointercapture","lostpointercapture"];function joe(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=Woe.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function Xoe(t,e=""){const n=EH[t],r=n&&n[e]||e;return t+r}function U6(t){return"touches"in t}function SH(t){return U6(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Yoe(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function Koe(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function CH(t){return U6(t)?Koe(t)[0]:t}function Joe(t){return Yoe(t).map(e=>e.identifier)}function D8(t){const e=CH(t);return U6(t)?e.identifier:e.pointerId}function LD(t){const e=CH(t);return[e.clientX,e.clientY]}function qoe(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return e}function ox(t,...e){return typeof t=="function"?t(...e):t}function Zoe(){}function $oe(...t){return t.length===0?Zoe:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function FD(t,e){return Object.assign({},e,t||{})}const eae=32;class tae{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?ox(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,qoe(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const M=n._delta.map(Math.abs);ns.addTo(n._distance,M)}this.axisIntent&&this.axisIntent(e);const[o,a]=n._movement,[l,u]=r.threshold,{_step:c,values:f}=n;if(r.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(o)>=l&&f[0]),c[1]===!1&&(c[1]=Math.abs(a)>=u&&f[1])):(c[0]===!1&&(c[0]=Math.abs(o)>=l&&Math.sign(o)*l),c[1]===!1&&(c[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[M,_]=f;h[0]=c[0]!==!1?M-c[0]:0,h[1]=c[1]!==!1?_-c[1]:0}else h[0]=c[0]!==!1?o-c[0]:0,h[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const d=n.offset,g=n._active&&!n._blocked||n.active;g&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=ox(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[v,y]=n.offset,[[A,x],[E,S]]=n._bounds;n.overflow=[v<A?-1:v>x?1:0,y<E?-1:y>S?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const w=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=Noe(n._bounds,n.offset,w),n.delta=ns.sub(n.offset,d),this.computeMovement(),g&&(!n.last||s>eae)){n.delta=ns.sub(n.offset,d);const M=n.delta.map(Math.abs);ns.addTo(n.distance,M),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[M[0]/s,M[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Er(Er(Er({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function nae([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class rae extends tae{constructor(...e){super(...e),ks(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ns.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ns.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[SH(e)]:r.axisThreshold;n.axis=nae(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const iae=t=>t,OD=.15,wH={enabled(t=!0){return t},eventOptions(t,e,n){return Er(Er({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[OD,OD];case!1:return[0,0];default:return ns.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return ns.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||iae},threshold(t){return ns.toVector(t,0)}},sae=0,U3=Er(Er({},wH),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=sae){return t},bounds(t={}){if(typeof t=="function")return s=>U3.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),UD={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class oae extends rae{constructor(...e){super(...e),ks(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=U3.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=D8(e),r._pointerActive=!0,this.computeValues(LD(e)),this.computeInitial(),n.preventScrollAxis&&SH(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=D8(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=LD(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=ns.sub(s,n._values),this.computeValues(s)),ns.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=D8(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=n._distance;if(n.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,l]=n._delta,[u,c]=n._movement,[f,h]=r.swipe.velocity,[d,g]=r.swipe.distance,v=r.swipe.duration;if(n.elapsedTime<v){const y=Math.abs(a/n.timeDelta),A=Math.abs(l/n.timeDelta);y>f&&Math.abs(u)>d&&(n.swipe[0]=Math.sign(a)),A>h&&Math.abs(c)>g&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,aae(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=UD[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,ns.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in UD&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function aae(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const k3=typeof window<"u"&&window.document&&window.document.createElement;function TH(){return k3&&"ontouchstart"in window}function lae(){return TH()||k3&&window.navigator.maxTouchPoints>1}function uae(){return k3&&"onpointerdown"in window}function cae(){return k3&&"exitPointerLock"in window.document}function fae(){try{return"constructor"in GestureEvent}catch{return!1}}const ca={isBrowser:k3,gesture:fae(),touch:TH(),touchscreen:lae(),pointer:uae(),pointerLock:cae()},hae=250,dae=180,pae=.5,mae=50,gae=250,Aae=10,kD={mouse:0,touch:0,pen:8},vae=Er(Er({},U3),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&ca.pointerLock,ca.touch&&n?"touch":this.pointerLock?"mouse":ca.pointer&&!i?"pointer":ca.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?hae:void 0,!(!ca.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=ns.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:t=pae,distance:e=mae,duration:n=gae}={}){return{velocity:this.transform(ns.toVector(t)),distance:this.transform(ns.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return dae;case!1:return 0;default:return t}},axisThreshold(t){return t?Er(Er({},kD),t):kD},keyboardDisplacement(t=Aae){return t}});Er(Er({},wH),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!ca.touch&&ca.gesture)return"gesture";if(ca.touch&&r)return"touch";if(ca.touchscreen){if(ca.pointer)return"pointer";if(ca.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=o=>{const a=FD(ox(n,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=FD(ox(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",ns.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Er(Er({},U3),{},{mouseOnly:(t=!0)=>t});Er(Er({},U3),{},{mouseOnly:(t=!0)=>t});const MH=new Map,Sw=new Map;function yae(t){MH.set(t.key,t.engine),Sw.set(t.key,t.resolver)}const xae={key:"drag",engine:oae,resolver:vae};function Eae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Sae(t,e){if(t==null)return{};var n=Eae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const Cae={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=ca.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},wae=["target","eventOptions","window","enabled","transform"];function f5(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=f5(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function Tae(t,e,n={}){const r=t,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,u=Sae(r,wae);if(n.shared=f5({target:i,eventOptions:s,window:o,enabled:a,transform:l},Cae),e){const c=Sw.get(e);n[e]=f5(Er({shared:n.shared},u),c)}else for(const c in u){const f=Sw.get(c);f&&(n[c]=f5(Er({shared:n.shared},u[c]),f))}return n}class _H{constructor(e,n){ks(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,s){const o=this._listeners,a=Xoe(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Er(Er({},l),s);e.addEventListener(a,i,u);const c=()=>{e.removeEventListener(a,i,u),o.delete(c)};return o.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Mae{constructor(){ks(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let _ae=class{constructor(e){ks(this,"gestures",new Set),ks(this,"_targetEventStore",new _H(this)),ks(this,"gestureEventStores",{}),ks(this,"gestureTimeoutStores",{}),ks(this,"handlers",{}),ks(this,"config",{}),ks(this,"pointerIds",new Set),ks(this,"touchIds",new Set),ks(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Iae(this,e)}setEventIds(e){if(U6(e))return this.touchIds=new Set(Joe(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=Tae(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const o of this.gestures){const a=this.config[o],l=ND(r,a.eventOptions,!!i);if(a.enabled){const u=MH.get(o);new u(this,e,o).bind(l)}}const s=ND(r,n.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Er(Er({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=$oe(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=joe(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function _p(t,e){t.gestures.add(e),t.gestureEventStores[e]=new _H(t,e),t.gestureTimeoutStores[e]=new Mae}function Iae(t,e){e.drag&&_p(t,"drag"),e.wheel&&_p(t,"wheel"),e.scroll&&_p(t,"scroll"),e.move&&_p(t,"move"),e.pinch&&_p(t,"pinch"),e.hover&&_p(t,"hover")}const ND=(t,e,n)=>(r,i,s,o={},a=!1)=>{var l,u;const c=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(u=o.passive)!==null&&u!==void 0?u:e.passive;let h=a?r:Voe(r,i,c);n&&f&&(h+="Passive"),t[h]=t[h]||[],t[h].push(s)};function bae(t,e={},n,r){const i=te.useMemo(()=>new _ae(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),te.useEffect(i.effect.bind(i)),te.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Bae(t,e){return yae(xae),bae({drag:t},e||{},"drag")}function zM(){}zM.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};zM.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function GD(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new zM}GD.prototype={constructor:GD,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function zD(){}zD.prototype={constructor:zD,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};const IH=0,Rae=2,Dae=0,Pae=0,Lae=2,Fae=0,Oae=0,Uae=1,Cw=2,kae=1,Nae=64,bH=0,BH=9,HM=15,RH=16,QM=22,DH=37,VM=43,PH=76,LH=83,FH=97,OH=100,UH=103,kH=109;class Gae{constructor(){this.vkFormat=bH,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=IH,this.levels=[],this.dataFormatDescriptor=[{vendorId:Pae,descriptorType:Dae,descriptorBlockSize:0,versionNumber:Lae,colorModel:Fae,colorPrimaries:kae,transferFunction:Cw,flags:Oae,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Pg{constructor(e,n,r,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+n,r),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),n=this._dataView.getUint32(this._offset+4,this._littleEndian),r=e+2**32*n;return this._offset+=8,r}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const r=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==n&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,i)}}const As=[171,75,84,88,32,50,48,187,13,10,26,10];function HD(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function zae(t){const e=new Uint8Array(t.buffer,t.byteOffset,As.length);if(e[0]!==As[0]||e[1]!==As[1]||e[2]!==As[2]||e[3]!==As[3]||e[4]!==As[4]||e[5]!==As[5]||e[6]!==As[6]||e[7]!==As[7]||e[8]!==As[8]||e[9]!==As[9]||e[10]!==As[10]||e[11]!==As[11])throw new Error("Missing KTX 2.0 identifier.");const n=new Gae,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new Pg(t,As.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const s=i._nextUint32();n.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),a=i._nextUint32(),l=i._nextUint32(),u=i._nextUint32(),c=i._nextUint64(),f=i._nextUint64(),h=s*3*8,d=new Pg(t,As.length+r,h,!0);for(let j=0;j<s;j++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});const g=new Pg(t,o,a,!0),v={vendorId:g._skip(4)._nextUint16(),descriptorType:g._nextUint16(),versionNumber:g._nextUint16(),descriptorBlockSize:g._nextUint16(),colorModel:g._nextUint8(),colorPrimaries:g._nextUint8(),transferFunction:g._nextUint8(),flags:g._nextUint8(),texelBlockDimension:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],bytesPlane:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],samples:[]},y=6,A=4,x=(v.descriptorBlockSize/4-y)/A;for(let j=0;j<x;j++){const Q={bitOffset:g._nextUint16(),bitLength:g._nextUint8(),channelType:g._nextUint8(),samplePosition:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};Q.channelType&Nae?(Q.sampleLower=g._nextInt32(),Q.sampleUpper=g._nextInt32()):(Q.sampleLower=g._nextUint32(),Q.sampleUpper=g._nextUint32()),v.samples[j]=Q}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(v);const E=new Pg(t,l,u,!0);for(;E._offset<u;){const j=E._nextUint32(),Q=E._scan(j),H=HD(Q),ee=E._scan(j-Q.byteLength);n.keyValue[H]=H.match(/^ktx/i)?HD(ee):ee,E._offset%4&&E._skip(4-E._offset%4)}if(f<=0)return n;const S=new Pg(t,c,f,!0),w=S._nextUint16(),M=S._nextUint16(),_=S._nextUint32(),b=S._nextUint32(),I=S._nextUint32(),B=S._nextUint32(),L=[];for(let j=0;j<s;j++)L.push({imageFlags:S._nextUint32(),rgbSliceByteOffset:S._nextUint32(),rgbSliceByteLength:S._nextUint32(),alphaSliceByteOffset:S._nextUint32(),alphaSliceByteLength:S._nextUint32()});const F=c+S._offset,O=F+_,G=O+b,V=G+I,Y=new Uint8Array(t.buffer,t.byteOffset+F,_),J=new Uint8Array(t.buffer,t.byteOffset+O,b),z=new Uint8Array(t.buffer,t.byteOffset+G,I),W=new Uint8Array(t.buffer,t.byteOffset+V,B);return n.globalData={endpointCount:w,selectorCount:M,imageDescs:L,endpointsData:Y,selectorsData:J,tablesData:z,extendedData:W},n}let P8,Pu,ww;const L8={env:{emscripten_notify_memory_growth:function(t){ww=new Uint8Array(Pu.exports.memory.buffer)}}};let Hae=class{init(){return P8||(P8=typeof fetch<"u"?fetch("data:application/wasm;base64,"+QD).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,L8)).then(this._init):WebAssembly.instantiate(Buffer.from(QD,"base64"),L8).then(this._init),P8)}_init(e){Pu=e.instance,L8.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!Pu)throw new Error("ZSTDDecoder: Await .init() before decoding.");const r=e.byteLength,i=Pu.exports.malloc(r);ww.set(e,i),n=n||Number(Pu.exports.ZSTD_findDecompressedSize(i,r));const s=Pu.exports.malloc(n),o=Pu.exports.ZSTD_decompress(s,n,i,r),a=ww.slice(s,s+o);return Pu.exports.free(i),Pu.exports.free(s),a}};const QD="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=i)){var o=r.charCodeAt(s),a;return o>=55296&&o<=56319&&i>s+1&&(a=r.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function NH(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var Qae=new NH,Vae=new NH,GH=new Uint8Array(30),zH=new Uint16Array(30),Wae=new Uint8Array(30),jae=new Uint16Array(30);function HH(t,e,n,r){var i,s;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<t[i]}function Xae(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}Xae(Qae,Vae);HH(GH,zH,4,3);HH(Wae,jae,2,1);GH[28]=0;zH[28]=258;function Ip(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function Gf(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Gf.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Gf.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Gf.prototype.addX=function(t){this.addPoint(t,null)};Gf.prototype.addY=function(t){this.addPoint(null,t)};Gf.prototype.addBezier=function(t,e,n,r,i,s,o,a){var l=[t,e],u=[n,r],c=[i,s],f=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var h=0;h<=1;h++){var d=6*l[h]-12*u[h]+6*c[h],g=-3*l[h]+9*u[h]-9*c[h]+3*f[h],v=3*u[h]-3*l[h];if(g===0){if(d===0)continue;var y=-v/d;0<y&&y<1&&(h===0&&this.addX(Ip(l[h],u[h],c[h],f[h],y)),h===1&&this.addY(Ip(l[h],u[h],c[h],f[h],y)));continue}var A=Math.pow(d,2)-4*v*g;if(!(A<0)){var x=(-d+Math.sqrt(A))/(2*g);0<x&&x<1&&(h===0&&this.addX(Ip(l[h],u[h],c[h],f[h],x)),h===1&&this.addY(Ip(l[h],u[h],c[h],f[h],x)));var E=(-d-Math.sqrt(A))/(2*g);0<E&&E<1&&(h===0&&this.addX(Ip(l[h],u[h],c[h],f[h],E)),h===1&&this.addY(Ip(l[h],u[h],c[h],f[h],E)))}}};Gf.prototype.addQuad=function(t,e,n,r,i,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=o+1/3*(i-t),u=a+1/3*(s-e);this.addBezier(t,e,o,a,l,u,i,s)};function vi(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}vi.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};vi.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};vi.prototype.curveTo=vi.prototype.bezierCurveTo=function(t,e,n,r,i,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:s})};vi.prototype.quadTo=vi.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};vi.prototype.close=vi.prototype.closePath=function(){this.commands.push({type:"Z"})};vi.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Gf){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};vi.prototype.getBoundingBox=function(){for(var t=new Gf,e=0,n=0,r=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=r=o.x,n=i=o.y;break;case"L":t.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":t.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":t.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};vi.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};vi.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var u=o[l];u>=0&&l>0&&(a+=" "),a+=e(u)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];s.type==="M"?r+="M"+n(s.x,s.y):s.type==="L"?r+="L"+n(s.x,s.y):s.type==="C"?r+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?r+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(r+="Z")}return r};vi.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};vi.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function QH(t){throw new Error(t)}function VD(t,e){t||QH(e)}var Ht={fail:QH,argument:VD,assert:VD},WD=32768,jD=2147483648,Y0={},nt={},Nt={};function hl(t){return function(){return t}}nt.BYTE=function(t){return Ht.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};Nt.BYTE=hl(1);nt.CHAR=function(t){return[t.charCodeAt(0)]};Nt.CHAR=hl(1);nt.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};Nt.CHARARRAY=function(t){return typeof t>"u"?0:t.length};nt.USHORT=function(t){return[t>>8&255,t&255]};Nt.USHORT=hl(2);nt.SHORT=function(t){return t>=WD&&(t=-(2*WD-t)),[t>>8&255,t&255]};Nt.SHORT=hl(2);nt.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};Nt.UINT24=hl(3);nt.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};Nt.ULONG=hl(4);nt.LONG=function(t){return t>=jD&&(t=-(2*jD-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};Nt.LONG=hl(4);nt.FIXED=nt.ULONG;Nt.FIXED=Nt.ULONG;nt.FWORD=nt.SHORT;Nt.FWORD=Nt.SHORT;nt.UFWORD=nt.USHORT;Nt.UFWORD=Nt.USHORT;nt.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};Nt.LONGDATETIME=hl(8);nt.TAG=function(t){return Ht.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};Nt.TAG=hl(4);nt.Card8=nt.BYTE;Nt.Card8=Nt.BYTE;nt.Card16=nt.USHORT;Nt.Card16=Nt.USHORT;nt.OffSize=nt.BYTE;Nt.OffSize=Nt.BYTE;nt.SID=nt.USHORT;Nt.SID=Nt.USHORT;nt.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?nt.NUMBER16(t):nt.NUMBER32(t)};Nt.NUMBER=function(t){return nt.NUMBER(t).length};nt.NUMBER16=function(t){return[28,t>>8&255,t&255]};Nt.NUMBER16=hl(3);nt.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};Nt.NUMBER32=hl(5);nt.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?i+=e[++s]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],u=0,c=i.length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l};Nt.REAL=function(t){return nt.REAL(t).length};nt.NAME=nt.CHARARRAY;Nt.NAME=Nt.CHARARRAY;nt.STRING=nt.CHARARRAY;Nt.STRING=Nt.CHARARRAY;Y0.UTF8=function(t,e,n){for(var r=[],i=n,s=0;s<i;s++,e+=1)r[s]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Y0.UTF16=function(t,e,n){for(var r=[],i=n/2,s=0;s<i;s++,e+=2)r[s]=t.getUint16(e);return String.fromCharCode.apply(null,r)};nt.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};Nt.UTF16=function(t){return t.length*2};var Tw={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};Y0.MACSTRING=function(t,e,n,r){var i=Tw[r];if(i!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=i[a&127]}return s}};var cy=typeof WeakMap=="function"&&new WeakMap,fy,Yae=function(t){if(!fy){fy={};for(var e in Tw)fy[e]=new String(e)}var n=fy[t];if(n!==void 0){if(cy){var r=cy.get(n);if(r!==void 0)return r}var i=Tw[t];if(i!==void 0){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return cy&&cy.set(n,s),s}}};nt.MACSTRING=function(t,e){var n=Yae(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var s=t.charCodeAt(i);if(s>=128&&(s=n[s],s===void 0))return;r[i]=s}return r}};Nt.MACSTRING=function(t,e){var n=nt.MACSTRING(t,e);return n!==void 0?n.length:0};function Mw(t){return t>=-128&&t<=127}function Kae(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function Jae(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(!Mw(o)||o===0&&s+1<i&&t[s+1]===0)break;++s,++r}n.push(r-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function qae(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(o===0||Mw(o)&&s+1<i&&Mw(t[s+1]))break;++s,++r}n.push(64|r-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}nt.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=Kae(t,e,n):r>=-128&&r<=127?e=Jae(t,e,n):e=qae(t,e,n)}return n};nt.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var s=nt.OBJECT(t[i]);Array.prototype.push.apply(r,s),e+=s.length,n.push(e)}if(r.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,nt.BYTE,nt.USHORT,nt.UINT24,nt.ULONG][a],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(o,c)}return Array.prototype.concat(nt.Card16(t.length),nt.OffSize(a),o,r)};Nt.INDEX=function(t){return nt.INDEX(t).length};nt.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var s=parseInt(n[i],0),o=t[s];e=e.concat(nt.OPERAND(o.value,o.type)),e=e.concat(nt.OPERATOR(s))}return e};Nt.DICT=function(t){return nt.DICT(t).length};nt.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};nt.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)Ht.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(nt.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(nt.NUMBER(t));else if(e==="offset")n=n.concat(nt.NUMBER32(t));else if(e==="number")n=n.concat(nt.NUMBER(t));else if(e==="real")n=n.concat(nt.REAL(t));else throw new Error("Unknown operand type "+e);return n};nt.OP=nt.BYTE;Nt.OP=Nt.BYTE;var hy=typeof WeakMap=="function"&&new WeakMap;nt.CHARSTRING=function(t){if(hy){var e=hy.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var s=t[i];n=n.concat(nt[s.type](s.value))}return hy&&hy.set(t,n),n};Nt.CHARSTRING=function(t){return nt.CHARSTRING(t).length};nt.OBJECT=function(t){var e=nt[t.type];return Ht.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};Nt.OBJECT=function(t){var e=Nt[t.type];return Ht.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};nt.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],s=0;s<n;s+=1){var o=t.fields[s],a=nt[o.type];Ht.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var u=a(l);o.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(var c=0;c<r.length;c+=1){var f=i[c],h=e.length;Ht.argument(h<65536,"Table "+t.tableName+" too big."),e[f]=h>>8,e[f+1]=h&255,e=e.concat(r[c])}return e};Nt.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],s=Nt[i.type];Ht.argument(s!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=t[i.name];o===void 0&&(o=i.value),e+=s(o),i.type==="TABLE"&&(e+=2)}return e};nt.RECORD=nt.TABLE;Nt.RECORD=Nt.TABLE;nt.LITERAL=function(t){return t};Nt.LITERAL=function(t){return t.length};function bi(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}bi.prototype.encode=function(){return nt.TABLE(this)};bi.prototype.sizeOf=function(){return Nt.TABLE(this)};function zA(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function _w(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return i}function HA(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i=i.concat(n(e[s],s));return i}function ax(t){t.format===1?bi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(zA("glyph",t.glyphs))):t.format===2?bi.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(HA("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):Ht.assert(!1,"Coverage format must be 1 or 2.")}ax.prototype=Object.create(bi.prototype);ax.prototype.constructor=ax;function lx(t){bi.call(this,"scriptListTable",HA("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return Ht.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new bi("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new bi("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(zA("featureIndex",i.featureIndexes)))}].concat(HA("langSys",r.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new bi("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(zA("featureIndex",a.featureIndexes)))}]})))}]}))}lx.prototype=Object.create(bi.prototype);lx.prototype.constructor=lx;function ux(t){bi.call(this,"featureListTable",HA("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new bi("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(zA("lookupListIndex",r.lookupListIndexes)))}]}))}ux.prototype=Object.create(bi.prototype);ux.prototype.constructor=ux;function cx(t,e){bi.call(this,"lookupListTable",_w("lookup",t,function(n){var r=e[n.lookupType];return Ht.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new bi("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(_w("subtable",n.subtables,r)))}))}cx.prototype=Object.create(bi.prototype);cx.prototype.constructor=cx;var mt={Table:bi,Record:bi,Coverage:ax,ScriptList:lx,FeatureList:ux,LookupList:cx,ushortList:zA,tableList:_w,recordList:HA};function XD(t,e){return t.getUint8(e)}function fx(t,e){return t.getUint16(e,!1)}function Zae(t,e){return t.getInt16(e,!1)}function WM(t,e){return t.getUint32(e,!1)}function VH(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function $ae(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function ele(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function tle(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function nle(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var rle={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function be(t,e){this.data=t,this.offset=e,this.relativeOffset=0}be.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};be.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};be.prototype.parseCard8=be.prototype.parseByte;be.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};be.prototype.parseCard16=be.prototype.parseUShort;be.prototype.parseSID=be.prototype.parseUShort;be.prototype.parseOffset16=be.prototype.parseUShort;be.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};be.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};be.prototype.parseULong=function(){var t=WM(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};be.prototype.parseOffset32=be.prototype.parseULong;be.prototype.parseFixed=function(){var t=VH(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};be.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};be.prototype.parseTag=function(){return this.parseString(4)};be.prototype.parseLongDateTime=function(){var t=WM(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};be.prototype.parseVersion=function(t){var e=fx(this.data,this.offset+this.relativeOffset),n=fx(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};be.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=rle[t]*e};be.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};be.prototype.parseOffset16List=be.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};be.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};be.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};be.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};be.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};be.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};be.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};be.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],s=t[i];n[i]=s.call(this)}return n};be.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};be.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};be.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new be(this.data,this.offset+e).parseStruct(t)};be.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new be(this.data,this.offset+e).parseStruct(t)};be.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){i[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=o+a[u],l[u]=t.call(this);i[s]=l}else i[s]=this.parseUShortList()}return this.relativeOffset=r,i};be.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};be.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:be.uShort,end:be.uShort,classId:be.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};be.list=function(t,e){return function(){return this.parseList(t,e)}};be.list32=function(t,e){return function(){return this.parseList32(t,e)}};be.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};be.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};be.pointer=function(t){return function(){return this.parsePointer(t)}};be.pointer32=function(t){return function(){return this.parsePointer32(t)}};be.tag=be.prototype.parseTag;be.byte=be.prototype.parseByte;be.uShort=be.offset16=be.prototype.parseUShort;be.uShortList=be.prototype.parseUShortList;be.uLong=be.offset32=be.prototype.parseULong;be.uLongList=be.prototype.parseULongList;be.struct=be.prototype.parseStruct;be.coverage=be.prototype.parseCoverage;be.classDef=be.prototype.parseClassDef;var YD={reserved:be.uShort,reqFeatureIndex:be.uShort,featureIndexes:be.uShortList};be.prototype.parseScriptList=function(){return this.parsePointer(be.recordList({tag:be.tag,script:be.pointer({defaultLangSys:be.pointer(YD),langSysRecords:be.recordList({tag:be.tag,langSys:be.pointer(YD)})})}))||[]};be.prototype.parseFeatureList=function(){return this.parsePointer(be.recordList({tag:be.tag,feature:be.pointer({featureParams:be.offset16,lookupListIndexes:be.uShortList})}))||[]};be.prototype.parseLookupList=function(t){return this.parsePointer(be.list(be.pointer(function(){var e=this.parseUShort();Ht.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(be.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();Ht.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:be.offset32,featureTableSubstitutionOffset:be.offset32});return n})||[]};var qt={getByte:XD,getCard8:XD,getUShort:fx,getCard16:fx,getShort:Zae,getULong:WM,getFixed:VH,getTag:$ae,getOffset:ele,getBytes:tle,bytesToString:nle,Parser:be};function ile(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=i;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function sle(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new qt.Parser(n,r+i+14),a=new qt.Parser(n,r+i+16+s*2),l=new qt.Parser(n,r+i+16+s*4),u=new qt.Parser(n,r+i+16+s*6),c=r+i+16+s*8,f=0;f<s-1;f+=1)for(var h=void 0,d=o.parseUShort(),g=a.parseUShort(),v=l.parseShort(),y=u.parseUShort(),A=g;A<=d;A+=1)y!==0?(c=u.offset+u.relativeOffset-2,c+=y,c+=(A-g)*2,h=qt.getUShort(n,c),h!==0&&(h=h+v&65535)):h=A+v&65535,t.glyphIndexMap[A]=h}function ole(t,e){var n={};n.version=qt.getUShort(t,e),Ht.argument(n.version===0,"cmap table version should be 0."),n.numTables=qt.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var s=qt.getUShort(t,e+4+i*8),o=qt.getUShort(t,e+4+i*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){r=qt.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new qt.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)ile(n,a);else if(n.format===4)sle(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function ale(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function lle(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function ule(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new mt.Table("cmap",i);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)ale(s,o.unicodes[a],n);s.segments=s.segments.sort(function(x,E){return x.start-E.start})}lle(s);var l=s.segments.length,u=0,c=[],f=[],h=[],d=[],g=[],v=[];for(n=0;n<l;n+=1){var y=s.segments[n];y.end<=65535&&y.start<=65535?(c=c.concat({name:"end_"+n,type:"USHORT",value:y.end}),f=f.concat({name:"start_"+n,type:"USHORT",value:y.start}),h=h.concat({name:"idDelta_"+n,type:"SHORT",value:y.delta}),d=d.concat({name:"idRangeOffset_"+n,type:"USHORT",value:y.offset}),y.glyphId!==void 0&&(g=g.concat({name:"glyph_"+n,type:"USHORT",value:y.glyphId}))):u+=1,!e&&y.glyphIndex!==void 0&&(v=v.concat({name:"cmap12Start_"+n,type:"ULONG",value:y.start}),v=v.concat({name:"cmap12End_"+n,type:"ULONG",value:y.end}),v=v.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:y.glyphIndex}))}if(s.segCountX2=(l-u)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-u)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(c),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(f),s.fields=s.fields.concat(h),s.fields=s.fields.concat(d),s.fields=s.fields.concat(g),s.cmap4Length=14+c.length*2+2+f.length*2+h.length*2+d.length*2+g.length*2,!e){var A=16+v.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:A},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:v.length/3}]),s.fields=s.fields.concat(v)}return s}var cle={parse:ole,make:ule},h5=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],fle=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],hle=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],KD=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function WH(t){this.font=t}WH.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===e)return r}return null};function hx(t,e){this.encoding=t,this.charset=e}hx.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function dle(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var Ah={line:dle};function ple(t,e){var n=e||new vi;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function La(t){this.bindConstructorValues(t)}La.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",ple(this,t.path))};La.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};La.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};La.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)s=i.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=u),l===void 0&&(l=u)}for(var c=new vi,f=0;f<s.length;f+=1){var h=s[f];h.type==="M"?c.moveTo(t+h.x*a,e+-h.y*l):h.type==="L"?c.lineTo(t+h.x*a,e+-h.y*l):h.type==="Q"?c.quadraticCurveTo(t+h.x1*a,e+-h.y1*l,t+h.x*a,e+-h.y*l):h.type==="C"?c.curveTo(t+h.x1*a,e+-h.y1*l,t+h.x2*a,e+-h.y2*l,t+h.x*a,e+-h.y*l):h.type==="Z"&&c.closePath()}return c};La.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return Ht.argument(e.length===0,"There are still points left in the current contour."),t};La.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};La.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};La.prototype.drawPoints=function(t,e,n,r){function i(f,h,d,g){t.beginPath();for(var v=0;v<f.length;v+=1)t.moveTo(h+f[v].x*g,d+f[v].y*g),t.arc(h+f[v].x*g,d+f[v].y*g,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];c.x!==void 0&&o.push({x:c.x,y:-c.y}),c.x1!==void 0&&a.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&a.push({x:c.x2,y:-c.y2})}t.fillStyle="blue",i(o,e,n,s),t.fillStyle="red",i(a,e,n,s)};La.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",Ah.line(t,e,-1e4,e,1e4),Ah.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;t.strokeStyle="blue",Ah.line(t,e+s*i,-1e4,e+s*i,1e4),Ah.line(t,e+a*i,-1e4,e+a*i,1e4),Ah.line(t,-1e4,n+-o*i,1e4,n+-o*i),Ah.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",Ah.line(t,e+u*i,-1e4,e+u*i,1e4)};function dy(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function jM(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}jM.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};jM.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function mle(t,e){return new La({index:e,font:t})}function gle(t,e,n,r,i,s){return function(){var o=new La({index:e,font:t});return o.path=function(){n(o,r,i);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},dy(o,"xMin","_xMin"),dy(o,"xMax","_xMax"),dy(o,"yMin","_yMin"),dy(o,"yMax","_yMax"),o}}function Ale(t,e,n,r){return function(){var i=new La({index:e,font:t});return i.path=function(){var s=n(t,i,r);return s.unitsPerEm=t.unitsPerEm,s},i}}var Kl={GlyphSet:jM,glyphLoader:mle,ttfGlyphLoader:gle,cffGlyphLoader:Ale};function jH(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!jH(t[n],e[n]))return!1;return!0}else return!1}function Iw(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function Hc(t,e,n){var r=[],i=[],s=qt.getCard16(t,e),o,a;if(s!==0){var l=qt.getByte(t,e+2);o=e+(s+1)*l+2;for(var u=e+3,c=0;c<s+1;c+=1)r.push(qt.getOffset(t,u,l)),u+=l;a=o+r[s]}else a=e+2;for(var f=0;f<r.length-1;f+=1){var h=qt.getBytes(t,o+r[f],o+r[f+1]);n&&(h=n(h)),i.push(h)}return{objects:i,startOffset:e,endOffset:a}}function vle(t,e){var n=[],r=qt.getCard16(t,e),i,s;if(r!==0){var o=qt.getByte(t,e+2);i=e+(r+1)*o+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(qt.getOffset(t,a,o)),a+=o;s=i+n[r]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function yle(t,e,n,r,i){var s=qt.getCard16(n,r),o=0;if(s!==0){var a=qt.getByte(n,r+2);o=r+(s+1)*a+2}var l=qt.getBytes(n,o+e[t],o+e[t+1]);return i&&(l=i(l)),l}function xle(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),s=i>>4,o=i&15;if(s===n||(e+=r[s],o===n))break;e+=r[o]}return parseFloat(e)}function Ele(t,e){var n,r,i,s;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),s=t.parseByte(),n<<24|r<<16|i<<8|s;if(e===30)return xle(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function Sle(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],s=void 0;if(i.length===1?s=i[0]:s=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=s}return e}function XH(t,e,n){e=e!==void 0?e:0;var r=new qt.Parser(t,e),i=[],s=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(o===12&&(o=1200+r.parseByte()),i.push([o,s]),s=[]):s.push(Ele(r,o))}return Sle(i)}function O1(t,e){return e<=390?e=h5[e]:e=t[e-391],e}function YH(t,e,n){for(var r={},i,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)i=t[o.op]!==void 0?t[o.op][l]:void 0,i===void 0&&(i=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(i=O1(n,i)),a[l]=i;r[o.name]=a}else i=t[o.op],i===void 0&&(i=o.value!==void 0?o.value:null),o.type==="SID"&&(i=O1(n,i)),r[o.name]=i}return r}function Cle(t,e){var n={};return n.formatMajor=qt.getCard8(t,e),n.formatMinor=qt.getCard8(t,e+1),n.size=qt.getCard8(t,e+2),n.offsetSize=qt.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var KH=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],JH=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function wle(t,e){var n=XH(t,0,t.byteLength);return YH(n,KH,e)}function qH(t,e,n,r){var i=XH(t,e,n);return YH(i,JH,r)}function JD(t,e,n,r){for(var i=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=wle(o,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],u=a.private[1];if(l!==0&&u!==0){var c=qH(t,u+e,l,r);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,c.subrs!==0){var f=u+c.subrs,h=Hc(t,f+e);a._subrs=h.objects,a._subrsBias=Iw(a._subrs)}a._privateDict=c}i.push(a)}return i}function Tle(t,e,n,r){var i,s,o=new qt.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var u=0;u<n;u+=1)i=o.parseSID(),a.push(O1(r,i));else if(l===1)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard8();for(var c=0;c<=s;c+=1)a.push(O1(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard16();for(var f=0;f<=s;f+=1)a.push(O1(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function Mle(t,e,n){var r,i={},s=new qt.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)r=s.parseCard8(),i[r]=l;else if(o===1){var u=s.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var f=s.parseCard8(),h=s.parseCard8(),d=f;d<=f+h;d+=1)i[d]=r,r+=1}else throw new Error("Unknown encoding format "+o);return new hx(i,n)}function qD(t,e,n){var r,i,s,o,a=new vi,l=[],u=0,c=!1,f=!1,h=0,d=0,g,v,y,A;if(t.isCIDFont){var x=t.tables.cff.topDict._fdSelect[e.index],E=t.tables.cff.topDict._fdArray[x];g=E._subrs,v=E._subrsBias,y=E._defaultWidthX,A=E._nominalWidthX}else g=t.tables.cff.topDict._subrs,v=t.tables.cff.topDict._subrsBias,y=t.tables.cff.topDict._defaultWidthX,A=t.tables.cff.topDict._nominalWidthX;var S=y;function w(b,I){f&&a.closePath(),a.moveTo(b,I),f=!0}function M(){var b;b=l.length%2!==0,b&&!c&&(S=l.shift()+A),u+=l.length>>1,l.length=0,c=!0}function _(b){for(var I,B,L,F,O,G,V,Y,J,z,W,j,Q=0;Q<b.length;){var H=b[Q];switch(Q+=1,H){case 1:M();break;case 3:M();break;case 4:l.length>1&&!c&&(S=l.shift()+A,c=!0),d+=l.pop(),w(h,d);break;case 5:for(;l.length>0;)h+=l.shift(),d+=l.shift(),a.lineTo(h,d);break;case 6:for(;l.length>0&&(h+=l.shift(),a.lineTo(h,d),l.length!==0);)d+=l.shift(),a.lineTo(h,d);break;case 7:for(;l.length>0&&(d+=l.shift(),a.lineTo(h,d),l.length!==0);)h+=l.shift(),a.lineTo(h,d);break;case 8:for(;l.length>0;)r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(r,i,s,o,h,d);break;case 10:O=l.pop()+v,G=g[O],G&&_(G);break;case 11:return;case 12:switch(H=b[Q],Q+=1,H){case 35:r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),V=s+l.shift(),Y=o+l.shift(),J=V+l.shift(),z=Y+l.shift(),W=J+l.shift(),j=z+l.shift(),h=W+l.shift(),d=j+l.shift(),l.shift(),a.curveTo(r,i,s,o,V,Y),a.curveTo(J,z,W,j,h,d);break;case 34:r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),V=s+l.shift(),Y=o,J=V+l.shift(),z=o,W=J+l.shift(),j=d,h=W+l.shift(),a.curveTo(r,i,s,o,V,Y),a.curveTo(J,z,W,j,h,d);break;case 36:r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),V=s+l.shift(),Y=o,J=V+l.shift(),z=o,W=J+l.shift(),j=z+l.shift(),h=W+l.shift(),a.curveTo(r,i,s,o,V,Y),a.curveTo(J,z,W,j,h,d);break;case 37:r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),V=s+l.shift(),Y=o+l.shift(),J=V+l.shift(),z=Y+l.shift(),W=J+l.shift(),j=z+l.shift(),Math.abs(W-h)>Math.abs(j-d)?h=W+l.shift():d=j+l.shift(),a.curveTo(r,i,s,o,V,Y),a.curveTo(J,z,W,j,h,d);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+H),l.length=0}break;case 14:l.length>0&&!c&&(S=l.shift()+A,c=!0),f&&(a.closePath(),f=!1);break;case 18:M();break;case 19:case 20:M(),Q+=u+7>>3;break;case 21:l.length>2&&!c&&(S=l.shift()+A,c=!0),d+=l.pop(),h+=l.pop(),w(h,d);break;case 22:l.length>1&&!c&&(S=l.shift()+A,c=!0),h+=l.pop(),w(h,d);break;case 23:M();break;case 24:for(;l.length>2;)r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(r,i,s,o,h,d);h+=l.shift(),d+=l.shift(),a.lineTo(h,d);break;case 25:for(;l.length>6;)h+=l.shift(),d+=l.shift(),a.lineTo(h,d);r=h+l.shift(),i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+l.shift(),a.curveTo(r,i,s,o,h,d);break;case 26:for(l.length%2&&(h+=l.shift());l.length>0;)r=h,i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s,d=o+l.shift(),a.curveTo(r,i,s,o,h,d);break;case 27:for(l.length%2&&(d+=l.shift());l.length>0;)r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o,a.curveTo(r,i,s,o,h,d);break;case 28:I=b[Q],B=b[Q+1],l.push((I<<24|B<<16)>>16),Q+=2;break;case 29:O=l.pop()+t.gsubrsBias,G=t.gsubrs[O],G&&_(G);break;case 30:for(;l.length>0&&(r=h,i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d),l.length!==0);)r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),d=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d);break;case 31:for(;l.length>0&&(r=h+l.shift(),i=d,s=r+l.shift(),o=i+l.shift(),d=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d),l.length!==0);)r=h,i=d+l.shift(),s=r+l.shift(),o=i+l.shift(),h=s+l.shift(),d=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,h,d);break;default:H<32?console.log("Glyph "+e.index+": unknown operator "+H):H<247?l.push(H-139):H<251?(I=b[Q],Q+=1,l.push((H-247)*256+I+108)):H<255?(I=b[Q],Q+=1,l.push(-(H-251)*256-I-108)):(I=b[Q],B=b[Q+1],L=b[Q+2],F=b[Q+3],Q+=4,l.push((I<<24|B<<16|L<<8|F)/65536))}}}return _(n),e.advanceWidth=S,a}function _le(t,e,n,r){var i=[],s,o=new qt.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");i.push(s)}else if(a===3){var u=o.parseCard16(),c=o.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var f,h=0;h<u;h++){if(s=o.parseCard8(),f=o.parseCard16(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");if(f>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+f);for(;c<f;c++)i.push(s);c=f}if(f!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+f)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function Ile(t,e,n,r){n.tables.cff={};var i=Cle(t,e),s=Hc(t,i.endOffset,qt.bytesToString),o=Hc(t,s.endOffset),a=Hc(t,o.endOffset,qt.bytesToString),l=Hc(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=Iw(n.gsubrs);var u=JD(t,e,o.objects,a.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var f=c.fdArray,h=c.fdSelect;if(f===0||h===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");f+=e;var d=Hc(t,f),g=JD(t,e,d.objects,a.objects);c._fdArray=g,h+=e,c._fdSelect=_le(t,h,n.numGlyphs,g.length)}var v=e+c.private[1],y=qH(t,v,c.private[0],a.objects);if(n.defaultWidthX=y.defaultWidthX,n.nominalWidthX=y.nominalWidthX,y.subrs!==0){var A=v+y.subrs,x=Hc(t,A);n.subrs=x.objects,n.subrsBias=Iw(n.subrs)}else n.subrs=[],n.subrsBias=0;var E;r.lowMemory?(E=vle(t,e+c.charStrings),n.nGlyphs=E.offsets.length):(E=Hc(t,e+c.charStrings),n.nGlyphs=E.objects.length);var S=Tle(t,e+c.charset,n.nGlyphs,a.objects);if(c.encoding===0?n.cffEncoding=new hx(fle,S):c.encoding===1?n.cffEncoding=new hx(hle,S):n.cffEncoding=Mle(t,e+c.encoding,S),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Kl.GlyphSet(n),r.lowMemory)n._push=function(_){var b=yle(_,E.offsets,t,e+c.charStrings);n.glyphs.push(_,Kl.cffGlyphLoader(n,_,qD,b))};else for(var w=0;w<n.nGlyphs;w+=1){var M=E.objects[w];n.glyphs.push(w,Kl.cffGlyphLoader(n,w,qD,M))}}function ZH(t,e){var n,r=h5.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+h5.length:(n=h5.length+e.length,e.push(t)),n}function ble(){return new mt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Ble(t){var e=new mt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function $H(t,e,n){for(var r={},i=0;i<t.length;i+=1){var s=t[i],o=e[s.name];o!==void 0&&!jH(o,s.value)&&(s.type==="SID"&&(o=ZH(o,n)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function ZD(t,e){var n=new mt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=$H(KH,t,e),n}function $D(t){var e=new mt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function Rle(t){var e=new mt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function Dle(){return new mt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Ple(t,e){for(var n=new mt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],s=ZH(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:s})}return n}function Lle(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var u=.3333333333333333,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if(l.type==="M")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var f=Math.round(l.x1-r),h=Math.round(l.y1-i),d=Math.round(l.x2-l.x1),g=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:f}),e.push({name:"dy1",type:"NUMBER",value:h}),e.push({name:"dx2",type:"NUMBER",value:d}),e.push({name:"dy2",type:"NUMBER",value:g}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function Fle(t){for(var e=new mt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=Lle(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function Ole(t,e){var n=new mt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=$H(JH,t,e),n}function Ule(t,e){for(var n=new mt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var u=[];n.header=ble(),n.nameIndex=Ble([e.postScriptName]);var c=ZD(i,u);n.topDictIndex=$D(c),n.globalSubrIndex=Dle(),n.charsets=Ple(o,u),n.charStringsIndex=Fle(t),n.privateDict=Ole(s,u),n.stringIndex=Rle(u);var f=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=f,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),c=ZD(i,u),n.topDictIndex=$D(c),n}var kle={parse:Ile,make:Ule};function Nle(t,e){var n={},r=new qt.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),Ht.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function Gle(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new mt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var zle={parse:Nle,make:Gle};function Hle(t,e){var n={},r=new qt.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function Qle(t){return new mt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var Vle={parse:Hle,make:Qle};function Wle(t,e,n,r,i){for(var s,o,a=new qt.Parser(t,e),l=0;l<r;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var u=i.get(l);u.advanceWidth=s,u.leftSideBearing=o}}function jle(t,e,n,r,i){t._hmtxTableData={};for(var s,o,a=new qt.Parser(e,n),l=0;l<i;l+=1)l<r&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function Xle(t,e,n,r,i,s,o){o.lowMemory?jle(t,e,n,r,i):Wle(e,n,r,i,s)}function Yle(t){for(var e=new mt.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var Kle={parse:Xle,make:Yle};function Jle(t){for(var e=new mt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var s=n.indexOf(t[i]);s<0&&(s=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+s}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function qle(t,e){var n=new qt.Parser(t,e),r=n.parseULong();Ht.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=e+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)a+=String.fromCharCode(t.getInt8(c));s.push(a)}return s}var Zle={make:Jle,parse:qle};function $le(t,e){var n={},r=new qt.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function eue(t){return new mt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var tue={parse:$le,make:eue},eQ=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],tQ={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},nue={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},nQ={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function rue(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return tQ[e];case 3:return nQ[e]}}var bw="utf-16",iue={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},sue={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function rQ(t,e,n){switch(t){case 0:return bw;case 1:return sue[n]||iue[e];case 3:if(e===1||e===10)return bw;break}}function oue(t,e,n){for(var r={},i=new qt.Parser(t,e),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var u=i.parseUShort(),c=i.parseUShort(),f=i.parseUShort(),h=i.parseUShort(),d=eQ[h]||h,g=i.parseUShort(),v=i.parseUShort(),y=rue(u,f,n),A=rQ(u,c,f);if(A!==void 0&&y!==void 0){var x=void 0;if(A===bw?x=Y0.UTF16(t,a+v,g):x=Y0.MACSTRING(t,a+v,g,A),x){var E=r[d];E===void 0&&(E=r[d]={}),E[y]=x}}}return s===1&&i.parseUShort(),r}function F8(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function eP(t,e,n,r,i,s){return new mt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function aue(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var s=0;s<n;s++)if(e[i+s]!==t[s])continue e;return i}return-1}function tP(t,e){var n=aue(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function lue(t,e){var n,r=[],i={},s=F8(eQ);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=t[o],r.push(n)}for(var l=F8(tQ),u=F8(nQ),c=[],f=[],h=0;h<r.length;h++){n=r[h];var d=i[n];for(var g in d){var v=d[g],y=1,A=l[g],x=nue[A],E=rQ(y,x,A),S=nt.MACSTRING(v,E);S===void 0&&(y=0,A=e.indexOf(g),A<0&&(A=e.length,e.push(g)),x=4,S=nt.UTF16(v));var w=tP(S,f);c.push(eP(y,x,A,n,S.length,w));var M=u[g];if(M!==void 0){var _=nt.UTF16(v),b=tP(_,f);c.push(eP(3,1,M,n,_.length,b))}}}c.sort(function(L,F){return L.platformID-F.platformID||L.encodingID-F.encodingID||L.languageID-F.languageID||L.nameID-F.nameID});for(var I=new mt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),B=0;B<c.length;B++)I.fields.push({name:"record_"+B,type:"RECORD",value:c[B]});return I.fields.push({name:"strings",type:"LITERAL",value:f}),I}var uue={parse:oue,make:lue},Bw=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function cue(t){for(var e=0;e<Bw.length;e+=1){var n=Bw[e];if(t>=n.begin&&t<n.end)return e}return-1}function fue(t,e){var n={},r=new qt.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function hue(t){return new mt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var nP={parse:fue,make:hue,unicodeRanges:Bw,getUnicodeRange:cue};function due(t,e){var n={},r=new qt.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=KD.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=KD.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function pue(){return new mt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var mue={parse:due,make:pue},sl=new Array(9);sl[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(be.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(be.coverage),substitute:this.parseOffset16List()};Ht.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};sl[2]=function(){var e=this.parseUShort();return Ht.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),sequences:this.parseListOfLists()}};sl[3]=function(){var e=this.parseUShort();return Ht.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),alternateSets:this.parseListOfLists()}};sl[4]=function(){var e=this.parseUShort();return Ht.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var E0={sequenceIndex:be.uShort,lookupListIndex:be.uShort};sl[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(be.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,E0)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(be.coverage),classDef:this.parsePointer(be.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,E0)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,be.pointer(be.coverage)),lookupRecords:this.parseRecordList(i,E0)}}Ht.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};sl[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(E0)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(be.coverage),backtrackClassDef:this.parsePointer(be.classDef),inputClassDef:this.parsePointer(be.classDef),lookaheadClassDef:this.parsePointer(be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(E0)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(be.pointer(be.coverage)),inputCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),lookupRecords:this.parseRecordList(E0)};Ht.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};sl[7]=function(){var e=this.parseUShort();Ht.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:sl[n].call(r)}};sl[8]=function(){var e=this.parseUShort();return Ht.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(be.coverage),backtrackCoverage:this.parseList(be.pointer(be.coverage)),lookaheadCoverage:this.parseList(be.pointer(be.coverage)),substitutes:this.parseUShortList()}};function gue(t,e){e=e||0;var n=new be(t,e),r=n.parseVersion(1);return Ht.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sl)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(sl),variations:n.parseFeatureVariationsList()}}var wm=new Array(9);wm[1]=function(e){return e.substFormat===1?new mt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new mt.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new mt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new mt.Coverage(e.coverage)}].concat(mt.ushortList("substitute",e.substitute)))};wm[2]=function(e){return Ht.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new mt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new mt.Coverage(e.coverage)}].concat(mt.tableList("seqSet",e.sequences,function(n){return new mt.Table("sequenceSetTable",mt.ushortList("sequence",n))})))};wm[3]=function(e){return Ht.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new mt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new mt.Coverage(e.coverage)}].concat(mt.tableList("altSet",e.alternateSets,function(n){return new mt.Table("alternateSetTable",mt.ushortList("alternate",n))})))};wm[4]=function(e){return Ht.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new mt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new mt.Coverage(e.coverage)}].concat(mt.tableList("ligSet",e.ligatureSets,function(n){return new mt.Table("ligatureSetTable",mt.tableList("ligature",n,function(r){return new mt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(mt.ushortList("component",r.components,r.components.length+1)))}))})))};wm[6]=function(e){if(e.substFormat===1){var n=new mt.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new mt.Coverage(e.coverage)}].concat(mt.tableList("chainRuleSet",e.chainRuleSets,function(s){return new mt.Table("chainRuleSetTable",mt.tableList("chainRule",s,function(o){var a=mt.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(mt.ushortList("inputGlyph",o.input,o.input.length+1)).concat(mt.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(mt.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,u){a=a.concat({name:"sequenceIndex"+u,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:l.lookupListIndex})}),new mt.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)Ht.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){r.push({name:"backtrackCoverage"+o,type:"TABLE",value:new mt.Coverage(s)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){r.push({name:"inputCoverage"+o,type:"TABLE",value:new mt.Coverage(s)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){r.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new mt.Coverage(s)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){r=r.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var i=new mt.Table("chainContextTable",r);return i}Ht.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function Aue(t){return new mt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new mt.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new mt.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new mt.LookupList(t.lookups,wm)}])}var vue={parse:gue,make:Aue};function yue(t,e){var n=new qt.Parser(t,e),r=n.parseULong();Ht.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),s={},o=0;o<i;o++){var a=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=Y0.UTF8(t,e+l,u);s[a]=c}return s}function xue(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new mt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),i.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var Eue={parse:yue,make:xue};function rP(t){return Math.log(t)/Math.log(2)|0}function XM(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function iP(t,e,n,r){return new mt.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function iQ(t){var e=new mt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,rP(e.numTables));e.searchRange=16*n,e.entrySelector=rP(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],s=e.sizeOf()+iP().sizeOf()*e.numTables;s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];Ht.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=iP(a.tableName,XM(a.encode()),s,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,Ht.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(c,f){return c.value.tag>f.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function sP(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var s=t.glyphs.get(i);return s.getMetrics()}}return n}function Sue(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function Cue(t){for(var e=[],n=[],r=[],i=[],s=[],o=[],a=[],l,u=0,c=0,f=0,h=0,d=0,g=0;g<t.glyphs.length;g+=1){var v=t.glyphs.get(g),y=v.unicode|0;if(isNaN(v.advanceWidth))throw new Error("Glyph "+v.name+" ("+g+"): advanceWidth is not a number.");(l>y||l===void 0)&&y>0&&(l=y),u<y&&(u=y);var A=nP.getUnicodeRange(y);if(A<32)c|=1<<A;else if(A<64)f|=1<<A-32;else if(A<96)h|=1<<A-64;else if(A<123)d|=1<<A-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(v.name!==".notdef"){var x=v.getMetrics();e.push(x.xMin),n.push(x.yMin),r.push(x.xMax),i.push(x.yMax),o.push(x.leftSideBearing),a.push(x.rightSideBearing),s.push(v.advanceWidth)}}var E={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:Sue(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};E.ascender=t.ascender,E.descender=t.descender;var S=zle.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:E.xMin,yMin:E.yMin,xMax:E.xMax,yMax:E.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),w=Vle.make({ascender:E.ascender,descender:E.descender,advanceWidthMax:E.advanceWidthMax,minLeftSideBearing:E.minLeftSideBearing,minRightSideBearing:E.minRightSideBearing,xMaxExtent:E.maxLeftSideBearing+(E.xMax-E.xMin),numberOfHMetrics:t.glyphs.length}),M=tue.make(t.glyphs.length),_=nP.make(Object.assign({xAvgCharWidth:Math.round(E.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:f,ulUnicodeRange3:h,ulUnicodeRange4:d,sTypoAscender:E.ascender,sTypoDescender:E.descender,sTypoLineGap:0,usWinAscent:E.yMax,usWinDescent:Math.abs(E.yMin),ulCodePageRange1:1,sxHeight:sP(t,"xyvw",{yMax:Math.round(E.ascender/2)}).yMax,sCapHeight:sP(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",E).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),b=Kle.make(t.glyphs),I=cle.make(t.glyphs),B=t.getEnglishName("fontFamily"),L=t.getEnglishName("fontSubfamily"),F=B+" "+L,O=t.getEnglishName("postScriptName");O||(O=B.replace(/\s/g,"")+"-"+L);var G={};for(var V in t.names)G[V]=t.names[V];G.uniqueID||(G.uniqueID={en:t.getEnglishName("manufacturer")+":"+F}),G.postScriptName||(G.postScriptName={en:O}),G.preferredFamily||(G.preferredFamily=t.names.fontFamily),G.preferredSubfamily||(G.preferredSubfamily=t.names.fontSubfamily);var Y=[],J=uue.make(G,Y),z=Y.length>0?Zle.make(Y):void 0,W=mue.make(),j=kle.make(t.glyphs,{version:t.getEnglishName("version"),fullName:F,familyName:B,weightName:L,postScriptName:O,unitsPerEm:t.unitsPerEm,fontBBox:[0,E.yMin,E.ascender,E.advanceWidthMax]}),Q=t.metas&&Object.keys(t.metas).length>0?Eue.make(t.metas):void 0,H=[S,w,M,_,J,I,W,j,b];z&&H.push(z),t.tables.gsub&&H.push(vue.make(t.tables.gsub)),Q&&H.push(Q);for(var ee=iQ(H),Z=ee.encode(),ne=XM(Z),oe=ee.fields,se=!1,he=0;he<oe.length;he+=1)if(oe[he].name==="head table"){oe[he].value.checkSumAdjustment=2981146554-ne,se=!0;break}if(!se)throw new Error("Could not find head table with checkSum to adjust.");return ee}var wue={make:iQ,fontToTable:Cue,computeCheckSum:XM};function O8(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i].tag;if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function oP(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i];if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function aP(t,e){for(var n,r=0,i=t.length-1;r<=i;){var s=r+i>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?r=s+1:i=s-1}if(r>0)return n=t[r-1],e>n.end?0:n}function N3(t,e){this.font=t,this.tableName=e}N3.prototype={searchTag:O8,binSearch:oP,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=O8(n.scripts,t);if(i>=0)return r[i].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,s),s.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=O8(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(r){var u=a.length;return Ht.assert(u===0||n>=a[u-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(u),s.feature}}},getLookupTables:function(t,e,n,r,i){var s=this.getFeatureTable(t,e,n,i),o=[];if(s){for(var a,l=s.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)a=u[l[c]],a.lookupType===r&&o.push(a);if(o.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var f=u.length;return u.push(a),l.push(f),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=aP(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=oP(t.glyphs,e);return n>=0?n:-1;case 2:var r=aP(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],s=i.start,o=i.end,a=s;a<=o;a++)e.push(a);return e}};function G3(t){N3.call(this,t,"gpos")}G3.prototype=N3.prototype;G3.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};G3.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var f=this.getGlyphClass(o.classDef1,e),h=this.getGlyphClass(o.classDef2,n),d=o.classRecords[f][h];return d.value1&&d.value1.xAdvance||0}}return 0};G3.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function Go(t){N3.call(this,t,"gsub")}function Tue(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function YM(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var s=r[i];if(s.substFormat===e)return s}if(n)return r.push(n),n}Go.prototype=N3.prototype;Go.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Go.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;if(l.substFormat===1){var f=l.deltaGlyphId;for(c=0;c<u.length;c++){var h=u[c];r.push({sub:h,by:h+f})}}else{var d=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:d[c]})}}return r};Go.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var f=u[c],h=l.sequences[c];r.push({sub:f,by:h})}}return r};Go.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.alternateSets,f=0;f<u.length;f++)r.push({sub:u[f],by:c[f]});return r};Go.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],u=this.expandCoverage(l.coverage),c=l.ligatureSets,f=0;f<u.length;f++)for(var h=u[f],d=c[f],g=0;g<d.length;g++){var v=d[g];r.push({sub:[h].concat(v.components),by:v.ligGlyph})}return r};Go.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],s=YM(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ht.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};Go.prototype.addMultiple=function(t,e,n,r){Ht.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],s=YM(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Ht.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};Go.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],s=YM(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ht.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};Go.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),Ht.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(s.coverage.glyphs,o);if(u>=0){for(var c=s.ligatureSets[u],f=0;f<c.length;f++)if(Tue(c[f].components,a))return;c.push(l)}else u=-1-u,s.coverage.glyphs.splice(u,0,o),s.ligatureSets.splice(u,0,[l])};Go.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};Go.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function Mue(){return typeof window<"u"}function _ue(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function Lg(t,e){if(!t)throw e}function lP(t,e,n,r,i){var s;return(e&r)>0?(s=t.parseByte(),e&i||(s=-s),s=n+s):(e&i)>0?s=n:s=n+t.parseShort(),s}function sQ(t,e,n){var r=new qt.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var u=o[o.length-1]+1;i=[];for(var c=0;c<u;c+=1)if(s=r.parseByte(),i.push(s),(s&8)>0)for(var f=r.parseByte(),h=0;h<f;h+=1)i.push(s),c+=1;if(Ht.argument(i.length===u,"Bad flags."),o.length>0){var d=[],g;if(u>0){for(var v=0;v<u;v+=1)s=i[v],g={},g.onCurve=!!(s&1),g.lastPointOfContour=o.indexOf(v)>=0,d.push(g);for(var y=0,A=0;A<u;A+=1)s=i[A],g=d[A],g.x=lP(r,s,y,2,16),y=g.x;for(var x=0,E=0;E<u;E+=1)s=i[E],g=d[E],g.y=lP(r,s,x,4,32),x=g.y}t.points=d}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var S=!0;S;){i=r.parseUShort();var w={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(w.dx=r.parseShort(),w.dy=r.parseShort()):w.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(w.dx=r.parseChar(),w.dy=r.parseChar()):w.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?w.xScale=w.yScale=r.parseF2Dot14():(i&64)>0?(w.xScale=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()):(i&128)>0&&(w.xScale=r.parseF2Dot14(),w.scale01=r.parseF2Dot14(),w.scale10=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()),t.components.push(w),S=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var M=0;M<t.instructionLength;M+=1)t.instructions.push(r.parseByte())}}}function U8(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],s={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(s)}return n}function Iue(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return Ht.argument(n.length===0,"There are still points left in the current contour."),e}function oQ(t){var e=new vi;if(!t)return e;for(var n=Iue(t),r=0;r<n.length;++r){var i=n[r],s=null,o=i[i.length-1],a=i[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(s=o,o=a,a=i[(u+1)%i.length],o.onCurve)e.lineTo(o.x,o.y);else{var c=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(c={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,c.x,c.y)}e.closePath()}return e}function aQ(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(r.matchedPoints===void 0)s=U8(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=U8([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=U8(i.points,l)}e.points=e.points.concat(s)}}return oQ(e.points)}function bue(t,e,n,r){for(var i=new Kl.GlyphSet(r),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?i.push(s,Kl.ttfGlyphLoader(r,s,sQ,t,e+o,aQ)):i.push(s,Kl.glyphLoader(r,s))}return i}function Bue(t,e,n,r){var i=new Kl.GlyphSet(r);return r._push=function(s){var o=n[s],a=n[s+1];o!==a?i.push(s,Kl.ttfGlyphLoader(r,s,sQ,t,e+o,aQ)):i.push(s,Kl.glyphLoader(r,s))},i}function Rue(t,e,n,r,i){return i.lowMemory?Bue(t,e,n,r):bue(t,e,n,r)}var Due={getPath:oQ,parse:Rue},lQ,vd,uQ,Rw;function cQ(t){this.font=t,this.getCommands=function(e){return Due.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Pue(t){return t}function fQ(t){return Math.sign(t)*Math.round(Math.abs(t))}function Lue(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function Fue(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Oue(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Uue(t){return Math.sign(t)*Math.floor(Math.abs(t))}var hQ=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},Gl={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,s,o,a,l,u,c;if(!r||r===this){if(i=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,u=n.x-n.xo,o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){t.x=t.xo+(l+u)/2;return}t.x=t.xo+(l*a+u*o)/c;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){Gl.setRelative(t,t,(l+u)/2,r,!0);return}Gl.setRelative(t,t,(l*a+u*o)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Vu={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,s,o,a,l,u,c;if(!r||r===this){if(i=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,u=n.y-n.yo,o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){t.y=t.yo+(l+u)/2;return}t.y=t.yo+(l*a+u*o)/c;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),c=o+a,c===0){Vu.setRelative(t,t,(l+u)/2,r,!0);return}Vu.setRelative(t,t,(l*a+u*o)/c,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Gl);Object.freeze(Vu);function z3(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}z3.prototype.distance=function(t,e,n,r){return this.x*Gl.distance(t,e,n,r)+this.y*Vu.distance(t,e,n,r)};z3.prototype.interpolate=function(t,e,n,r){var i,s,o,a,l,u,c;if(o=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),s=r.distance(n,n,!1,!0),l=Math.abs(o),u=Math.abs(a),c=l+u,c===0){this.setRelative(t,t,(i+s)/2,r,!0);return}this.setRelative(t,t,(i*u+s*l)/c,r,!0)};z3.prototype.setRelative=function(t,e,n,r,i){r=r||this;var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y,u=r.normalSlope,c=this.slope,f=t.x,h=t.y;t.x=(c*f-u*a+l-h)/(c-u),t.y=c*(t.x-f)+h};z3.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function H3(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Gl:t===0&&e===1?Vu:new z3(t,e)}function Yu(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Yu.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Yu.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var QA=Object.freeze(new Yu(0,0)),kue={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function qc(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Gl,this.round=fQ}}cQ.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){qc.prototype=kue,i=this._fpgmState=new qc("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,Fe.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{vd(i)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}qc.prototype=i,r=this._prepState=new qc("prep",n.tables.prep),r.ppem=e;var s=n.tables.cvt;if(s)for(var o=r.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else r.cvt=[];Fe.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{vd(r)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return uQ(t,r)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};uQ=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,s,o,a;if(qc.prototype=e,!i)a=new qc("glyf",t.instructions),Fe.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Rw(t,a,n,r),o=a.gZone;else{var l=e.font;o=[],s=[];for(var u=0;u<i.length;u++){var c=i[u],f=l.glyphs.get(c.glyphIndex);a=new qc("glyf",f.instructions),Fe.DEBUG&&(console.log("---EXEC COMP "+u+"---"),a.step=-1),Rw(f,a,n,r);for(var h=Math.round(c.dx*n),d=Math.round(c.dy*r),g=a.gZone,v=a.contours,y=0;y<g.length;y++){var A=g[y];A.xTouched=A.yTouched=!1,A.xo=A.x=A.x+h,A.yo=A.y=A.y+d}var x=o.length;o.push.apply(o,g);for(var E=0;E<v.length;E++)s.push(v[E]+x)}t.instructions&&!a.inhibitGridFit&&(a=new qc("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new Yu(0,0),new Yu(Math.round(t.advanceWidth*n),0)),Fe.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),vd(a),o.length-=2)}return o};Rw=function(t,e,n,r){for(var i=t.points||[],s=i.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,u=0;u<s;u++)l=i[u],o[u]=new Yu(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var c,f,h=0;h<s;h++)l=o[h],c||(c=l,a.push(h)),l.lastPointOfContour?(l.nextPointOnContour=c,c.prevPointOnContour=l,c=void 0):(f=o[h+1],l.nextPointOnContour=f,f.prevPointOnContour=l);if(!e.inhibitGridFit){if(Fe.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var d=0;d<s;d++)console.log(d,o[d].x,o[d].y)}if(o.push(new Yu(0,0),new Yu(Math.round(t.advanceWidth*n),0)),vd(e),o.length-=2,Fe.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var g=0;g<s;g++)console.log(g,o[g].x,o[g].y)}}};vd=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(Fe.DEBUG&&t.step++,r=lQ[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function k6(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Yu(0,0)}function dQ(t,e){var n=t.prog,r=t.ip,i=1,s;do if(s=n[++r],s===88)i++;else if(s===89)i--;else if(s===64)r+=n[r+1]+1;else if(s===65)r+=2*n[r+1]+1;else if(s>=176&&s<=183)r+=s-176+1;else if(s>=184&&s<=191)r+=(s-184+1)*2;else if(e&&i===1&&s===27)break;while(i>0);t.ip=r}function uP(t,e){Fe.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function cP(t,e){Fe.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function fP(t,e){Fe.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function hP(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];Fe.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=H3(a,l)}function dP(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];Fe.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=H3(a,l)}function Nue(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=H3(r,n)}function Gue(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=H3(r,n)}function zue(t){var e=t.stack,n=t.pv;Fe.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Hue(t){var e=t.stack,n=t.fv;Fe.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function Que(t){t.fv=t.pv,Fe.DEBUG&&console.log(t.step,"SFVTPV[]")}function Vue(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,u=a[n],c=a[r],f=l[i],h=l[s],d=t.z2[o];Fe.DEBUG&&console.log("ISECT[], ",n,r,i,s,o);var g=u.x,v=u.y,y=c.x,A=c.y,x=f.x,E=f.y,S=h.x,w=h.y,M=(g-y)*(E-w)-(v-A)*(x-S),_=g*A-v*y,b=x*w-E*S;d.x=(_*(x-S)-b*(g-y))/M,d.y=(_*(E-w)-b*(v-A))/M}function Wue(t){t.rp0=t.stack.pop(),Fe.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function jue(t){t.rp1=t.stack.pop(),Fe.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function Xue(t){t.rp2=t.stack.pop(),Fe.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function Yue(t){var e=t.stack.pop();switch(Fe.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||k6(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Kue(t){var e=t.stack.pop();switch(Fe.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||k6(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Jue(t){var e=t.stack.pop();switch(Fe.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||k6(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function que(t){var e=t.stack.pop();switch(Fe.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||k6(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Zue(t){t.loop=t.stack.pop(),Fe.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function $ue(t){Fe.DEBUG&&console.log(t.step,"RTG[]"),t.round=fQ}function ece(t){Fe.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Fue}function tce(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function nce(t){Fe.DEBUG&&console.log(t.step,"ELSE[]"),dQ(t,!1)}function rce(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function ice(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function sce(t){var e=t.stack;Fe.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function k8(t){Fe.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function oce(t){Fe.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function ace(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function lce(t){var e=t.stack;Fe.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function uce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<r;o++)vd(t),Fe.DEBUG&&console.log(++t.step,o+1<r?"next loopcall":"done loopcall",o);t.ip=i,t.prog=s}function cce(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],vd(t),t.ip=n,t.prog=r,Fe.DEBUG&&console.log(++t.step,"returning from",e)}function fce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function hce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function dce(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),s=r;for(Fe.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(s+1,r)}function pP(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,s=e.pv;Fe.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(r,QA);t&&(o=e.round(o)),i.setRelative(r,QA,o,s),i.touch(r),e.rp0=e.rp1=n}function mP(t,e){var n=e.z2,r=n.length-2,i,s,o;Fe.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(s=i.prevTouched(t),s!==i&&(o=i.nextTouched(t),s===o&&t.setRelative(i,i,t.distance(s,s,!1,!0),t,!0),t.interpolate(i,s,o,t)))}function gP(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var u=n.pop(),c=l[u],f=o.distance(i,i,!1,!0);s.setRelative(c,c,f,o),s.touch(c),Fe.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",u)}e.loop=1}function AP(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],u=l;Fe.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var c=o.distance(i,i,!1,!0);do u!==i&&s.setRelative(u,u,c,o),u=u.nextPointOnContour;while(u!==l)}function vP(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop();Fe.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=o.distance(i,i,!1,!0),f=l.length-2,h=0;h<f;h++)u=l[h],s.setRelative(u,u,c,o)}function pce(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];Fe.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function mce(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,s=t.z0[n],o=t.z1[r],a=t.fv,l=t.dpv,u=t.z2;i--;){var c=e.pop(),f=u[c];Fe.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",c,n,"<->",r),a.interpolate(f,s,o,l),a.touch(f)}t.loop=1}function yP(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),s=e.z1[i],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,r,l),a.touch(s),Fe.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function gce(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,s=t.fv,o=t.pv,a=t.z1;i--;){var l=e.pop(),u=a[l];Fe.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(u,r,0,o),s.touch(u)}t.loop=1}function Ace(t){Fe.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Lue}function xP(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z0[i],o=e.fv,a=e.pv,l=e.cvt[r];Fe.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var u=a.distance(s,QA);t&&(Math.abs(u-l)<e.cvCutIn&&(u=l),u=e.round(u)),o.setRelative(s,QA,u,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=i}function vce(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];Fe.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var s=0;s<i;s++)r.push(e[++n]);t.ip=n}function yce(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];Fe.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),r.push(o)}t.ip=e}function xce(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();Fe.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function Ece(t){var e=t.stack,n=t.store,r=e.pop();Fe.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function Sce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function Cce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function EP(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];Fe.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,QA,t,!1)*64)}function SP(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z1[r],o=e.z0[i],a=e.dpv.distance(o,s,t,t);Fe.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function wce(t){Fe.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function Tce(t){Fe.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function Mce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function _ce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function Ice(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function bce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function Bce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function Rce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function Dce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function Pce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function Lce(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"IF[]",e),e||(dQ(t,!0),Fe.DEBUG&&console.log(t.step,"EIF[]"))}function Fce(t){Fe.DEBUG&&console.log(t.step,"EIF[]")}function Oce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function Uce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function kce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function N8(t,e){var n=e.stack,r=n.pop(),i=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,u=e.z0;Fe.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var c=0;c<r;c++){var f=n.pop(),h=n.pop(),d=a+((h&240)>>4);if(d===o){var g=(h&15)-8;g>=0&&g++,Fe.DEBUG&&console.log(e.step,"DELTAPFIX",f,"by",g*l);var v=u[f];i.setRelative(v,v,g*l,s)}}}function Nce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function Gce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function zce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function Hce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function Qce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function Vce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function Wce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function jce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function Xce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function Yce(t){var e=t.stack,n=e.pop();Fe.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function py(t,e){var n=e.stack,r=n.pop();Fe.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function Kce(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function G8(t,e){var n=e.stack,r=n.pop(),i=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;Fe.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),u=n.pop(),c=s+((u&240)>>4);if(c===i){var f=(u&15)-8;f>=0&&f++;var h=f*o;Fe.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",h),e.cvt[l]+=h}}}function Jce(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=hQ;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function qce(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=hQ;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function Zce(t){Fe.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Pue}function $ce(t){Fe.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Oue}function efe(t){Fe.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Uue}function tfe(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function CP(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];Fe.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=H3(a,l)}function nfe(t){var e=t.stack,n=e.pop(),r=0;Fe.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function rfe(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();Fe.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function ife(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function sfe(t){var e=t.stack,n=e.pop(),r=e.pop();Fe.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function ofe(t){var e=t.stack.pop();Fe.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function afe(t){var e=t.stack.pop(),n=t.stack.pop();switch(Fe.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Lc(t,e){var n=e.stack,r=e.prog,i=e.ip;Fe.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(r[++i]);e.ip=i}function Fc(t,e){var n=e.ip,r=e.prog,i=e.stack;Fe.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=r[++n]<<8|r[++n];o&32768&&(o=-((o^65535)+1)),i.push(o)}e.ip=n}function pt(t,e,n,r,i,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),u=s.rp0,c=s.z0[u],f=s.z1[l],h=s.minDis,d=s.fv,g=s.dpv,v,y,A,x;y=v=g.distance(f,c,!0,!0),A=y>=0?1:-1,y=Math.abs(y),t&&(x=s.cvt[a],r&&Math.abs(y-x)<s.cvCutIn&&(y=x)),n&&y<h&&(y=h),r&&(y=s.round(y)),d.setRelative(f,c,A*y,g),d.touch(f),Fe.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+x+")":"",l,"(d =",v,"->",A*y,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}lQ=[uP.bind(void 0,Vu),uP.bind(void 0,Gl),cP.bind(void 0,Vu),cP.bind(void 0,Gl),fP.bind(void 0,Vu),fP.bind(void 0,Gl),hP.bind(void 0,0),hP.bind(void 0,1),dP.bind(void 0,0),dP.bind(void 0,1),Nue,Gue,zue,Hue,Que,Vue,Wue,jue,Xue,Yue,Kue,Jue,que,Zue,$ue,ece,tce,nce,rce,ice,void 0,void 0,sce,k8,oce,ace,lce,fce,hce,void 0,void 0,void 0,uce,cce,dce,void 0,pP.bind(void 0,0),pP.bind(void 0,1),mP.bind(void 0,Vu),mP.bind(void 0,Gl),gP.bind(void 0,0),gP.bind(void 0,1),AP.bind(void 0,0),AP.bind(void 0,1),vP.bind(void 0,0),vP.bind(void 0,1),pce,mce,yP.bind(void 0,0),yP.bind(void 0,1),gce,Ace,xP.bind(void 0,0),xP.bind(void 0,1),vce,yce,xce,Ece,Sce,Cce,EP.bind(void 0,0),EP.bind(void 0,1),void 0,SP.bind(void 0,0),SP.bind(void 0,1),wce,void 0,Tce,void 0,void 0,Mce,_ce,Ice,bce,Bce,Rce,Dce,Pce,Lce,Fce,Oce,Uce,kce,N8.bind(void 0,1),Nce,Gce,zce,Hce,Qce,Vce,Wce,jce,Xce,Yce,py.bind(void 0,0),py.bind(void 0,1),py.bind(void 0,2),py.bind(void 0,3),void 0,void 0,void 0,void 0,Kce,N8.bind(void 0,2),N8.bind(void 0,3),G8.bind(void 0,1),G8.bind(void 0,2),G8.bind(void 0,3),Jce,qce,void 0,void 0,Zce,void 0,$ce,efe,k8,k8,void 0,void 0,void 0,void 0,void 0,tfe,CP.bind(void 0,0),CP.bind(void 0,1),nfe,void 0,rfe,ife,sfe,ofe,afe,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Lc.bind(void 0,1),Lc.bind(void 0,2),Lc.bind(void 0,3),Lc.bind(void 0,4),Lc.bind(void 0,5),Lc.bind(void 0,6),Lc.bind(void 0,7),Lc.bind(void 0,8),Fc.bind(void 0,1),Fc.bind(void 0,2),Fc.bind(void 0,3),Fc.bind(void 0,4),Fc.bind(void 0,5),Fc.bind(void 0,6),Fc.bind(void 0,7),Fc.bind(void 0,8),pt.bind(void 0,0,0,0,0,0),pt.bind(void 0,0,0,0,0,1),pt.bind(void 0,0,0,0,0,2),pt.bind(void 0,0,0,0,0,3),pt.bind(void 0,0,0,0,1,0),pt.bind(void 0,0,0,0,1,1),pt.bind(void 0,0,0,0,1,2),pt.bind(void 0,0,0,0,1,3),pt.bind(void 0,0,0,1,0,0),pt.bind(void 0,0,0,1,0,1),pt.bind(void 0,0,0,1,0,2),pt.bind(void 0,0,0,1,0,3),pt.bind(void 0,0,0,1,1,0),pt.bind(void 0,0,0,1,1,1),pt.bind(void 0,0,0,1,1,2),pt.bind(void 0,0,0,1,1,3),pt.bind(void 0,0,1,0,0,0),pt.bind(void 0,0,1,0,0,1),pt.bind(void 0,0,1,0,0,2),pt.bind(void 0,0,1,0,0,3),pt.bind(void 0,0,1,0,1,0),pt.bind(void 0,0,1,0,1,1),pt.bind(void 0,0,1,0,1,2),pt.bind(void 0,0,1,0,1,3),pt.bind(void 0,0,1,1,0,0),pt.bind(void 0,0,1,1,0,1),pt.bind(void 0,0,1,1,0,2),pt.bind(void 0,0,1,1,0,3),pt.bind(void 0,0,1,1,1,0),pt.bind(void 0,0,1,1,1,1),pt.bind(void 0,0,1,1,1,2),pt.bind(void 0,0,1,1,1,3),pt.bind(void 0,1,0,0,0,0),pt.bind(void 0,1,0,0,0,1),pt.bind(void 0,1,0,0,0,2),pt.bind(void 0,1,0,0,0,3),pt.bind(void 0,1,0,0,1,0),pt.bind(void 0,1,0,0,1,1),pt.bind(void 0,1,0,0,1,2),pt.bind(void 0,1,0,0,1,3),pt.bind(void 0,1,0,1,0,0),pt.bind(void 0,1,0,1,0,1),pt.bind(void 0,1,0,1,0,2),pt.bind(void 0,1,0,1,0,3),pt.bind(void 0,1,0,1,1,0),pt.bind(void 0,1,0,1,1,1),pt.bind(void 0,1,0,1,1,2),pt.bind(void 0,1,0,1,1,3),pt.bind(void 0,1,1,0,0,0),pt.bind(void 0,1,1,0,0,1),pt.bind(void 0,1,1,0,0,2),pt.bind(void 0,1,1,0,0,3),pt.bind(void 0,1,1,0,1,0),pt.bind(void 0,1,1,0,1,1),pt.bind(void 0,1,1,0,1,2),pt.bind(void 0,1,1,0,1,3),pt.bind(void 0,1,1,1,0,0),pt.bind(void 0,1,1,1,0,1),pt.bind(void 0,1,1,1,0,2),pt.bind(void 0,1,1,1,0,3),pt.bind(void 0,1,1,1,1,0),pt.bind(void 0,1,1,1,1,1),pt.bind(void 0,1,1,1,1,2),pt.bind(void 0,1,1,1,1,3)];function Tm(t){this.char=t,this.state={},this.activeState=null}function KM(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function lfe(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function ol(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function N6(t){this.eventId=t,this.subscribers=[]}function ufe(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new N6(i)})}),t&&n.forEach(function(i){var s=t[i];typeof s=="function"&&e.events[i].subscribe(s)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function Fr(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],ufe.call(this,t)}Tm.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Tm.prototype.getState=function(t){return this.state[t]||null};Fr.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};Fr.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),i=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(s){return!i(s)})])};Fr.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(o){return o instanceof Tm});if(!isNaN(t)&&this.inboundIndex(t)&&i){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};Fr.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Tm){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};Fr.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};Fr.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};Fr.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof Tm});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};Fr.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var s=[r,i],o=e===null||e.apply(this,s)===!0,a=[r,i];if(o){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};N6.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};N6.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};ol.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};ol.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};Fr.prototype.rangeToText=function(t){if(t instanceof KM)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};Fr.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};Fr.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};Fr.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};Fr.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof N6&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};Fr.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new lfe(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};Fr.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};Fr.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};Fr.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};Fr.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new ol(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};Fr.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new KM(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};Fr.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,s=e.getContext(i).openRange;if(!s&&r.checkStart(t)&&(s=new KM(n,null,i),e.getContext(i).openRange=s,e.dispatch("contextStart",[i,n])),s&&r.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,i);e.dispatch("contextEnd",[i,a])}})};Fr.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new ol(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var s=new Tm(r);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens};function pf(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function pQ(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Tf(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function d5(t){return/[A-z]/.test(t)}function cfe(t){return/\s/.test(t)}function zo(t){this.font=t,this.features={}}function Fh(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function Q3(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var s=t-i.start;return i.index+s}}break;default:return-1}return-1}function ffe(t,e){var n=Q3(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function hfe(t,e){var n=Q3(t,e.coverage);return n===-1?null:e.substitute[n]}function z8(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],s=e.current;s=Array.isArray(s)?s[0]:s;var o=Q3(s,i);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function dfe(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=z8(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(i);s.length&&Tf(s[0].char);)s.shift();var o=new ol(s,0),a=z8(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&Tf(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var u=new ol(l,0),c=z8(e.backtrackCoverage,u),f=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&c.length===e.backtrackCoverage.length,h=[];if(f)for(var d=0;d<e.lookupRecords.length;d++)for(var g=e.lookupRecords[d],v=g.lookupListIndex,y=this.getLookupByIndex(v),A=0;A<y.subtables.length;A++){var x=y.subtables[A],E=this.getLookupMethod(y,x),S=this.getSubstitutionType(y,x);if(S==="12")for(var w=0;w<r.length;w++){var M=t.get(w),_=E(M);_&&h.push(_)}}return h}function pfe(t,e){var n=t.current,r=Q3(n,e.coverage);if(r===-1)return null;for(var i,s=e.ligatureSets[r],o=0;o<s.length;o++){i=s[o];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],u=i.components[a];if(l!==u)break;if(a===i.components.length-1)return i}}return null}function mfe(t,e){var n=Q3(t,e.coverage);return n===-1?null:e.sequences[n]}zo.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};zo.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var s=i.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};zo.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,s=t[r].feature;n[i]=s}this.features[e].tags=n};zo.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};zo.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};zo.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return ffe.apply(n,[i,e])};case"12":return function(i){return hfe.apply(n,[i,e])};case"63":return function(i){return dfe.apply(n,[i,e])};case"41":return function(i){return pfe.apply(n,[i,e])};case"21":return function(i){return mfe.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};zo.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),s=[].concat(e.context),o=0;o<i.length;o++)for(var a=i[o],l=this.getLookupSubtables(a),u=0;u<l.length;u++){var c=l[u],f=this.getSubstitutionType(a,c),h=this.getLookupMethod(a,c),d=void 0;switch(f){case"11":d=h(e.current),d&&s.splice(n,1,new Fh({id:11,tag:t.tag,substitution:d}));break;case"12":d=h(e.current),d&&s.splice(n,1,new Fh({id:12,tag:t.tag,substitution:d}));break;case"63":d=h(e),Array.isArray(d)&&d.length&&s.splice(n,1,new Fh({id:63,tag:t.tag,substitution:d}));break;case"41":d=h(e),d&&s.splice(n,1,new Fh({id:41,tag:t.tag,substitution:d}));break;case"21":d=h(e.current),d&&s.splice(n,1,new Fh({id:21,tag:t.tag,substitution:d}));break}e=new ol(s,n),!(Array.isArray(d)&&!d.length)&&(d=null)}return s.length?s:null};zo.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};zo.prototype.getLookupSubtables=function(t){return t.subtables||null};zo.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};zo.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};zo.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function gfe(t){var e=t.current,n=t.get(-1);return n===null&&pf(e)||!pf(n)&&pf(e)}function Afe(t){var e=t.get(1);return e===null||!pf(e)}var vfe={startCheck:gfe,endCheck:Afe};function yfe(t){var e=t.current,n=t.get(-1);return(pf(e)||Tf(e))&&!pf(n)}function xfe(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!pf(e)&&!Tf(e)):var n=cfe(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return pf(i)||Tf(i)}),!r)return!0}break;default:return!1}}var Efe={startCheck:yfe,endCheck:xfe};function Sfe(t,e,n){e[n].setState(t.tag,t.substitution)}function Cfe(t,e,n){e[n].setState(t.tag,t.substitution)}function wfe(t,e,n){t.substitution.forEach(function(r,i){var s=e[n+i];s.setState(t.tag,r)})}function Tfe(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,s=0;s<i;s++)r=e[n+s+1],r.setState("deleted",!0)}var wP={11:Sfe,12:Cfe,63:wfe,41:Tfe};function JM(t,e,n){t instanceof Fh&&wP[t.id]&&wP[t.id](t,e,n)}function Mfe(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=pQ(r),s=Tf(r);if(!i&&!s)return!0;if(i)return!1}return!1}function _fe(t){if(pQ(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=Tf(n);if(!r)return!0}return!1}function Ife(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var s=new ol(i.map(function(a){return a.getState("glyphIndex")}),0),o=new ol(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!Tf(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var u=0;Mfe(o)&&(u|=1),_fe(o)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(r.indexOf(c)!==-1){var f=e.query.lookupFeature({tag:c,script:n,contextParams:s});if(f instanceof Error)return console.info(f.message);f.forEach(function(h,d){h instanceof Fh&&(JM(h,i,d),s.context[d]=h.substitution)})}}})}}function TP(t,e){var n=t.map(function(r){return r.activeState.value});return new ol(n,e||0)}function bfe(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=TP(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return JM(l,r,o)}),i=TP(r))})}function Bfe(t){var e=t.current,n=t.get(-1);return n===null&&d5(e)||!d5(n)&&d5(e)}function Rfe(t){var e=t.get(1);return e===null||!d5(e)}var Dfe={startCheck:Bfe,endCheck:Rfe};function MP(t,e){var n=t.map(function(r){return r.activeState.value});return new ol(n,e||0)}function Pfe(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=MP(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return JM(l,r,o)}),i=MP(r))})}function dl(t){this.baseDir=t||"ltr",this.tokenizer=new Fr,this.featuresTags={}}dl.prototype.setText=function(t){this.text=t};dl.prototype.contextChecks={latinWordCheck:Dfe,arabicWordCheck:vfe,arabicSentenceCheck:Efe};function H8(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function Lfe(){return H8.call(this,"latinWord"),H8.call(this,"arabicWord"),H8.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Ffe(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}dl.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};dl.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new zo(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};dl.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function qM(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Ofe(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){qM.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){Ife.call(t,r)})}}function Ufe(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){qM.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){bfe.call(t,i)})}}}function kfe(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){qM.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){Pfe.call(t,i)})}}}dl.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};dl.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Ofe.call(this),Ufe.call(this)),this.checkContextReady("latinWord")&&kfe.call(this),this.checkContextReady("arabicSentence")&&Ffe.call(this)};dl.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),Lfe.call(this),this.applyFeaturesToContexts())};dl.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};dl.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function $n(t){t=t||{},t.tables=t.tables||{},t.empty||(Lg(t.familyName,"When creating a new Font object, familyName is required."),Lg(t.styleName,"When creating a new Font object, styleName is required."),Lg(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Lg(t.ascender,"When creating a new Font object, ascender is required."),Lg(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new Kl.GlyphSet(this,t.glyphs||[]),this.encoding=new WH(this),this.position=new G3(this),this.substitution=new Go(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new cQ(this)}})}$n.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};$n.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};$n.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};$n.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};$n.prototype.stringToGlyphs=function(t,e){var n=this,r=new dl,i=function(f){return n.charToGlyphIndex(f.char)};r.registerModifier("glyphIndex",null,i);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,s);for(var o=r.getTextGlyphs(t),a=o.length,l=new Array(a),u=this.glyphs.get(0),c=0;c<a;c+=1)l[c]=this.glyphs.get(o[c])||u;return l};$n.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};$n.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};$n.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};$n.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};$n.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};$n.prototype.forEachGlyph=function(t,e,n,r,i,s){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var u=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(u,i.language)}for(var c=0;c<a.length;c+=1){var f=a[c];if(s.call(this,f,e,n,r,i),f.advanceWidth&&(e+=f.advanceWidth*o),i.kerning&&c<a.length-1){var h=l?this.position.getKerningValue(l,f.index,a[c+1].index):this.getKerningValue(f,a[c+1]);e+=h*o}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};$n.prototype.getPath=function(t,e,n,r,i){var s=new vi;return this.forEachGlyph(t,e,n,r,i,function(o,a,l,u){var c=o.getPath(a,l,u,i,this);s.extend(c)}),s};$n.prototype.getPaths=function(t,e,n,r,i){var s=[];return this.forEachGlyph(t,e,n,r,i,function(o,a,l,u){var c=o.getPath(a,l,u,i,this);s.push(c)}),s};$n.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};$n.prototype.draw=function(t,e,n,r,i,s){this.getPath(e,n,r,i,s).draw(t)};$n.prototype.drawPoints=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,u){o.drawPoints(t,a,l,u)})};$n.prototype.drawMetrics=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,u){o.drawMetrics(t,a,l,u)})};$n.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};$n.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};$n.prototype.toTables=function(){return wue.fontToTable(this)};$n.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};$n.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};$n.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(Mue())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),s=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),u=_ue(r);l.writeFileSync(t,u)}};$n.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};$n.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};$n.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var hc=new Array(10);hc[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(be.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(be.coverage),values:this.parseValueRecordList()};Ht.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};hc[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();Ht.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(be.coverage),i=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,pairSets:this.parseList(be.pointer(be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(be.classDef),a=this.parsePointer(be.classDef),l=this.parseUShort(),u=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:u,classRecords:this.parseList(l,be.list(u,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}}))}}};hc[3]=function(){return{error:"GPOS Lookup 3 not supported"}};hc[4]=function(){return{error:"GPOS Lookup 4 not supported"}};hc[5]=function(){return{error:"GPOS Lookup 5 not supported"}};hc[6]=function(){return{error:"GPOS Lookup 6 not supported"}};hc[7]=function(){return{error:"GPOS Lookup 7 not supported"}};hc[8]=function(){return{error:"GPOS Lookup 8 not supported"}};hc[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var Nfe=Object.defineProperty,Gfe=(t,e,n)=>e in t?Nfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gt=(t,e,n)=>(Gfe(t,typeof e!="symbol"?e+"":e,n),n);let Fg;function zfe(){var t;if(Fg!==void 0)return Fg;try{let e;const n=document.createElement("canvas");return Fg=!!(window.WebGL2RenderingContext&&(e=n.getContext("webgl2"))),e&&((t=e.getExtension("WEBGL_lose_context"))==null||t.loseContext()),Fg}catch{return Fg=!1}}function _P(t,e){if(e===NG)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===ex||e===sM){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===ex)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}new Be;const mQ=class{parse(t,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:mQ.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(t instanceof bt&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const n=t.geometry,r=DracoEncoderModule(),i=new r.Encoder;let s,o;if(!n.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof sn&&t.isMesh){s=new r.MeshBuilder,o=new r.Mesh;const h=n.getAttribute("position");s.AddFloatAttributeToMesh(o,r.POSITION,h.count,h.itemSize,h.array);const d=n.getIndex();if(d!==null)s.AddFacesToMesh(o,d.count/3,d.array);else{const g=new(h.count>65535?Uint32Array:Uint16Array)(h.count);for(let v=0;v<g.length;v++)g[v]=v;s.AddFacesToMesh(o,h.count,g)}if(e.exportNormals){const g=n.getAttribute("normal");g!==void 0&&s.AddFloatAttributeToMesh(o,r.NORMAL,g.count,g.itemSize,g.array)}if(e.exportUvs){const g=n.getAttribute("uv");g!==void 0&&s.AddFloatAttributeToMesh(o,r.TEX_COORD,g.count,g.itemSize,g.array)}if(e.exportColor){const g=n.getAttribute("color");g!==void 0&&s.AddFloatAttributeToMesh(o,r.COLOR,g.count,g.itemSize,g.array)}}else if(t instanceof Xu&&t.isPoints){s=new r.PointCloudBuilder,o=new r.PointCloud;const h=n.getAttribute("position");if(s.AddFloatAttribute(o,r.POSITION,h.count,h.itemSize,h.array),e.exportColor){const d=n.getAttribute("color");d!==void 0&&s.AddFloatAttribute(o,r.COLOR,d.count,d.itemSize,d.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new r.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,u=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(i.SetSpeedOptions(l,u),e.encoderMethod!==void 0&&i.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let h=0;h<5;h++)e.quantization[h]!==void 0&&i.SetAttributeQuantization(h,e.quantization[h]);let c;if(t instanceof sn&&t.isMesh?c=i.EncodeMeshToDracoBuffer(o,a):c=i.EncodePointCloudToDracoBuffer(o,!0,a),r.destroy(o),c===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const f=new Int8Array(new ArrayBuffer(c));for(let h=0;h<c;h++)f[h]=a.GetValue(h);return r.destroy(a),r.destroy(i),r.destroy(s),f}};let ou=mQ;gt(ou,"MESH_EDGEBREAKER_ENCODING",1);gt(ou,"MESH_SEQUENTIAL_ENCODING",0);gt(ou,"POINT_CLOUD",0);gt(ou,"TRIANGULAR_MESH",1);gt(ou,"INVALID",-1);gt(ou,"POSITION",0);gt(ou,"NORMAL",1);gt(ou,"COLOR",2);gt(ou,"TEX_COORD",3);gt(ou,"GENERIC",4);const gQ=class extends sn{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new Hn;const n=this,r=e.color!==void 0?new Be(e.color):new Be(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||gQ.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,u=new ua,c=new k,f=new k,h=new k,d=new Ke,g=new k(0,0,-1),v=new kt,y=new k,A=new k,x=new kt,E=new Ke,S=this.camera,w=new Tt(i,s,{samples:l,type:Ln}),M=new lt({uniforms:rr.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});M.uniforms.tDiffuse.value=w.texture,M.uniforms.color.value=r,M.uniforms.textureMatrix.value=E,this.material=M,this.onBeforeRender=function(_,b,I){if(f.setFromMatrixPosition(n.matrixWorld),h.setFromMatrixPosition(I.matrixWorld),d.extractRotation(n.matrixWorld),c.set(0,0,1),c.applyMatrix4(d),y.subVectors(f,h),y.dot(c)>0)return;y.reflect(c).negate(),y.add(f),d.extractRotation(I.matrixWorld),g.set(0,0,-1),g.applyMatrix4(d),g.add(h),A.subVectors(f,g),A.reflect(c).negate(),A.add(f),S.position.copy(y),S.up.set(0,1,0),S.up.applyMatrix4(d),S.up.reflect(c),S.lookAt(A),S.far=I.far,S.updateMatrixWorld(),S.projectionMatrix.copy(I.projectionMatrix),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(S.projectionMatrix),E.multiply(S.matrixWorldInverse),E.multiply(n.matrixWorld),u.setFromNormalAndCoplanarPoint(c,f),u.applyMatrix4(S.matrixWorldInverse),v.set(u.normal.x,u.normal.y,u.normal.z,u.constant);const B=S.projectionMatrix;x.x=(Math.sign(v.x)+B.elements[8])/B.elements[0],x.y=(Math.sign(v.y)+B.elements[9])/B.elements[5],x.z=-1,x.w=(1+B.elements[10])/B.elements[14],v.multiplyScalar(2/v.dot(x)),B.elements[2]=v.x,B.elements[6]=v.y,B.elements[10]=v.z+1-o,B.elements[14]=v.w,n.visible=!1;const L=_.getRenderTarget(),F=_.xr.enabled,O=_.shadowMap.autoUpdate,G=_.toneMapping;let V=!1;"outputColorSpace"in _?V=_.outputColorSpace==="srgb":V=_.outputEncoding===3001,_.xr.enabled=!1,_.shadowMap.autoUpdate=!1,"outputColorSpace"in _?_.outputColorSpace="linear-srgb":_.outputEncoding=3e3,_.toneMapping=Mo,_.setRenderTarget(w),_.state.buffers.depth.setMask(!0),_.autoClear===!1&&_.clear(),_.render(b,S),_.xr.enabled=F,_.shadowMap.autoUpdate=O,_.toneMapping=G,"outputColorSpace"in _?_.outputColorSpace=V?"srgb":"srgb-linear":_.outputEncoding=V?3001:3e3,_.setRenderTarget(L);const Y=I.viewport;Y!==void 0&&_.state.viewport(Y),n.visible=!0},this.getRenderTarget=function(){return w},this.dispose=function(){w.dispose(),n.material.dispose()}}};let Dw=gQ;gt(Dw,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(no.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const AQ=class extends sn{constructor(t,e={}){super(t),this.isRefractor=!0,this.type="Refractor",this.camera=new Hn;const n=this,r=e.color!==void 0?new Be(e.color):new Be(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||AQ.RefractorShader,l=e.multisample!==void 0?e.multisample:4,u=this.camera;u.matrixAutoUpdate=!1,u.userData.refractor=!0;const c=new ua,f=new Ke,h=new Tt(i,s,{samples:l,type:Ln});this.material=new lt({uniforms:rr.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=r,this.material.uniforms.tDiffuse.value=h.texture,this.material.uniforms.textureMatrix.value=f;const d=function(){const x=new k,E=new k,S=new Ke,w=new k,M=new k;return function(b){return x.setFromMatrixPosition(n.matrixWorld),E.setFromMatrixPosition(b.matrixWorld),w.subVectors(x,E),S.extractRotation(n.matrixWorld),M.set(0,0,1),M.applyMatrix4(S),w.dot(M)<0}}(),g=function(){const x=new k,E=new k,S=new sr,w=new k;return function(){n.matrixWorld.decompose(E,S,w),x.set(0,0,1).applyQuaternion(S).normalize(),x.negate(),c.setFromNormalAndCoplanarPoint(x,E)}}(),v=function(){const x=new ua,E=new kt,S=new kt;return function(M){u.matrixWorld.copy(M.matrixWorld),u.matrixWorldInverse.copy(u.matrixWorld).invert(),u.projectionMatrix.copy(M.projectionMatrix),u.far=M.far,x.copy(c),x.applyMatrix4(u.matrixWorldInverse),E.set(x.normal.x,x.normal.y,x.normal.z,x.constant);const _=u.projectionMatrix;S.x=(Math.sign(E.x)+_.elements[8])/_.elements[0],S.y=(Math.sign(E.y)+_.elements[9])/_.elements[5],S.z=-1,S.w=(1+_.elements[10])/_.elements[14],E.multiplyScalar(2/E.dot(S)),_.elements[2]=E.x,_.elements[6]=E.y,_.elements[10]=E.z+1-o,_.elements[14]=E.w}}();function y(x){f.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),f.multiply(x.projectionMatrix),f.multiply(x.matrixWorldInverse),f.multiply(n.matrixWorld)}function A(x,E,S){n.visible=!1;const w=x.getRenderTarget(),M=x.xr.enabled,_=x.shadowMap.autoUpdate,b=x.toneMapping;let I=!1;"outputColorSpace"in x?I=x.outputColorSpace==="srgb":I=x.outputEncoding===3001,x.xr.enabled=!1,x.shadowMap.autoUpdate=!1,"outputColorSpace"in x?x.outputColorSpace="linear-srgb":x.outputEncoding=3e3,x.toneMapping=Mo,x.setRenderTarget(h),x.autoClear===!1&&x.clear(),x.render(E,u),x.xr.enabled=M,x.shadowMap.autoUpdate=_,x.toneMapping=b,x.setRenderTarget(w),"outputColorSpace"in x?x.outputColorSpace=I?"srgb":"srgb-linear":x.outputEncoding=I?3001:3e3;const B=S.viewport;B!==void 0&&x.state.viewport(B),n.visible=!0}this.onBeforeRender=function(x,E,S){S.userData.refractor!==!0&&d(S)&&(g(),y(S),v(S),A(x,E,S))},this.getRenderTarget=function(){return h},this.dispose=function(){h.dispose(),n.material.dispose()}}};let Pw=AQ;gt(Pw,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(no.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const Hfe=new bt,Lw=class extends sn{constructor(){super(Lw.Geometry,new Pr({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new k,e=new k,n=new Xs(new Uint8Array(16*16*3),16,16,yn);n.minFilter=ot,n.magFilter=ot,n.wrapS=Kn,n.wrapT=Kn;const r=new Xs(new Uint8Array(16*16*3),16,16,yn);r.minFilter=ot,r.magFilter=ot,r.wrapS=Kn,r.wrapT=Kn;const i=Lw.Geometry,s=new L1({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new L1({uniforms:{map:{value:n},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new sn(i,s),l=[],u=vQ.Shader,c=new L1({uniforms:{map:{value:null},occlusionMap:{value:r},color:{value:new Be(16777215)},scale:{value:new ie},screenPosition:{value:new k}},vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:k0,transparent:!0,depthWrite:!1}),f=new sn(i,c);this.addElement=function(y){l.push(y)};const h=new ie,d=new ie,g=new Nz,v=new kt;this.onBeforeRender=function(y,A,x){y.getCurrentViewport(v);const E=v.w/v.z,S=v.z/2,w=v.w/2;let M=16/v.w;if(h.set(M*E,M),g.min.set(v.x,v.y),g.max.set(v.x+(v.z-16),v.y+(v.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(x.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(x.projectionMatrix),d.x=v.x+t.x*S+S-8,d.y=v.y+t.y*w+w-8,g.containsPoint(d))){y.copyFramebufferToTexture(d,n);let _=s.uniforms;_.scale.value=h,_.screenPosition.value=t,y.renderBufferDirect(x,null,i,s,a,null),y.copyFramebufferToTexture(d,r),_=o.uniforms,_.scale.value=h,_.screenPosition.value=t,y.renderBufferDirect(x,null,i,o,a,null);const b=-t.x*2,I=-t.y*2;for(let B=0,L=l.length;B<L;B++){const F=l[B],O=c.uniforms;O.color.value.copy(F.color),O.map.value=F.texture,O.screenPosition.value.x=t.x+b*F.distance,O.screenPosition.value.y=t.y+I*F.distance,M=F.size/v.w;const G=v.w/v.z;O.scale.value.set(M*G,M),c.uniformsNeedUpdate=!0,y.renderBufferDirect(x,null,i,c,f,null)}}},this.dispose=function(){s.dispose(),o.dispose(),c.dispose(),n.dispose(),r.dispose();for(let y=0,A=l.length;y<A;y++)l[y].texture.dispose()}}};let Qfe=Lw;gt(Qfe,"Geometry",Hfe);class vQ{constructor(e,n=1,r=0,i=new Be(16777215)){this.texture=e,this.size=n,this.distance=r,this.color=i}}gt(vQ,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class U1{constructor(e=Math){gt(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),gt(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),gt(this,"p",[]),gt(this,"perm",[]),gt(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),gt(this,"dot",(n,r,i)=>n[0]*r+n[1]*i),gt(this,"dot3",(n,r,i,s)=>n[0]*r+n[1]*i+n[2]*s),gt(this,"dot4",(n,r,i,s,o)=>n[0]*r+n[1]*i+n[2]*s+n[3]*o),gt(this,"noise",(n,r)=>{let i,s,o;const a=.5*(Math.sqrt(3)-1),l=(n+r)*a,u=Math.floor(n+l),c=Math.floor(r+l),f=(3-Math.sqrt(3))/6,h=(u+c)*f,d=u-h,g=c-h,v=n-d,y=r-g;let A=0,x=1;v>y&&(A=1,x=0);const E=v-A+f,S=y-x+f,w=v-1+2*f,M=y-1+2*f,_=u&255,b=c&255,I=this.perm[_+this.perm[b]]%12,B=this.perm[_+A+this.perm[b+x]]%12,L=this.perm[_+1+this.perm[b+1]]%12;let F=.5-v*v-y*y;F<0?i=0:(F*=F,i=F*F*this.dot(this.grad3[I],v,y));let O=.5-E*E-S*S;O<0?s=0:(O*=O,s=O*O*this.dot(this.grad3[B],E,S));let G=.5-w*w-M*M;return G<0?o=0:(G*=G,o=G*G*this.dot(this.grad3[L],w,M)),70*(i+s+o)}),gt(this,"noise3d",(n,r,i)=>{let s,o,a,l;const u=.3333333333333333,c=(n+r+i)*u,f=Math.floor(n+c),h=Math.floor(r+c),d=Math.floor(i+c),g=1/6,v=(f+h+d)*g,y=f-v,A=h-v,x=d-v,E=n-y,S=r-A,w=i-x;let M,_,b,I,B,L;E>=S?S>=w?(M=1,_=0,b=0,I=1,B=1,L=0):E>=w?(M=1,_=0,b=0,I=1,B=0,L=1):(M=0,_=0,b=1,I=1,B=0,L=1):S<w?(M=0,_=0,b=1,I=0,B=1,L=1):E<w?(M=0,_=1,b=0,I=0,B=1,L=1):(M=0,_=1,b=0,I=1,B=1,L=0);const F=E-M+g,O=S-_+g,G=w-b+g,V=E-I+2*g,Y=S-B+2*g,J=w-L+2*g,z=E-1+3*g,W=S-1+3*g,j=w-1+3*g,Q=f&255,H=h&255,ee=d&255,Z=this.perm[Q+this.perm[H+this.perm[ee]]]%12,ne=this.perm[Q+M+this.perm[H+_+this.perm[ee+b]]]%12,oe=this.perm[Q+I+this.perm[H+B+this.perm[ee+L]]]%12,se=this.perm[Q+1+this.perm[H+1+this.perm[ee+1]]]%12;let he=.6-E*E-S*S-w*w;he<0?s=0:(he*=he,s=he*he*this.dot3(this.grad3[Z],E,S,w));let we=.6-F*F-O*O-G*G;we<0?o=0:(we*=we,o=we*we*this.dot3(this.grad3[ne],F,O,G));let ke=.6-V*V-Y*Y-J*J;ke<0?a=0:(ke*=ke,a=ke*ke*this.dot3(this.grad3[oe],V,Y,J));let Se=.6-z*z-W*W-j*j;return Se<0?l=0:(Se*=Se,l=Se*Se*this.dot3(this.grad3[se],z,W,j)),32*(s+o+a+l)}),gt(this,"noise4d",(n,r,i,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,u=(Math.sqrt(5)-1)/4,c=(5-Math.sqrt(5))/20;let f,h,d,g,v;const y=(n+r+i+s)*u,A=Math.floor(n+y),x=Math.floor(r+y),E=Math.floor(i+y),S=Math.floor(s+y),w=(A+x+E+S)*c,M=A-w,_=x-w,b=E-w,I=S-w,B=n-M,L=r-_,F=i-b,O=s-I,G=B>L?32:0,V=B>F?16:0,Y=L>F?8:0,J=B>O?4:0,z=L>O?2:0,W=F>O?1:0,j=G+V+Y+J+z+W;let Q,H,ee,Z,ne,oe,se,he,we,ke,Se,X;Q=a[j][0]>=3?1:0,H=a[j][1]>=3?1:0,ee=a[j][2]>=3?1:0,Z=a[j][3]>=3?1:0,ne=a[j][0]>=2?1:0,oe=a[j][1]>=2?1:0,se=a[j][2]>=2?1:0,he=a[j][3]>=2?1:0,we=a[j][0]>=1?1:0,ke=a[j][1]>=1?1:0,Se=a[j][2]>=1?1:0,X=a[j][3]>=1?1:0;const ve=B-Q+c,de=L-H+c,xe=F-ee+c,pe=O-Z+c,je=B-ne+2*c,Ae=L-oe+2*c,Le=F-se+2*c,Ue=O-he+2*c,Ce=B-we+3*c,Je=L-ke+3*c,N=F-Se+3*c,U=O-X+3*c,re=B-1+4*c,_e=L-1+4*c,Te=F-1+4*c,Ie=O-1+4*c,He=A&255,Ne=x&255,ge=E&255,Ge=S&255,qe=l[He+l[Ne+l[ge+l[Ge]]]]%32,Ve=l[He+Q+l[Ne+H+l[ge+ee+l[Ge+Z]]]]%32,Oe=l[He+ne+l[Ne+oe+l[ge+se+l[Ge+he]]]]%32,ze=l[He+we+l[Ne+ke+l[ge+Se+l[Ge+X]]]]%32,it=l[He+1+l[Ne+1+l[ge+1+l[Ge+1]]]]%32;let vt=.6-B*B-L*L-F*F-O*O;vt<0?f=0:(vt*=vt,f=vt*vt*this.dot4(o[qe],B,L,F,O));let $=.6-ve*ve-de*de-xe*xe-pe*pe;$<0?h=0:($*=$,h=$*$*this.dot4(o[Ve],ve,de,xe,pe));let Qe=.6-je*je-Ae*Ae-Le*Le-Ue*Ue;Qe<0?d=0:(Qe*=Qe,d=Qe*Qe*this.dot4(o[Oe],je,Ae,Le,Ue));let me=.6-Ce*Ce-Je*Je-N*N-U*U;me<0?g=0:(me*=me,g=me*me*this.dot4(o[ze],Ce,Je,N,U));let Xe=.6-re*re-_e*_e-Te*Te-Ie*Ie;return Xe<0?v=0:(Xe*=Xe,v=Xe*Xe*this.dot4(o[it],re,_e,Te,Ie)),27*(f+h+d+g+v)});for(let n=0;n<256;n++)this.p[n]=Math.floor(e.random()*256);for(let n=0;n<512;n++)this.perm[n]=this.p[n&255]}}const ys=class extends bt{constructor(t={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(ys.copyParameters(t,t)),this.createMesh()}static createRandomGenerator(){const e=[];for(let r=0;r<2053;r++)e.push(Math.random());const n={currentSeed:0,random:function(){const r=e[n.currentSeed];return n.currentSeed=(n.currentSeed+1)%2053,r},getSeed:function(){return n.currentSeed/2053},setSeed:function(r){n.currentSeed=Math.floor(r*2053)%2053}};return n}static copyParameters(t={},e={}){const n=function(r){return e===t?r:r.clone()};return t.sourceOffset=e.sourceOffset!==void 0?n(e.sourceOffset):new k(0,100,0),t.destOffset=e.destOffset!==void 0?n(e.destOffset):new k(0,0,0),t.timeScale=e.timeScale!==void 0?e.timeScale:1,t.roughness=e.roughness!==void 0?e.roughness:.9,t.straightness=e.straightness!==void 0?e.straightness:.7,t.up0=e.up0!==void 0?n(e.up0):new k(0,0,1),t.up1=e.up1!==void 0?n(e.up1):new k(0,0,1),t.radius0=e.radius0!==void 0?e.radius0:1,t.radius1=e.radius1!==void 0?e.radius1:1,t.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,t.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,t.minRadius=e.minRadius!==void 0?e.minRadius:.2,t.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,t.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,t.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,t.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,t.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,t.isStatic=e.isStatic!==void 0?e.isStatic:!1,t.ramification=e.ramification!==void 0?e.ramification:5,t.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,t.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,t.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,t.randomGenerator=e.randomGenerator,t.noiseSeed=e.noiseSeed,t.onDecideSubrayCreation=e.onDecideSubrayCreation,t.onSubrayCreation=e.onSubrayCreation,t}update(t){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=t&&t<=this.rayParameters.deathTime?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this.state=ys.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this.state=ys.RAY_VANISHING:this.state=ys.RAY_STEADY,this.visible=!0):(this.visible=!1,t<this.rayParameters.birthTime?this.state=ys.RAY_UNBORN:this.state=ys.RAY_EXTINGUISHED))}init(t){this.rayParameters=t,this.maxIterations=t.maxIterations!==void 0?Math.floor(t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=t.isStatic!==void 0?t.isStatic:!1,t.isStatic=this.isStatic,this.ramification=t.ramification!==void 0?Math.floor(t.ramification):5,t.ramification=this.ramification,this.maxSubrayRecursion=t.maxSubrayRecursion!==void 0?Math.floor(t.maxSubrayRecursion):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=t.recursionProbability!==void 0?t.recursionProbability:.6,t.recursionProbability=this.recursionProbability,this.generateUVs=t.generateUVs!==void 0?t.generateUVs:!1,t.generateUVs=this.generateUVs,t.randomGenerator!==void 0?(this.randomGenerator=t.randomGenerator,this.seedGenerator=t.randomGenerator,t.noiseSeed!==void 0&&this.seedGenerator.setSeed(t.noiseSeed)):(this.randomGenerator=ys.createRandomGenerator(),this.seedGenerator=Math),t.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=t.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),t.onSubrayCreation!==void 0&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=ys.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),t.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new U1(this.seedGenerator),this.simplexY=new U1(this.seedGenerator),this.simplexZ=new U1(this.seedGenerator),this.forwards=new k,this.forwardsFill=new k,this.side=new k,this.down=new k,this.middlePos=new k,this.middleLinPos=new k,this.newPos=new k,this.vPos=new k,this.cross1=new k}createMesh(){const t=1<<this.maxIterations,e=3*(t+1)*this.maxSubrays,n=18*t*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new y6(this.indices,1)),this.positionAttribute=new at(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new at(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=u5,this.positionAttribute.usage=u5,this.generateUVs&&(this.uvsAttribute.usage=u5)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(t){this.fillMesh(t),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(t){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(t,function(r){const i=e.currentSubray;t<i.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.endPropagationTime?e.timeFraction>=r.fraction0*i.propagationTimeFactor&&(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.beginVanishingTime?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):(e.timeFraction<=i.vanishingTimeFactor+r.fraction1*(1-i.vanishingTimeFactor)&&e.createPrism(r),e.onDecideSubrayCreation(r,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(t,e){t.pos0.copy(e.sourceOffset),t.pos1.copy(e.destOffset),t.up0.copy(e.up0),t.up1.copy(e.up1),t.radius0=e.radius0,t.radius1=e.radius1,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.timeScale=e.timeScale,t.roughness=e.roughness,t.straightness=e.straightness,t.propagationTimeFactor=e.propagationTimeFactor,t.vanishingTimeFactor=e.vanishingTimeFactor,t.maxIterations=this.maxIterations,t.seed=e.noiseSeed!==void 0?e.noiseSeed:0,t.recursion=0}fractalRay(t,e){this.time=t,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this.numSubrays;n++){const r=this.subrays[n];this.currentSubray=r,this.randomGenerator.setSeed(r.seed),r.endPropagationTime=So.lerp(r.birthTime,r.deathTime,r.propagationTimeFactor),r.beginVanishingTime=So.lerp(r.deathTime,r.birthTime,1-r.vanishingTimeFactor);const i=this.randomGenerator.random;r.linPos0.set(i(),i(),i()).multiplyScalar(1e3),r.linPos1.set(i(),i(),i()).multiplyScalar(1e3),this.timeFraction=(t-r.birthTime)/(r.deathTime-r.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(r.pos0),s.pos1.copy(r.pos1),s.linPos0.copy(r.linPos0),s.linPos1.copy(r.linPos1),s.up0.copy(r.up0),s.up1.copy(r.up1),s.radius0=r.radius0,s.radius1=r.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-r.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,r.recursion)/(1<<r.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(t){if(t.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(t);return}this.forwards.subVectors(t.pos1,t.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const n=(t.radius0+t.radius1)*.5,r=(t.fraction0+t.fraction1)*.5,i=this.time*this.currentSubray.timeScale*Math.pow(2,t.iteration);this.middlePos.lerpVectors(t.pos0,t.pos1,.5),this.middleLinPos.lerpVectors(t.linPos0,t.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,i),this.simplexY.noise4d(s.x,s.y,s.z,i),this.simplexZ.noise4d(s.x,s.y,s.z,i)),this.newPos.multiplyScalar(t.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(t.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(t.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(t.up0),o.up1.copy(t.up1),o.radius0=t.radius0,o.radius1=n,o.fraction0=t.fraction0,o.fraction1=r,o.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,o.iteration=t.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(t.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(t.linPos1),this.cross1.crossVectors(t.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(t.up1),a.radius0=n,a.radius1=t.radius1,a.fraction0=r,a.fraction1=t.fraction1,a.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,a.iteration=t.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(t){this.forwardsFill.subVectors(t.pos1,t.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this.forwardsFill,t.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this.forwardsFill,t.radius1,t.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,e,n,r){this.side.crossVectors(e,n).multiplyScalar(r*ys.COS30DEG),this.down.copy(e).multiplyScalar(-r*ys.SIN30DEG);const i=this.vPos,s=this.vertices;i.copy(t).sub(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(t).add(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(e).multiplyScalar(r).add(t),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,e,n,r,i){this.side.crossVectors(e,n).multiplyScalar(r*ys.COS30DEG),this.down.copy(e).multiplyScalar(-r*ys.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(t).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=0,s.copy(t).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(r).add(t),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(t){const e=this.indices;t=this.currentVertex-6,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,u=o.rayParameters.subrayDutyCycle,c=o.rayParameters.isEternal&&a.recursion==0?-t()*l:So.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-t()*l,f=o.time-c,h=Math.floor(f/l),d=t()*(h+1),g=f%l<=u*l;let v=0;if(g&&(v=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&t()<v){const y=o.addNewSubray(),A=o.randomGenerator.getSeed();y.seed=d,o.randomGenerator.setSeed(d),y.recursion=a.recursion+1,y.maxIterations=Math.max(1,a.maxIterations-1),y.linPos0.set(t(),t(),t()).multiplyScalar(1e3),y.linPos1.set(t(),t(),t()).multiplyScalar(1e3),y.up0.copy(a.up0),y.up1.copy(a.up1),y.radius0=s.radius0*o.rayParameters.radius0Factor,y.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),y.birthTime=c+h*l,y.deathTime=y.birthTime+l*u,!o.rayParameters.isEternal&&a.recursion==0&&(y.birthTime=Math.max(y.birthTime,a.birthTime),y.deathTime=Math.min(y.deathTime,a.deathTime)),y.timeScale=a.timeScale*2,y.roughness=a.roughness,y.straightness=a.straightness,y.propagationTimeFactor=a.propagationTimeFactor,y.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,y,o),o.randomGenerator.setSeed(A)}};const e=new k,n=new k,r=new k,i=new k;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,u,c){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(t()*l));const f=e.length();r.crossVectors(o.up0,n);const h=2*Math.PI*t();r.multiplyScalar(Math.cos(h)),i.copy(o.up0).multiplyScalar(Math.sin(h)),a.pos1.copy(r).add(i).multiplyScalar(f*u*(c+t()*(1-c))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,u,c){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*t()-1)*l));const f=e.length();r.crossVectors(o.up0,n);const h=2*Math.PI*t();r.multiplyScalar(Math.cos(h)),i.copy(o.up0).multiplyScalar(Math.sin(h)),a.pos1.copy(r).add(i).multiplyScalar(f*u*(c+t()*(1-c))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new k,pos1:new k,linPos0:new k,linPos1:new k,up0:new k,up1:new k,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new k,pos1:new k,linPos0:new k,linPos1:new k,up0:new k,up1:new k,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){return super.copy(t),this.init(ys.copyParameters({},t.rayParameters)),this}clone(){return new this.constructor(ys.copyParameters({},this.rayParameters))}};let zf=ys;gt(zf,"RAY_INITIALIZED",0);gt(zf,"RAY_UNBORN",1);gt(zf,"RAY_PROPAGATING",2);gt(zf,"RAY_STEADY",3);gt(zf,"RAY_VANISHING",4);gt(zf,"RAY_EXTINGUISHED",5);gt(zf,"COS30DEG",Math.cos(30*Math.PI/180));gt(zf,"SIN30DEG",Math.sin(30*Math.PI/180));const Ih=class extends sn{constructor(t,e={}){super(t),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const n=this,r=e.color!==void 0?new Be(e.color):new Be(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||Ih.ReflectorShader,l=e.useDepthTexture===!0,u=new k(0,1,0),c=new k,f=new k;n.needsUpdate=!1,n.maxDistance=Ih.ReflectorShader.uniforms.maxDistance.value,n.opacity=Ih.ReflectorShader.uniforms.opacity.value,n.color=r,n.resolution=e.resolution||new ie(window.innerWidth,window.innerHeight),n._distanceAttenuation=Ih.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(n,"distanceAttenuation",{get(){return n._distanceAttenuation},set(L){n._distanceAttenuation!==L&&(n._distanceAttenuation=L,n.material.defines.DISTANCE_ATTENUATION=L,n.material.needsUpdate=!0)}}),n._fresnel=Ih.ReflectorShader.defines.FRESNEL,Object.defineProperty(n,"fresnel",{get(){return n._fresnel},set(L){n._fresnel!==L&&(n._fresnel=L,n.material.defines.FRESNEL=L,n.material.needsUpdate=!0)}});const h=new k,d=new k,g=new k,v=new Ke,y=new k(0,0,-1),A=new k,x=new k,E=new Ke,S=new Hn;let w;l&&(w=new Uf,w.type=Id,w.minFilter=ot,w.magFilter=ot);const M={depthTexture:l?w:null,type:Ln},_=new Tt(i,s,M),b=new lt({transparent:l,defines:Object.assign({},Ih.ReflectorShader.defines,{useDepthTexture:l}),uniforms:rr.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});b.uniforms.tDiffuse.value=_.texture,b.uniforms.color.value=n.color,b.uniforms.textureMatrix.value=E,l&&(b.uniforms.tDepth.value=_.depthTexture),this.material=b;const B=[new ua(new k(0,1,0),o)];this.doRender=function(L,F,O){if(b.uniforms.maxDistance.value=n.maxDistance,b.uniforms.color.value=n.color,b.uniforms.opacity.value=n.opacity,c.copy(O.position).normalize(),f.copy(c).reflect(u),b.uniforms.fresnelCoe.value=(c.dot(f)+1)/2,d.setFromMatrixPosition(n.matrixWorld),g.setFromMatrixPosition(O.matrixWorld),v.extractRotation(n.matrixWorld),h.set(0,0,1),h.applyMatrix4(v),A.subVectors(d,g),A.dot(h)>0)return;A.reflect(h).negate(),A.add(d),v.extractRotation(O.matrixWorld),y.set(0,0,-1),y.applyMatrix4(v),y.add(g),x.subVectors(d,y),x.reflect(h).negate(),x.add(d),S.position.copy(A),S.up.set(0,1,0),S.up.applyMatrix4(v),S.up.reflect(h),S.lookAt(x),S.far=O.far,S.updateMatrixWorld(),S.projectionMatrix.copy(O.projectionMatrix),b.uniforms.virtualCameraNear.value=O.near,b.uniforms.virtualCameraFar.value=O.far,b.uniforms.virtualCameraMatrixWorld.value=S.matrixWorld,b.uniforms.virtualCameraProjectionMatrix.value=O.projectionMatrix,b.uniforms.virtualCameraProjectionMatrixInverse.value=O.projectionMatrixInverse,b.uniforms.resolution.value=n.resolution,E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(S.projectionMatrix),E.multiply(S.matrixWorldInverse),E.multiply(n.matrixWorld);const G=L.getRenderTarget(),V=L.xr.enabled,Y=L.shadowMap.autoUpdate,J=L.clippingPlanes;L.xr.enabled=!1,L.shadowMap.autoUpdate=!1,L.clippingPlanes=B,L.setRenderTarget(_),L.state.buffers.depth.setMask(!0),L.autoClear===!1&&L.clear(),L.render(F,S),L.xr.enabled=V,L.shadowMap.autoUpdate=Y,L.clippingPlanes=J,L.setRenderTarget(G);const z=O.viewport;z!==void 0&&L.state.viewport(z)},this.getRenderTarget=function(){return _}}};let Vfe=Ih;gt(Vfe,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new Ke},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new Ke},virtualCameraMatrixWorld:{value:new Ke},virtualCameraProjectionMatrixInverse:{value:new Ke},resolution:{value:new ie}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const p5={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new k},up:{value:new k(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(no.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},yQ=new lt({name:"SkyShader",fragmentShader:p5.fragmentShader,vertexShader:p5.vertexShader,uniforms:rr.clone(p5.uniforms),side:Vr,depthWrite:!1});class xQ extends sn{constructor(){super(new cc(1,1,1),yQ)}}gt(xQ,"SkyShader",p5);gt(xQ,"material",yQ);const EQ=class extends sn{constructor(t,e={}){super(t),this.isWater=!0,this.type="Water";const n=this,r=e.color!==void 0?new Be(e.color):new Be(16777215),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new ie(1,0),l=e.flowSpeed||.03,u=e.reflectivity||.02,c=e.scale||1,f=e.shader||EQ.WaterShader,h=e.encoding!==void 0?e.encoding:3e3,d=e.flowMap||void 0,g=e.normalMap0,v=e.normalMap1,y=.15,A=y*.5,x=new Ke,E=new F6;if(Dw===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(Pw===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const S=new Dw(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:h}),w=new Pw(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:h});S.matrixAutoUpdate=!1,w.matrixAutoUpdate=!1,this.material=new lt({uniforms:rr.merge([tt.fog,f.uniforms]),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,transparent:!0,fog:!0}),d!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:d}):this.material.uniforms.flowDirection={type:"v2",value:a},g.wrapS=g.wrapT=ei,v.wrapS=v.wrapT=ei,this.material.uniforms.tReflectionMap.value=S.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=w.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=g,this.material.uniforms.tNormalMap1.value=v,this.material.uniforms.color.value=r,this.material.uniforms.reflectivity.value=u,this.material.uniforms.textureMatrix.value=x,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=A,this.material.uniforms.config.value.z=A,this.material.uniforms.config.value.w=c;function M(b){x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(b.projectionMatrix),x.multiply(b.matrixWorldInverse),x.multiply(n.matrixWorld)}function _(){const b=E.getDelta(),I=n.material.uniforms.config;I.value.x+=l*b,I.value.y=I.value.x+A,I.value.x>=y?(I.value.x=0,I.value.y=A):I.value.y>=y&&(I.value.y=I.value.y-y)}this.onBeforeRender=function(b,I,B){M(B),_(),n.visible=!1,S.matrixWorld.copy(n.matrixWorld),w.matrixWorld.copy(n.matrixWorld),S.onBeforeRender(b,I,B),w.onBeforeRender(b,I,B),n.visible=!0}}};let Wfe=EQ;gt(Wfe,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new kt}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(no.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const Q8={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)};Math.cos(70*So.DEG2RAD);let G6=class{constructor(){gt(this,"enabled",!0),gt(this,"needsSwap",!0),gt(this,"clear",!1),gt(this,"renderToScreen",!1)}setSize(e,n){}render(e,n,r,i,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}};class z6{constructor(e){gt(this,"camera",new Of(-1,1,1,-1,0,1)),gt(this,"geometry",new iu(2,2)),gt(this,"mesh"),this.mesh=new sn(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const Jl={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},Og={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new ie},cameraProjectionMatrix:{value:new Ke},cameraInverseProjectionMatrix:{value:new Ke},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},my={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},gy={uniforms:{tDiffuse:{value:null},resolution:{value:new ie}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},bh=class extends G6{constructor(t,e,n,r){super(),this.width=n!==void 0?n:512,this.height=r!==void 0?r:512,this.clear=!0,this.camera=e,this.scene=t,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const i=new Uf;i.format=ec,i.type=Wl,this.beautyRenderTarget=new Tt(this.width,this.height),this.normalRenderTarget=new Tt(this.width,this.height,{minFilter:ot,magFilter:ot,depthTexture:i}),this.ssaoRenderTarget=new Tt(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),Og===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new lt({defines:Object.assign({},Og.defines),uniforms:rr.clone(Og.uniforms),vertexShader:Og.vertexShader,fragmentShader:Og.fragmentShader,blending:Ct}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Em,this.normalMaterial.blending=Ct,this.blurMaterial=new lt({defines:Object.assign({},gy.defines),uniforms:rr.clone(gy.uniforms),vertexShader:gy.vertexShader,fragmentShader:gy.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new lt({defines:Object.assign({},my.defines),uniforms:rr.clone(my.uniforms),vertexShader:my.vertexShader,fragmentShader:my.fragmentShader,blending:Ct}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new lt({uniforms:rr.clone(Jl.uniforms),vertexShader:Jl.vertexShader,fragmentShader:Jl.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:h6,blendDst:N0,blendEquation:vo,blendSrcAlpha:f6,blendDstAlpha:N0,blendEquationAlpha:vo}),this.fsQuad=new z6(null),this.originalClearColor=new Be}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.capabilities.isWebGL2===!1&&(this.noiseTexture.format=A3),t.setRenderTarget(this.beautyRenderTarget),t.clear(),t.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case bh.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case bh.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case bh.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case bh.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case bh.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case bh.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=vA,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.beautyRenderTarget.setSize(t,e),this.ssaoRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.ssaoMaterial.uniforms.resolution.value.set(t,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e)}generateSampleKernel(){const t=this.kernelSize,e=this.kernel;for(let n=0;n<t;n++){const r=new k;r.x=Math.random()*2-1,r.y=Math.random()*2-1,r.z=Math.random(),r.normalize();let i=n/t;i=So.lerp(.1,1,i*i),r.multiplyScalar(i),e.push(r)}}generateRandomKernelRotations(){U1===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const n=new U1,r=4*4,i=new Float32Array(r);for(let s=0;s<r;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;i[s]=n.noise3d(o,a,l)}this.noiseTexture=new Xs(i,4,4,Qu,Un),this.noiseTexture.wrapS=ei,this.noiseTexture.wrapT=ei,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){e.set(n,n.visible),(n.isPoints||n.isLine)&&(n.visible=!1)})}restoreVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){const r=e.get(n);n.visible=r}),e.clear()}};let jfe=bh;gt(jfe,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const Xfe={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Be(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},Fw=class extends G6{constructor(t,e,n,r){super(),this.strength=e!==void 0?e:1,this.radius=n,this.threshold=r,this.resolution=t!==void 0?new ie(t.x,t.y):new ie(256,256),this.clearColor=new Be(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new Tt(i,s,{type:Ln}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let c=0;c<this.nMips;c++){const f=new Tt(i,s,{type:Ln});f.texture.name="UnrealBloomPass.h"+c,f.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(f);const h=new Tt(i,s,{type:Ln});h.texture.name="UnrealBloomPass.v"+c,h.texture.generateMipmaps=!1,this.renderTargetsVertical.push(h),i=Math.round(i/2),s=Math.round(s/2)}const o=Xfe;this.highPassUniforms=rr.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new lt({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let c=0;c<this.nMips;c++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[c])),this.separableBlurMaterials[c].uniforms.texSize.value=new ie(i,s),i=Math.round(i/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new k(1,1,1),new k(1,1,1),new k(1,1,1),new k(1,1,1),new k(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const u=Jl;this.copyUniforms=rr.clone(u.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new lt({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:k0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Be,this.oldClearAlpha=1,this.basic=new Pr,this.fsQuad=new z6(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let n=Math.round(t/2),r=Math.round(e/2);this.renderTargetBright.setSize(n,r);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new ie(n,r),n=Math.round(n/2),r=Math.round(r/2)}render(t,e,n,r,i){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),i&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=Fw.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[a]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=Fw.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[a]),t.clear(),this.fsQuad.render(t),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){return new lt({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new ie(.5,.5)},direction:{value:new ie(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(t){return new lt({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let SQ=Fw;gt(SQ,"BlurDirectionX",new ie(1,0));gt(SQ,"BlurDirectionY",new ie(0,1));const Ay={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new ie(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new Ke},cameraInverseProjectionMatrix:{value:new Ke},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},Oc={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new ie(512,512)},sampleUvOffsets:{value:[new ie(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},dx={createSampleWeights:(t,e)=>{const n=(i,s)=>Math.exp(-(i*i)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),r=[];for(let i=0;i<=t;i++)r.push(n(i,e));return r},createSampleOffsets:(t,e)=>{const n=[];for(let r=0;r<=t;r++)n.push(e.clone().multiplyScalar(r));return n},configure:(t,e,n,r)=>{t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=dx.createSampleOffsets(e,r),t.uniforms.sampleWeights.value=dx.createSampleWeights(e,n),t.needsUpdate=!0}};class Yfe extends G6{constructor(e,n,r=!1,i=!1,s=new ie(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=r,this.supportsNormalTexture=i,this.originalClearColor=new Be,this._oldClearColor=new Be,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new ie(s.x,s.y),this.saoRenderTarget=new Tt(this.resolution.x,this.resolution.y,{type:Ln}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new Tt(this.resolution.x,this.resolution.y,{minFilter:ot,magFilter:ot,type:Ln}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new Uf,o.type=Id,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new gm,this.depthMaterial.depthPacking=_a,this.depthMaterial.blending=Ct,this.normalMaterial=new Em,this.normalMaterial.blending=Ct,this.saoMaterial=new lt({defines:Object.assign({},Ay.defines),fragmentShader:Ay.fragmentShader,vertexShader:Ay.vertexShader,uniforms:rr.clone(Ay.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Ct,this.vBlurMaterial=new lt({uniforms:rr.clone(Oc.uniforms),defines:Object.assign({},Oc.defines),vertexShader:Oc.vertexShader,fragmentShader:Oc.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Ct,this.hBlurMaterial=new lt({uniforms:rr.clone(Oc.uniforms),defines:Object.assign({},Oc.defines),vertexShader:Oc.vertexShader,fragmentShader:Oc.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Ct,this.materialCopy=new lt({uniforms:rr.clone(Jl.uniforms),vertexShader:Jl.vertexShader,fragmentShader:Jl.fragmentShader,blending:Ct}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=vA,this.materialCopy.blendSrc=h6,this.materialCopy.blendDst=N0,this.materialCopy.blendEquation=vo,this.materialCopy.blendSrcAlpha=f6,this.materialCopy.blendDstAlpha=N0,this.materialCopy.blendEquationAlpha=vo,this.depthCopy=new lt({uniforms:rr.clone(Q8.uniforms),vertexShader:Q8.vertexShader,fragmentShader:Q8.fragmentShader,blending:Ct}),this.fsQuad=new z6(null)}render(e,n,r){if(this.renderToScreen&&(this.materialCopy.blending=Ct,this.materialCopy.uniforms.tDiffuse.value=r.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(dx.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new ie(0,1)),dx.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new ie(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=vA:o.blending=Ct,this.renderPass(e,o,this.renderToScreen?null:r),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}renderPass(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=n.clearColor||i,s=n.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}gt(Yfe,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const _l={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new ie},cameraProjectionMatrix:{value:new Ke},cameraInverseProjectionMatrix:{value:new Ke},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},vy={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},Uc={uniforms:{tDiffuse:{value:null},resolution:{value:new ie},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},Bh=class extends G6{constructor({renderer:t,scene:e,camera:n,width:r,height:i,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=r!==void 0?r:512,this.height=i!==void 0?i:512,this.clear=!0,this.renderer=t,this.scene=e,this.camera=n,this.groundReflector=a,this.opacity=_l.uniforms.opacity.value,this.output=0,this.maxDistance=_l.uniforms.maxDistance.value,this.thickness=_l.uniforms.thickness.value,this.tempColor=new Be,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(u){this._selects!==u&&(this._selects=u,Array.isArray(u)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(u){this._bouncing!==u&&(this._bouncing=u,u?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=_l.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(u){this._distanceAttenuation!==u&&(this._distanceAttenuation=u,this.ssrMaterial.defines.DISTANCE_ATTENUATION=u,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=_l.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(u){this._fresnel!==u&&(this._fresnel=u,this.ssrMaterial.defines.FRESNEL=u,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=_l.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(u){this._infiniteThick!==u&&(this._infiniteThick=u,this.ssrMaterial.defines.INFINITE_THICK=u,this.ssrMaterial.needsUpdate=!0)}});const l=new Uf;l.type=Id,l.minFilter=ot,l.magFilter=ot,this.beautyRenderTarget=new Tt(this.width,this.height,{minFilter:ot,magFilter:ot,type:Ln,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new Tt(this.width,this.height,{minFilter:ot,magFilter:ot}),this.normalRenderTarget=new Tt(this.width,this.height,{minFilter:ot,magFilter:ot,type:Ln}),this.metalnessRenderTarget=new Tt(this.width,this.height,{minFilter:ot,magFilter:ot,type:Ln}),this.ssrRenderTarget=new Tt(this.width,this.height,{minFilter:ot,magFilter:ot}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new lt({defines:Object.assign({},_l.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:rr.clone(_l.uniforms),vertexShader:_l.vertexShader,fragmentShader:_l.fragmentShader,blending:Ct}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new Em,this.normalMaterial.blending=Ct,this.metalnessOnMaterial=new Pr({color:"white"}),this.metalnessOffMaterial=new Pr({color:"black"}),this.blurMaterial=new lt({defines:Object.assign({},Uc.defines),uniforms:rr.clone(Uc.uniforms),vertexShader:Uc.vertexShader,fragmentShader:Uc.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new lt({defines:Object.assign({},Uc.defines),uniforms:rr.clone(Uc.uniforms),vertexShader:Uc.vertexShader,fragmentShader:Uc.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new lt({defines:Object.assign({},vy.defines),uniforms:rr.clone(vy.uniforms),vertexShader:vy.vertexShader,fragmentShader:vy.fragmentShader,blending:Ct}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new lt({uniforms:rr.clone(Jl.uniforms),vertexShader:Jl.vertexShader,fragmentShader:Jl.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:yA,blendDst:xA,blendEquation:vo,blendSrcAlpha:yA,blendDstAlpha:xA,blendEquationAlpha:vo}),this.fsQuad=new z6(null),this.originalClearColor=new Be}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.setRenderTarget(this.beautyRenderTarget),t.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),t.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(t,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(t,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.renderPass(t,this.blurMaterial2,this.blurRenderTarget2)),this.output){case Bh.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Vl,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Vl,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e));break;case Bh.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Vl,this.renderPass(t,this.copyMaterial,this.prevRenderTarget));break;case Bh.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Bh.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case Bh.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case Bh.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Ct,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderMetalness(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),t.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(t*t+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(t,e),this.prevRenderTarget.setSize(t,e),this.ssrRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.metalnessRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.blurRenderTarget2.setSize(t,e),this.ssrMaterial.uniforms.resolution.value.set(t,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e),this.blurMaterial2.uniforms.resolution.value.set(t,e)}};let Kfe=Bh;gt(Kfe,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class ZM extends yi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new ehe(n)}),this.register(function(n){return new lhe(n)}),this.register(function(n){return new uhe(n)}),this.register(function(n){return new che(n)}),this.register(function(n){return new nhe(n)}),this.register(function(n){return new rhe(n)}),this.register(function(n){return new ihe(n)}),this.register(function(n){return new she(n)}),this.register(function(n){return new $fe(n)}),this.register(function(n){return new ohe(n)}),this.register(function(n){return new the(n)}),this.register(function(n){return new ahe(n)}),this.register(function(n){return new qfe(n)}),this.register(function(n){return new fhe(n)}),this.register(function(n){return new hhe(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Yl.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Wr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){n(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Yl.decodeText(new Uint8Array(e.slice(0,4)))===CQ){try{o[cn.KHR_BINARY_GLTF]=new dhe(e)}catch(c){i&&i(c);return}s=JSON.parse(o[cn.KHR_BINARY_GLTF].content)}else s=JSON.parse(Yl.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Mhe(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const c=this.pluginCallbacks[u](l);a[c.name]=c,o[c.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const c=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(c){case cn.KHR_MATERIALS_UNLIT:o[c]=new Zfe;break;case cn.KHR_DRACO_MESH_COMPRESSION:o[c]=new phe(s,this.dracoLoader);break;case cn.KHR_TEXTURE_TRANSFORM:o[c]=new mhe;break;case cn.KHR_MESH_QUANTIZATION:o[c]=new ghe;break;default:f.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Jfe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const cn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class qfe{constructor(e){this.parser=e,this.name=cn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new Be(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new RM(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new BM(c),u.distance=f;break;case"spot":u=new bM(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,jc(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Zfe{constructor(){this.name=cn.KHR_MATERIALS_UNLIT}getMaterialType(){return Pr}extendParams(e,n,r){const i=[];e.color=new Be(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class $fe{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class ehe{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ie(a,a)}return Promise.all(s)}}class the{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class nhe{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Be(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class rhe{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class ihe{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Be(a[0],a[1],a[2]),Promise.all(s)}}class she{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ohe{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Be(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class ahe{constructor(e){this.parser=e,this.name=cn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:su}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class lhe{constructor(e){this.parser=e,this.name=cn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class uhe{constructor(e){this.parser=e,this.name=cn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class che{constructor(e){this.parser=e,this.name=cn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class fhe{constructor(e){this.name=cn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,h=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,h,i.mode,i.filter).then(function(d){return d.buffer}):o.ready.then(function(){const d=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(d),c,f,h,i.mode,i.filter),d})})}else return null}}class hhe{constructor(e){this.name=cn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==ia.TRIANGLES&&u.mode!==ia.TRIANGLE_STRIP&&u.mode!==ia.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(c=>(l[u]=c,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const c=u.pop(),f=c.isGroup?c.children:[c],h=u[0].count,d=[];for(const g of f){const v=new Ke,y=new k,A=new sr,x=new k(1,1,1),E=new gM(g.geometry,g.material,h);for(let S=0;S<h;S++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&A.fromBufferAttribute(l.ROTATION,S),l.SCALE&&x.fromBufferAttribute(l.SCALE,S),E.setMatrixAt(S,v.compose(y,A,x));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&g.geometry.setAttribute(S,l[S]);dn.prototype.copy.call(E,g),this.parser.assignFinalMaterial(E),d.push(E)}return c.isGroup?(c.clear(),c.add(...d),c):d[0]}))}}const CQ="glTF",Ug=12,IP={JSON:1313821514,BIN:5130562};class dhe{constructor(e){this.name=cn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Ug);if(this.header={magic:Yl.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==CQ)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ug,i=new DataView(e,Ug);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===IP.JSON){const l=new Uint8Array(e,Ug+s,o);this.content=Yl.decodeText(l)}else if(a===IP.BIN){const l=Ug+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class phe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=cn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=Ow[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=Ow[c]||c.toLowerCase();if(o[c]!==void 0){const h=r.accessors[e.attributes[c]],d=S0[h.componentType];u[f]=d.name,l[f]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(c){return new Promise(function(f){i.decodeDracoFile(c,function(h){for(const d in h.attributes){const g=h.attributes[d],v=l[d];v!==void 0&&(g.normalized=v)}f(h)},a,u)})})}}class mhe{constructor(){this.name=cn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class ghe{constructor(){this.name=cn.KHR_MESH_QUANTIZATION}}class wQ extends Sm{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-n,f=(r-n)/c,h=f*f,d=h*f,g=e*u,v=g-u,y=-2*d+3*h,A=d-h,x=1-y,E=A-h+f;for(let S=0;S!==a;S++){const w=o[v+S+a],M=o[v+S+l]*c,_=o[g+S+a],b=o[g+S]*c;s[S]=x*w+E*M+y*_+A*b}return s}}const Ahe=new sr;class vhe extends wQ{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return Ahe.fromArray(s).normalize().toArray(s),s}}const ia={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},S0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},bP={9728:ot,9729:ct,9984:TA,9985:m6,9986:m0,9987:Ma},BP={33071:Kn,33648:G0,10497:ei},V8={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Ow={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...no.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},kc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},yhe={CUBICSPLINE:void 0,LINEAR:pd,STEP:z0},W8={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function xhe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new L3({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ta})),t.DefaultMaterial}function vh(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function jc(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Ehe(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],h=u[2];return r&&(t.morphAttributes.position=c),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function She(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Che(t){let e;const n=t.extensions&&t.extensions[cn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+j8(n.attributes):e=t.indices+":"+j8(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+j8(t.targets[r]);return e}function j8(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function Uw(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function whe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const The=new Ke;class Mhe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Jfe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new kf(this.options.manager):this.textureLoader=new Fz(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Wr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};vh(s,a,i),jc(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[cn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Yl.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=V8[i.type],a=S0[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Yt(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=V8[i.type],u=S0[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,h=i.byteOffset||0,d=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(d&&d!==f){const A=Math.floor(h/d),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+A+":"+i.count;let E=n.cache.get(x);E||(v=new u(a,A*d,i.count*d/c),E=new x3(v,d/c),n.cache.add(x,E)),y=new Cf(E,l,h%d/c,g)}else a===null?v=new u(i.count*l):v=new u(a,h,i.count*l),y=new Yt(v,l,g);if(i.sparse!==void 0){const A=V8.SCALAR,x=S0[i.sparse.indices.componentType],E=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,w=new x(o[1],E,i.sparse.count*A),M=new u(o[2],S,i.sparse.count*l);a!==null&&(y=new Yt(y.array.slice(),y.itemSize,y.normalized));for(let _=0,b=w.length;_<b;_++){const I=w[_];if(y.setX(I,M[_*l]),l>=2&&y.setY(I,M[_*l+1]),l>=3&&y.setZ(I,M[_*l+2]),l>=4&&y.setW(I,M[_*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(c){c.flipY=!1,c.name=o.name||a.name||"",c.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(c.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return c.magFilter=bP[h.magFilter]||ct,c.minFilter=bP[h.minFilter]||Ma,c.wrapS=BP[h.wrapS]||ei,c.wrapT=BP[h.wrapT]||ei,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(h,d){let g=h;n.isImageBitmapLoader===!0&&(g=function(v){const y=new xn(v);y.needsUpdate=!0,h(y)}),n.load(Yl.resolveURL(f,s.path),g,void 0,d)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||whe(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[cn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[cn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[cn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Nl,fr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new mi,fr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return L3}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[cn.KHR_MATERIALS_UNLIT]){const f=i[cn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,n))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new Be(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=$r);const c=s.alphaMode||W8.OPAQUE;if(c===W8.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===W8.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Pr&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ie(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Pr&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Pr&&(a.emissive=new Be().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Pr&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const f=new o(a);return s.name&&(f.name=s.name),jc(f,s),n.associations.set(f,{materials:e}),s.extensions&&vh(i,f,s),f})}createUniqueName(e){const n=mn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[cn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return RP(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=Che(u),f=i[c];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[cn.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=RP(new bt,u,n),i[c]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?xhe(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let d=0,g=c.length;d<g;d++){const v=c[d],y=o[d];let A;const x=u[d];if(y.mode===ia.TRIANGLES||y.mode===ia.TRIANGLE_STRIP||y.mode===ia.TRIANGLE_FAN||y.mode===void 0)A=s.isSkinnedMesh===!0?new mM(v,x):new sn(v,x),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),y.mode===ia.TRIANGLE_STRIP?A.geometry=_P(A.geometry,sM):y.mode===ia.TRIANGLE_FAN&&(A.geometry=_P(A.geometry,ex));else if(y.mode===ia.LINES)A=new Ro(v,x);else if(y.mode===ia.LINE_STRIP)A=new tc(v,x);else if(y.mode===ia.LINE_LOOP)A=new AM(v,x);else if(y.mode===ia.POINTS)A=new Xu(v,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(A.geometry.morphAttributes).length>0&&She(A,s),A.name=n.createUniqueName(s.name||"mesh_"+e),jc(A,s),y.extensions&&vh(i,A,y),n.assignFinalMaterial(A),f.push(A)}for(let d=0,g=f.length;d<g;d++)n.associations.set(f[d],{meshes:e,primitives:d});if(f.length===1)return s.extensions&&vh(i,f[0],s),f[0];const h=new kl;s.extensions&&vh(i,h,s),n.associations.set(h,{meshes:e});for(let d=0,g=f.length;d<g;d++)h.add(f[d]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Hn(So.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Of(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),jc(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,c=o.length;u<c;u++){const f=o[u];if(f){a.push(f);const h=new Ke;s!==null&&h.fromArray(s.array,u*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new E3(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let c=0,f=r.channels.length;c<f;c++){const h=r.channels[c],d=r.samplers[h.sampler],g=h.target,v=g.node,y=r.parameters!==void 0?r.parameters[d.input]:d.input,A=r.parameters!==void 0?r.parameters[d.output]:d.output;g.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",A)),l.push(d),u.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(c){const f=c[0],h=c[1],d=c[2],g=c[3],v=c[4],y=[];for(let A=0,x=f.length;A<x;A++){const E=f[A],S=h[A],w=d[A],M=g[A],_=v[A];if(E===void 0)continue;E.updateMatrix();let b;switch(kc[_.path]){case kc.weights:b=V0;break;case kc.rotation:b=wf;break;case kc.position:case kc.scale:default:b=W0;break}const I=E.name?E.name:E.uuid,B=M.interpolation!==void 0?yhe[M.interpolation]:pd,L=[];kc[_.path]===kc.weights?E.traverse(function(O){O.morphTargetInfluences&&L.push(O.name?O.name:O.uuid)}):L.push(I);let F=w.array;if(w.normalized){const O=Uw(F.constructor),G=new Float32Array(F.length);for(let V=0,Y=F.length;V<Y;V++)G[V]=F[V]*O;F=G}for(let O=0,G=L.length;O<G;O++){const V=new b(L[O]+"."+kc[_.path],S.array,F,B);M.interpolation==="CUBICSPLINE"&&(V.createInterpolant=function(J){const z=this instanceof wf?vhe:wQ;return new z(this.times,this.values,this.getValueSize()/3,J)},V.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(V)}}return new j0(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,c=a.length;u<c;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const c=u[0],f=u[1],h=u[2];h!==null&&c.traverse(function(d){d.isSkinnedMesh&&d.bind(h,The)});for(let d=0,g=f.length;d<g;d++)c.add(f[d]);return c})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let c;if(s.isBone===!0?c=new M6:u.length>1?c=new kl:u.length===1?c=u[0]:c=new dn,c!==u[0])for(let f=0,h=u.length;f<h;f++)c.add(u[f]);if(s.name&&(c.userData.name=s.name,c.name=o),jc(c,s),s.extensions&&vh(r,c,s),s.matrix!==void 0){const f=new Ke;f.fromArray(s.matrix),c.applyMatrix4(f)}else s.translation!==void 0&&c.position.fromArray(s.translation),s.rotation!==void 0&&c.quaternion.fromArray(s.rotation),s.scale!==void 0&&c.scale.fromArray(s.scale);return i.associations.has(c)||i.associations.set(c,{}),i.associations.get(c).nodes=e,c}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new kl;r.name&&(s.name=i.createUniqueName(r.name)),jc(s,r),r.extensions&&vh(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let c=0,f=l.length;c<f;c++)s.add(l[c]);const u=c=>{const f=new Map;for(const[h,d]of i.associations)(h instanceof fr||h instanceof xn)&&f.set(h,d);return c.traverse(h=>{const d=i.associations.get(h);d!=null&&f.set(h,d)}),f};return i.associations=u(s),s})}}function _he(t,e,n){const r=e.attributes,i=new No;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new k(l[0],l[1],l[2]),new k(u[0],u[1],u[2])),a.normalized){const c=Uw(S0[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new k,l=new k;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],d=h.min,g=h.max;if(d!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(d[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(d[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(d[2]),Math.abs(g[2]))),h.normalized){const v=Uw(S0[h.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new ro;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function RP(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=Ow[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return jc(t,e),_he(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?Ehe(t,e.targets,n):t})}const kw=class{static createButton(t,e={}){const n=document.createElement("button");function r(){let a=null;async function l(c){c.addEventListener("end",u),await t.xr.setSession(c),n.textContent="EXIT VR",a=c}function u(){a.removeEventListener("end",u),n.textContent="ENTER VR",a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{var c;if(a===null){const f=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(c=navigator.xr)==null||c.requestSession("immersive-vr",{...e,optionalFeatures:f}).then(l)}else a.end()}}function i(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){i(),n.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?r():s(),a&&kw.xrSessionIsGranted&&n.click()}),n;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{kw.xrSessionIsGranted=!0})}};let Ihe=kw;gt(Ihe,"xrSessionIsGranted",!1);class bhe extends yi{constructor(e){super(e)}load(e,n,r,i){const s=new Wr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{if(typeof o!="string")throw new Error("unsupported data type");const a=JSON.parse(o),l=this.parse(a);n&&n(l)},r,i)}loadAsync(e,n){return super.loadAsync(e,n)}parse(e){return new $M(e)}}class $M{constructor(e){gt(this,"data"),this.data=e}generateShapes(e,n=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=Bhe(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}gt($M,"isFont");gt($M,"type");function Bhe(t,e,n,r){const i=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,u=0;for(let c=0;c<i.length;c++){const f=i[c];if(f===`
`)l=0,u-=o*r.lineHeight;else{const h=Rhe(f,s,l,u,n);h&&(l+=h.offsetX+r.letterSpacing,a.push(h.path))}}return a}function Rhe(t,e,n,r,i){const s=i.glyphs[t]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const o=new zz;let a,l,u,c,f,h,d,g;if(s.o){const v=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let y=0,A=v.length;y<A;)switch(v[y++]){case"m":a=parseInt(v[y++])*e+n,l=parseInt(v[y++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(v[y++])*e+n,l=parseInt(v[y++])*e+r,o.lineTo(a,l);break;case"q":u=parseInt(v[y++])*e+n,c=parseInt(v[y++])*e+r,f=parseInt(v[y++])*e+n,h=parseInt(v[y++])*e+r,o.quadraticCurveTo(f,h,u,c);break;case"b":u=parseInt(v[y++])*e+n,c=parseInt(v[y++])*e+r,f=parseInt(v[y++])*e+n,h=parseInt(v[y++])*e+r,d=parseInt(v[y++])*e+n,g=parseInt(v[y++])*e+r,o.bezierCurveTo(f,h,d,g,u,c);break}}return{offsetX:s.ha*e,path:o}}class Dhe extends xn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=ot,this.minFilter=ot,this.wrapR=Kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var Phe=typeof global=="object"&&global&&global.Object===Object&&global;const TQ=Phe;var Lhe=typeof self=="object"&&self&&self.Object===Object&&self,Fhe=TQ||Lhe||Function("return this")();const au=Fhe;var Ohe=au.Symbol;const Ia=Ohe;var MQ=Object.prototype,Uhe=MQ.hasOwnProperty,khe=MQ.toString,kg=Ia?Ia.toStringTag:void 0;function Nhe(t){var e=Uhe.call(t,kg),n=t[kg];try{t[kg]=void 0;var r=!0}catch{}var i=khe.call(t);return r&&(e?t[kg]=n:delete t[kg]),i}var Ghe=Object.prototype,zhe=Ghe.toString;function Hhe(t){return zhe.call(t)}var Qhe="[object Null]",Vhe="[object Undefined]",DP=Ia?Ia.toStringTag:void 0;function Hf(t){return t==null?t===void 0?Vhe:Qhe:DP&&DP in Object(t)?Nhe(t):Hhe(t)}function al(t){return t!=null&&typeof t=="object"}var Whe="[object Symbol]";function H6(t){return typeof t=="symbol"||al(t)&&Hf(t)==Whe}function V3(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var jhe=Array.isArray;const En=jhe;var Xhe=1/0,PP=Ia?Ia.prototype:void 0,LP=PP?PP.toString:void 0;function _Q(t){if(typeof t=="string")return t;if(En(t))return V3(t,_Q)+"";if(H6(t))return LP?LP.call(t):"";var e=t+"";return e=="0"&&1/t==-Xhe?"-0":e}var Yhe=/\s/;function Khe(t){for(var e=t.length;e--&&Yhe.test(t.charAt(e)););return e}var Jhe=/^\s+/;function qhe(t){return t&&t.slice(0,Khe(t)+1).replace(Jhe,"")}function ba(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var FP=0/0,Zhe=/^[-+]0x[0-9a-f]+$/i,$he=/^0b[01]+$/i,ede=/^0o[0-7]+$/i,tde=parseInt;function nde(t){if(typeof t=="number")return t;if(H6(t))return FP;if(ba(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ba(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=qhe(t);var n=$he.test(t);return n||ede.test(t)?tde(t.slice(2),n?2:8):Zhe.test(t)?FP:+t}var OP=1/0,rde=17976931348623157e292;function ide(t){if(!t)return t===0?t:0;if(t=nde(t),t===OP||t===-OP){var e=t<0?-1:1;return e*rde}return t===t?t:0}function W3(t){var e=ide(t),n=e%1;return e===e?n?e-n:e:0}function K0(t){return t}var sde="[object AsyncFunction]",ode="[object Function]",ade="[object GeneratorFunction]",lde="[object Proxy]";function dc(t){if(!ba(t))return!1;var e=Hf(t);return e==ode||e==ade||e==sde||e==lde}var ude=au["__core-js_shared__"];const X8=ude;var UP=function(){var t=/[^.]+$/.exec(X8&&X8.keys&&X8.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cde(t){return!!UP&&UP in t}var fde=Function.prototype,hde=fde.toString;function Ld(t){if(t!=null){try{return hde.call(t)}catch{}try{return t+""}catch{}}return""}var dde=/[\\^$.*+?()[\]{}|]/g,pde=/^\[object .+?Constructor\]$/,mde=Function.prototype,gde=Object.prototype,Ade=mde.toString,vde=gde.hasOwnProperty,yde=RegExp("^"+Ade.call(vde).replace(dde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xde(t){if(!ba(t)||cde(t))return!1;var e=dc(t)?yde:pde;return e.test(Ld(t))}function Ede(t,e){return t==null?void 0:t[e]}function Fd(t,e){var n=Ede(t,e);return xde(n)?n:void 0}var Sde=Fd(au,"WeakMap");const Nw=Sde;var kP=Object.create,Cde=function(){function t(){}return function(e){if(!ba(e))return{};if(kP)return kP(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const wde=Cde;function Tde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ai(){}function Mde(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var _de=800,Ide=16,bde=Date.now;function Bde(t){var e=0,n=0;return function(){var r=bde(),i=Ide-(r-n);if(n=r,i>0){if(++e>=_de)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Rde(t){return function(){return t}}var Dde=function(){try{var t=Fd(Object,"defineProperty");return t({},"",{}),t}catch{}}();const px=Dde;var Pde=px?function(t,e){return px(t,"toString",{configurable:!0,enumerable:!1,value:Rde(e),writable:!0})}:K0;const Lde=Pde;var Fde=Bde(Lde);const Ode=Fde;function IQ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function bQ(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Ude(t){return t!==t}function kde(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function e7(t,e,n){return e===e?kde(t,e,n):bQ(t,Ude,n)}function BQ(t,e){var n=t==null?0:t.length;return!!n&&e7(t,e,0)>-1}var Nde=9007199254740991,Gde=/^(?:0|[1-9]\d*)$/;function Q6(t,e){var n=typeof t;return e=e??Nde,!!e&&(n=="number"||n!="symbol"&&Gde.test(t))&&t>-1&&t%1==0&&t<e}function t7(t,e,n){e=="__proto__"&&px?px(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function j3(t,e){return t===e||t!==t&&e!==e}var zde=Object.prototype,Hde=zde.hasOwnProperty;function V6(t,e,n){var r=t[e];(!(Hde.call(t,e)&&j3(r,n))||n===void 0&&!(e in t))&&t7(t,e,n)}function X3(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?t7(n,a,l):V6(n,a,l)}return n}var NP=Math.max;function Qde(t,e,n){return e=NP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=NP(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Tde(t,this,a)}}function n7(t,e){return Ode(Qde(t,e,K0),t+"")}var Vde=9007199254740991;function r7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Vde}function lu(t){return t!=null&&r7(t.length)&&!dc(t)}function W6(t,e,n){if(!ba(n))return!1;var r=typeof e;return(r=="number"?lu(n)&&Q6(e,n.length):r=="string"&&e in n)?j3(n[e],t):!1}function Wde(t){return n7(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&W6(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var jde=Object.prototype;function Y3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jde;return t===n}function Xde(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Yde="[object Arguments]";function GP(t){return al(t)&&Hf(t)==Yde}var RQ=Object.prototype,Kde=RQ.hasOwnProperty,Jde=RQ.propertyIsEnumerable,qde=GP(function(){return arguments}())?GP:function(t){return al(t)&&Kde.call(t,"callee")&&!Jde.call(t,"callee")};const j6=qde;function Zde(){return!1}var DQ=typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,zP=DQ&&typeof wo=="object"&&wo&&!wo.nodeType&&wo,$de=zP&&zP.exports===DQ,HP=$de?au.Buffer:void 0,epe=HP?HP.isBuffer:void 0,tpe=epe||Zde;const VA=tpe;var npe="[object Arguments]",rpe="[object Array]",ipe="[object Boolean]",spe="[object Date]",ope="[object Error]",ape="[object Function]",lpe="[object Map]",upe="[object Number]",cpe="[object Object]",fpe="[object RegExp]",hpe="[object Set]",dpe="[object String]",ppe="[object WeakMap]",mpe="[object ArrayBuffer]",gpe="[object DataView]",Ape="[object Float32Array]",vpe="[object Float64Array]",ype="[object Int8Array]",xpe="[object Int16Array]",Epe="[object Int32Array]",Spe="[object Uint8Array]",Cpe="[object Uint8ClampedArray]",wpe="[object Uint16Array]",Tpe="[object Uint32Array]",tr={};tr[Ape]=tr[vpe]=tr[ype]=tr[xpe]=tr[Epe]=tr[Spe]=tr[Cpe]=tr[wpe]=tr[Tpe]=!0;tr[npe]=tr[rpe]=tr[mpe]=tr[ipe]=tr[gpe]=tr[spe]=tr[ope]=tr[ape]=tr[lpe]=tr[upe]=tr[cpe]=tr[fpe]=tr[hpe]=tr[dpe]=tr[ppe]=!1;function Mpe(t){return al(t)&&r7(t.length)&&!!tr[Hf(t)]}function K3(t){return function(e){return t(e)}}var PQ=typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,k1=PQ&&typeof wo=="object"&&wo&&!wo.nodeType&&wo,_pe=k1&&k1.exports===PQ,Y8=_pe&&TQ.process,Ipe=function(){try{var t=k1&&k1.require&&k1.require("util").types;return t||Y8&&Y8.binding&&Y8.binding("util")}catch{}}();const Mf=Ipe;var QP=Mf&&Mf.isTypedArray,bpe=QP?K3(QP):Mpe;const i7=bpe;var Bpe=Object.prototype,Rpe=Bpe.hasOwnProperty;function LQ(t,e){var n=En(t),r=!n&&j6(t),i=!n&&!r&&VA(t),s=!n&&!r&&!i&&i7(t),o=n||r||i||s,a=o?Xde(t.length,String):[],l=a.length;for(var u in t)(e||Rpe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Q6(u,l)))&&a.push(u);return a}function FQ(t,e){return function(n){return t(e(n))}}var Dpe=FQ(Object.keys,Object);const Ppe=Dpe;var Lpe=Object.prototype,Fpe=Lpe.hasOwnProperty;function OQ(t){if(!Y3(t))return Ppe(t);var e=[];for(var n in Object(t))Fpe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Do(t){return lu(t)?LQ(t):OQ(t)}var Ope=Object.prototype,Upe=Ope.hasOwnProperty,kpe=Wde(function(t,e){if(Y3(e)||lu(e)){X3(e,Do(e),t);return}for(var n in e)Upe.call(e,n)&&V6(t,n,e[n])});const Po=kpe;function Npe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Gpe=Object.prototype,zpe=Gpe.hasOwnProperty;function Hpe(t){if(!ba(t))return Npe(t);var e=Y3(t),n=[];for(var r in t)r=="constructor"&&(e||!zpe.call(t,r))||n.push(r);return n}function X6(t){return lu(t)?LQ(t,!0):Hpe(t)}var Qpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vpe=/^\w*$/;function s7(t,e){if(En(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||H6(t)?!0:Vpe.test(t)||!Qpe.test(t)||e!=null&&t in Object(e)}var Wpe=Fd(Object,"create");const WA=Wpe;function jpe(){this.__data__=WA?WA(null):{},this.size=0}function Xpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ype="__lodash_hash_undefined__",Kpe=Object.prototype,Jpe=Kpe.hasOwnProperty;function qpe(t){var e=this.__data__;if(WA){var n=e[t];return n===Ype?void 0:n}return Jpe.call(e,t)?e[t]:void 0}var Zpe=Object.prototype,$pe=Zpe.hasOwnProperty;function e0e(t){var e=this.__data__;return WA?e[t]!==void 0:$pe.call(e,t)}var t0e="__lodash_hash_undefined__";function n0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=WA&&e===void 0?t0e:e,this}function yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yd.prototype.clear=jpe;yd.prototype.delete=Xpe;yd.prototype.get=qpe;yd.prototype.has=e0e;yd.prototype.set=n0e;function r0e(){this.__data__=[],this.size=0}function Y6(t,e){for(var n=t.length;n--;)if(j3(t[n][0],e))return n;return-1}var i0e=Array.prototype,s0e=i0e.splice;function o0e(t){var e=this.__data__,n=Y6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():s0e.call(e,n,1),--this.size,!0}function a0e(t){var e=this.__data__,n=Y6(e,t);return n<0?void 0:e[n][1]}function l0e(t){return Y6(this.__data__,t)>-1}function u0e(t,e){var n=this.__data__,r=Y6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function pc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pc.prototype.clear=r0e;pc.prototype.delete=o0e;pc.prototype.get=a0e;pc.prototype.has=l0e;pc.prototype.set=u0e;var c0e=Fd(au,"Map");const jA=c0e;function f0e(){this.size=0,this.__data__={hash:new yd,map:new(jA||pc),string:new yd}}function h0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function K6(t,e){var n=t.__data__;return h0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function d0e(t){var e=K6(this,t).delete(t);return this.size-=e?1:0,e}function p0e(t){return K6(this,t).get(t)}function m0e(t){return K6(this,t).has(t)}function g0e(t,e){var n=K6(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function mc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mc.prototype.clear=f0e;mc.prototype.delete=d0e;mc.prototype.get=p0e;mc.prototype.has=m0e;mc.prototype.set=g0e;var A0e="Expected a function";function o7(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(A0e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(o7.Cache||mc),n}o7.Cache=mc;var v0e=500;function y0e(t){var e=o7(t,function(r){return n.size===v0e&&n.clear(),r}),n=e.cache;return e}var x0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E0e=/\\(\\)?/g,S0e=y0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(x0e,function(n,r,i,s){e.push(i?s.replace(E0e,"$1"):r||n)}),e});const C0e=S0e;function w0e(t){return t==null?"":_Q(t)}function J6(t,e){return En(t)?t:s7(t,e)?[t]:C0e(w0e(t))}var T0e=1/0;function J3(t){if(typeof t=="string"||H6(t))return t;var e=t+"";return e=="0"&&1/t==-T0e?"-0":e}function a7(t,e){e=J6(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[J3(e[n++])];return n&&n==r?t:void 0}function M0e(t,e,n){var r=t==null?void 0:a7(t,e);return r===void 0?n:r}function l7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var VP=Ia?Ia.isConcatSpreadable:void 0;function _0e(t){return En(t)||j6(t)||!!(VP&&t&&t[VP])}function q6(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=_0e),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?q6(a,e-1,n,r,i):l7(i,a):r||(i[i.length]=a)}return i}function el(t){var e=t==null?0:t.length;return e?q6(t,1):[]}var I0e=FQ(Object.getPrototypeOf,Object);const UQ=I0e;function kQ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function b0e(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function B0e(){this.__data__=new pc,this.size=0}function R0e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function D0e(t){return this.__data__.get(t)}function P0e(t){return this.__data__.has(t)}var L0e=200;function F0e(t,e){var n=this.__data__;if(n instanceof pc){var r=n.__data__;if(!jA||r.length<L0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mc(r)}return n.set(t,e),this.size=n.size,this}function ql(t){var e=this.__data__=new pc(t);this.size=e.size}ql.prototype.clear=B0e;ql.prototype.delete=R0e;ql.prototype.get=D0e;ql.prototype.has=P0e;ql.prototype.set=F0e;function O0e(t,e){return t&&X3(e,Do(e),t)}function U0e(t,e){return t&&X3(e,X6(e),t)}var NQ=typeof Fe=="object"&&Fe&&!Fe.nodeType&&Fe,WP=NQ&&typeof wo=="object"&&wo&&!wo.nodeType&&wo,k0e=WP&&WP.exports===NQ,jP=k0e?au.Buffer:void 0,XP=jP?jP.allocUnsafe:void 0;function N0e(t,e){if(e)return t.slice();var n=t.length,r=XP?XP(n):new t.constructor(n);return t.copy(r),r}function u7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function GQ(){return[]}var G0e=Object.prototype,z0e=G0e.propertyIsEnumerable,YP=Object.getOwnPropertySymbols,H0e=YP?function(t){return t==null?[]:(t=Object(t),u7(YP(t),function(e){return z0e.call(t,e)}))}:GQ;const c7=H0e;function Q0e(t,e){return X3(t,c7(t),e)}var V0e=Object.getOwnPropertySymbols,W0e=V0e?function(t){for(var e=[];t;)l7(e,c7(t)),t=UQ(t);return e}:GQ;const zQ=W0e;function j0e(t,e){return X3(t,zQ(t),e)}function HQ(t,e,n){var r=e(t);return En(t)?r:l7(r,n(t))}function Gw(t){return HQ(t,Do,c7)}function QQ(t){return HQ(t,X6,zQ)}var X0e=Fd(au,"DataView");const zw=X0e;var Y0e=Fd(au,"Promise");const Hw=Y0e;var K0e=Fd(au,"Set");const C0=K0e;var KP="[object Map]",J0e="[object Object]",JP="[object Promise]",qP="[object Set]",ZP="[object WeakMap]",$P="[object DataView]",q0e=Ld(zw),Z0e=Ld(jA),$0e=Ld(Hw),eme=Ld(C0),tme=Ld(Nw),Rh=Hf;(zw&&Rh(new zw(new ArrayBuffer(1)))!=$P||jA&&Rh(new jA)!=KP||Hw&&Rh(Hw.resolve())!=JP||C0&&Rh(new C0)!=qP||Nw&&Rh(new Nw)!=ZP)&&(Rh=function(t){var e=Hf(t),n=e==J0e?t.constructor:void 0,r=n?Ld(n):"";if(r)switch(r){case q0e:return $P;case Z0e:return KP;case $0e:return JP;case eme:return qP;case tme:return ZP}return e});const J0=Rh;var nme=Object.prototype,rme=nme.hasOwnProperty;function ime(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&rme.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var sme=au.Uint8Array;const mx=sme;function f7(t){var e=new t.constructor(t.byteLength);return new mx(e).set(new mx(t)),e}function ome(t,e){var n=e?f7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ame=/\w*$/;function lme(t){var e=new t.constructor(t.source,ame.exec(t));return e.lastIndex=t.lastIndex,e}var eL=Ia?Ia.prototype:void 0,tL=eL?eL.valueOf:void 0;function ume(t){return tL?Object(tL.call(t)):{}}function cme(t,e){var n=e?f7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var fme="[object Boolean]",hme="[object Date]",dme="[object Map]",pme="[object Number]",mme="[object RegExp]",gme="[object Set]",Ame="[object String]",vme="[object Symbol]",yme="[object ArrayBuffer]",xme="[object DataView]",Eme="[object Float32Array]",Sme="[object Float64Array]",Cme="[object Int8Array]",wme="[object Int16Array]",Tme="[object Int32Array]",Mme="[object Uint8Array]",_me="[object Uint8ClampedArray]",Ime="[object Uint16Array]",bme="[object Uint32Array]";function Bme(t,e,n){var r=t.constructor;switch(e){case yme:return f7(t);case fme:case hme:return new r(+t);case xme:return ome(t,n);case Eme:case Sme:case Cme:case wme:case Tme:case Mme:case _me:case Ime:case bme:return cme(t,n);case dme:return new r;case pme:case Ame:return new r(t);case mme:return lme(t);case gme:return new r;case vme:return ume(t)}}function Rme(t){return typeof t.constructor=="function"&&!Y3(t)?wde(UQ(t)):{}}var Dme="[object Map]";function Pme(t){return al(t)&&J0(t)==Dme}var nL=Mf&&Mf.isMap,Lme=nL?K3(nL):Pme;const Fme=Lme;var Ome="[object Set]";function Ume(t){return al(t)&&J0(t)==Ome}var rL=Mf&&Mf.isSet,kme=rL?K3(rL):Ume;const Nme=kme;var Gme=1,zme=2,Hme=4,VQ="[object Arguments]",Qme="[object Array]",Vme="[object Boolean]",Wme="[object Date]",jme="[object Error]",WQ="[object Function]",Xme="[object GeneratorFunction]",Yme="[object Map]",Kme="[object Number]",jQ="[object Object]",Jme="[object RegExp]",qme="[object Set]",Zme="[object String]",$me="[object Symbol]",ege="[object WeakMap]",tge="[object ArrayBuffer]",nge="[object DataView]",rge="[object Float32Array]",ige="[object Float64Array]",sge="[object Int8Array]",oge="[object Int16Array]",age="[object Int32Array]",lge="[object Uint8Array]",uge="[object Uint8ClampedArray]",cge="[object Uint16Array]",fge="[object Uint32Array]",jn={};jn[VQ]=jn[Qme]=jn[tge]=jn[nge]=jn[Vme]=jn[Wme]=jn[rge]=jn[ige]=jn[sge]=jn[oge]=jn[age]=jn[Yme]=jn[Kme]=jn[jQ]=jn[Jme]=jn[qme]=jn[Zme]=jn[$me]=jn[lge]=jn[uge]=jn[cge]=jn[fge]=!0;jn[jme]=jn[WQ]=jn[ege]=!1;function m5(t,e,n,r,i,s){var o,a=e&Gme,l=e&zme,u=e&Hme;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!ba(t))return t;var c=En(t);if(c){if(o=ime(t),!a)return Mde(t,o)}else{var f=J0(t),h=f==WQ||f==Xme;if(VA(t))return N0e(t,a);if(f==jQ||f==VQ||h&&!i){if(o=l||h?{}:Rme(t),!a)return l?j0e(t,U0e(o,t)):Q0e(t,O0e(o,t))}else{if(!jn[f])return i?t:{};o=Bme(t,f,a)}}s||(s=new ql);var d=s.get(t);if(d)return d;s.set(t,o),Nme(t)?t.forEach(function(y){o.add(m5(y,e,n,y,t,s))}):Fme(t)&&t.forEach(function(y,A){o.set(A,m5(y,e,n,A,t,s))});var g=u?l?QQ:Gw:l?X6:Do,v=c?void 0:g(t);return IQ(v||t,function(y,A){v&&(A=y,y=t[A]),V6(o,A,m5(y,e,n,A,t,s))}),o}var hge=4;function os(t){return m5(t,hge)}function q3(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var dge="__lodash_hash_undefined__";function pge(t){return this.__data__.set(t,dge),this}function mge(t){return this.__data__.has(t)}function q0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new mc;++e<n;)this.add(t[e])}q0.prototype.add=q0.prototype.push=pge;q0.prototype.has=mge;function XQ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function h7(t,e){return t.has(e)}var gge=1,Age=2;function YQ(t,e,n,r,i,s){var o=n&gge,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,d=n&Age?new q0:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var g=t[f],v=e[f];if(r)var y=o?r(v,g,f,e,t,s):r(g,v,f,t,e,s);if(y!==void 0){if(y)continue;h=!1;break}if(d){if(!XQ(e,function(A,x){if(!h7(d,x)&&(g===A||i(g,A,n,r,s)))return d.push(x)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function vge(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function d7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var yge=1,xge=2,Ege="[object Boolean]",Sge="[object Date]",Cge="[object Error]",wge="[object Map]",Tge="[object Number]",Mge="[object RegExp]",_ge="[object Set]",Ige="[object String]",bge="[object Symbol]",Bge="[object ArrayBuffer]",Rge="[object DataView]",iL=Ia?Ia.prototype:void 0,K8=iL?iL.valueOf:void 0;function Dge(t,e,n,r,i,s,o){switch(n){case Rge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Bge:return!(t.byteLength!=e.byteLength||!s(new mx(t),new mx(e)));case Ege:case Sge:case Tge:return j3(+t,+e);case Cge:return t.name==e.name&&t.message==e.message;case Mge:case Ige:return t==e+"";case wge:var a=vge;case _ge:var l=r&yge;if(a||(a=d7),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=xge,o.set(t,e);var c=YQ(a(t),a(e),r,i,s,o);return o.delete(t),c;case bge:if(K8)return K8.call(t)==K8.call(e)}return!1}var Pge=1,Lge=Object.prototype,Fge=Lge.hasOwnProperty;function Oge(t,e,n,r,i,s){var o=n&Pge,a=Gw(t),l=a.length,u=Gw(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=a[f];if(!(o?h in e:Fge.call(e,h)))return!1}var d=s.get(t),g=s.get(e);if(d&&g)return d==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var y=o;++f<l;){h=a[f];var A=t[h],x=e[h];if(r)var E=o?r(x,A,h,e,t,s):r(A,x,h,t,e,s);if(!(E===void 0?A===x||i(A,x,n,r,s):E)){v=!1;break}y||(y=h=="constructor")}if(v&&!y){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(v=!1)}return s.delete(t),s.delete(e),v}var Uge=1,sL="[object Arguments]",oL="[object Array]",yy="[object Object]",kge=Object.prototype,aL=kge.hasOwnProperty;function Nge(t,e,n,r,i,s){var o=En(t),a=En(e),l=o?oL:J0(t),u=a?oL:J0(e);l=l==sL?yy:l,u=u==sL?yy:u;var c=l==yy,f=u==yy,h=l==u;if(h&&VA(t)){if(!VA(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new ql),o||i7(t)?YQ(t,e,n,r,i,s):Dge(t,e,l,n,r,i,s);if(!(n&Uge)){var d=c&&aL.call(t,"__wrapped__"),g=f&&aL.call(e,"__wrapped__");if(d||g){var v=d?t.value():t,y=g?e.value():e;return s||(s=new ql),i(v,y,n,r,s)}}return h?(s||(s=new ql),Oge(t,e,n,r,i,s)):!1}function p7(t,e,n,r,i){return t===e?!0:t==null||e==null||!al(t)&&!al(e)?t!==t&&e!==e:Nge(t,e,n,r,p7,i)}var Gge=1,zge=2;function Hge(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new ql;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?p7(c,u,Gge|zge,r,f):h))return!1}}return!0}function KQ(t){return t===t&&!ba(t)}function Qge(t){for(var e=Do(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,KQ(i)]}return e}function JQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Vge(t){var e=Qge(t);return e.length==1&&e[0][2]?JQ(e[0][0],e[0][1]):function(n){return n===t||Hge(n,t,e)}}function Wge(t,e){return t!=null&&e in Object(t)}function qQ(t,e,n){e=J6(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=J3(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&r7(i)&&Q6(o,i)&&(En(t)||j6(t)))}function jge(t,e){return t!=null&&qQ(t,e,Wge)}var Xge=1,Yge=2;function Kge(t,e){return s7(t)&&KQ(e)?JQ(J3(t),e):function(n){var r=M0e(n,t);return r===void 0&&r===e?jge(n,t):p7(e,r,Xge|Yge)}}function Jge(t){return function(e){return e==null?void 0:e[t]}}function qge(t){return function(e){return a7(e,t)}}function Zge(t){return s7(t)?Jge(J3(t)):qge(t)}function uu(t){return typeof t=="function"?t:t==null?K0:typeof t=="object"?En(t)?Kge(t[0],t[1]):Vge(t):Zge(t)}function $ge(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function e1e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var t1e=e1e();const n1e=t1e;function r1e(t,e){return t&&n1e(t,e,Do)}function i1e(t,e){return function(n,r){if(n==null)return n;if(!lu(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var s1e=i1e(r1e);const Od=s1e;function o1e(t,e,n,r){return Od(t,function(i,s,o){e(r,i,n(i),o)}),r}function a1e(t,e){return function(n,r){var i=En(n)?$ge:o1e,s=e?e():{};return i(n,t,uu(r),s)}}var ZQ=Object.prototype,l1e=ZQ.hasOwnProperty,u1e=n7(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&W6(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=X6(s),a=-1,l=o.length;++a<l;){var u=o[a],c=t[u];(c===void 0||j3(c,ZQ[u])&&!l1e.call(t,u))&&(t[u]=s[u])}return t});const m7=u1e;function lL(t){return al(t)&&lu(t)}function $Q(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var c1e=200;function f1e(t,e,n,r){var i=-1,s=BQ,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=V3(e,K3(n))),r?(s=$Q,o=!1):e.length>=c1e&&(s=h7,o=!1,e=new q0(e));e:for(;++i<a;){var c=t[i],f=n==null?c:n(c);if(c=r||c!==0?c:0,o&&f===f){for(var h=u;h--;)if(e[h]===f)continue e;l.push(c)}else s(e,f,r)||l.push(c)}return l}var h1e=n7(function(t,e){return lL(t)?f1e(t,q6(e,1,lL,!0)):[]});const Z6=h1e;function Z0(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Oi(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:W3(e),kQ(t,e<0?0:e,r)):[]}function XA(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:W3(e),e=r-e,kQ(t,0,e<0?0:e)):[]}function d1e(t){return typeof t=="function"?t:K0}function Pt(t,e){var n=En(t)?IQ:Od;return n(t,d1e(e))}function p1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function m1e(t,e){var n=!0;return Od(t,function(r,i,s){return n=!!e(r,i,s),n}),n}function tl(t,e,n){var r=En(t)?p1e:m1e;return n&&W6(t,e,n)&&(e=void 0),r(t,uu(e))}function eV(t,e){var n=[];return Od(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function Fa(t,e){var n=En(t)?u7:eV;return n(t,uu(e))}function g1e(t){return function(e,n,r){var i=Object(e);if(!lu(e)){var s=uu(n);e=Do(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var A1e=Math.max;function v1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:W3(n);return i<0&&(i=A1e(r+i,0)),bQ(t,uu(e),i)}var y1e=g1e(v1e);const $0=y1e;function ll(t){return t&&t.length?t[0]:void 0}function x1e(t,e){var n=-1,r=lu(t)?Array(t.length):[];return Od(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function xt(t,e){var n=En(t)?V3:x1e;return n(t,uu(e))}function Ea(t,e){return q6(xt(t,e),1)}var E1e=Object.prototype,S1e=E1e.hasOwnProperty,C1e=a1e(function(t,e,n){S1e.call(t,n)?t[n].push(e):t7(t,n,[e])});const w1e=C1e;var T1e=Object.prototype,M1e=T1e.hasOwnProperty;function _1e(t,e){return t!=null&&M1e.call(t,e)}function Rt(t,e){return t!=null&&qQ(t,e,_1e)}var I1e="[object String]";function Zs(t){return typeof t=="string"||!En(t)&&al(t)&&Hf(t)==I1e}function b1e(t,e){return V3(e,function(n){return t[n]})}function ui(t){return t==null?[]:b1e(t,Do(t))}var B1e=Math.max;function Bs(t,e,n,r){t=lu(t)?t:ui(t),n=n&&!r?W3(n):0;var i=t.length;return n<0&&(n=B1e(i+n,0)),Zs(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&e7(t,e,n)>-1}var R1e=Math.max;function uL(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:W3(n);return i<0&&(i=R1e(r+i,0)),e7(t,e,i)}var D1e="[object Map]",P1e="[object Set]",L1e=Object.prototype,F1e=L1e.hasOwnProperty;function Jn(t){if(t==null)return!0;if(lu(t)&&(En(t)||typeof t=="string"||typeof t.splice=="function"||VA(t)||i7(t)||j6(t)))return!t.length;var e=J0(t);if(e==D1e||e==P1e)return!t.size;if(Y3(t))return!OQ(t).length;for(var n in t)if(F1e.call(t,n))return!1;return!0}var O1e="[object RegExp]";function U1e(t){return al(t)&&Hf(t)==O1e}var cL=Mf&&Mf.isRegExp,k1e=cL?K3(cL):U1e;const nc=k1e;function rc(t){return t===void 0}var N1e="Expected a function";function G1e(t){if(typeof t!="function")throw new TypeError(N1e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function z1e(t,e,n,r){if(!ba(t))return t;e=J6(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=J3(e[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=ba(c)?c:Q6(e[i+1])?[]:{})}V6(a,l,u),a=a[l]}return t}function H1e(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=a7(t,o);n(a,o)&&z1e(s,J6(o,t),a)}return s}function pl(t,e){if(t==null)return{};var n=V3(QQ(t),function(r){return[r]});return e=uu(e),H1e(t,n,function(r,i){return e(r,i[0])})}function Q1e(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function Lo(t,e,n){var r=En(t)?b0e:Q1e,i=arguments.length<3;return r(t,uu(e),n,i,Od)}function $6(t,e){var n=En(t)?u7:eV;return n(t,G1e(uu(e)))}function V1e(t,e){var n;return Od(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function tV(t,e,n){var r=En(t)?XQ:V1e;return n&&W6(t,e,n)&&(e=void 0),r(t,uu(e))}var W1e=1/0,j1e=C0&&1/d7(new C0([,-0]))[1]==W1e?function(t){return new C0(t)}:ai;const X1e=j1e;var Y1e=200;function K1e(t,e,n){var r=-1,i=BQ,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=$Q;else if(s>=Y1e){var u=e?null:X1e(t);if(u)return d7(u);o=!1,i=h7,l=new q0}else l=e?[]:a;e:for(;++r<s;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}function g7(t){return t&&t.length?K1e(t):[]}function Qw(t){console&&console.error&&console.error(`Error: ${t}`)}function nV(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function rV(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function iV(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function J1e(t){return q1e(t)?t.LABEL:t.name}function q1e(t){return Zs(t.LABEL)&&t.LABEL!==""}class cu{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Pt(this.definition,n=>{n.accept(e)})}}class Fo extends cu{constructor(e){super([]),this.idx=1,Po(this,pl(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}let Mm=class extends cu{constructor(e){super(e.definition),this.orgText="",Po(this,pl(e,n=>n!==void 0))}};class $s extends cu{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Po(this,pl(e,n=>n!==void 0))}}class Ys extends cu{constructor(e){super(e.definition),this.idx=1,Po(this,pl(e,n=>n!==void 0))}}class fu extends cu{constructor(e){super(e.definition),this.idx=1,Po(this,pl(e,n=>n!==void 0))}}class hu extends cu{constructor(e){super(e.definition),this.idx=1,Po(this,pl(e,n=>n!==void 0))}}class ci extends cu{constructor(e){super(e.definition),this.idx=1,Po(this,pl(e,n=>n!==void 0))}}class ml extends cu{constructor(e){super(e.definition),this.idx=1,Po(this,pl(e,n=>n!==void 0))}}class gl extends cu{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Po(this,pl(e,n=>n!==void 0))}}class Cr{constructor(e){this.idx=1,Po(this,pl(e,n=>n!==void 0))}accept(e){e.visit(this)}}function Z1e(t){return xt(t,g5)}function g5(t){function e(n){return xt(n,g5)}if(t instanceof Fo){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return Zs(t.label)&&(n.label=t.label),n}else{if(t instanceof $s)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Ys)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof fu)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof hu)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:g5(new Cr({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ml)return{type:"RepetitionWithSeparator",idx:t.idx,separator:g5(new Cr({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ci)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof gl)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Cr){const n={type:"Terminal",name:t.terminalType.name,label:J1e(t.terminalType),idx:t.idx};Zs(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=nc(r)?r.source:r),n}else{if(t instanceof Mm)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class _m{visit(e){const n=e;switch(n.constructor){case Fo:return this.visitNonTerminal(n);case $s:return this.visitAlternative(n);case Ys:return this.visitOption(n);case fu:return this.visitRepetitionMandatory(n);case hu:return this.visitRepetitionMandatoryWithSeparator(n);case ml:return this.visitRepetitionWithSeparator(n);case ci:return this.visitRepetition(n);case gl:return this.visitAlternation(n);case Cr:return this.visitTerminal(n);case Mm:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function $1e(t){return t instanceof $s||t instanceof Ys||t instanceof ci||t instanceof fu||t instanceof hu||t instanceof ml||t instanceof Cr||t instanceof Mm}function gx(t,e=[]){return t instanceof Ys||t instanceof ci||t instanceof ml?!0:t instanceof gl?tV(t.definition,r=>gx(r,e)):t instanceof Fo&&Bs(e,t)?!1:t instanceof cu?(t instanceof Fo&&e.push(t),tl(t.definition,r=>gx(r,e))):!1}function eAe(t){return t instanceof gl}function Pl(t){if(t instanceof Fo)return"SUBRULE";if(t instanceof Ys)return"OPTION";if(t instanceof gl)return"OR";if(t instanceof fu)return"AT_LEAST_ONE";if(t instanceof hu)return"AT_LEAST_ONE_SEP";if(t instanceof ml)return"MANY_SEP";if(t instanceof ci)return"MANY";if(t instanceof Cr)return"CONSUME";throw Error("non exhaustive match")}class e4{walk(e,n=[]){Pt(e.definition,(r,i)=>{const s=Oi(e.definition,i+1);if(r instanceof Fo)this.walkProdRef(r,s,n);else if(r instanceof Cr)this.walkTerminal(r,s,n);else if(r instanceof $s)this.walkFlat(r,s,n);else if(r instanceof Ys)this.walkOption(r,s,n);else if(r instanceof fu)this.walkAtLeastOne(r,s,n);else if(r instanceof hu)this.walkAtLeastOneSep(r,s,n);else if(r instanceof ml)this.walkManySep(r,s,n);else if(r instanceof ci)this.walkMany(r,s,n);else if(r instanceof gl)this.walkOr(r,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new Ys({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=fL(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new Ys({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=fL(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);Pt(e.definition,s=>{const o=new $s({definition:[s]});this.walk(o,i)})}}function fL(t,e,n){return[new Ys({definition:[new Cr({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function Z3(t){if(t instanceof Fo)return Z3(t.referencedRule);if(t instanceof Cr)return rAe(t);if($1e(t))return tAe(t);if(eAe(t))return nAe(t);throw Error("non exhaustive match")}function tAe(t){let e=[];const n=t.definition;let r=0,i=n.length>r,s,o=!0;for(;i&&o;)s=n[r],o=gx(s),e=e.concat(Z3(s)),r=r+1,i=n.length>r;return g7(e)}function nAe(t){const e=xt(t.definition,n=>Z3(n));return g7(el(e))}function rAe(t){return[t.terminalType]}const sV="_~IN~_";class iAe extends e4{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=oAe(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(r),o=new $s({definition:s}),a=Z3(o);this.follows[i]=a}}function sAe(t){const e={};return Pt(t,n=>{const r=new iAe(n).startWalking();Po(e,r)}),e}function oAe(t,e){return t.name+e+sV}function Ut(t){return t.charCodeAt(0)}function J8(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function Ng(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function bp(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function aAe(){throw Error("Internal Error - Should never get here!")}function hL(t){return t.type==="Character"}const Ax=[];for(let t=Ut("0");t<=Ut("9");t++)Ax.push(t);const vx=[Ut("_")].concat(Ax);for(let t=Ut("a");t<=Ut("z");t++)vx.push(t);for(let t=Ut("A");t<=Ut("Z");t++)vx.push(t);const dL=[Ut(" "),Ut("\f"),Ut(`
`),Ut("\r"),Ut("	"),Ut("\v"),Ut("	"),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut(" "),Ut("\u2028"),Ut("\u2029"),Ut(" "),Ut(" "),Ut("　"),Ut("\uFEFF")],lAe=/[0-9a-fA-F]/,xy=/[0-9]/,uAe=/[1-9]/;class cAe{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Ng(r,"global");break;case"i":Ng(r,"ignoreCase");break;case"m":Ng(r,"multiLine");break;case"u":Ng(r,"unicode");break;case"y":Ng(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}bp(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return aAe()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;bp(n);break}if(!(e===!0&&n===void 0)&&bp(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),bp(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Ut(`
`),Ut("\r"),Ut("\u2028"),Ut("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=Ax;break;case"D":e=Ax,n=!0;break;case"s":e=dL;break;case"S":e=dL,n=!0;break;case"w":e=vx;break;case"W":e=vx,n=!0;break}if(bp(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Ut("\f");break;case"n":e=Ut(`
`);break;case"r":e=Ut("\r");break;case"t":e=Ut("	");break;case"v":e=Ut("\v");break}if(bp(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Ut("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:Ut(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:Ut(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,hL(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,hL(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else J8(r.value,e),e.push(Ut("-")),J8(i.value,e)}else J8(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Ut("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(uAe.test(e)===!1)throw Error("Expecting a positive integer");for(;xy.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(xy.test(e)===!1)throw Error("Expecting an integer");for(;xy.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Ut(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return xy.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let i=0;i<e;i++){const s=this.popChar();if(lAe.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class A7{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let A5={};const fAe=new cAe;function t4(t){const e=t.toString();if(A5.hasOwnProperty(e))return A5[e];{const n=fAe.pattern(e);return A5[e]=n,n}}function hAe(){A5={}}const oV="Complement Sets are not supported for first char optimization",yx=`Unable to use "first char" lexer optimizations:
`;function dAe(t,e=!1){try{const n=t4(t);return Vw(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===oV)e&&nV(`${yx}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Qw(`${yx}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Vw(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)Vw(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":Ey(o.value,e,n);break;case"Set":if(o.complement===!0)throw Error(oV);Pt(o.value,l=>{if(typeof l=="number")Ey(l,e,n);else{const u=l;if(n===!0)for(let c=u.from;c<=u.to;c++)Ey(c,e,n);else{for(let c=u.from;c<=u.to&&c<f1;c++)Ey(c,e,n);if(u.to>=f1){const c=u.from>=f1?u.from:f1,f=u.to,h=_f(c),d=_f(f);for(let g=h;g<=d;g++)e[g]=g}}}});break;case"Group":Vw(o.value,e,n);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&Ww(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return ui(e)}function Ey(t,e,n){const r=_f(t);e[r]=r,n===!0&&pAe(t,e)}function pAe(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const i=_f(r.charCodeAt(0));e[i]=i}else{const i=n.toLowerCase();if(i!==n){const s=_f(i.charCodeAt(0));e[s]=s}}}function pL(t,e){return $0(t.value,n=>{if(typeof n=="number")return Bs(e,n);{const r=n;return $0(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function Ww(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?En(t.value)?tl(t.value,Ww):Ww(t.value):!1}class mAe extends A7{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Bs(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?pL(e,this.targetCharCodes)===void 0&&(this.found=!0):pL(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function v7(t,e){if(e instanceof RegExp){const n=t4(e),r=new mAe(t);return r.visit(n),r.found}else return $0(e,n=>Bs(t,n.charCodeAt(0)))!==void 0}const xd="PATTERN",c1="defaultMode",Sy="modes";let aV=typeof new RegExp("(?:)").sticky=="boolean";function gAe(t,e){e=m7(e,{useSticky:aV,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(x,E)=>E()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{NAe()});let r;n("Reject Lexer.NA",()=>{r=$6(t,x=>x[xd]===Sa.NA)});let i=!1,s;n("Transform Patterns",()=>{i=!1,s=xt(r,x=>{const E=x[xd];if(nc(E)){const S=E.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!E.ignoreCase?S:S.length===2&&S[0]==="\\"&&!Bs(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:e.useSticky?gL(E):mL(E)}else{if(dc(E))return i=!0,{exec:E};if(typeof E=="object")return i=!0,E;if(typeof E=="string"){if(E.length===1)return E;{const S=E.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(S);return e.useSticky?gL(w):mL(w)}}else throw Error("non exhaustive match")}})});let o,a,l,u,c;n("misc mapping",()=>{o=xt(r,x=>x.tokenTypeIdx),a=xt(r,x=>{const E=x.GROUP;if(E!==Sa.SKIPPED){if(Zs(E))return E;if(rc(E))return!1;throw Error("non exhaustive match")}}),l=xt(r,x=>{const E=x.LONGER_ALT;if(E)return En(E)?xt(E,w=>uL(r,w)):[uL(r,E)]}),u=xt(r,x=>x.PUSH_MODE),c=xt(r,x=>Rt(x,"POP_MODE"))});let f;n("Line Terminator Handling",()=>{const x=cV(e.lineTerminatorCharacters);f=xt(r,E=>!1),e.positionTracking!=="onlyOffset"&&(f=xt(r,E=>Rt(E,"LINE_BREAKS")?!!E.LINE_BREAKS:uV(E,x)===!1&&v7(x,E.PATTERN)))});let h,d,g,v;n("Misc Mapping #2",()=>{h=xt(r,lV),d=xt(s,OAe),g=Lo(r,(x,E)=>{const S=E.GROUP;return Zs(S)&&S!==Sa.SKIPPED&&(x[S]=[]),x},{}),v=xt(s,(x,E)=>({pattern:s[E],longerAlt:l[E],canLineTerminator:f[E],isCustom:h[E],short:d[E],group:a[E],push:u[E],pop:c[E],tokenTypeIdx:o[E],tokenType:r[E]}))});let y=!0,A=[];return e.safeMode||n("First Char Optimization",()=>{A=Lo(r,(x,E,S)=>{if(typeof E.PATTERN=="string"){const w=E.PATTERN.charCodeAt(0),M=_f(w);q8(x,M,v[S])}else if(En(E.START_CHARS_HINT)){let w;Pt(E.START_CHARS_HINT,M=>{const _=typeof M=="string"?M.charCodeAt(0):M,b=_f(_);w!==b&&(w=b,q8(x,b,v[S]))})}else if(nc(E.PATTERN))if(E.PATTERN.unicode)y=!1,e.ensureOptimizations&&Qw(`${yx}	Unable to analyze < ${E.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const w=dAe(E.PATTERN,e.ensureOptimizations);Jn(w)&&(y=!1),Pt(w,M=>{q8(x,M,v[S])})}else e.ensureOptimizations&&Qw(`${yx}	TokenType: <${E.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return x},[])}),{emptyGroups:g,patternIdxToConfig:v,charCodeToPatternIdxToConfig:A,hasCustom:i,canBeOptimized:y}}function AAe(t,e){let n=[];const r=yAe(t);n=n.concat(r.errors);const i=xAe(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(vAe(s)),n=n.concat(IAe(s)),n=n.concat(bAe(s,e)),n=n.concat(BAe(s)),n}function vAe(t){let e=[];const n=Fa(t,r=>nc(r[xd]));return e=e.concat(SAe(n)),e=e.concat(TAe(n)),e=e.concat(MAe(n)),e=e.concat(_Ae(n)),e=e.concat(CAe(n)),e}function yAe(t){const e=Fa(t,i=>!Rt(i,xd)),n=xt(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Dr.MISSING_PATTERN,tokenTypes:[i]})),r=Z6(t,e);return{errors:n,valid:r}}function xAe(t){const e=Fa(t,i=>{const s=i[xd];return!nc(s)&&!dc(s)&&!Rt(s,"exec")&&!Zs(s)}),n=xt(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Dr.INVALID_PATTERN,tokenTypes:[i]})),r=Z6(t,e);return{errors:n,valid:r}}const EAe=/[^\\][$]/;function SAe(t){class e extends A7{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=Fa(t,i=>{const s=i.PATTERN;try{const o=t4(s),a=new e;return a.visit(o),a.found}catch{return EAe.test(s.source)}});return xt(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Dr.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function CAe(t){const e=Fa(t,r=>r.PATTERN.test(""));return xt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Dr.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const wAe=/[^\\[][\^]|^\^/;function TAe(t){class e extends A7{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=Fa(t,i=>{const s=i.PATTERN;try{const o=t4(s),a=new e;return a.visit(o),a.found}catch{return wAe.test(s.source)}});return xt(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Dr.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function MAe(t){const e=Fa(t,r=>{const i=r[xd];return i instanceof RegExp&&(i.multiline||i.global)});return xt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Dr.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function _Ae(t){const e=[];let n=xt(t,s=>Lo(t,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!Bs(e,a)&&a.PATTERN!==Sa.NA&&(e.push(a),o.push(a)),o),[]));n=q3(n);const r=Fa(n,s=>s.length>1);return xt(r,s=>{const o=xt(s,l=>l.name);return{message:`The same RegExp pattern ->${ll(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:Dr.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function IAe(t){const e=Fa(t,r=>{if(!Rt(r,"GROUP"))return!1;const i=r.GROUP;return i!==Sa.SKIPPED&&i!==Sa.NA&&!Zs(i)});return xt(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Dr.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function bAe(t,e){const n=Fa(t,i=>i.PUSH_MODE!==void 0&&!Bs(e,i.PUSH_MODE));return xt(n,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Dr.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function BAe(t){const e=[],n=Lo(t,(r,i,s)=>{const o=i.PATTERN;return o===Sa.NA||(Zs(o)?r.push({str:o,idx:s,tokenType:i}):nc(o)&&DAe(o)&&r.push({str:o.source,idx:s,tokenType:i})),r},[]);return Pt(t,(r,i)=>{Pt(n,({str:s,idx:o,tokenType:a})=>{if(i<o&&RAe(s,r.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:Dr.UNREACHABLE_PATTERN,tokenTypes:[r,a]})}})}),e}function RAe(t,e){if(nc(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(dc(e))return e(t,0,[],{});if(Rt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function DAe(t){return $0([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function mL(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function gL(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function PAe(t,e,n){const r=[];return Rt(t,c1)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+c1+`> property in its definition
`,type:Dr.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Rt(t,Sy)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Sy+`> property in its definition
`,type:Dr.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Rt(t,Sy)&&Rt(t,c1)&&!Rt(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${c1}: <${t.defaultMode}>which does not exist
`,type:Dr.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Rt(t,Sy)&&Pt(t.modes,(i,s)=>{Pt(i,(o,a)=>{if(rc(o))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:Dr.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Rt(o,"LONGER_ALT")){const l=En(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];Pt(l,u=>{!rc(u)&&!Bs(i,u)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${o.name}> outside of mode <${s}>
`,type:Dr.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function LAe(t,e,n){const r=[];let i=!1;const s=q3(el(ui(t.modes))),o=$6(s,l=>l[xd]===Sa.NA),a=cV(n);return e&&Pt(o,l=>{const u=uV(l,a);if(u!==!1){const f={message:kAe(l,u),type:u.issue,tokenType:l};r.push(f)}else Rt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):v7(a,l.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Dr.NO_LINE_BREAKS_FLAGS}),r}function FAe(t){const e={},n=Do(t);return Pt(n,r=>{const i=t[r];if(En(i))e[r]=[];else throw Error("non exhaustive match")}),e}function lV(t){const e=t.PATTERN;if(nc(e))return!1;if(dc(e))return!0;if(Rt(e,"exec"))return!0;if(Zs(e))return!1;throw Error("non exhaustive match")}function OAe(t){return Zs(t)&&t.length===1?t.charCodeAt(0):!1}const UAe={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function uV(t,e){if(Rt(t,"LINE_BREAKS"))return!1;if(nc(t.PATTERN)){try{v7(e,t.PATTERN)}catch(n){return{issue:Dr.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(Zs(t.PATTERN))return!1;if(lV(t))return{issue:Dr.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function kAe(t,e){if(e.issue===Dr.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===Dr.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function cV(t){return xt(t,n=>Zs(n)?n.charCodeAt(0):n)}function q8(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const f1=256;let v5=[];function _f(t){return t<f1?t:v5[t]}function NAe(){if(Jn(v5)){v5=new Array(65536);for(let t=0;t<65536;t++)v5[t]=t>255?255+~~(t/255):t}}function $3(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function xx(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let AL=1;const fV={};function e2(t){const e=GAe(t);zAe(e),QAe(e),HAe(e),Pt(e,n=>{n.isParent=n.categoryMatches.length>0})}function GAe(t){let e=os(t),n=t,r=!0;for(;r;){n=q3(el(xt(n,s=>s.CATEGORIES)));const i=Z6(n,e);e=e.concat(i),Jn(i)?r=!1:n=i}return e}function zAe(t){Pt(t,e=>{dV(e)||(fV[AL]=e,e.tokenTypeIdx=AL++),vL(e)&&!En(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),vL(e)||(e.CATEGORIES=[]),VAe(e)||(e.categoryMatches=[]),WAe(e)||(e.categoryMatchesMap={})})}function HAe(t){Pt(t,e=>{e.categoryMatches=[],Pt(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(fV[r].tokenTypeIdx)})})}function QAe(t){Pt(t,e=>{hV([],e)})}function hV(t,e){Pt(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),Pt(e.CATEGORIES,n=>{const r=t.concat(e);Bs(r,n)||hV(r,n)})}function dV(t){return Rt(t,"tokenTypeIdx")}function vL(t){return Rt(t,"CATEGORIES")}function VAe(t){return Rt(t,"categoryMatches")}function WAe(t){return Rt(t,"categoryMatchesMap")}function jAe(t){return Rt(t,"tokenTypeIdx")}const XAe={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var Dr;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Dr||(Dr={}));const h1={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:XAe,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(h1);class Sa{constructor(e,n=h1){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${i}>`);const{time:a,value:l}=rV(s),u=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${o}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Po({},h1,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===h1.lineTerminatorsPattern)this.config.lineTerminatorsPattern=UAe;else if(this.config.lineTerminatorCharacters===h1.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),En(e)?i={modes:{defaultMode:os(e)},defaultMode:c1}:(s=!1,i=os(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(PAe(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(LAe(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},Pt(i.modes,(a,l)=>{i.modes[l]=$6(a,u=>rc(u))});const o=Do(i.modes);if(Pt(i.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(AAe(a,o))}),Jn(this.lexerDefinitionErrors)){e2(a);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=gAe(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Po({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Jn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=xt(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}Pt(this.lexerDefinitionWarning,a=>{nV(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(aV?(this.chopInput=K0,this.match=this.matchWithTest):(this.updateLastIndex=ai,this.match=this.matchWithExec),s&&(this.handleModes=ai),this.trackStartLines===!1&&(this.computeNewColumn=K0),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ai),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=Lo(this.canModeBeOptimized,(l,u,c)=>(u===!1&&l.push(c),l),[]);if(n.ensureOptimizations&&!Jn(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{hAe()}),this.TRACE_INIT("toFastProperties",()=>{iV(this)})})}tokenize(e,n=this.defaultMode){if(!Jn(this.lexerDefinitionErrors)){const i=xt(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,o,a,l,u,c,f,h,d,g,v,y,A;const x=e,E=x.length;let S=0,w=0;const M=this.hasCustom?0:Math.floor(e.length/10),_=new Array(M),b=[];let I=this.trackStartLines?1:void 0,B=this.trackStartLines?1:void 0;const L=FAe(this.emptyGroups),F=this.trackStartLines,O=this.config.lineTerminatorsPattern;let G=0,V=[],Y=[];const J=[],z=[];Object.freeze(z);let W;function j(){return V}function Q(oe){const se=_f(oe),he=Y[se];return he===void 0?z:he}const H=oe=>{if(J.length===1&&oe.tokenType.PUSH_MODE===void 0){const se=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(oe);b.push({offset:oe.startOffset,line:oe.startLine,column:oe.startColumn,length:oe.image.length,message:se})}else{J.pop();const se=Z0(J);V=this.patternIdxToConfig[se],Y=this.charCodeToPatternIdxToConfig[se],G=V.length;const he=this.canModeBeOptimized[se]&&this.config.safeMode===!1;Y&&he?W=Q:W=j}};function ee(oe){J.push(oe),Y=this.charCodeToPatternIdxToConfig[oe],V=this.patternIdxToConfig[oe],G=V.length,G=V.length;const se=this.canModeBeOptimized[oe]&&this.config.safeMode===!1;Y&&se?W=Q:W=j}ee.call(this,n);let Z;const ne=this.config.recoveryEnabled;for(;S<E;){l=null;const oe=x.charCodeAt(S),se=W(oe),he=se.length;for(r=0;r<he;r++){Z=se[r];const we=Z.pattern;u=null;const ke=Z.short;if(ke!==!1?oe===ke&&(l=we):Z.isCustom===!0?(A=we.exec(x,S,_,L),A!==null?(l=A[0],A.payload!==void 0&&(u=A.payload)):l=null):(this.updateLastIndex(we,S),l=this.match(we,e,S)),l!==null){if(a=Z.longerAlt,a!==void 0){const Se=a.length;for(s=0;s<Se;s++){const X=V[a[s]],ve=X.pattern;if(c=null,X.isCustom===!0?(A=ve.exec(x,S,_,L),A!==null?(o=A[0],A.payload!==void 0&&(c=A.payload)):o=null):(this.updateLastIndex(ve,S),o=this.match(ve,e,S)),o&&o.length>l.length){l=o,u=c,Z=X;break}}}break}}if(l!==null){if(f=l.length,h=Z.group,h!==void 0&&(d=Z.tokenTypeIdx,g=this.createTokenInstance(l,S,d,Z.tokenType,I,B,f),this.handlePayload(g,u),h===!1?w=this.addToken(_,w,g):L[h].push(g)),e=this.chopInput(e,f),S=S+f,B=this.computeNewColumn(B,f),F===!0&&Z.canLineTerminator===!0){let we=0,ke,Se;O.lastIndex=0;do ke=O.test(l),ke===!0&&(Se=O.lastIndex-1,we++);while(ke===!0);we!==0&&(I=I+we,B=f-Se,this.updateTokenEndLineColumnLocation(g,h,Se,we,I,B,f))}this.handleModes(Z,H,ee,g)}else{const we=S,ke=I,Se=B;let X=ne===!1;for(;X===!1&&S<E;)for(e=this.chopInput(e,1),S++,i=0;i<G;i++){const ve=V[i],de=ve.pattern,xe=ve.short;if(xe!==!1?x.charCodeAt(S)===xe&&(X=!0):ve.isCustom===!0?X=de.exec(x,S,_,L)!==null:(this.updateLastIndex(de,S),X=de.exec(e)!==null),X===!0)break}if(v=S-we,B=this.computeNewColumn(B,v),y=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,we,v,ke,Se),b.push({offset:we,line:ke,column:Se,length:v,message:y}),ne===!1)break}}return this.hasCustom||(_.length=w),{tokens:_,groups:L,errors:b}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,o,a){let l,u;n!==void 0&&(l=r===a-1,u=l?-1:0,i===1&&l===!0||(e.endLine=s+u,e.endColumn=o-1+-u))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,o){return{image:e,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}Sa.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Sa.NA=/NOT_APPLICABLE/;function N1(t){return pV(t)?t.LABEL:t.name}function pV(t){return Zs(t.LABEL)&&t.LABEL!==""}const YAe="parent",yL="categories",xL="label",EL="group",SL="push_mode",CL="pop_mode",wL="longer_alt",TL="line_breaks",ML="start_chars_hint";function mV(t){return KAe(t)}function KAe(t){const e=t.pattern,n={};if(n.name=t.name,rc(e)||(n.PATTERN=e),Rt(t,YAe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Rt(t,yL)&&(n.CATEGORIES=t[yL]),e2([n]),Rt(t,xL)&&(n.LABEL=t[xL]),Rt(t,EL)&&(n.GROUP=t[EL]),Rt(t,CL)&&(n.POP_MODE=t[CL]),Rt(t,SL)&&(n.PUSH_MODE=t[SL]),Rt(t,wL)&&(n.LONGER_ALT=t[wL]),Rt(t,TL)&&(n.LINE_BREAKS=t[TL]),Rt(t,ML)&&(n.START_CHARS_HINT=t[ML]),n}const Ed=mV({name:"EOF",pattern:Sa.NA});e2([Ed]);function y7(t,e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function JAe(t,e){return $3(t,e)}const gV={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${pV(t)?`--> ${N1(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a=`
but found: '`+ll(e).image+"'";if(r)return s+r+a;{const l=Lo(t,(h,d)=>h.concat(d),[]),u=xt(l,h=>`[${xt(h,d=>N1(d)).join(", ")}]`),f=`one of these possible Token sequences:
${xt(u,(h,d)=>`  ${d+1}. ${h}`).join(`
`)}`;return s+f+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",o=`
but found: '`+ll(e).image+"'";if(n)return i+n+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${xt(t,u=>`[${xt(u,c=>N1(c)).join(",")}]`).join(" ,")}>`;return i+l+o}}};Object.freeze(gV);const qAe={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Xh={buildDuplicateFoundError(t,e){function n(c){return c instanceof Cr?c.terminalType.name:c instanceof Fo?c.nonTerminalName:""}const r=t.name,i=ll(e),s=i.idx,o=Pl(i),a=n(i),l=s>0;let u=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=xt(t.prefixPath,i=>N1(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=xt(t.prefixPath,i=>N1(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=Pl(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=xt(t.leftRecursionPath,s=>s.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof Mm?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function ZAe(t,e){const n=new $Ae(t,e);return n.resolveRefs(),n.errors}class $Ae extends _m{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){Pt(ui(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:_s.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class e3e extends e4{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=os(this.path.ruleStack).reverse(),this.occurrenceStack=os(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Jn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class t3e extends e3e{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new $s({definition:i});this.possibleTokTypes=Z3(s),this.found=!0}}}class n4 extends e4{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class n3e extends n4{walkMany(e,n,r){if(e.idx===this.occurrence){const i=ll(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class _L extends n4{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=ll(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class r3e extends n4{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=ll(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class IL extends n4{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=ll(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof Cr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function jw(t,e,n=[]){n=os(n);let r=[],i=0;function s(a){return a.concat(Oi(t,i+1))}function o(a){const l=jw(s(a),e,n);return r.concat(l)}for(;n.length<e&&i<t.length;){const a=t[i];if(a instanceof $s)return o(a.definition);if(a instanceof Fo)return o(a.definition);if(a instanceof Ys)r=o(a.definition);else if(a instanceof fu){const l=a.definition.concat([new ci({definition:a.definition})]);return o(l)}else if(a instanceof hu){const l=[new $s({definition:a.definition}),new ci({definition:[new Cr({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof ml){const l=a.definition.concat([new ci({definition:[new Cr({terminalType:a.separator})].concat(a.definition)})]);r=o(l)}else if(a instanceof ci){const l=a.definition.concat([new ci({definition:a.definition})]);r=o(l)}else{if(a instanceof gl)return Pt(a.definition,l=>{Jn(l.definition)===!1&&(r=o(l.definition))}),r;if(a instanceof Cr)n.push(a.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:Oi(t,i)}),r}function AV(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,u=l-r-1,c=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Jn(f);){const h=f.pop();if(h===o){a&&Z0(f).idx<=u&&f.pop();continue}const d=h.def,g=h.idx,v=h.ruleStack,y=h.occurrenceStack;if(Jn(d))continue;const A=d[0];if(A===i){const x={idx:g,def:Oi(d),ruleStack:XA(v),occurrenceStack:XA(y)};f.push(x)}else if(A instanceof Cr)if(g<l-1){const x=g+1,E=e[x];if(n(E,A.terminalType)){const S={idx:x,def:Oi(d),ruleStack:v,occurrenceStack:y};f.push(S)}}else if(g===l-1)c.push({nextTokenType:A.terminalType,nextTokenOccurrence:A.idx,ruleStack:v,occurrenceStack:y}),a=!0;else throw Error("non exhaustive match");else if(A instanceof Fo){const x=os(v);x.push(A.nonTerminalName);const E=os(y);E.push(A.idx);const S={idx:g,def:A.definition.concat(s,Oi(d)),ruleStack:x,occurrenceStack:E};f.push(S)}else if(A instanceof Ys){const x={idx:g,def:Oi(d),ruleStack:v,occurrenceStack:y};f.push(x),f.push(o);const E={idx:g,def:A.definition.concat(Oi(d)),ruleStack:v,occurrenceStack:y};f.push(E)}else if(A instanceof fu){const x=new ci({definition:A.definition,idx:A.idx}),E=A.definition.concat([x],Oi(d)),S={idx:g,def:E,ruleStack:v,occurrenceStack:y};f.push(S)}else if(A instanceof hu){const x=new Cr({terminalType:A.separator}),E=new ci({definition:[x].concat(A.definition),idx:A.idx}),S=A.definition.concat([E],Oi(d)),w={idx:g,def:S,ruleStack:v,occurrenceStack:y};f.push(w)}else if(A instanceof ml){const x={idx:g,def:Oi(d),ruleStack:v,occurrenceStack:y};f.push(x),f.push(o);const E=new Cr({terminalType:A.separator}),S=new ci({definition:[E].concat(A.definition),idx:A.idx}),w=A.definition.concat([S],Oi(d)),M={idx:g,def:w,ruleStack:v,occurrenceStack:y};f.push(M)}else if(A instanceof ci){const x={idx:g,def:Oi(d),ruleStack:v,occurrenceStack:y};f.push(x),f.push(o);const E=new ci({definition:A.definition,idx:A.idx}),S=A.definition.concat([E],Oi(d)),w={idx:g,def:S,ruleStack:v,occurrenceStack:y};f.push(w)}else if(A instanceof gl)for(let x=A.definition.length-1;x>=0;x--){const E=A.definition[x],S={idx:g,def:E.definition.concat(Oi(d)),ruleStack:v,occurrenceStack:y};f.push(S),f.push(o)}else if(A instanceof $s)f.push({idx:g,def:A.definition.concat(Oi(d)),ruleStack:v,occurrenceStack:y});else if(A instanceof Mm)f.push(i3e(A,g,v,y));else throw Error("non exhaustive match")}return c}function i3e(t,e,n,r){const i=os(n);i.push(t.name);const s=os(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var Br;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(Br||(Br={}));function vV(t){if(t instanceof Ys||t==="Option")return Br.OPTION;if(t instanceof ci||t==="Repetition")return Br.REPETITION;if(t instanceof fu||t==="RepetitionMandatory")return Br.REPETITION_MANDATORY;if(t instanceof hu||t==="RepetitionMandatoryWithSeparator")return Br.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof ml||t==="RepetitionWithSeparator")return Br.REPETITION_WITH_SEPARATOR;if(t instanceof gl||t==="Alternation")return Br.ALTERNATION;throw Error("non exhaustive match")}function s3e(t,e,n,r,i,s){const o=x7(t,e,n),a=EV(o)?xx:$3;return s(o,r,a,i)}function o3e(t,e,n,r,i,s){const o=E7(t,e,i,n),a=EV(o)?xx:$3;return s(o[0],a,r)}function a3e(t,e,n,r){const i=t.length,s=tl(t,o=>tl(o,a=>a.length===1));if(e)return function(o){const a=xt(o,l=>l.GATE);for(let l=0;l<i;l++){const u=t[l],c=u.length,f=a[l];if(!(f!==void 0&&f.call(this)===!1))e:for(let h=0;h<c;h++){const d=u[h],g=d.length;for(let v=0;v<g;v++){const y=this.LA(v+1);if(n(y,d[v])===!1)continue e}return l}}};if(s&&!r){const o=xt(t,l=>el(l)),a=Lo(o,(l,u,c)=>(Pt(u,f=>{Rt(l,f.tokenTypeIdx)||(l[f.tokenTypeIdx]=c),Pt(f.categoryMatches,h=>{Rt(l,h)||(l[h]=c)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<i;o++){const a=t[o],l=a.length;e:for(let u=0;u<l;u++){const c=a[u],f=c.length;for(let h=0;h<f;h++){const d=this.LA(h+1);if(n(d,c[h])===!1)continue e}return o}}}}function l3e(t,e,n){const r=tl(t,s=>s.length===1),i=t.length;if(r&&!n){const s=el(t);if(s.length===1&&Jn(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=Lo(s,(a,l,u)=>(a[l.tokenTypeIdx]=!0,Pt(l.categoryMatches,c=>{a[c]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const o=t[s],a=o.length;for(let l=0;l<a;l++){const u=this.LA(l+1);if(e(u,o[l])===!1)continue e}return!0}return!1}}class u3e extends e4{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(i),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,Br.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,Br.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,Br.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,Br.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,Br.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class yV extends _m{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Br.OPTION)}visitRepetition(e){this.checkIsTarget(e,Br.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Br.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Br.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Br.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Br.ALTERNATION)}}function bL(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function Z8(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const o=e[s];i.push(o+"_"+r.tokenTypeIdx);for(let a=0;a<r.categoryMatches.length;a++){const l="_"+r.categoryMatches[a];i.push(o+l)}}e=i}return e}function c3e(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++){const o=e[s];if(i[o]===!0)return!1}}return!0}function xV(t,e){const n=xt(t,o=>jw([o],1)),r=bL(n.length),i=xt(n,o=>{const a={};return Pt(o,l=>{const u=Z8(l.partialPath);Pt(u,c=>{a[c]=!0})}),a});let s=n;for(let o=1;o<=e;o++){const a=s;s=bL(a.length);for(let l=0;l<a.length;l++){const u=a[l];for(let c=0;c<u.length;c++){const f=u[c].partialPath,h=u[c].suffixDef,d=Z8(f);if(c3e(i,d,l)||Jn(h)||f.length===e){const v=r[l];if(Xw(v,f)===!1){v.push(f);for(let y=0;y<d.length;y++){const A=d[y];i[l][A]=!0}}}else{const v=jw(h,o+1,f);s[l]=s[l].concat(v),Pt(v,y=>{const A=Z8(y.partialPath);Pt(A,x=>{i[l][x]=!0})})}}}}return r}function x7(t,e,n,r){const i=new yV(t,Br.ALTERNATION,r);return e.accept(i),xV(i.result,n)}function E7(t,e,n,r){const i=new yV(t,n);e.accept(i);const s=i.result,a=new u3e(e,t,n).startWalking(),l=new $s({definition:s}),u=new $s({definition:a});return xV([l,u],r)}function Xw(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],o=r[i];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function f3e(t,e){return t.length<e.length&&tl(t,(n,r)=>{const i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function EV(t){return tl(t,e=>tl(e,n=>tl(n,r=>Jn(r.categoryMatches))))}function h3e(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return xt(e,n=>Object.assign({type:_s.CUSTOM_LOOKAHEAD_VALIDATION},n))}function d3e(t,e,n,r){const i=Ea(t,l=>p3e(l,n)),s=M3e(t,e,n),o=Ea(t,l=>S3e(l,n)),a=Ea(t,l=>A3e(l,t,r,n));return i.concat(s,o,a)}function p3e(t,e){const n=new g3e;t.accept(n);const r=n.allProductions,i=w1e(r,m3e),s=pl(i,a=>a.length>1);return xt(ui(s),a=>{const l=ll(a),u=e.buildDuplicateFoundError(t,a),c=Pl(l),f={message:u,type:_s.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:c,occurrence:l.idx},h=SV(l);return h&&(f.parameter=h),f})}function m3e(t){return`${Pl(t)}_#_${t.idx}_#_${SV(t)}`}function SV(t){return t instanceof Cr?t.terminalType.name:t instanceof Fo?t.nonTerminalName:""}class g3e extends _m{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function A3e(t,e,n,r){const i=[];if(Lo(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:o,type:_s.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function v3e(t,e,n){const r=[];let i;return Bs(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:_s.INVALID_RULE_OVERRIDE,ruleName:t})),r}function CV(t,e,n,r=[]){const i=[],s=y5(e.definition);if(Jn(s))return[];{const o=t.name;Bs(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:_s.LEFT_RECURSION,ruleName:o});const l=Z6(s,r.concat([t])),u=Ea(l,c=>{const f=os(r);return f.push(c),CV(t,c,n,f)});return i.concat(u)}}function y5(t){let e=[];if(Jn(t))return e;const n=ll(t);if(n instanceof Fo)e.push(n.referencedRule);else if(n instanceof $s||n instanceof Ys||n instanceof fu||n instanceof hu||n instanceof ml||n instanceof ci)e=e.concat(y5(n.definition));else if(n instanceof gl)e=el(xt(n.definition,s=>y5(s.definition)));else if(!(n instanceof Cr))throw Error("non exhaustive match");const r=gx(n),i=t.length>1;if(r&&i){const s=Oi(t);return e.concat(y5(s))}else return e}class S7 extends _m{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function y3e(t,e){const n=new S7;t.accept(n);const r=n.alternations;return Ea(r,s=>{const o=XA(s.definition);return Ea(o,(a,l)=>{const u=AV([a],[],$3,1);return Jn(u)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:_s.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function x3e(t,e,n){const r=new S7;t.accept(r);let i=r.alternations;return i=$6(i,o=>o.ignoreAmbiguities===!0),Ea(i,o=>{const a=o.idx,l=o.maxLookahead||e,u=x7(a,t,l,o),c=w3e(u,o,t,n),f=T3e(u,o,t,n);return c.concat(f)})}class E3e extends _m{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function S3e(t,e){const n=new S7;t.accept(n);const r=n.alternations;return Ea(r,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:_s.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function C3e(t,e,n){const r=[];return Pt(t,i=>{const s=new E3e;i.accept(s);const o=s.allProductions;Pt(o,a=>{const l=vV(a),u=a.maxLookahead||e,c=a.idx,h=E7(c,i,l,u)[0];if(Jn(el(h))){const d=n.buildEmptyRepetitionError({topLevelRule:i,repetition:a});r.push({message:d,type:_s.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function w3e(t,e,n,r){const i=[],s=Lo(t,(a,l,u)=>(e.definition[u].ignoreAmbiguities===!0||Pt(l,c=>{const f=[u];Pt(t,(h,d)=>{u!==d&&Xw(h,c)&&e.definition[d].ignoreAmbiguities!==!0&&f.push(d)}),f.length>1&&!Xw(i,c)&&(i.push(c),a.push({alts:f,path:c}))}),a),[]);return xt(s,a=>{const l=xt(a.alts,c=>c+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:_s.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function T3e(t,e,n,r){const i=Lo(t,(o,a,l)=>{const u=xt(a,c=>({idx:l,path:c}));return o.concat(u)},[]);return q3(Ea(i,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,u=o.path,c=Fa(i,h=>e.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<l&&f3e(h.path,u));return xt(c,h=>{const d=[h.idx+1,l+1],g=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:d,prefixPath:h.path}),type:_s.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:g,alternatives:d}})}))}function M3e(t,e,n){const r=[],i=xt(e,s=>s.name);return Pt(t,s=>{const o=s.name;if(Bs(i,o)){const a=n.buildNamespaceConflictError(s);r.push({message:a,type:_s.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),r}function _3e(t){const e=m7(t,{errMsgProvider:qAe}),n={};return Pt(t.rules,r=>{n[r.name]=r}),ZAe(n,e.errMsgProvider)}function I3e(t){return t=m7(t,{errMsgProvider:Xh}),d3e(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const wV="MismatchedTokenException",TV="NoViableAltException",MV="EarlyExitException",_V="NotAllInputParsedException",IV=[wV,TV,MV,_V];Object.freeze(IV);function Ex(t){return Bs(IV,t.name)}class r4 extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class bV extends r4{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=wV}}class b3e extends r4{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=TV}}class B3e extends r4{constructor(e,n){super(e,n),this.name=_V}}class R3e extends r4{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=MV}}const $8={},BV="InRuleRecoveryException";class D3e extends Error{constructor(e){super(e),this.name=BV}}class P3e{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Rt(e,"recoveryEnabled")?e.recoveryEnabled:If.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=L3e)}getTokenToInsert(e){const n=y7(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,i){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const u=this.LA(1);let c=this.LA(1);const f=()=>{const h=this.LA(0),d=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:h,ruleName:this.getCurrRuleFullName()}),g=new bV(d,u,this.LA(0));g.resyncedTokens=XA(a),this.SAVE_ERROR(g)};for(;!l;)if(this.tokenMatcher(c,i)){f();return}else if(r.call(this)){f(),e.apply(this,n);return}else this.tokenMatcher(c,s)?l=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new D3e("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||Jn(n))return!1;const r=this.LA(1);return $0(n,s=>this.tokenMatcher(r,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return Bs(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const i=$0(e,s=>JAe(n,s));if(i!==void 0)return i;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return $8;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return xt(e,(r,i)=>i===0?$8:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=xt(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return el(e)}getFollowSetFromFollowKey(e){if(e===$8)return[Ed];const n=e.ruleName+e.idxInCallingRule+sV+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,Ed)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return XA(n)}attemptInRepetitionRecovery(e,n,r,i,s,o,a){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),i=os(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return xt(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function L3e(t,e,n,r,i,s,o){const a=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[a];if(l===void 0){const h=this.getCurrRuleFullName(),d=this.getGAstProductions()[h];l=new s(d,i).startWalking(),this.firstAfterRepMap[a]=l}let u=l.token,c=l.occurrence;const f=l.isEndOfRule;this.RULE_STACK.length===1&&f&&u===void 0&&(u=Ed,c=1),!(u===void 0||c===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,c,o)&&this.tryInRepetitionRecovery(t,e,n,u)}const F3e=4,Qf=8,RV=1<<Qf,DV=2<<Qf,Yw=3<<Qf,Kw=4<<Qf,Jw=5<<Qf,x5=6<<Qf;function eS(t,e,n){return n|e|t}class O3e{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:If.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(Jn(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return Ea(e,n=>CV(n,n,Xh))}validateEmptyOrAlternatives(e){return Ea(e,n=>y3e(n,Xh))}validateAmbiguousAlternationAlternatives(e,n){return Ea(e,r=>x3e(r,n,Xh))}validateSomeNonEmptyLookaheadPath(e,n){return C3e(e,n,Xh)}buildLookaheadForAlternation(e){return s3e(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,a3e)}buildLookaheadForOptional(e){return o3e(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,vV(e.prodType),l3e)}}class U3e{initLooksAhead(e){this.dynamicTokensEnabled=Rt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:If.dynamicTokensEnabled,this.maxLookahead=Rt(e,"maxLookahead")?e.maxLookahead:If.maxLookahead,this.lookaheadStrategy=Rt(e,"lookaheadStrategy")?e.lookaheadStrategy:new O3e({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Pt(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=N3e(n);Pt(r,u=>{const c=u.idx===0?"":u.idx;this.TRACE_INIT(`${Pl(u)}${c}`,()=>{const f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:n,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),h=eS(this.fullRuleNameToShort[n.name],RV,u.idx);this.setLaFuncCache(h,f)})}),Pt(i,u=>{this.computeLookaheadFunc(n,u.idx,Yw,"Repetition",u.maxLookahead,Pl(u))}),Pt(s,u=>{this.computeLookaheadFunc(n,u.idx,DV,"Option",u.maxLookahead,Pl(u))}),Pt(o,u=>{this.computeLookaheadFunc(n,u.idx,Kw,"RepetitionMandatory",u.maxLookahead,Pl(u))}),Pt(a,u=>{this.computeLookaheadFunc(n,u.idx,x5,"RepetitionMandatoryWithSeparator",u.maxLookahead,Pl(u))}),Pt(l,u=>{this.computeLookaheadFunc(n,u.idx,Jw,"RepetitionWithSeparator",u.maxLookahead,Pl(u))})})})}computeLookaheadFunc(e,n,r,i,s,o){this.TRACE_INIT(`${o}${n===0?"":n}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=eS(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return eS(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class k3e extends _m{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const Cy=new k3e;function N3e(t){Cy.reset(),t.accept(Cy);const e=Cy.dslMethods;return Cy.reset(),e}function BL(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function RL(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function G3e(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function z3e(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const H3e="name";function PV(t,e){Object.defineProperty(t,H3e,{enumerable:!1,configurable:!0,writable:!1,value:e})}function Q3e(t,e){const n=Do(t),r=n.length;for(let i=0;i<r;i++){const s=n[i],o=t[s],a=o.length;for(let l=0;l<a;l++){const u=o[l];u.tokenTypeIdx===void 0&&this[u.name](u.children,e)}}}function V3e(t,e){const n=function(){};PV(n,t+"BaseSemantics");const r={visit:function(i,s){if(En(i)&&(i=i[0]),!rc(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=j3e(this,e);if(!Jn(i)){const s=xt(i,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function W3e(t,e,n){const r=function(){};PV(r,t+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return Pt(e,s=>{i[s]=Q3e}),r.prototype=i,r.prototype.constructor=r,r}var qw;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(qw||(qw={}));function j3e(t,e){return X3e(t,e)}function X3e(t,e){const n=Fa(e,i=>dc(t[i])===!1),r=xt(n,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:qw.MISSING_METHOD,methodName:i}));return q3(r)}class Y3e{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Rt(e,"nodeLocationTracking")?e.nodeLocationTracking:If.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ai,this.cstFinallyStateUpdate=ai,this.cstPostTerminal=ai,this.cstPostNonTerminal=ai,this.cstPostRule=ai;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=RL,this.setNodeLocationFromNode=RL,this.cstPostRule=ai,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ai,this.setNodeLocationFromNode=ai,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=BL,this.setNodeLocationFromNode=BL,this.cstPostRule=ai,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ai,this.setNodeLocationFromNode=ai,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ai,this.setNodeLocationFromNode=ai,this.cstPostRule=ai,this.setInitialNodeLocation=ai;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];G3e(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];z3e(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(rc(this.baseCstVisitorConstructor)){const e=V3e(this.className,Do(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(rc(this.baseCstVisitorWithDefaultsConstructor)){const e=W3e(this.className,Do(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class K3e{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Cx}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?Cx:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class J3e{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=wx){if(Bs(this.definedRulesNames,e)){const o={message:Xh.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:_s.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const i=this.defineRule(e,n,r);return this[e]=i,i}OVERRIDE_RULE(e,n,r=wx){const i=v3e(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,n,r);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if(Ex(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Z1e(ui(this.gastProductionsCache))}}class q3e{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=xx,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Rt(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(En(e)){if(Jn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(En(e))this.tokensMap=Lo(e,(s,o)=>(s[o.name]=o,s),{});else if(Rt(e,"modes")&&tl(el(ui(e.modes)),jAe)){const s=el(ui(e.modes)),o=g7(s);this.tokensMap=Lo(o,(a,l)=>(a[l.name]=l,a),{})}else if(ba(e))this.tokensMap=os(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Ed;const r=Rt(e,"modes")?el(ui(e.modes)):ui(e),i=tl(r,s=>Jn(s.categoryMatches));this.tokenMatcher=i?xx:$3,e2(ui(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=Rt(r,"resyncEnabled")?r.resyncEnabled:wx.resyncEnabled,s=Rt(r,"recoveryValueFunc")?r.recoveryValueFunc:wx.recoveryValueFunc,o=this.ruleShortNameIdx<<F3e+Qf;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...c){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,c);const f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}catch(f){return this.invokeRuleCatch(f,i,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...c){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,c)}catch(f){return this.invokeRuleCatch(f,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const i=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(Ex(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(i)return this.moveToTerminatedState(),r(e);throw o}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(DV,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(Kw,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=n;if(i.call(this)===!0){let o=this.doSingleRepetition(s);for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,Br.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],i,Kw,e,r3e)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(x5,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,IL],a,x5,e,IL)}else throw this.raiseEarlyExitException(e,Br.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(Yw,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const l=i;i=()=>a.call(this)&&l.call(this)}}else s=n;let o=!0;for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],i,Yw,e,n3e,o)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(Jw,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,_L],a,Jw,e,_L)}}repetitionSepSecondInternal(e,n,r,i,s){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,s],r,x5,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(RV,n),i=En(e)?e:e.DEF,o=this.getLaFuncFromCache(r).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new B3e(n,e))}}subruleInternal(e,n,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,n,r){throw Ex(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,n,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new bV(i,n,s))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===BV?r:s}}else throw r}saveRecogState(){const e=this.errors,n=os(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Ed)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class Z3e{initErrorHandler(e){this._errors=[],this.errorMessageProvider=Rt(e,"errorMessageProvider")?e.errorMessageProvider:If.errorMessageProvider}SAVE_ERROR(e){if(Ex(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:os(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return os(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],a=E7(e,s,n,this.maxLookahead)[0],l=[];for(let c=1;c<=this.maxLookahead;c++)l.push(this.LA(c));const u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new R3e(u,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=x7(e,i,this.maxLookahead),o=[];for(let u=1;u<=this.maxLookahead;u++)o.push(this.LA(u));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new b3e(l,this.LA(1),a))}}class $3e{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(rc(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return AV([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=ll(e.ruleStack),i=this.getGAstProductions()[n];return new t3e(i,e).startWalking()}}const i4={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(i4);const DL=!0,PL=Math.pow(2,Qf)-1,LV=mV({name:"RECORDING_PHASE_TOKEN",pattern:Sa.NA});e2([LV]);const FV=y7(LV,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(FV);const e2e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class t2e{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return Cx}topLevelRuleRecord(e,n){try{const r=new Mm({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return Gg.call(this,Ys,e,n)}atLeastOneInternalRecord(e,n){Gg.call(this,fu,n,e)}atLeastOneSepFirstInternalRecord(e,n){Gg.call(this,hu,n,e,DL)}manyInternalRecord(e,n){Gg.call(this,ci,n,e)}manySepFirstInternalRecord(e,n){Gg.call(this,ml,n,e,DL)}orInternalRecord(e,n){return n2e.call(this,e,n)}subruleInternalRecord(e,n,r){if(Sx(n),!e||Rt(e,"ruleName")===!1){const a=new Error(`<SUBRULE${LL(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=Z0(this.recordingProdStack),s=e.ruleName,o=new Fo({idx:n,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?e2e:i4}consumeInternalRecord(e,n,r){if(Sx(n),!dV(e)){const o=new Error(`<CONSUME${LL(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=Z0(this.recordingProdStack),s=new Cr({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),FV}}function Gg(t,e,n,r=!1){Sx(n);const i=Z0(this.recordingProdStack),s=dc(e)?e:e.DEF,o=new t({definition:[],idx:n});return r&&(o.separator=e.SEP),Rt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),i.definition.push(o),this.recordingProdStack.pop(),i4}function n2e(t,e){Sx(e);const n=Z0(this.recordingProdStack),r=En(t)===!1,i=r===!1?t:t.DEF,s=new gl({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});Rt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const o=tV(i,a=>dc(a.GATE));return s.hasPredicates=o,n.definition.push(s),Pt(i,a=>{const l=new $s({definition:[]});s.definition.push(l),Rt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:Rt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),i4}function LL(t){return t===0?"":`${t}`}function Sx(t){if(t<0||t>PL){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${PL+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class r2e{initPerformanceTracer(e){if(Rt(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=If.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=rV(n),o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return n()}}function i2e(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=n.prototype[i]})})}const Cx=y7(Ed,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Cx);const If=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:gV,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),wx=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var _s;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(_s||(_s={}));class s4{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{iV(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Pt(this.definedRulesNames,i=>{const o=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=_3e({rules:ui(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(Jn(r)&&this.skipValidations===!1){const i=I3e({rules:ui(this.gastProductionsCache),tokenTypes:ui(this.tokensMap),errMsgProvider:Xh,grammarName:n}),s=h3e({lookaheadStrategy:this.lookaheadStrategy,rules:ui(this.gastProductionsCache),tokenTypes:ui(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,s)}}),Jn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=sAe(ui(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:ui(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ui(this.gastProductionsCache))})),!s4.DEFER_DEFINITION_ERRORS_HANDLING&&!Jn(this.definitionErrors))throw e=xt(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),Rt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Rt(n,"skipValidations")?n.skipValidations:If.skipValidations}}s4.DEFER_DEFINITION_ERRORS_HANDLING=!1;i2e(s4,[P3e,U3e,Y3e,K3e,q3e,J3e,Z3e,$3e,t2e,r2e]);class s2e{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const r=this.workersResolve[e];if(r&&r(n),this.queue.length){const{resolve:i,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(r=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=r,this.workers[i].postMessage(e,n)):this.queue.push({resolve:r,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class o2e extends md{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Kn}}const tS=new WeakMap;let nS=0,rS;const d1=class extends yi{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new s2e,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new Wr(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new Wr(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=d1.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(d1.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(d1.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(d1.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),u=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:u},[u]),l})}),nS>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),nS++}return this.transcoderPending}load(t,e,n,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new Wr(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials),i.load(t,s=>{if(tS.has(s))return tS.get(s).promise.then(e).catch(r);this._createTexture(s).then(o=>e?e(o):null).catch(r)},n,r)}_createTextureFrom(t,e){const{mipmaps:n,width:r,height:i,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:u}=t;if(o==="error")return Promise.reject(a);const c=e.layerCount>1?new o2e(n,r,i,e.layerCount,s,an):new md(n,r,i,s,an);return c.minFilter=n.length===1?ct:Ma,c.magFilter=ct,c.generateMipmaps=!1,c.needsUpdate=!0,"colorSpace"in c?c.colorSpace=l===Cw?"srgb":"srgb-linear":c.encoding=l===Cw?3001:3e3,c.premultiplyAlpha=!!(u&Uae),c}async _createTexture(t,e={}){const n=zae(new Uint8Array(t));if(n.vkFormat!==bH)return l2e(n);const r=e,i=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:r},[t])).then(s=>this._createTextureFrom(s.data,n));return tS.set(t,{promise:i}),i}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),nS--,this}};let o4=d1;gt(o4,"BasisFormat",{ETC1S:0,UASTC_4x4:1});gt(o4,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});gt(o4,"EngineFormat",{RGBAFormat:yn,RGBA_ASTC_4x4_Format:BA,RGBA_BPTC_Format:v0,RGBA_ETC2_EAC_Format:bA,RGBA_PVRTC_4BPPV1_Format:_A,RGBA_S3TC_DXT5_Format:A0,RGB_ETC1_Format:g6,RGB_ETC2_Format:IA,RGB_PVRTC_4BPPV1_Format:MA,RGB_S3TC_DXT1_Format:g0});gt(o4,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(g){const v=g.data;switch(v.type){case"init":t=v.config,o(v.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:y,height:A,hasAlpha:x,mipmaps:E,format:S,dfdTransferFn:w,dfdFlags:M}=a(v.buffer),_=[];for(let b=0;b<E.length;++b)_.push(E[b].data.buffer);self.postMessage({type:"transcode",id:v.id,width:y,height:A,hasAlpha:x,mipmaps:E,format:S,dfdTransferFn:w,dfdFlags:M},_)}catch(y){console.error(y),self.postMessage({type:"error",id:v.id,error:y.message})}});break}});function o(g){e=new Promise(v=>{n={wasmBinary:g,onRuntimeInitialized:v},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(g){const v=new n.KTX2File(new Uint8Array(g));function y(){v.close(),v.delete()}if(!v.isValid())throw y(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const A=v.isUASTC()?s.UASTC_4x4:s.ETC1S,x=v.getWidth(),E=v.getHeight(),S=v.getLayers()||1,w=v.getLevels(),M=v.getHasAlpha(),_=v.getDFDTransferFunc(),b=v.getDFDFlags(),{transcoderFormat:I,engineFormat:B}=f(A,x,E,M);if(!x||!E||!w)throw y(),new Error("THREE.KTX2Loader:	Invalid texture");if(!v.startTranscoding())throw y(),new Error("THREE.KTX2Loader: .startTranscoding failed");const L=[];for(let F=0;F<w;F++){const O=[];let G,V;for(let Y=0;Y<S;Y++){const J=v.getImageLevelInfo(F,Y,0);G=J.origWidth<4?J.origWidth:J.width,V=J.origHeight<4?J.origHeight:J.height;const z=new Uint8Array(v.getImageTranscodedSizeInBytes(F,Y,0,I));if(!v.transcodeImage(z,F,Y,0,I,0,-1,-1))throw y(),new Error("THREE.KTX2Loader: .transcodeImage failed.");O.push(z)}L.push({data:d(O),width:G,height:V})}return y(),{width:x,height:E,hasAlpha:M,mipmaps:L,format:B,dfdTransferFn:_,dfdFlags:b}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=l.sort(function(g,v){return g.priorityETC1S-v.priorityETC1S}),c=l.sort(function(g,v){return g.priorityUASTC-v.priorityUASTC});function f(g,v,y,A){let x,E;const S=g===s.ETC1S?u:c;for(let w=0;w<S.length;w++){const M=S[w];if(t[M.if]&&M.basisFormat.includes(g)&&!(A&&M.transcoderFormat.length<2)&&!(M.needsPowerOfTwo&&!(h(v)&&h(y))))return x=M.transcoderFormat[A?1:0],E=M.engineFormat[A?1:0],{transcoderFormat:x,engineFormat:E}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),x=i.RGBA32,E=r.RGBAFormat,{transcoderFormat:x,engineFormat:E}}function h(g){return g<=2?!0:(g&g-1)===0&&g!==0}function d(g){let v=0;for(let x=0;x<g.length;x++){const E=g[x];v+=E.byteLength}const y=new Uint8Array(v);let A=0;for(let x=0;x<g.length;x++){const E=g[x];y.set(E,A),A+=E.byteLength}return y}});const FL={[kH]:yn,[FH]:yn,[DH]:yn,[VM]:yn,[UH]:zh,[LH]:zh,[RH]:zh,[QM]:zh,[OH]:Qu,[PH]:Qu,[HM]:Qu,[BH]:Qu},iS={[kH]:Un,[FH]:Ln,[DH]:an,[VM]:an,[UH]:Un,[LH]:Ln,[RH]:an,[QM]:an,[OH]:Un,[PH]:Ln,[HM]:an,[BH]:an},a2e={[VM]:3001,[QM]:3001,[HM]:3001};async function l2e(t){const{vkFormat:e,pixelWidth:n,pixelHeight:r,pixelDepth:i}=t;if(FL[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===IH)o=s.levelData;else if(t.supercompressionScheme===Rae)rS||(rS=new Promise(async u=>{const c=new Hae;await c.init(),u(c)})),o=(await rS).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");iS[e]===Un?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):iS[e]===Ln?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=i===0?new Xs(a,n,r):new Dhe(a,n,r,i);return l.type=iS[e],l.format=FL[e],l.encoding=a2e[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}const sS=new WeakMap,p1=class extends yi{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerLimit=t,this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(t,e,n,r){const i=new Wr(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const s=new md;return i.load(t,o=>{if(sS.has(o))return sS.get(o).promise.then(e).catch(r);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(r)},n,r),s}parseInternalAsync(t){const{levels:e}=t,n=new Set;for(let r=0;r<e.length;r++)n.add(e[r].data.buffer);return this._createTexture(Array.from(n),{...t,lowLevel:!0})}_createTexture(t,e={}){let n,r;const i=e;let s=0;for(let a=0;a<t.length;a++)s+=t[a].byteLength;const o=this._allocateWorker(s).then(a=>(n=a,r=this.workerNextTaskID++,new Promise((l,u)=>{n._callbacks[r]={resolve:l,reject:u},n.postMessage({type:"transcode",id:r,buffers:t,taskConfig:i},t)}))).then(a=>{const{mipmaps:l,width:u,height:c,format:f}=a,h=new md(l,u,c,f,an);return h.minFilter=l.length===1?ct:Ma,h.magFilter=ct,h.generateMipmaps=!1,h.needsUpdate=!0,h});return o.catch(()=>!0).then(()=>{n&&r&&(n._taskLoad-=s,delete n._callbacks[r])}),sS.set(t[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const t=new Wr(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=new Promise((i,s)=>{t.load("basis_transcoder.js",i,void 0,s)}),n=new Wr(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=new Promise((i,s)=>{n.load("basis_transcoder.wasm",i,void 0,s)});this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=p1.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(p1.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(p1.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(p1.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(t){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),n.onmessage=function(r){const i=r.data;switch(i.type){case"transcode":n._callbacks[i.id].resolve(i);break;case"error":n._callbacks[i.id].reject(i);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,r){return n._taskLoad>r._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=t,e})}dispose(){for(let t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}};let a4=p1;gt(a4,"BasisFormat",{ETC1S:0,UASTC_4x4:1});gt(a4,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});gt(a4,"EngineFormat",{RGBAFormat:yn,RGBA_ASTC_4x4_Format:BA,RGBA_BPTC_Format:v0,RGBA_ETC2_EAC_Format:bA,RGBA_PVRTC_4BPPV1_Format:_A,RGBA_S3TC_DXT5_Format:A0,RGB_ETC1_Format:g6,RGB_ETC2_Format:IA,RGB_PVRTC_4BPPV1_Format:MA,RGB_S3TC_DXT1_Format:g0});gt(a4,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;onmessage=function(x){const E=x.data;switch(E.type){case"init":t=E.config,o(E.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:S,height:w,hasAlpha:M,mipmaps:_,format:b}=E.taskConfig.lowLevel?a(E.taskConfig):l(E.buffers[0]),I=[];for(let B=0;B<_.length;++B)I.push(_[B].data.buffer);self.postMessage({type:"transcode",id:E.id,width:S,height:w,hasAlpha:M,mipmaps:_,format:b},I)}catch(S){console.error(S),self.postMessage({type:"error",id:E.id,error:S.message})}});break}};function o(x){e=new Promise(E=>{n={wasmBinary:x,onRuntimeInitialized:E},BASIS(n)}).then(()=>{n.initializeBasis()})}function a(x){const{basisFormat:E,width:S,height:w,hasAlpha:M}=x,{transcoderFormat:_,engineFormat:b}=h(E,S,w,M),I=n.getBytesPerBlockOrPixel(_);d(n.isFormatSupported(_),"THREE.BasisTextureLoader: Unsupported format.");const B=[];if(E===s.ETC1S){const L=new n.LowLevelETC1SImageTranscoder,{endpointCount:F,endpointsData:O,selectorCount:G,selectorsData:V,tablesData:Y}=x.globalData;try{let J;J=L.decodePalettes(F,O,G,V),d(J,"THREE.BasisTextureLoader: decodePalettes() failed."),J=L.decodeTables(Y),d(J,"THREE.BasisTextureLoader: decodeTables() failed.");for(let z=0;z<x.levels.length;z++){const W=x.levels[z],j=x.globalData.imageDescs[z],Q=y(_,W.width,W.height),H=new Uint8Array(Q);J=L.transcodeImage(_,H,Q/I,W.data,g(_,W.width),v(_,W.height),W.width,W.height,W.index,j.rgbSliceByteOffset,j.rgbSliceByteLength,j.alphaSliceByteOffset,j.alphaSliceByteLength,j.imageFlags,M,!1,0,0),d(J,"THREE.BasisTextureLoader: transcodeImage() failed for level "+W.index+"."),B.push({data:H,width:W.width,height:W.height})}}finally{L.delete()}}else for(let L=0;L<x.levels.length;L++){const F=x.levels[L],O=y(_,F.width,F.height),G=new Uint8Array(O),V=n.transcodeUASTCImage(_,G,O/I,F.data,g(_,F.width),v(_,F.height),F.width,F.height,F.index,0,F.data.byteLength,0,M,!1,0,0,-1,-1);d(V,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+F.index+"."),B.push({data:G,width:F.width,height:F.height})}return{width:S,height:w,hasAlpha:M,mipmaps:B,format:b}}function l(x){const E=new n.BasisFile(new Uint8Array(x)),S=E.isUASTC()?s.UASTC_4x4:s.ETC1S,w=E.getImageWidth(0,0),M=E.getImageHeight(0,0),_=E.getNumLevels(0),b=E.getHasAlpha();function I(){E.close(),E.delete()}const{transcoderFormat:B,engineFormat:L}=h(S,w,M,b);if(!w||!M||!_)throw I(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!E.startTranscoding())throw I(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const F=[];for(let O=0;O<_;O++){const G=E.getImageWidth(0,O),V=E.getImageHeight(0,O),Y=new Uint8Array(E.getImageTranscodedSizeInBytes(0,O,B));if(!E.transcodeImage(Y,0,O,B,0,b))throw I(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");F.push({data:Y,width:G,height:V})}return I(),{width:w,height:M,hasAlpha:b,mipmaps:F,format:L}}const u=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=u.sort(function(x,E){return x.priorityETC1S-E.priorityETC1S}),f=u.sort(function(x,E){return x.priorityUASTC-E.priorityUASTC});function h(x,E,S,w){let M,_;const b=x===s.ETC1S?c:f;for(let I=0;I<b.length;I++){const B=b[I];if(t[B.if]&&B.basisFormat.includes(x)&&!(B.needsPowerOfTwo&&!(A(E)&&A(S))))return M=B.transcoderFormat[w?1:0],_=B.engineFormat[w?1:0],{transcoderFormat:M,engineFormat:_}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),M=i.RGBA32,_=r.RGBAFormat,{transcoderFormat:M,engineFormat:_}}function d(x,E){if(!x)throw new Error(E)}function g(x,E){return Math.ceil(E/n.getFormatBlockWidth(x))}function v(x,E){return Math.ceil(E/n.getFormatBlockHeight(x))}function y(x,E,S){const w=n.getBytesPerBlockOrPixel(x);if(n.formatIsUncompressed(x))return E*S*w;if(x===i.PVRTC1_4_RGB||x===i.PVRTC1_4_RGBA){const M=E+3&-4,_=S+3&-4;return(Math.max(8,M)*Math.max(8,_)*4+7)/8}return g(x,E)*v(x,S)*w}function A(x){return x<=2?!0:(x&x-1)===0&&x!==0}});const oS=new WeakMap;class u2e extends yi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Wr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(oS.has(e)){const l=oS.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),oS.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new bt;e.index&&n.setIndex(new Yt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Yt(o,a))}return n}_loadLibrary(e,n){const r=new Wr(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=c2e.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function c2e(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(c){t.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,h=new f.Decoder,d=new f.DecoderBuffer;d.Init(new Int8Array(l),l.byteLength);try{const g=n(f,h,d,u),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(d),f.destroy(h)}});break}};function n(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let h,d;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)h=new o.Mesh,d=a.DecodeBufferToMesh(l,h);else if(g===o.POINT_CLOUD)h=new o.PointCloud,d=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!d.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+d.error_msg());const v={index:null,attributes:[]};for(const y in c){const A=self[f[y]];let x,E;if(u.useUniqueIDs)E=c[y],x=a.GetAttributeByUniqueId(h,E);else{if(E=a.GetAttributeId(h,o[c[y]]),E===-1)continue;x=a.GetAttribute(h,E)}v.attributes.push(i(o,a,h,y,A,x))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,h)),o.destroy(h),v}function r(o,a,l){const c=l.num_faces()*3,f=c*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const d=new Uint32Array(o.HEAPF32.buffer,h,c).slice();return o._free(h),{array:d,itemSize:1}}function i(o,a,l,u,c,f){const h=f.num_components(),g=l.num_points()*h,v=g*c.BYTES_PER_ELEMENT,y=s(o,c),A=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,A);const x=new c(o.HEAPF32.buffer,A,g).slice();return o._free(A),{name:u,array:x,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let wy;const aS=()=>{if(wy)return wy;const t="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",e="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);h[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let d=0;for(let g=0;g<f.length;++g)h[d++]=h[g]<60?r[h[g]]:(h[g]-60)*64+h[++g];return h.buffer.slice(0,d)}function l(f,h,d,g,v,y){const A=s.exports.sbrk,x=d+3&-4,E=A(x*g),S=A(v.length),w=new Uint8Array(s.exports.memory.buffer);w.set(v,S);const M=f(E,d,g,S,v.length);if(M===0&&y&&y(E,x,g),h.set(w.subarray(E,E+d*g)),A(E-A(0)),M!==0)throw new Error(`Malformed buffer data: ${M}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return wy={ready:o,supported:!0,decodeVertexBuffer(f,h,d,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,h,d,g,s.exports[u[v]])},decodeIndexBuffer(f,h,d,g){l(s.exports.meshopt_decodeIndexBuffer,f,h,d,g)},decodeIndexSequence(f,h,d,g){l(s.exports.meshopt_decodeIndexSequence,f,h,d,g)},decodeGltfBuffer(f,h,d,g,v,y){l(s.exports[c[v]],f,h,d,g,s.exports[u[y]])}},wy},f2e=D.forwardRef(function({follow:e=!0,lockX:n=!1,lockY:r=!1,lockZ:i=!1,...s},o){const a=D.useRef();return or(({camera:l})=>{if(!e||!a.current)return;const u=a.current.rotation.clone();l.getWorldQuaternion(a.current.quaternion),n&&(a.current.rotation.x=u.x),r&&(a.current.rotation.y=u.y),i&&(a.current.rotation.z=u.z)}),D.createElement("group",ar({ref:gH([a,o])},s))});function h2e(){var t=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(d){if(d instanceof Error)throw d}),h=t[h.id].value),h}),u=r("<"+a+">.init",u),c&&(c=r("<"+a+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},s(f)}catch(h){h&&h.noLog||console.error(h),s(h)}}function n(i,s){var o,a=i.id,l=i.args;(!t[a]||typeof t[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var u=(o=t[a]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return s(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){s(f)}function c(f){try{var h=t[a].getTransferables&&t[a].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),s(f,h)}catch(d){console.error(d),s(d)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),a==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function d2e(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var OV=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return OV=function(){return t},t},p2e=0,m2e=0,lS=!1,G1=Object.create(null),z1=Object.create(null),Zw=Object.create(null);function t2(t){if((!t||typeof t.init!="function")&&!lS)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId;if(!OV())return d2e(t);i==null&&(i="#default");var s="workerModule"+ ++p2e,o=t.name||s,a=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(lS=!0,u=t2({workerId:i,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+E5(u)+`
)}`}),lS=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function l(){for(var u=[],c=arguments.length;c--;)u[c]=arguments[c];if(!a){a=OL(i,"registerModule",l.workerModuleData);var f=function(){a=null,z1[i].delete(f)};(z1[i]||(z1[i]=new Set)).add(f)}return a.then(function(h){var d=h.isCallable;if(d)return OL(i,"callModule",{id:s,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:E5(n),getTransferables:r&&E5(r)},l}function g2e(t){z1[t]&&z1[t].forEach(function(e){e()}),G1[t]&&(G1[t].terminate(),delete G1[t])}function E5(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function A2e(t){var e=G1[t];if(!e){var n=E5(h2e);e=G1[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=Zw[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete Zw[s],o(i)}}return e}function OL(t,e,n){return new Promise(function(r,i){var s=++m2e;Zw[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},A2e(t).postMessage({messageId:s,action:e,data:n})})}function UV(){var t=function(e){function n(W,j,Q,H,ee,Z,ne,oe){var se=1-ne;oe.x=se*se*W+2*se*ne*Q+ne*ne*ee,oe.y=se*se*j+2*se*ne*H+ne*ne*Z}function r(W,j,Q,H,ee,Z,ne,oe,se,he){var we=1-se;he.x=we*we*we*W+3*we*we*se*Q+3*we*se*se*ee+se*se*se*ne,he.y=we*we*we*j+3*we*we*se*H+3*we*se*se*Z+se*se*se*oe}function i(W,j){for(var Q=/([MLQCZ])([^MLQCZ]*)/g,H,ee,Z,ne,oe;H=Q.exec(W);){var se=H[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(H[1]){case"M":ne=ee=se[0],oe=Z=se[1];break;case"L":(se[0]!==ne||se[1]!==oe)&&j("L",ne,oe,ne=se[0],oe=se[1]);break;case"Q":{j("Q",ne,oe,ne=se[2],oe=se[3],se[0],se[1]);break}case"C":{j("C",ne,oe,ne=se[4],oe=se[5],se[0],se[1],se[2],se[3]);break}case"Z":(ne!==ee||oe!==Z)&&j("L",ne,oe,ee,Z);break}}}function s(W,j,Q){Q===void 0&&(Q=16);var H={x:0,y:0};i(W,function(ee,Z,ne,oe,se,he,we,ke,Se){switch(ee){case"L":j(Z,ne,oe,se);break;case"Q":{for(var X=Z,ve=ne,de=1;de<Q;de++)n(Z,ne,he,we,oe,se,de/(Q-1),H),j(X,ve,H.x,H.y),X=H.x,ve=H.y;break}case"C":{for(var xe=Z,pe=ne,je=1;je<Q;je++)r(Z,ne,he,we,ke,Se,oe,se,je/(Q-1),H),j(xe,pe,H.x,H.y),xe=H.x,pe=H.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(W,j){var Q=W.getContext?W.getContext("webgl",u):W,H=l.get(Q);if(!H){let xe=function(Ce){var Je=Z[Ce];if(!Je&&(Je=Z[Ce]=Q.getExtension(Ce),!Je))throw new Error(Ce+" not supported");return Je},pe=function(Ce,Je){var N=Q.createShader(Je);return Q.shaderSource(N,Ce),Q.compileShader(N),N},je=function(Ce,Je,N,U){if(!ne[Ce]){var re={},_e={},Te=Q.createProgram();Q.attachShader(Te,pe(Je,Q.VERTEX_SHADER)),Q.attachShader(Te,pe(N,Q.FRAGMENT_SHADER)),Q.linkProgram(Te),ne[Ce]={program:Te,transaction:function(He){Q.useProgram(Te),He({setUniform:function(ge,Ge){for(var qe=[],Ve=arguments.length-2;Ve-- >0;)qe[Ve]=arguments[Ve+2];var Oe=_e[Ge]||(_e[Ge]=Q.getUniformLocation(Te,Ge));Q["uniform"+ge].apply(Q,[Oe].concat(qe))},setAttribute:function(ge,Ge,qe,Ve,Oe){var ze=re[ge];ze||(ze=re[ge]={buf:Q.createBuffer(),loc:Q.getAttribLocation(Te,ge),data:null}),Q.bindBuffer(Q.ARRAY_BUFFER,ze.buf),Q.vertexAttribPointer(ze.loc,Ge,Q.FLOAT,!1,0,0),Q.enableVertexAttribArray(ze.loc),ee?Q.vertexAttribDivisor(ze.loc,Ve):xe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ze.loc,Ve),Oe!==ze.data&&(Q.bufferData(Q.ARRAY_BUFFER,Oe,qe),ze.data=Oe)}})}}}ne[Ce].transaction(U)},Ae=function(Ce,Je){se++;try{Q.activeTexture(Q.TEXTURE0+se);var N=oe[Ce];N||(N=oe[Ce]=Q.createTexture(),Q.bindTexture(Q.TEXTURE_2D,N),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MIN_FILTER,Q.NEAREST),Q.texParameteri(Q.TEXTURE_2D,Q.TEXTURE_MAG_FILTER,Q.NEAREST)),Q.bindTexture(Q.TEXTURE_2D,N),Je(N,se)}finally{se--}},Le=function(Ce,Je,N){var U=Q.createFramebuffer();he.push(U),Q.bindFramebuffer(Q.FRAMEBUFFER,U),Q.activeTexture(Q.TEXTURE0+Je),Q.bindTexture(Q.TEXTURE_2D,Ce),Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,Ce,0);try{N(U)}finally{Q.deleteFramebuffer(U),Q.bindFramebuffer(Q.FRAMEBUFFER,he[--he.length-1]||null)}},Ue=function(){Z={},ne={},oe={},se=-1,he.length=0};var we=xe,ke=pe,Se=je,X=Ae,ve=Le,de=Ue,ee=typeof WebGL2RenderingContext<"u"&&Q instanceof WebGL2RenderingContext,Z={},ne={},oe={},se=-1,he=[];Q.canvas.addEventListener("webglcontextlost",function(Ce){Ue(),Ce.preventDefault()},!1),l.set(Q,H={gl:Q,isWebGL2:ee,getExtension:xe,withProgram:je,withTexture:Ae,withTextureFramebuffer:Le,handleContextLoss:Ue})}j(H)}function f(W,j,Q,H,ee,Z,ne,oe){ne===void 0&&(ne=15),oe===void 0&&(oe=null),c(W,function(se){var he=se.gl,we=se.withProgram,ke=se.withTexture;ke("copy",function(Se,X){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,ee,Z,0,he.RGBA,he.UNSIGNED_BYTE,j),we("copy",o,a,function(ve){var de=ve.setUniform,xe=ve.setAttribute;xe("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),de("1i","image",X),he.bindFramebuffer(he.FRAMEBUFFER,oe||null),he.disable(he.BLEND),he.colorMask(ne&8,ne&4,ne&2,ne&1),he.viewport(Q,H,ee,Z),he.scissor(Q,H,ee,Z),he.drawArrays(he.TRIANGLES,0,3)})})})}function h(W,j,Q){var H=W.width,ee=W.height;c(W,function(Z){var ne=Z.gl,oe=new Uint8Array(H*ee*4);ne.readPixels(0,0,H,ee,ne.RGBA,ne.UNSIGNED_BYTE,oe),W.width=j,W.height=Q,f(ne,oe,0,0,H,ee)})}var d=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function g(W,j,Q,H,ee,Z){Z===void 0&&(Z=1);var ne=new Uint8Array(W*j),oe=H[2]-H[0],se=H[3]-H[1],he=[];s(Q,function(xe,pe,je,Ae){he.push({x1:xe,y1:pe,x2:je,y2:Ae,minX:Math.min(xe,je),minY:Math.min(pe,Ae),maxX:Math.max(xe,je),maxY:Math.max(pe,Ae)})}),he.sort(function(xe,pe){return xe.maxX-pe.maxX});for(var we=0;we<W;we++)for(var ke=0;ke<j;ke++){var Se=ve(H[0]+oe*(we+.5)/W,H[1]+se*(ke+.5)/j),X=Math.pow(1-Math.abs(Se)/ee,Z)/2;Se<0&&(X=1-X),X=Math.max(0,Math.min(255,Math.round(X*255))),ne[ke*W+we]=X}return ne;function ve(xe,pe){for(var je=1/0,Ae=1/0,Le=he.length;Le--;){var Ue=he[Le];if(Ue.maxX+Ae<=xe)break;if(xe+Ae>Ue.minX&&pe-Ae<Ue.maxY&&pe+Ae>Ue.minY){var Ce=A(xe,pe,Ue.x1,Ue.y1,Ue.x2,Ue.y2);Ce<je&&(je=Ce,Ae=Math.sqrt(je))}}return de(xe,pe)&&(Ae=-Ae),Ae}function de(xe,pe){for(var je=0,Ae=he.length;Ae--;){var Le=he[Ae];if(Le.maxX<=xe)break;var Ue=Le.y1>pe!=Le.y2>pe&&xe<(Le.x2-Le.x1)*(pe-Le.y1)/(Le.y2-Le.y1)+Le.x1;Ue&&(je+=Le.y1<Le.y2?1:-1)}return je!==0}}function v(W,j,Q,H,ee,Z,ne,oe,se,he){Z===void 0&&(Z=1),oe===void 0&&(oe=0),se===void 0&&(se=0),he===void 0&&(he=0),y(W,j,Q,H,ee,Z,ne,null,oe,se,he)}function y(W,j,Q,H,ee,Z,ne,oe,se,he,we){Z===void 0&&(Z=1),se===void 0&&(se=0),he===void 0&&(he=0),we===void 0&&(we=0);for(var ke=g(W,j,Q,H,ee,Z),Se=new Uint8Array(ke.length*4),X=0;X<ke.length;X++)Se[X*4+we]=ke[X];f(ne,Se,se,he,W,j,1<<3-we,oe)}function A(W,j,Q,H,ee,Z){var ne=ee-Q,oe=Z-H,se=ne*ne+oe*oe,he=se?Math.max(0,Math.min(1,((W-Q)*ne+(j-H)*oe)/se)):0,we=W-(Q+he*ne),ke=j-(H+he*oe);return we*we+ke*ke}var x=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),E="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",w="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),_=null,b=!1,I={},B=new WeakMap;function L(W){if(!b&&!V(W))throw new Error("WebGL generation not supported")}function F(W,j,Q,H,ee,Z,ne){if(Z===void 0&&(Z=1),ne===void 0&&(ne=null),!ne&&(ne=_,!ne)){var oe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!oe)throw new Error("OffscreenCanvas or DOM canvas not supported");ne=_=oe.getContext("webgl",{depth:!1})}L(ne);var se=new Uint8Array(W*j*4);c(ne,function(Se){var X=Se.gl,ve=Se.withTexture,de=Se.withTextureFramebuffer;ve("readable",function(xe,pe){X.texImage2D(X.TEXTURE_2D,0,X.RGBA,W,j,0,X.RGBA,X.UNSIGNED_BYTE,null),de(xe,pe,function(je){G(W,j,Q,H,ee,Z,X,je,0,0,0),X.readPixels(0,0,W,j,X.RGBA,X.UNSIGNED_BYTE,se)})})});for(var he=new Uint8Array(W*j),we=0,ke=0;we<se.length;we+=4)he[ke++]=se[we];return he}function O(W,j,Q,H,ee,Z,ne,oe,se,he){Z===void 0&&(Z=1),oe===void 0&&(oe=0),se===void 0&&(se=0),he===void 0&&(he=0),G(W,j,Q,H,ee,Z,ne,null,oe,se,he)}function G(W,j,Q,H,ee,Z,ne,oe,se,he,we){Z===void 0&&(Z=1),se===void 0&&(se=0),he===void 0&&(he=0),we===void 0&&(we=0),L(ne);var ke=[];s(Q,function(Se,X,ve,de){ke.push(Se,X,ve,de)}),ke=new Float32Array(ke),c(ne,function(Se){var X=Se.gl,ve=Se.isWebGL2,de=Se.getExtension,xe=Se.withProgram,pe=Se.withTexture,je=Se.withTextureFramebuffer,Ae=Se.handleContextLoss;if(pe("rawDistances",function(Le,Ue){(W!==Le._lastWidth||j!==Le._lastHeight)&&X.texImage2D(X.TEXTURE_2D,0,X.RGBA,Le._lastWidth=W,Le._lastHeight=j,0,X.RGBA,X.UNSIGNED_BYTE,null),xe("main",E,S,function(Ce){var Je=Ce.setAttribute,N=Ce.setUniform,U=!ve&&de("ANGLE_instanced_arrays"),re=!ve&&de("EXT_blend_minmax");Je("aUV",2,X.STATIC_DRAW,0,M),Je("aLineSegment",4,X.DYNAMIC_DRAW,1,ke),N.apply(void 0,["4f","uGlyphBounds"].concat(H)),N("1f","uMaxDistance",ee),N("1f","uExponent",Z),je(Le,Ue,function(_e){X.enable(X.BLEND),X.colorMask(!0,!0,!0,!0),X.viewport(0,0,W,j),X.scissor(0,0,W,j),X.blendFunc(X.ONE,X.ONE),X.blendEquationSeparate(X.FUNC_ADD,ve?X.MAX:re.MAX_EXT),X.clear(X.COLOR_BUFFER_BIT),ve?X.drawArraysInstanced(X.TRIANGLES,0,3,ke.length/4):U.drawArraysInstancedANGLE(X.TRIANGLES,0,3,ke.length/4)})}),xe("post",o,w,function(Ce){Ce.setAttribute("aUV",2,X.STATIC_DRAW,0,M),Ce.setUniform("1i","tex",Ue),X.bindFramebuffer(X.FRAMEBUFFER,oe),X.disable(X.BLEND),X.colorMask(we===0,we===1,we===2,we===3),X.viewport(se,he,W,j),X.scissor(se,he,W,j),X.drawArrays(X.TRIANGLES,0,3)})}),X.isContextLost())throw Ae(),new Error("webgl context lost")})}function V(W){var j=!W||W===_?I:W.canvas||W,Q=B.get(j);if(Q===void 0){b=!0;var H=null;try{var ee=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Z=F(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,W);Q=Z&&ee.length===Z.length&&Z.every(function(ne,oe){return ne===ee[oe]}),Q||(H="bad trial run results",console.info(ee,Z))}catch(ne){Q=!1,H=ne.message}H&&console.warn("WebGL SDF generation not supported:",H),b=!1,B.set(j,Q)}return Q}var Y=Object.freeze({__proto__:null,generate:F,generateIntoCanvas:O,generateIntoFramebuffer:G,isSupported:V});function J(W,j,Q,H,ee,Z){ee===void 0&&(ee=Math.max(H[2]-H[0],H[3]-H[1])/2),Z===void 0&&(Z=1);try{return F.apply(Y,arguments)}catch(ne){return console.info("WebGL SDF generation failed, falling back to JS",ne),g.apply(x,arguments)}}function z(W,j,Q,H,ee,Z,ne,oe,se,he){ee===void 0&&(ee=Math.max(H[2]-H[0],H[3]-H[1])/2),Z===void 0&&(Z=1),oe===void 0&&(oe=0),se===void 0&&(se=0),he===void 0&&(he=0);try{return O.apply(Y,arguments)}catch(we){return console.info("WebGL SDF generation failed, falling back to JS",we),v.apply(x,arguments)}}return e.forEachPathCommand=i,e.generate=J,e.generateIntoCanvas=z,e.javascript=x,e.pathToLineSegments=s,e.webgl=Y,e.webglUtils=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function v2e(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Ae,Le){r[Ae]=1<<Le+1,i[r[Ae]]=Ae}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Ae=function(Ue){if(n.hasOwnProperty(Ue)){var Ce=0;n[Ue].split(",").forEach(function(Je){var N=Je.split("+"),U=N[0],re=N[1];U=parseInt(U,36),re=re?parseInt(re,36):0,c.set(Ce+=U,r[Ue]);for(var _e=0;_e<re;_e++)c.set(++Ce,r[Ue])})}};for(var Le in n)Ae(Le)}}function h(Ae){return f(),c.get(Ae.codePointAt(0))||r.L}function d(Ae){return i[h(Ae)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(Ae,Le){var Ue=36,Ce=0,Je=new Map,N=Le&&new Map,U;return Ae.split(",").forEach(function re(_e){if(_e.indexOf("+")!==-1)for(var Te=+_e;Te--;)re(U);else{U=_e;var Ie=_e.split(">"),He=Ie[0],Ne=Ie[1];He=String.fromCodePoint(Ce+=parseInt(He,Ue)),Ne=String.fromCodePoint(Ce+=parseInt(Ne,Ue)),Je.set(He,Ne),Le&&N.set(Ne,He)}}),{map:Je,reverseMap:N}}var y,A,x;function E(){if(!y){var Ae=v(g.pairs,!0),Le=Ae.map,Ue=Ae.reverseMap;y=Le,A=Ue,x=v(g.canonical,!1).map}}function S(Ae){return E(),y.get(Ae)||null}function w(Ae){return E(),A.get(Ae)||null}function M(Ae){return E(),x.get(Ae)||null}var _=r.L,b=r.R,I=r.EN,B=r.ES,L=r.ET,F=r.AN,O=r.CS,G=r.B,V=r.S,Y=r.ON,J=r.BN,z=r.NSM,W=r.AL,j=r.LRO,Q=r.RLO,H=r.LRE,ee=r.RLE,Z=r.PDF,ne=r.LRI,oe=r.RLI,se=r.FSI,he=r.PDI;function we(Ae,Le){for(var Ue=125,Ce=new Uint32Array(Ae.length),Je=0;Je<Ae.length;Je++)Ce[Je]=h(Ae[Je]);var N=new Map;function U(Ci,ds){var Ur=Ce[Ci];Ce[Ci]=ds,N.set(Ur,N.get(Ur)-1),Ur&a&&N.set(a,N.get(a)-1),N.set(ds,(N.get(ds)||0)+1),ds&a&&N.set(a,(N.get(a)||0)+1)}for(var re=new Uint8Array(Ae.length),_e=new Map,Te=[],Ie=null,He=0;He<Ae.length;He++)Ie||Te.push(Ie={start:He,end:Ae.length-1,level:Le==="rtl"?1:Le==="ltr"?0:Vd(He,!1)}),Ce[He]&G&&(Ie.end=He,Ie=null);for(var Ne=ee|H|Q|j|s|he|Z|G,ge=function(Ci){return Ci+(Ci&1?1:2)},Ge=function(Ci){return Ci+(Ci&1?2:1)},qe=0;qe<Te.length;qe++){Ie=Te[qe];var Ve=[{_level:Ie.level,_override:0,_isolate:0}],Oe=void 0,ze=0,it=0,vt=0;N.clear();for(var $=Ie.start;$<=Ie.end;$++){var Qe=Ce[$];if(Oe=Ve[Ve.length-1],N.set(Qe,(N.get(Qe)||0)+1),Qe&a&&N.set(a,(N.get(a)||0)+1),Qe&Ne)if(Qe&(ee|H)){re[$]=Oe._level;var me=(Qe===ee?Ge:ge)(Oe._level);me<=Ue&&!ze&&!it?Ve.push({_level:me,_override:0,_isolate:0}):ze||it++}else if(Qe&(Q|j)){re[$]=Oe._level;var Xe=(Qe===Q?Ge:ge)(Oe._level);Xe<=Ue&&!ze&&!it?Ve.push({_level:Xe,_override:Qe&Q?b:_,_isolate:0}):ze||it++}else if(Qe&s){Qe&se&&(Qe=Vd($+1,!0)===1?oe:ne),re[$]=Oe._level,Oe._override&&U($,Oe._override);var et=(Qe===oe?Ge:ge)(Oe._level);et<=Ue&&ze===0&&it===0?(vt++,Ve.push({_level:et,_override:0,_isolate:1,_isolInitIndex:$})):ze++}else if(Qe&he){if(ze>0)ze--;else if(vt>0){for(it=0;!Ve[Ve.length-1]._isolate;)Ve.pop();var zt=Ve[Ve.length-1]._isolInitIndex;zt!=null&&(_e.set(zt,$),_e.set($,zt)),Ve.pop(),vt--}Oe=Ve[Ve.length-1],re[$]=Oe._level,Oe._override&&U($,Oe._override)}else Qe&Z?(ze===0&&(it>0?it--:!Oe._isolate&&Ve.length>1&&(Ve.pop(),Oe=Ve[Ve.length-1])),re[$]=Oe._level):Qe&G&&(re[$]=Ie.level);else re[$]=Oe._level,Oe._override&&Qe!==J&&U($,Oe._override)}for(var nn=[],on=null,gn=Ie.start;gn<=Ie.end;gn++){var _n=Ce[gn];if(!(_n&l)){var un=re[gn],Zt=_n&s,Qi=_n===he;on&&un===on._level?(on._end=gn,on._endsWithIsolInit=Zt):nn.push(on={_start:gn,_end:gn,_level:un,_startsWithPDI:Qi,_endsWithIsolInit:Zt})}}for(var xi=[],Sn=0;Sn<nn.length;Sn++){var Qn=nn[Sn];if(!Qn._startsWithPDI||Qn._startsWithPDI&&!_e.has(Qn._start)){for(var Di=[on=Qn],kn=void 0;on&&on._endsWithIsolInit&&(kn=_e.get(on._end))!=null;)for(var hr=Sn+1;hr<nn.length;hr++)if(nn[hr]._start===kn){Di.push(on=nn[hr]);break}for(var si=[],Ho=0;Ho<Di.length;Ho++)for(var ls=Di[Ho],K=ls._start;K<=ls._end;K++)si.push(K);for(var ye=re[si[0]],De=Ie.level,fe=si[0]-1;fe>=0;fe--)if(!(Ce[fe]&l)){De=re[fe];break}var Pe=si[si.length-1],ut=re[Pe],Et=Ie.level;if(!(Ce[Pe]&s)){for(var Mt=Pe+1;Mt<=Ie.end;Mt++)if(!(Ce[Mt]&l)){Et=re[Mt];break}}xi.push({_seqIndices:si,_sosType:Math.max(De,ye)%2?b:_,_eosType:Math.max(Et,ut)%2?b:_})}}for(var Dt=0;Dt<xi.length;Dt++){var Qt=xi[Dt],We=Qt._seqIndices,_t=Qt._sosType,In=Qt._eosType,Cn=re[We[0]]&1?b:_;if(N.get(z))for(var Ei=0;Ei<We.length;Ei++){var Vi=We[Ei];if(Ce[Vi]&z){for(var bn=_t,Lt=Ei-1;Lt>=0;Lt--)if(!(Ce[We[Lt]]&l)){bn=Ce[We[Lt]];break}U(Vi,bn&(s|he)?Y:bn)}}if(N.get(I))for(var pn=0;pn<We.length;pn++){var Ft=We[pn];if(Ce[Ft]&I)for(var Or=pn-1;Or>=-1;Or--){var Tr=Or===-1?_t:Ce[We[Or]];if(Tr&o){Tr===W&&U(Ft,F);break}}}if(N.get(W))for(var lr=0;lr<We.length;lr++){var Rs=We[lr];Ce[Rs]&W&&U(Rs,b)}if(N.get(B)||N.get(O))for(var Fn=1;Fn<We.length-1;Fn++){var Vn=We[Fn];if(Ce[Vn]&(B|O)){for(var us=0,jr=0,vl=Fn-1;vl>=0&&(us=Ce[We[vl]],!!(us&l));vl--);for(var yl=Fn+1;yl<We.length&&(jr=Ce[We[yl]],!!(jr&l));yl++);us===jr&&(Ce[Vn]===B?us===I:us&(I|F))&&U(Vn,us)}}if(N.get(I))for(var Wi=0;Wi<We.length;Wi++){var io=We[Wi];if(Ce[io]&I){for(var Gd=Wi-1;Gd>=0&&Ce[We[Gd]]&(L|l);Gd--)U(We[Gd],I);for(Wi++;Wi<We.length&&Ce[We[Wi]]&(L|l|I);Wi++)Ce[We[Wi]]!==I&&U(We[Wi],I)}}if(N.get(L)||N.get(B)||N.get(O))for(var Wf=0;Wf<We.length;Wf++){var h2=We[Wf];if(Ce[h2]&(L|B|O)){U(h2,Y);for(var du=Wf-1;du>=0&&Ce[We[du]]&l;du--)U(We[du],Y);for(var pu=Wf+1;pu<We.length&&Ce[We[pu]]&l;pu++)U(We[pu],Y)}}if(N.get(I))for(var mu=0,jf=_t;mu<We.length;mu++){var d2=We[mu],km=Ce[d2];km&I?jf===_&&U(d2,_):km&o&&(jf=km)}if(N.get(a)){var gu=b|I|F,zd=gu|_,xl=[];{for(var vc=[],El=0;El<We.length;El++)if(Ce[We[El]]&a){var rn=Ae[We[El]],Nm=void 0;if(S(rn)!==null)if(vc.length<63)vc.push({char:rn,seqIndex:El});else break;else if((Nm=w(rn))!==null)for(var Au=vc.length-1;Au>=0;Au--){var Hd=vc[Au].char;if(Hd===Nm||Hd===w(M(rn))||S(M(Hd))===rn){xl.push([vc[Au].seqIndex,El]),vc.length=Au;break}}}xl.sort(function(Ci,ds){return Ci[0]-ds[0]})}for(var Gm=0;Gm<xl.length;Gm++){for(var p2=xl[Gm],dr=p2[0],Xf=p2[1],m2=!1,cs=0,zm=dr+1;zm<Xf;zm++){var Yf=We[zm];if(Ce[Yf]&zd){m2=!0;var so=Ce[Yf]&gu?b:_;if(so===Cn){cs=so;break}}}if(m2&&!cs){cs=_t;for(var Hm=dr-1;Hm>=0;Hm--){var g2=We[Hm];if(Ce[g2]&zd){var oo=Ce[g2]&gu?b:_;oo!==Cn?cs=oo:cs=Cn;break}}}if(cs){if(Ce[We[dr]]=Ce[We[Xf]]=cs,cs!==Cn){for(var fs=dr+1;fs<We.length;fs++)if(!(Ce[We[fs]]&l)){h(Ae[We[fs]])&z&&(Ce[We[fs]]=cs);break}}if(cs!==Cn){for(var Sl=Xf+1;Sl<We.length;Sl++)if(!(Ce[We[Sl]]&l)){h(Ae[We[Sl]])&z&&(Ce[We[Sl]]=cs);break}}}}for(var Qo=0;Qo<We.length;Qo++)if(Ce[We[Qo]]&a){for(var Qm=Qo,Vm=Qo,Ds=_t,Kf=Qo-1;Kf>=0;Kf--)if(Ce[We[Kf]]&l)Qm=Kf;else{Ds=Ce[We[Kf]]&gu?b:_;break}for(var Jf=In,qf=Qo+1;qf<We.length;qf++)if(Ce[We[qf]]&(a|l))Vm=qf;else{Jf=Ce[We[qf]]&gu?b:_;break}for(var hs=Qm;hs<=Vm;hs++)Ce[We[hs]]=Ds===Jf?Ds:Cn;Qo=Vm}}}for(var Si=Ie.start;Si<=Ie.end;Si++){var Qd=re[Si],Ua=Ce[Si];if(Qd&1?Ua&(_|I|F)&&re[Si]++:Ua&b?re[Si]++:Ua&(F|I)&&(re[Si]+=2),Ua&l&&(re[Si]=Si===0?Ie.level:re[Si-1]),Si===Ie.end||h(Ae[Si])&(V|G))for(var yc=Si;yc>=0&&h(Ae[yc])&u;yc--)re[yc]=Ie.level}}return{levels:re,paragraphs:Te};function Vd(Ci,ds){for(var Ur=Ci;Ur<Ae.length;Ur++){var kr=Ce[Ur];if(kr&(b|W))return 1;if(kr&(G|_)||ds&&kr===he)return 0;if(kr&s){var ao=A2(Ur);Ur=ao===-1?Ae.length:ao}}return 0}function A2(Ci){for(var ds=1,Ur=Ci+1;Ur<Ae.length;Ur++){var kr=Ce[Ur];if(kr&G)break;if(kr&he){if(--ds===0)return Ur}else kr&s&&ds++}return-1}}var ke="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Se;function X(){if(!Se){var Ae=v(ke,!0),Le=Ae.map,Ue=Ae.reverseMap;Ue.forEach(function(Ce,Je){Le.set(Je,Ce)}),Se=Le}}function ve(Ae){return X(),Se.get(Ae)||null}function de(Ae,Le,Ue,Ce){var Je=Ae.length;Ue=Math.max(0,Ue==null?0:+Ue),Ce=Math.min(Je-1,Ce==null?Je-1:+Ce);for(var N=new Map,U=Ue;U<=Ce;U++)if(Le[U]&1){var re=ve(Ae[U]);re!==null&&N.set(U,re)}return N}function xe(Ae,Le,Ue,Ce){var Je=Ae.length;Ue=Math.max(0,Ue==null?0:+Ue),Ce=Math.min(Je-1,Ce==null?Je-1:+Ce);var N=[];return Le.paragraphs.forEach(function(U){var re=Math.max(Ue,U.start),_e=Math.min(Ce,U.end);if(re<_e){for(var Te=Le.levels.slice(re,_e+1),Ie=_e;Ie>=re&&h(Ae[Ie])&u;Ie--)Te[Ie]=U.level;for(var He=U.level,Ne=1/0,ge=0;ge<Te.length;ge++){var Ge=Te[ge];Ge>He&&(He=Ge),Ge<Ne&&(Ne=Ge|1)}for(var qe=He;qe>=Ne;qe--)for(var Ve=0;Ve<Te.length;Ve++)if(Te[Ve]>=qe){for(var Oe=Ve;Ve+1<Te.length&&Te[Ve+1]>=qe;)Ve++;Ve>Oe&&N.push([Oe+re,Ve+re])}}}),N}function pe(Ae,Le,Ue,Ce){var Je=je(Ae,Le,Ue,Ce),N=[].concat(Ae);return Je.forEach(function(U,re){N[re]=(Le.levels[U]&1?ve(Ae[U]):null)||Ae[U]}),N.join("")}function je(Ae,Le,Ue,Ce){for(var Je=xe(Ae,Le,Ue,Ce),N=[],U=0;U<Ae.length;U++)N[U]=U;return Je.forEach(function(re){for(var _e=re[0],Te=re[1],Ie=N.slice(_e,Te+1),He=Ie.length;He--;)N[Te-He]=Ie[He]}),N}return e.closingToOpeningBracket=w,e.getBidiCharType=h,e.getBidiCharTypeName=d,e.getCanonicalBracket=M,e.getEmbeddingLevels=we,e.getMirroredCharacter=ve,e.getMirroredCharactersMap=de,e.getReorderSegments=xe,e.getReorderedIndices=je,e.getReorderedString=pe,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const kV=/\bvoid\s+main\s*\(\s*\)\s*{/g;function $w(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=St[i];return s?$w(s):r}return t.replace(e,n)}const Fi=[];for(let t=0;t<256;t++)Fi[t]=(t<16?"0":"")+t.toString(16);function y2e(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Fi[t&255]+Fi[t>>8&255]+Fi[t>>16&255]+Fi[t>>24&255]+"-"+Fi[e&255]+Fi[e>>8&255]+"-"+Fi[e>>16&15|64]+Fi[e>>24&255]+"-"+Fi[n&63|128]+Fi[n>>8&255]+"-"+Fi[n>>16&255]+Fi[n>>24&255]+Fi[r&255]+Fi[r>>8&255]+Fi[r>>16&255]+Fi[r>>24&255]).toUpperCase()}const yh=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},x2e=Date.now(),UL=new WeakMap,kL=new Map;let E2e=1e10;function eT(t,e){const n=T2e(e);let r=UL.get(t);if(r||UL.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=kL[f];if(!h){const d=S2e(this,u,e,n);h=kL[f]=d}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,yh(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-x2e}}),this[i]&&this[i](u)},o=function(){return a(e.chained?t:t.clone())},a=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:E2e++}),c.uuid=y2e(),c.uniforms=yh({},u.uniforms,e.uniforms),c.defines=yh({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=yh({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(yh(this.extensions,u.extensions),yh(this.defines,u.defines),yh(this.uniforms,rr.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return a(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=eT(t.isDerivedMaterial?t.getDepthMaterial():new gm({depthPacking:_a}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=eT(t.isDerivedMaterial?t.getDistanceMaterial():new C6,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function S2e(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:d,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",u=u||"",c=c||"",f=f||"",(l||d)&&(e=$w(e)),(h||d)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=$w(n)),d){let v=d({vertexShader:e,fragmentShader:n});e=v.vertexShader,n=v.fragmentShader}if(h){let v=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${h}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;s=v+s,u=v+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,A,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,A))?y:`troika_${y}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=NL(e,i,s,o,a),n=NL(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function NL(t,e,n,r,i){return(r||i||n)&&(t=t.replace(kV,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function C2e(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let w2e=0;const GL=new Map;function T2e(t){const e=JSON.stringify(t,C2e);let n=GL.get(e);return n==null&&GL.set(e,n=++w2e),n}function M2e(t,e,n){const{defaultFontURL:r}=n,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function u(x,E){function S(){const w=M=>{console.error(`Failure loading font ${x}${x===r?"":"; trying fallback"}`,M),x!==r&&(x=r,S())};try{const M=new XMLHttpRequest;M.open("get",x,!0),M.responseType="arraybuffer",M.onload=function(){if(M.status>=400)w(new Error(M.statusText));else if(M.status>0)try{const _=t(M.response);E(_)}catch(_){w(_)}},M.onerror=w,M.send()}catch(M){w(M)}}S()}function c(x,E){x||(x=r);let S=i[x];S?S.pending?S.pending.push(E):E(S):(i[x]={pending:[E]},u(x,w=>{let M=i[x].pending;i[x]=w,M.forEach(_=>_(w))}))}function f({text:x="",font:E=r,sdfGlyphSize:S=64,fontSize:w=1,letterSpacing:M=0,lineHeight:_="normal",maxWidth:b=s,direction:I,textAlign:B="left",textIndent:L=0,whiteSpace:F="normal",overflowWrap:O="normal",anchorX:G=0,anchorY:V=0,includeCaretPositions:Y=!1,chunkedBoundsSize:J=8192,colorRanges:z=null},W,j=!1){const Q=v(),H={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,M=+M,b=+b,_=_||"normal",L=+L,c(E,ee=>{const Z=isFinite(b);let ne=null,oe=null,se=null,he=null,we=null,ke=null,Se=null,X=0,ve=0,de=F!=="nowrap";const{ascender:xe,descender:pe,unitsPerEm:je,lineGap:Ae,capHeight:Le,xHeight:Ue}=ee;H.fontLoad=v()-Q;const Ce=v(),Je=w/je;_==="normal"&&(_=(xe-pe+Ae)/je),_=_*w;const N=(_-(xe-pe)*Je)/2,U=-(xe*Je+N),re=Math.min(_,(xe-pe)*Je),_e=(xe+pe)/2*Je-re/2;let Te=L,Ie=new y;const He=[Ie];ee.forEachGlyph(x,w,M,(Ge,qe,Ve)=>{const Oe=x.charAt(Ve),ze=Ge.advanceWidth*Je,it=Ie.count;let vt;if("isEmpty"in Ge||(Ge.isWhitespace=!!Oe&&new RegExp(a).test(Oe),Ge.canBreakAfter=!!Oe&&l.test(Oe),Ge.isEmpty=Ge.xMin===Ge.xMax||Ge.yMin===Ge.yMax||o.test(Oe)),!Ge.isWhitespace&&!Ge.isEmpty&&ve++,de&&Z&&!Ge.isWhitespace&&qe+ze+Te>b&&it){if(Ie.glyphAt(it-1).glyphObj.canBreakAfter)vt=new y,Te=-qe;else for(let Qe=it;Qe--;)if(Qe===0&&O==="break-word"){vt=new y,Te=-qe;break}else if(Ie.glyphAt(Qe).glyphObj.canBreakAfter){vt=Ie.splitAt(Qe+1);const me=vt.glyphAt(0).x;Te-=me;for(let Xe=vt.count;Xe--;)vt.glyphAt(Xe).x-=me;break}vt&&(Ie.isSoftWrapped=!0,Ie=vt,He.push(Ie),X=b)}let $=Ie.glyphAt(Ie.count);$.glyphObj=Ge,$.x=qe+Te,$.width=ze,$.charIndex=Ve,Oe===`
`&&(Ie=new y,He.push(Ie),Te=-(qe+ze+M*w)+L)}),He.forEach(Ge=>{for(let qe=Ge.count;qe--;){let{glyphObj:Ve,x:Oe,width:ze}=Ge.glyphAt(qe);if(!Ve.isWhitespace){Ge.width=Oe+ze,Ge.width>X&&(X=Ge.width);return}}});let Ne=0,ge=0;if(G&&(typeof G=="number"?Ne=-G:typeof G=="string"&&(Ne=-X*(G==="left"?0:G==="center"?.5:G==="right"?1:d(G)))),V){if(typeof V=="number")ge=-V;else if(typeof V=="string"){let Ge=He.length*_;ge=V==="top"?0:V==="top-baseline"?-U:V==="top-cap"?-U-Le*Je:V==="top-ex"?-U-Ue*Je:V==="middle"?Ge/2:V==="bottom"?Ge:V==="bottom-baseline"?Ge-N+pe*Je:d(V)*Ge}}if(!j){const Ge=e.getEmbeddingLevels(x,I);ne=new Uint16Array(ve),oe=new Float32Array(ve*2),se={},ke=[s,s,-s,-s],Se=[];let qe=U;Y&&(we=new Float32Array(x.length*3)),z&&(he=new Uint8Array(ve*3));let Ve=0,Oe=-1,ze=-1,it,vt;if(He.forEach(($,Qe)=>{let{count:me,width:Xe}=$;if(me>0){let et=0;for(let un=me;un--&&$.glyphAt(un).glyphObj.isWhitespace;)et++;let zt=0,nn=0;if(B==="center")zt=(X-Xe)/2;else if(B==="right")zt=X-Xe;else if(B==="justify"&&$.isSoftWrapped){let un=0;for(let Zt=me-et;Zt--;)$.glyphAt(Zt).glyphObj.isWhitespace&&un++;nn=(X-Xe)/un}if(nn||zt){let un=0;for(let Zt=0;Zt<me;Zt++){let Qi=$.glyphAt(Zt);const xi=Qi.glyphObj;Qi.x+=zt+un,nn!==0&&xi.isWhitespace&&Zt<me-et&&(un+=nn,Qi.width+=nn)}}const on=e.getReorderSegments(x,Ge,$.glyphAt(0).charIndex,$.glyphAt($.count-1).charIndex);for(let un=0;un<on.length;un++){const[Zt,Qi]=on[un];let xi=1/0,Sn=-1/0;for(let Qn=0;Qn<me;Qn++)if($.glyphAt(Qn).charIndex>=Zt){let Di=Qn,kn=Qn;for(;kn<me;kn++){let hr=$.glyphAt(kn);if(hr.charIndex>Qi)break;kn<me-et&&(xi=Math.min(xi,hr.x),Sn=Math.max(Sn,hr.x+hr.width))}for(let hr=Di;hr<kn;hr++){const si=$.glyphAt(hr);si.x=Sn-(si.x+si.width-xi)}break}}let gn;const _n=un=>gn=un;for(let un=0;un<me;un++){let Zt=$.glyphAt(un);gn=Zt.glyphObj;const Qi=gn.index,xi=Ge.levels[Zt.charIndex]&1;if(xi){const Sn=e.getMirroredCharacter(x[Zt.charIndex]);Sn&&ee.forEachGlyph(Sn,0,0,_n)}if(Y){const{charIndex:Sn}=Zt,Qn=Zt.x+Ne,Di=Zt.x+Zt.width+Ne;we[Sn*3]=xi?Di:Qn,we[Sn*3+1]=xi?Qn:Di,we[Sn*3+2]=qe+_e+ge;const kn=Sn-Oe;kn>1&&g(we,Oe,kn),Oe=Sn}if(z){const{charIndex:Sn}=Zt;for(;Sn>ze;)ze++,z.hasOwnProperty(ze)&&(vt=z[ze])}if(!gn.isWhitespace&&!gn.isEmpty){const Sn=Ve++;se[Qi]||(se[Qi]={path:gn.path,pathBounds:[gn.xMin,gn.yMin,gn.xMax,gn.yMax]});const Qn=Zt.x+Ne,Di=qe+ge;oe[Sn*2]=Qn,oe[Sn*2+1]=Di;const kn=Qn+gn.xMin*Je,hr=Di+gn.yMin*Je,si=Qn+gn.xMax*Je,Ho=Di+gn.yMax*Je;kn<ke[0]&&(ke[0]=kn),hr<ke[1]&&(ke[1]=hr),si>ke[2]&&(ke[2]=si),Ho>ke[3]&&(ke[3]=Ho),Sn%J===0&&(it={start:Sn,end:Sn,rect:[s,s,-s,-s]},Se.push(it)),it.end++;const ls=it.rect;if(kn<ls[0]&&(ls[0]=kn),hr<ls[1]&&(ls[1]=hr),si>ls[2]&&(ls[2]=si),Ho>ls[3]&&(ls[3]=Ho),ne[Sn]=Qi,z){const K=Sn*3;he[K]=vt>>16&255,he[K+1]=vt>>8&255,he[K+2]=vt&255}}}}qe-=_}),we){const $=x.length-Oe;$>1&&g(we,Oe,$)}}H.typesetting=v()-Ce,W({glyphIds:ne,glyphPositions:oe,glyphData:se,caretPositions:we,caretHeight:re,glyphColors:he,chunkedBounds:Se,fontSize:w,unitsPerEm:je,ascender:xe*Je,descender:pe*Je,capHeight:Le*Je,xHeight:Ue*Je,lineHeight:_,topBaseline:U,blockBounds:[Ne,ge-He.length*_,Ne+X,ge],visibleBounds:ke,timings:H})})}function h(x,E){f(x,S=>{const[w,M,_,b]=S.blockBounds;E({width:_-w,height:b-M})},{metricsOnly:!0})}function d(x){let E=x.match(/^([\d.]+)%$/),S=E?parseFloat(E[1]):NaN;return isNaN(S)?0:S/100}function g(x,E,S){const w=x[E*3],M=x[E*3+1],_=x[E*3+2],b=(M-w)/S;for(let I=0;I<S;I++){const B=(E+I)*3;x[B]=w+b*I,x[B+1]=w+b*(I+1),x[B+2]=_}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}const A=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/A.length)},glyphAt(x){let E=y.flyweight;return E.data=this.data,E.index=x,E},splitAt(x){let E=new y;return E.data=this.data.splice(x*A.length),E}},y.flyweight=A.reduce((x,E,S,w)=>(Object.defineProperty(x,E,{get(){return this.data[this.index*A.length+S]},set(M){this.data[this.index*A.length+S]=M}}),x),{data:null,index:0}),{typeset:f,measure:h,loadFont:c}}const nd=()=>(self.performance||Date).now(),l4=UV();let zL;function _2e(t,e,n,r,i,s,o,a,l,u,c=!0){return c?b2e(t,e,n,r,i,s,o,a,l,u).then(null,f=>(zL||(console.warn("WebGL SDF generation failed, falling back to JS",f),zL=!0),QL(t,e,n,r,i,s,o,a,l,u))):QL(t,e,n,r,i,s,o,a,l,u)}const S5=[],I2e=5;let tT=0;function NV(){const t=nd();for(;S5.length&&nd()-t<I2e;)S5.shift()();tT=S5.length?setTimeout(NV,0):0}const b2e=(...t)=>new Promise((e,n)=>{S5.push(()=>{const r=nd();try{l4.webgl.generateIntoCanvas(...t),e({timing:nd()-r})}catch(i){n(i)}}),tT||(tT=setTimeout(NV,0))}),B2e=4,R2e=2e3,HL={};let D2e=0;function QL(t,e,n,r,i,s,o,a,l,u){const c="TroikaTextSDFGenerator_JS_"+D2e++%B2e;let f=HL[c];return f||(f=HL[c]={workerModule:t2({name:c,workerId:c,dependencies:[UV,nd],init(h,d){const g=h().javascript.generate;return function(...v){const y=d();return{textureData:g(...v),timing:d()-y}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:h,timing:d})=>{const g=nd(),v=new Uint8Array(h.length*4);for(let y=0;y<h.length;y++)v[y*4+u]=h[y];return l4.webglUtils.renderImageData(o,v,a,l,t,e,1<<3-u),d+=nd()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{g2e(c)},R2e)),{timing:d}})}function P2e(t){t._warm||(l4.webgl.isSupported(t),t._warm=!0)}const L2e=l4.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function F2e(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var u=[],c=0;c<l;c++){var f=s.readUint(o,a);a+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],c={_data:i,_offset:a},f={},h=0;h<l;h++){var d=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[d]={offset:g,length:v}}for(h=0;h<u.length;h++){var y=u[h];f[y]&&(c[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,c))}return c},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=a.readASCII(i,u,4);u+=4,a.readUint(i,u),u+=4;var h=a.readUint(i,u);if(u+=4,a.readUint(i,u),u+=4,f==s)return h}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var u=i[s++]<<8|i[s++];a+=String.fromCharCode(u)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var u=e._bin,c={},f=s;u.readFixed(i,s),s+=4;var h=u.readUshort(i,s);s+=2;var d=u.readUshort(i,s);s+=2;var g=u.readUshort(i,s);return s+=2,c.scriptList=e._lctf.readScriptList(i,f+h),c.featureList=e._lctf.readFeatureList(i,f+d),c.lookupList=e._lctf.readLookupList(i,f+g,l),c},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,u=[],c=a.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var h=a.readUshort(i,s);s+=2;var d=e._lctf.readLookupTable(i,l+h,o);u.push(d)}return u},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,u={tabs:[]};u.ltype=a.readUshort(i,s),s+=2,u.flag=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var f=u.ltype,h=0;h<c;h++){var d=a.readUshort(i,s);s+=2;var g=o(i,f,l+d,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var u=o.readUshort(i,s);s+=2;var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++)a.push(u+f),a.push(u+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var h=o.readUshort(i,s);for(s+=2,f=0;f<h;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var h=o.readUshort(i,s);s+=2;var d=e._lctf.readFeatureTable(i,a+h);d.tag=f.trim(),l.push(d)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,u>0&&(l.featureParams=a+u);var c=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,s,4);s+=4;var h=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+h)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},u=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+u);var c=o.readUshort(i,s);s+=2;for(var f=0;f<c;f++){var h=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[h.trim()]=e._lctf.readLangSysTable(i,a+d)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var u=[],c=0;c<l.length-1;c++)u.push(a.readASCII(i,s+l[c],l[c+1]-l[c]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var h=[];for(c=0;c<f.length-1;c++)h.push(e.CFF.readDict(i,s+f[c],s+f[c+1]));s+=f[f.length-1];var d=h[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(c=0;c<g.length-1;c++)v.push(a.readASCII(i,s+g[c],g[c+1]-g[c]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,d),d.CharStrings){s=d.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(c=0;c<g.length-1;c++)y.push(a.readBytes(i,s+g[c],g[c+1]-g[c]));d.CharStrings=y}if(d.ROS){s=d.FDArray;var A=[];for(s=e.CFF.readIndex(i,s,A),d.FDArray=[],c=0;c<A.length-1;c++){var x=e.CFF.readDict(i,s+A[c],s+A[c+1]);e.CFF._readFDict(i,x,v),d.FDArray.push(x)}s+=A[A.length-1],s=d.FDSelect,d.FDSelect=[];var E=i[s];if(s++,E!=3)throw E;var S=a.readUshort(i,s);for(s+=2,c=0;c<S+1;c++)d.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return d.Encoding&&(d.Encoding=e.CFF.readEncoding(i,d.Encoding,d.CharStrings.length)),d.charset&&(d.charset=e.CFF.readCharset(i,d.charset,d.CharStrings.length)),e.CFF._readFDict(i,d,v),d},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var u=i[s];s++;for(var c=0;c<u;c++)a.push(i[s+c]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],u=i[s];if(s++,u==0)for(var c=0;c<o;c++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var h=0;for(u==1?(h=i[s],s++):(h=a.readUshort(i,s),s+=2),c=0;c<=h;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var c=0;c<l;c++)o.push(i[s+c]);else if(u==2)for(c=0;c<l;c++)o.push(a.readUshort(i,s+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&a.readUint(i,s+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(s+=l*u)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var c=1,f=null,h=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(h=a.readShort(i,s+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=a.readInt(i,s+1)/65535,c=5),o.val=h??"o"+f,o.size=c},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,u=[];s<a;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,d=null,g=null;c<=20&&(d=c,h=1),c==12&&(d=100*c+f,h=2),c!=19&&c!=20||(d=c,h=2),21<=c&&c<=27&&(d=c,h=1),c==28&&(g=l.readShort(i,s+1),h=3),29<=c&&c<=31&&(d=c,h=1),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255&&(g=l.readInt(i,s+1)/65535,h=5),u.push(g??"o"+d),s+=h}return u},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},u=[];s<o;){var c=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,d=null,g=null;if(c==28&&(g=a.readShort(i,s+1),h=3),c==29&&(g=a.readInt(i,s+1),h=5),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255)throw g=a.readInt(i,s+1)/65535,h=5,"unknown number";if(c==30){var v=[];for(h=1;;){var y=i[s+h];h++;var A=y>>4,x=15&y;if(A!=15&&v.push(A),x!=15&&v.push(x),x==15)break}for(var E="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],w=0;w<v.length;w++)E+=S[v[w]];g=parseFloat(E)}c<=21&&(d=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(d=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),d!=null?(l[d]=u.length==1?u[0]:u,u=[]):u.push(g),s+=h}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var h=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+h+"e"+d,y=c.indexOf(g);if(y==-1){var A;y=l.tables.length,c.push(g);var x=a.readUshort(i,g);x==0?A=e.cmap.parse0(i,g):x==4?A=e.cmap.parse4(i,g):x==6?A=e.cmap.parse6(i,g):x==12?A=e.cmap.parse12(i,g):console.debug("unknown format: "+x,h,d,g),l.tables.push(A)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var u=0;u<l-6;u++)a.map.push(i[s+u]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var f=c/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+u;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var u=0;u<l;u++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var u=0;u<l;u++){var c=s+12*u,f=o.readUint(i,c+0),h=o.readUint(i,c+4),d=o.readUint(i,c+8);a.groups.push([f,h,d])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],u=0;u<a.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=o.readShort(a,l),l+=2,u.xMin=o.readShort(a,l),l+=2,u.yMin=o.readShort(a,l),l+=2,u.xMax=o.readShort(a,l),l+=2,u.yMax=o.readShort(a,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;u.instructions=o.readBytes(a,l,f),l+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var d=a[l];if(l++,u.flags.push(d),(8&d)!=0){var g=a[l];l++;for(var v=0;v<g;v++)u.flags.push(d),c++}}for(u.xs=[],c=0;c<h;c++){var y=(2&u.flags[c])!=0,A=(16&u.flags[c])!=0;y?(u.xs.push(A?a[l]:-a[l]),l++):A?u.xs.push(0):(u.xs.push(o.readShort(a,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)y=(4&u.flags[c])!=0,A=(32&u.flags[c])!=0,y?(u.ys.push(A?a[l]:-a[l]),l++):A?u.ys.push(0):(u.ys.push(o.readShort(a,l)),l+=2);var x=0,E=0;for(c=0;c<h;c++)x+=u.xs[c],E+=u.ys[c],u.xs[c]=x,u.ys[c]=E}else{var S;u.parts=[];do{S=o.readUshort(a,l),l+=2;var w={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(w),w.glyphIndex=o.readUshort(a,l),l+=2,1&S){var M=o.readShort(a,l);l+=2;var _=o.readShort(a,l);l+=2}else M=o.readInt8(a,l),l++,_=o.readInt8(a,l),l++;2&S?(w.m.tx=M,w.m.ty=_):(w.p1=M,w.p2=_),8&S?(w.m.a=w.m.d=o.readF2dot14(a,l),l+=2):64&S?(w.m.a=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2):128&S&&(w.m.a=o.readF2dot14(a,l),l+=2,w.m.b=o.readF2dot14(a,l),l+=2,w.m.c=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2)}while(32&S);if(256&S){var b=o.readUshort(a,l);for(l+=2,u.instr=[],c=0;c<b;c++)u.instr.push(a[l]),l++}}return u},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(s==1&&c.fmt==1){var h=l.readUshort(i,o);o+=2;var d=e._lctf.numOfOnes(h);h!=0&&(c.pos=e.GPOS.readValueRecord(i,o,h))}else if(s==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2,d=e._lctf.numOfOnes(h);var v=e._lctf.numOfOnes(g);if(c.fmt==1){c.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var A=0;A<y;A++){var x=u+l.readUshort(i,o);o+=2;var E=l.readUshort(i,x);x+=2;for(var S=[],w=0;w<E;w++){var M=l.readUshort(i,x);x+=2,h!=0&&(F=e.GPOS.readValueRecord(i,x,h),x+=2*d),g!=0&&(O=e.GPOS.readValueRecord(i,x,g),x+=2*v),S.push({gid2:M,val1:F,val2:O})}c.pairsets.push(S)}}if(c.fmt==2){var _=l.readUshort(i,o);o+=2;var b=l.readUshort(i,o);o+=2;var I=l.readUshort(i,o);o+=2;var B=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+_),c.classDef2=e._lctf.readClassDef(i,u+b),c.matrix=[],A=0;A<I;A++){var L=[];for(w=0;w<B;w++){var F=null,O=null;h!=0&&(F=e.GPOS.readValueRecord(i,o,h),o+=2*d),g!=0&&(O=e.GPOS.readValueRecord(i,o,g),o+=2*v),L.push({val1:F,val2:O})}c.matrix.push(L)}}}else{if(s==9&&c.fmt==1){var G=l.readUshort(i,o);o+=2;var V=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=G;else if(a.ltype!=G)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,u+V)}console.debug("unsupported GPOS table LookupType",s,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&c.fmt<=2||s==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(s==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var h=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,h),o+=2*c.newg.length}}else if(s==4){c.vals=[],h=l.readUshort(i,o),o+=2;for(var d=0;d<h;d++){var g=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+g))}}else if(s==5&&c.fmt==2){if(c.fmt==2){var v=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+v),c.scset=[];var y=l.readUshort(i,o);for(o+=2,d=0;d<y;d++){var A=l.readUshort(i,o);o+=2,c.scset.push(A==0?null:e.GSUB.readSubClassSet(i,u+A))}}}else if(s==6&&c.fmt==3){if(c.fmt==3){for(d=0;d<3;d++){h=l.readUshort(i,o),o+=2;for(var x=[],E=0;E<h;E++)x.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*E)));o+=2*h,d==0&&(c.backCvg=x),d==1&&(c.inptCvg=x),d==2&&(c.ahedCvg=x)}h=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,h)}}else{if(s==7&&c.fmt==1){var S=l.readUshort(i,o);o+=2;var w=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=S;else if(a.ltype!=S)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,u+w)}console.debug("unsupported GSUB table LookupType",s,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],u=o(i,s);s+=2;for(var c=0;c<u;c++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),u=o(i,s+=2);s+=2,a.input=[];for(var c=0;c<l-1;c++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,s);s+=2,u==1&&c--,a[l[u]]=o.readUshorts(i,s,c),s+=2*a[l[u]].length}return c=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*c),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],u=o.readUshort(i,s);s+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var u=0;u<l-1;u++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,h=0;h<a.maxp.numGlyphs;h++)h<a.hhea.numberOfHMetrics&&(c=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,u=l.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,o,a);var c=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){s+=2,o=l.readUshort(i,s),s+=2;var d=l.readUshort(i,s);s+=2;var g=d>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var u=l.readUint(i,s);s+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,s),s+=4;var h=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var d=h>>>8;if((d&=15)!=0)throw"unknown kern table format: "+d;s=e.kern.readFormat0(i,s,c)}return c},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,s);s+=2;var h=a.readUshort(i,s);s+=2;var d=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(h),g.vals.push(d),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,u=[],c=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(c==0)for(var h=0;h<f;h++)u.push(l.readUshort(i,s+(h<<1))<<1);if(c==1)for(h=0;h<f;h++)u.push(l.readUint(i,s+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},u=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,u==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=s+=2,d=0;d<u;d++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var A=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var E=a.readUshort(i,s);s+=2;var S,w=f[A],M=h+12*u+E;if(g==0)S=a.readUnicode(i,M,x/2);else if(g==3&&v==0)S=a.readUnicode(i,M,x/2);else if(v==0)S=a.readASCII(i,M,x);else if(v==1)S=a.readUnicode(i,M,x/2);else if(v==3)S=a.readUnicode(i,M,x/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;S=a.readASCII(i,M,x),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var _="p"+g+","+y.toString(16);l[_]==null&&(l[_]={}),l[_][w!==void 0?w:A]=S,l[_]._lang=y}for(var b in l)if(l[b].postScriptName!=null&&l[b]._lang==1033)return l[b];for(var b in l)if(l[b].postScriptName!=null&&l[b]._lang==0)return l[b];for(var b in l)if(l[b].postScriptName!=null&&l[b]._lang==3084)return l[b];for(var b in l)if(l[b].postScriptName!=null)return l[b];for(var b in l){c=b;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(s<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>s?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[s-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:s+l.idDelta[u])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,u,c,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=a;u<=l;u++){var c=u==a?l:u-1,f=u==l?a:u+1,h=1&i.flags[u],d=1&i.flags[c],g=1&i.flags[f],v=i.xs[u],y=i.ys[u];if(u==a)if(h){if(!d){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[c],i.ys[c])}else d?e.U.P.moveTo(s,i.xs[c],i.ys[c]):e.U.P.moveTo(s,(i.xs[c]+v)/2,(i.ys[c]+y)/2);h?d&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},u=i.parts[a];e.U._drawGlyf(u.glyphIndex,s,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],d=l.crds[f+1];o.crds.push(h*c.a+d*c.b+c.tx),o.crds.push(h*c.c+d*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,u=l.lookupList,c=l.featureList,f=[],h=0;h<c.length;h++){var d=c[h];if(d.tag=="kern"){a=!0;for(var g=0;g<d.tab.length;g++)if(!f[d.tab[g]]){f[d.tab[g]]=!0;for(var v=u[d.tab[g]],y=0;y<v.tabs.length;y++)if(v.tabs[y]!=null){var A,x=v.tabs[y];if((!x.coverage||(A=e._lctf.coverageIndex(x.coverage,s))!=-1)&&v.ltype!=1){if(v.ltype==2){var E=null;if(x.fmt==1){var S=x.pairsets[A];for(h=0;h<S.length;h++)S[h].gid2==o&&(E=S[h])}else if(x.fmt==2){var w=e.U._getGlyphClass(s,x.classDef1),M=e.U._getGlyphClass(o,x.classDef2);E=x.matrix[w][M]}if(E){var _=0;return E.val1&&E.val1[2]&&(_+=E.val1[2]),E.val2&&E.val2[0]&&(_+=E.val2[0]),_}}}}}}}if(i.kern&&!a){var b=i.kern.glyph1.indexOf(s);if(b!=-1){var I=i.kern.rval[b].glyph2.indexOf(o);if(I!=-1)return i.kern.rval[b].vals[I]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[c];else if(o.ltype==4)for(var h=f.vals[c],d=0;d<h.length;d++){var g=h[d],v=g.chain.length;if(!(v>l)){for(var y=!0,A=0,x=0;x<v;x++){for(;i[s+A+(1+x)]==-1;)A++;g.chain[x]!=i[s+A+(1+x)]&&(y=!1)}if(y){for(i[s]=g.nglyph,x=0;x<v+A;x++)i[s+x+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var E=e._lctf.getInterval(f.cDef,i[s]),S=f.cDef[E+2],w=f.scset[S],M=0;M<w.length;M++){var _=w[M],b=_.input;if(!(b.length>l)){for(y=!0,x=0;x<b.length;x++){var I=e._lctf.getInterval(f.cDef,i[s+1+x]);if(E==-1&&f.cDef[I+2]!=b[x]){y=!1;break}}if(y){var B=_.substLookupRecords;for(d=0;d<B.length;d+=2)B[d],B[d+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var L=f.lookupRec;for(M=0;M<L.length;M+=2){E=L[M];var F=a[L[M+1]];e.U._applySubs(i,s+E,F,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,u=0;u<s.length;u++){var c=s[u];if(c!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,h=e.U.glyphToPath(i,c),d=0;d<h.crds.length;d+=2)a.crds.push(h.crds[d]+l),a.crds.push(h.crds[d+1]);for(o&&a.cmds.push(o),d=0;d<h.cmds.length;d++)a.cmds.push(h.cmds[d]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[c],u<s.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,u,c){i.cmds.push("C"),i.crds.push(s,o,a,l,u,c)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var u=s.stack,c=s.nStems,f=s.haveWidth,h=s.width,d=s.open,g=0,v=s.x,y=s.y,A=0,x=0,E=0,S=0,w=0,M=0,_=0,b=0,I=0,B=0,L={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,L);var F=L.val;if(g+=L.size,F=="o1"||F=="o18")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(F=="o3"||F=="o23")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(F=="o4")u.length>1&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),d&&e.U.P.closePath(l),y+=u.pop(),e.U.P.moveTo(l,v,y),d=!0;else if(F=="o5")for(;u.length>0;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);else if(F=="o6"||F=="o7")for(var O=u.length,G=F=="o6",V=0;V<O;V++){var Y=u.shift();G?v+=Y:y+=Y,G=!G,e.U.P.lineTo(l,v,y)}else if(F=="o8"||F=="o24"){O=u.length;for(var J=0;J+6<=O;)A=v+u.shift(),x=y+u.shift(),E=A+u.shift(),S=x+u.shift(),v=E+u.shift(),y=S+u.shift(),e.U.P.curveTo(l,A,x,E,S,v,y),J+=6;F=="o24"&&(v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y))}else{if(F=="o11")break;if(F=="o1234"||F=="o1235"||F=="o1236"||F=="o1237")F=="o1234"&&(x=y,E=(A=v+u.shift())+u.shift(),B=S=x+u.shift(),M=S,b=y,v=(_=(w=(I=E+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,A,x,E,S,I,B),e.U.P.curveTo(l,w,M,_,b,v,y)),F=="o1235"&&(A=v+u.shift(),x=y+u.shift(),E=A+u.shift(),S=x+u.shift(),I=E+u.shift(),B=S+u.shift(),w=I+u.shift(),M=B+u.shift(),_=w+u.shift(),b=M+u.shift(),v=_+u.shift(),y=b+u.shift(),u.shift(),e.U.P.curveTo(l,A,x,E,S,I,B),e.U.P.curveTo(l,w,M,_,b,v,y)),F=="o1236"&&(A=v+u.shift(),x=y+u.shift(),E=A+u.shift(),B=S=x+u.shift(),M=S,_=(w=(I=E+u.shift())+u.shift())+u.shift(),b=M+u.shift(),v=_+u.shift(),e.U.P.curveTo(l,A,x,E,S,I,B),e.U.P.curveTo(l,w,M,_,b,v,y)),F=="o1237"&&(A=v+u.shift(),x=y+u.shift(),E=A+u.shift(),S=x+u.shift(),I=E+u.shift(),B=S+u.shift(),w=I+u.shift(),M=B+u.shift(),_=w+u.shift(),b=M+u.shift(),Math.abs(_-v)>Math.abs(b-y)?v=_+u.shift():y=b+u.shift(),e.U.P.curveTo(l,A,x,E,S,I,B),e.U.P.curveTo(l,w,M,_,b,v,y));else if(F=="o14"){if(u.length>0&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),u.length==4){var z=u.shift(),W=u.shift(),j=u.shift(),Q=u.shift(),H=e.CFF.glyphBySE(o,j),ee=e.CFF.glyphBySE(o,Q);e.U._drawCFF(o.CharStrings[H],s,o,a,l),s.x=z,s.y=W,e.U._drawCFF(o.CharStrings[ee],s,o,a,l)}d&&(e.U.P.closePath(l),d=!1)}else if(F=="o19"||F=="o20")u.length%2!=0&&!f&&(h=u.shift()+a.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,g+=c+7>>3;else if(F=="o21")u.length>2&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),y+=u.pop(),v+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),d=!0;else if(F=="o22")u.length>1&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),v+=u.pop(),d&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),d=!0;else if(F=="o25"){for(;u.length>6;)v+=u.shift(),y+=u.shift(),e.U.P.lineTo(l,v,y);A=v+u.shift(),x=y+u.shift(),E=A+u.shift(),S=x+u.shift(),v=E+u.shift(),y=S+u.shift(),e.U.P.curveTo(l,A,x,E,S,v,y)}else if(F=="o26")for(u.length%2&&(v+=u.shift());u.length>0;)A=v,x=y+u.shift(),v=E=A+u.shift(),y=(S=x+u.shift())+u.shift(),e.U.P.curveTo(l,A,x,E,S,v,y);else if(F=="o27")for(u.length%2&&(y+=u.shift());u.length>0;)x=y,E=(A=v+u.shift())+u.shift(),S=x+u.shift(),v=E+u.shift(),y=S,e.U.P.curveTo(l,A,x,E,S,v,y);else if(F=="o10"||F=="o29"){var Z=F=="o10"?a:o;if(u.length==0)console.debug("error: empty stack");else{var ne=u.pop(),oe=Z.Subrs[ne+Z.Bias];s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=h,s.open=d,e.U._drawCFF(oe,s,o,a,l),v=s.x,y=s.y,c=s.nStems,f=s.haveWidth,h=s.width,d=s.open}}else if(F=="o30"||F=="o31"){var se=u.length,he=(J=0,F=="o31");for(J+=se-(O=-3&se);J<O;)he?(x=y,E=(A=v+u.shift())+u.shift(),y=(S=x+u.shift())+u.shift(),O-J==5?(v=E+u.shift(),J++):v=E,he=!1):(A=v,x=y+u.shift(),E=A+u.shift(),S=x+u.shift(),v=E+u.shift(),O-J==5?(y=S+u.shift(),J++):y=S,he=!0),e.U.P.curveTo(l,A,x,E,S,v,y),J+=4}else{if((F+"").charAt(0)=="o")throw console.debug("Unknown operation: "+F,i),F;u.push(F)}}}s.x=v,s.y=y,s.nStems=c,s.haveWidth=f,s.width=h,s.open=d};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function O2e(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(F,O){for(var G=new n(31),V=0;V<31;++V)G[V]=O+=1<<F[V-1];var Y=new r(G[30]);for(V=1;V<30;++V)for(var J=G[V];J<G[V+1];++J)Y[J]=J-G[V]<<5|V;return[G,Y]},l=a(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=a(s,0)[0],h=new n(32768),d=0;d<32768;++d){var g=(43690&d)>>>1|(21845&d)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,h[d]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(F,O,G){for(var V=F.length,Y=0,J=new n(O);Y<V;++Y)++J[F[Y]-1];var z,W=new n(O);for(Y=0;Y<O;++Y)W[Y]=W[Y-1]+J[Y-1]<<1;if(G){z=new n(1<<O);var j=15-O;for(Y=0;Y<V;++Y)if(F[Y])for(var Q=Y<<4|F[Y],H=O-F[Y],ee=W[F[Y]-1]++<<H,Z=ee|(1<<H)-1;ee<=Z;++ee)z[h[ee]>>>j]=Q}else for(z=new n(V),Y=0;Y<V;++Y)F[Y]&&(z[Y]=h[W[F[Y]-1]++]>>>15-F[Y]);return z},y=new e(288);for(d=0;d<144;++d)y[d]=8;for(d=144;d<256;++d)y[d]=9;for(d=256;d<280;++d)y[d]=7;for(d=280;d<288;++d)y[d]=8;var A=new e(32);for(d=0;d<32;++d)A[d]=5;var x=v(y,9,1),E=v(A,5,1),S=function(F){for(var O=F[0],G=1;G<F.length;++G)F[G]>O&&(O=F[G]);return O},w=function(F,O,G){var V=O/8|0;return(F[V]|F[V+1]<<8)>>(7&O)&G},M=function(F,O){var G=O/8|0;return(F[G]|F[G+1]<<8|F[G+2]<<16)>>(7&O)},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],b=function(F,O,G){var V=new Error(O||_[F]);if(V.code=F,Error.captureStackTrace&&Error.captureStackTrace(V,b),!G)throw V;return V},I=function(F,O,G){var V=F.length;if(!V||G&&!G.l&&V<5)return O||new e(0);var Y=!O||G,J=!G||G.i;G||(G={}),O||(O=new e(3*V));var z,W=function(Oe){var ze=O.length;if(Oe>ze){var it=new e(Math.max(2*ze,Oe));it.set(O),O=it}},j=G.f||0,Q=G.p||0,H=G.b||0,ee=G.l,Z=G.d,ne=G.m,oe=G.n,se=8*V;do{if(!ee){G.f=j=w(F,Q,1);var he=w(F,Q+1,3);if(Q+=3,!he){var we=F[(Ue=((z=Q)/8|0)+(7&z&&1)+4)-4]|F[Ue-3]<<8,ke=Ue+we;if(ke>V){J&&b(0);break}Y&&W(H+we),O.set(F.subarray(Ue,ke),H),G.b=H+=we,G.p=Q=8*ke;continue}if(he==1)ee=x,Z=E,ne=9,oe=5;else if(he==2){var Se=w(F,Q,31)+257,X=w(F,Q+10,15)+4,ve=Se+w(F,Q+5,31)+1;Q+=14;for(var de=new e(ve),xe=new e(19),pe=0;pe<X;++pe)xe[o[pe]]=w(F,Q+3*pe,7);Q+=3*X;var je=S(xe),Ae=(1<<je)-1,Le=v(xe,je,1);for(pe=0;pe<ve;){var Ue,Ce=Le[w(F,Q,Ae)];if(Q+=15&Ce,(Ue=Ce>>>4)<16)de[pe++]=Ue;else{var Je=0,N=0;for(Ue==16?(N=3+w(F,Q,3),Q+=2,Je=de[pe-1]):Ue==17?(N=3+w(F,Q,7),Q+=3):Ue==18&&(N=11+w(F,Q,127),Q+=7);N--;)de[pe++]=Je}}var U=de.subarray(0,Se),re=de.subarray(Se);ne=S(U),oe=S(re),ee=v(U,ne,1),Z=v(re,oe,1)}else b(1);if(Q>se){J&&b(0);break}}Y&&W(H+131072);for(var _e=(1<<ne)-1,Te=(1<<oe)-1,Ie=Q;;Ie=Q){var He=(Je=ee[M(F,Q)&_e])>>>4;if((Q+=15&Je)>se){J&&b(0);break}if(Je||b(2),He<256)O[H++]=He;else{if(He==256){Ie=Q,ee=null;break}var Ne=He-254;if(He>264){var ge=i[pe=He-257];Ne=w(F,Q,(1<<ge)-1)+u[pe],Q+=ge}var Ge=Z[M(F,Q)&Te],qe=Ge>>>4;if(Ge||b(3),Q+=15&Ge,re=f[qe],qe>3&&(ge=s[qe],re+=M(F,Q)&(1<<ge)-1,Q+=ge),Q>se){J&&b(0);break}Y&&W(H+131072);for(var Ve=H+Ne;H<Ve;H+=4)O[H]=O[H-re],O[H+1]=O[H+1-re],O[H+2]=O[H+2-re],O[H+3]=O[H+3-re];H=Ve}}G.l=ee,G.p=Ie,G.b=H,ee&&(j=1,G.m=ne,G.d=Z,G.n=oe)}while(!j);return H==O.length?O:function(Oe,ze,it){(ze==null||ze<0)&&(ze=0),(it==null||it>Oe.length)&&(it=Oe.length);var vt=new(Oe instanceof n?n:Oe instanceof r?r:e)(it-ze);return vt.set(Oe.subarray(ze,it)),vt}(O,0,H)},B=new e(0),L=typeof TextDecoder<"u"&&new TextDecoder;try{L.decode(B,{stream:!0})}catch{}return t.convert_streams=function(F){var O=new DataView(F),G=0;function V(){var Se=O.getUint16(G);return G+=2,Se}function Y(){var Se=O.getUint32(G);return G+=4,Se}function J(Se){we.setUint16(ke,Se),ke+=2}function z(Se){we.setUint32(ke,Se),ke+=4}for(var W={signature:Y(),flavor:Y(),length:Y(),numTables:V(),reserved:V(),totalSfntSize:Y(),majorVersion:V(),minorVersion:V(),metaOffset:Y(),metaLength:Y(),metaOrigLength:Y(),privOffset:Y(),privLength:Y()},j=0;Math.pow(2,j)<=W.numTables;)j++;j--;for(var Q=16*Math.pow(2,j),H=16*W.numTables-Q,ee=12,Z=[],ne=0;ne<W.numTables;ne++)Z.push({tag:Y(),offset:Y(),compLength:Y(),origLength:Y(),origChecksum:Y()}),ee+=16;var oe,se=new Uint8Array(12+16*Z.length+Z.reduce(function(Se,X){return Se+X.origLength+4},0)),he=se.buffer,we=new DataView(he),ke=0;return z(W.flavor),J(W.numTables),J(Q),J(j),J(H),Z.forEach(function(Se){z(Se.tag),z(Se.origChecksum),z(ee),z(Se.origLength),Se.outOffset=ee,(ee+=Se.origLength)%4!=0&&(ee+=4-ee%4)}),Z.forEach(function(Se){var X,ve=F.slice(Se.offset,Se.offset+Se.compLength);if(Se.compLength!=Se.origLength){var de=new Uint8Array(Se.origLength);X=new Uint8Array(ve,2),I(X,de)}else de=new Uint8Array(ve);se.set(de,Se.outOffset);var xe=0;(ee=Se.outOffset+Se.origLength)%4!=0&&(xe=4-ee%4),se.set(new Uint8Array(xe).buffer,Se.outOffset+Se.origLength),oe=ee+xe}),he.slice(0,oe)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function U2e(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,u=32;let c;function f(w){if(!c){const M={R:s,L:i,D:o,C:l,U:u,T:a};c=new Map;for(let _ in r){let b=0;r[_].split(",").forEach(I=>{let[B,L]=I.split("+");B=parseInt(B,36),L=L?parseInt(L,36):0,c.set(b+=B,M[_]);for(let F=L;F--;)c.set(++b,M[_])})}}return c.get(w)||u}const h=1,d=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function A(w){const M=new Uint8Array(w.length);let _=u,b=h,I=-1;for(let B=0;B<w.length;B++){const L=w.codePointAt(B);let F=f(L)|0,O=h;F&a||(_&(i|o|l)?F&(s|o|l)?(O=g,(b===h||b===g)&&M[I]++):F&(i|u)&&(b===d||b===v)&&M[I]--:_&(s|u)&&(b===d||b===v)&&M[I]--,b=M[B]=O,_=F,I=B,L>65535&&B++)}return M}function x(w,M){const _=[];for(let I=0;I<M.length;I++){const B=M.codePointAt(I);B>65535&&I++,_.push(t.U.codeToGlyph(w,B))}const b=w.GSUB;if(b){const{lookupList:I,featureList:B}=b;let L;const F=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,O=[];B.forEach(G=>{if(F.test(G.tag))for(let V=0;V<G.tab.length;V++){if(O[G.tab[V]])continue;O[G.tab[V]]=!0;const Y=I[G.tab[V]],J=/^(isol|init|fina|medi)$/.test(G.tag);J&&!L&&(L=A(M));for(let z=0;z<_.length;z++)(!L||!J||y[L[z]]===G.tag)&&t.U._applySubs(_,z,Y,I)}})}return _}function E(...w){for(let M=0;M<w.length;M++)if(typeof w[M]=="number")return w[M]}function S(w){const M=Object.create(null),_=w["OS/2"],b=w.hhea,I=w.head.unitsPerEm,B=E(_&&_.sTypoAscender,b&&b.ascender,I),L={unitsPerEm:I,ascender:B,descender:E(_&&_.sTypoDescender,b&&b.descender,0),capHeight:E(_&&_.sCapHeight,B),xHeight:E(_&&_.sxHeight,B),lineGap:E(_&&_.sTypoLineGap,b&&b.lineGap),forEachGlyph(F,O,G,V){let Y=0;const J=1/L.unitsPerEm*O,z=x(w,F);let W=0,j=-1;return z.forEach((Q,H)=>{if(Q!==-1){let ee=M[Q];if(!ee){const{cmds:Z,crds:ne}=t.U.glyphToPath(w,Q);let oe="",se=0;for(let X=0,ve=Z.length;X<ve;X++){const de=n[Z[X]];oe+=Z[X];for(let xe=1;xe<=de;xe++)oe+=(xe>1?",":"")+ne[se++]}let he,we,ke,Se;if(ne.length){he=we=1/0,ke=Se=-1/0;for(let X=0,ve=ne.length;X<ve;X+=2){let de=ne[X],xe=ne[X+1];de<he&&(he=de),xe<we&&(we=xe),de>ke&&(ke=de),xe>Se&&(Se=xe)}}else he=ke=we=Se=0;ee=M[Q]={index:Q,advanceWidth:w.hmtx.aWidth[Q],xMin:he,yMin:we,xMax:ke,yMax:Se,path:oe,pathCommandCount:Z.length}}j!==-1&&(Y+=t.U.getPairAdjustment(w,j,Q)*J),V.call(null,ee,Y,W),ee.advanceWidth&&(Y+=ee.advanceWidth*J),G&&(Y+=G*O),j=Q}W+=F.codePointAt(W)>65535?2:1}),Y}};return L}return function(M){const _=new Uint8Array(M,0,4),b=t._bin.readASCII(_,0,4);if(b==="wOFF")M=e(M);else if(b==="wOF2")throw new Error("woff2 fonts not supported");return S(t.parse(M)[0])}}const k2e=t2({name:"Typr Font Parser",dependencies:[F2e,O2e,U2e],init(t,e,n){const r=t(),i=e();return n(r,i)}}),r0={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},N2e=new Be;function Bp(){return(self.performance||Date).now()}const VL=Object.create(null);function GV(t,e){t=H2e({},t);const n=Bp();if(t.font=Q2e(t.font||r0.defaultFontURL),t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||r0.sdfGlyphSize,t.colorRanges!=null){let f={};for(let h in t.colorRanges)if(t.colorRanges.hasOwnProperty(h)){let d=t.colorRanges[h];typeof d!="number"&&(d=N2e.set(d).getHex()),f[h]=d}t.colorRanges=f}Object.freeze(t);const{textureWidth:r,sdfExponent:i}=r0,{sdfGlyphSize:s}=t,o=r/s*4;let a=VL[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=VL[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new xn(f,void 0,void 0,void 0,ct,ct),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,G2e(a)}const{sdfTexture:l,sdfCanvas:u}=a;let c=a.glyphsByFont.get(t.font);c||a.glyphsByFont.set(t.font,c=new Map),W2e(t).then(f=>{const{glyphIds:h,glyphPositions:d,fontSize:g,unitsPerEm:v,timings:y}=f,A=[],x=new Float32Array(h.length*4),E=g/v;let S=0,w=0;const M=Bp();h.forEach((L,F)=>{let O=c.get(L);if(!O){const{path:J,pathBounds:z}=f.glyphData[L],W=Math.max(z[2]-z[0],z[3]-z[1])/s*(r0.sdfMargin*s+.5),j=a.glyphCount++,Q=[z[0]-W,z[1]-W,z[2]+W,z[3]+W];c.set(L,O={path:J,atlasIndex:j,sdfViewBox:Q}),A.push(O)}const{sdfViewBox:G}=O,V=d[w++],Y=d[w++];x[S++]=V+G[0]*E,x[S++]=Y+G[1]*E,x[S++]=V+G[2]*E,x[S++]=Y+G[3]*E,h[F]=O.atlasIndex}),y.quads=(y.quads||0)+(Bp()-M);const _=Bp();y.sdf={};const b=u.height,I=Math.ceil(a.glyphCount/o),B=Math.pow(2,Math.ceil(Math.log2(I*s)));B>b&&(console.info(`Increasing SDF texture size ${b}->${B}`),L2e(u,r,B),l.dispose()),Promise.all(A.map(L=>zV(L,a,t.gpuAccelerateSDF).then(({timing:F})=>{y.sdf[L.atlasIndex]=F}))).then(()=>{A.length&&!a.contextLost&&(HV(a),l.needsUpdate=!0),y.sdfTotal=Bp()-_,y.total=Bp()-n,e(Object.freeze({parameters:t,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:x,glyphAtlasIndices:h,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||P2e(u)})}function zV({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=r0,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(a/r)*r,h=Math.floor(c/(a/r))*r,d=e%4;return _2e(r,r,t,n,u,l,i,f,h,d,o)}function G2e(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(zV(s,t,!0))})}),Promise.all(r).then(()=>{HV(t),t.sdfTexture.needsUpdate=!0})})}function z2e({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;GV({font:t,sdfGlyphSize:n,text:i},r)}function H2e(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let Ty;function Q2e(t){return Ty||(Ty=typeof document>"u"?{}:document.createElement("a")),Ty.href=t,Ty.href}function HV(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const V2e=t2({name:"Typesetter",dependencies:[r0,k2e,M2e,v2e],init(t,e,n,r){const{defaultFontURL:i}=t;return n(e,r(),{defaultFontURL:i})}}),W2e=t2({name:"Typesetter",dependencies:[V2e],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[t.glyphPositions.buffer,t.glyphIds.buffer];return t.caretPositions&&e.push(t.caretPositions.buffer),t.glyphColors&&e.push(t.glyphColors.buffer),e}}),WL={};function j2e(t){let e=WL[t];if(!e){const n=new iu(1,1,t,t),r=n.clone(),i=n.attributes,s=r.attributes,o=new bt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new at([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...n.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=WL[t]=o}return e}const X2e="aTroikaGlyphBounds",jL="aTroikaGlyphIndex",Y2e="aTroikaGlyphColor";class K2e extends L6{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ro,this.boundingBox=new No}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const n=this.getIndex().count;this.setDrawRange(e===Vr?n/2:0,e===$r?n:n/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=j2e(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){uS(this,X2e,e,4),uS(this,jL,n,1),uS(this,Y2e,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:o,max:a,sin:l,cos:u}=Math,c=i/2,f=i*2,h=Math.abs(n),d=e[0]/h,g=e[2]/h,v=s((d+c)/f)!==s((g+c)/f)?-h:o(l(d)*h,l(g)*h),y=s((d-c)/f)!==s((g-c)/f)?h:a(l(d)*h,l(g)*h),A=s((d+i)/f)!==s((g+i)/f)?h*2:a(h-u(d)*h,h-u(g)*h);r.min.set(v,e[1],n<0?-A:0),r.max.set(y,e[3],n<0?0:A)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(jL).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}}function uS(t,e,n,r){const i=t.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(t.setAttribute(e,new jl(n,r)),delete t._maxInstanceCount,t.dispose()):i&&t.deleteAttribute(e)}const J2e=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,q2e=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Z2e=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,$2e=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function eve(t){const e=eT(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new ie},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new kt(0,0,0,0)},uTroikaClipRect:{value:new kt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new ie},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Be},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Jt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:J2e,vertexTransform:q2e,fragmentDefs:Z2e,fragmentColorTransform:$2e,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(kV,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const C7=new Pr({color:16777215,side:$r,transparent:!0}),XL=8421504,YL=new Ke,My=new k,cS=new k,zg=[],tve=new k,fS="+x+y";function KL(t){return Array.isArray(t)?t[0]:t}let QV=()=>{const t=new sn(new iu(1,1),C7);return QV=()=>t,t},VV=()=>{const t=new sn(new iu(1,1,32,1),C7);return VV=()=>t,t};const nve={type:"syncstart"},rve={type:"synccomplete"},WV=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],ive=WV.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let jV=class extends sn{constructor(){const e=new K2e;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=XL,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=fS,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(nve),GV({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(rve),e&&e()})))}onBeforeRender(e,n,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Ta}onAfterRender(e,n,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=C7.clone());if((!e||e.baseMaterial!==n)&&(e=this._derivedMaterial=eve(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return KL(this.material).getDepthMaterial()}get customDistanceMaterial(){return KL(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,h,d,g,v=0,y=0;if(n){let{outlineWidth:x,outlineOffsetX:E,outlineOffsetY:S,outlineBlur:w,outlineOpacity:M}=this;u=this._parsePercent(x)||0,c=Math.max(0,this._parsePercent(w)||0),h=M,v=this._parsePercent(E)||0,y=this._parsePercent(S)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??XL),d=this.strokeOpacity,d==null&&(d=1)),h=this.fillOpacity;r.uTroikaDistanceOffset.value=u,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=d,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let A=this.clipRect;if(A&&Array.isArray(A)&&A.length===4)r.uTroikaClipRect.value.fromArray(A);else{const x=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-x,l[1]-x,l[2]+x,l[3]+x)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new Be;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||fS;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==fS&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,h]=l;My.set(0,0,0)[c]=u==="-"?1:-1,cS.set(0,0,0)[h]=f==="-"?-1:1,YL.lookAt(tve,My.cross(cS),cS),a.setFromMatrix4(YL)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new ie){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new ie){return My.copy(e),this.localPositionToTextCoords(this.worldToLocal(My),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?VV():QV(),a=o.geometry,{position:l,uv:u}=a.attributes;for(let c=0;c<u.count;c++){let f=s[0]+u.getX(c)*(s[2]-s[0]);const h=s[1]+u.getY(c)*(s[3]-s[1]);let d=0;i&&(d=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,h,d)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,zg.length=0,o.raycast(e,zg);for(let c=0;c<zg.length;c++)zg[c].object=this,n.push(zg[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,ive.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};WV.forEach(t=>{const e="_private_"+t;Object.defineProperty(jV.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});const Xn=D.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},u)=>{const c=qn(({invalidate:g})=>g),[f]=D.useState(()=>new jV),[h,d]=D.useMemo(()=>{const g=[];let v="";return D.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return OM(()=>new Promise(g=>z2e({font:r,characters:o},g)),["troika-text",r,o]),D.useLayoutEffect(()=>void f.sync(()=>{c(),a&&a(f)})),D.useEffect(()=>()=>f.dispose(),[f]),D.createElement("primitive",ar({object:f,ref:u,font:r,text:d,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),h)});let hS=null;async function XV(t){hS||(hS=new bhe);let e=typeof t=="string"?await(await fetch(t)).json():t;return hS.parse(e)}function w7(t){return OM(XV,[t])}w7.preload=t=>qz(XV,[t]);w7.clear=t=>Zz([t]);function T7(t,e,n,r){const i=class extends lt{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[u,c])=>{const f=rr.clone({[u]:{value:c}});return{...l,...f}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:u=>this.uniforms[l].value=u})),Object.assign(this,o),r&&r(this)}};return i.key=So.generateUUID(),i}const JL=t=>t===Object(t)&&!Array.isArray(t)&&typeof t!="function";function u4(t,e){const n=qn(i=>i.gl),r=Pa(kf,JL(t)?Object.values(t):t);if(D.useLayoutEffect(()=>{e==null||e(r)},[e]),D.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(n.initTexture)},[n,r]),JL(t)){const i=Object.keys(t),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}u4.preload=t=>Pa.preload(kf,t);u4.clear=t=>Pa.clear(kf,t);let _y=null;function YV(t,e,n){return r=>{n&&n(r),t&&(_y||(_y=new u2e),_y.setDecoderPath(typeof t=="string"?t:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(_y)),e&&r.setMeshoptDecoder(typeof aS=="function"?aS():aS)}}function Im(t,e=!0,n=!0,r){return Pa(ZM,t,YV(e,n,r))}Im.preload=(t,e=!0,n=!0,r)=>Pa.preload(ZM,t,YV(e,n,r));Im.clear=t=>Pa.clear(ZM,t);function sve({defaultScene:t,defaultCamera:e,renderPriority:n=1}){const{gl:r,scene:i,camera:s}=qn();let o;return or(()=>{o=r.autoClear,n===1&&(r.autoClear=!0,r.render(t,e)),r.autoClear=!1,r.clearDepth(),r.render(i,s),r.autoClear=o},n),D.createElement("group",{onPointerOver:()=>null})}function ove({children:t,renderPriority:e=1}){const{scene:n,camera:r}=qn(),[i]=D.useState(()=>new Sf);return D.createElement(D.Fragment,null,fH(D.createElement(D.Fragment,null,t,D.createElement(sve,{defaultScene:n,defaultCamera:r,renderPriority:e})),i,{events:{priority:e+1}}))}function KV(t,e){const n=t+"Geometry";return D.forwardRef(({args:r,children:i,...s},o)=>{const a=D.useRef(null);return D.useImperativeHandle(o,()=>a.current),D.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),D.createElement("mesh",ar({ref:a},s),D.createElement(n,{attach:"geometry",args:r}),i)})}const ave=KV("sphere"),lve=KV("plane"),uve=D.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=D.useRef(null),u=D.useRef(Math.random()*1e4);return or(c=>{var f,h;if(!e||n===0)return;const d=u.current+c.clock.getElapsedTime();l.current.rotation.x=Math.cos(d/4*n)/8*r,l.current.rotation.y=Math.sin(d/4*n)/8*r,l.current.rotation.z=Math.sin(d/4*n)/20*r;let g=Math.sin(d/4*n)/10;g=So.mapLinear(g,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(h=s==null?void 0:s[1])!==null&&h!==void 0?h:.1),l.current.position.y=g*i,l.current.updateMatrix()}),D.createElement("group",o,D.createElement("group",{ref:gH([l,a]),matrixAutoUpdate:!1},t))});class cve extends lt{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <encodings_fragment>
      }`})}}const fve=t=>new k().setFromSpherical(new O6(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),hve=D.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=D.useRef(),[u,c,f]=D.useMemo(()=>{const d=[],g=[],v=Array.from({length:n},()=>(.5+.5*Math.random())*i),y=new Be;let A=t+e;const x=e/n;for(let E=0;E<n;E++)A-=x*Math.random(),d.push(...fve(A).toArray()),y.setHSL(E/n,r,.9),g.push(y.r,y.g,y.b);return[new Float32Array(d),new Float32Array(g),new Float32Array(v)]},[n,e,i,t,r]);or(d=>l.current&&(l.current.uniforms.time.value=d.clock.getElapsedTime()*o));const[h]=D.useState(()=>new cve);return D.createElement("points",{ref:a},D.createElement("bufferGeometry",null,D.createElement("bufferAttribute",{attach:"attributes-position",args:[u,3]}),D.createElement("bufferAttribute",{attach:"attributes-color",args:[c,3]}),D.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),D.createElement("primitive",{ref:l,object:h,attach:"material",blending:k0,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))}),dve="https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png";function pve({opacity:t=.5,speed:e=.4,width:n=10,depth:r=1.5,segments:i=20,texture:s=dve,color:o="#ffffff",depthTest:a=!0,...l}){const u=D.useRef(),c=u4(s),f=D.useMemo(()=>[...new Array(i)].map((h,d)=>({x:n/2-Math.random()*n,y:n/2-Math.random()*n,scale:.4+Math.sin((d+1)/i*Math.PI)*((.2+Math.random())*10),density:Math.max(.2,Math.random()),rotation:Math.max(.002,.005*Math.random())*e})),[n,i,e]);return or(h=>{var d;return(d=u.current)==null?void 0:d.children.forEach((g,v)=>{g.children[0].rotation.z+=f[v].rotation,g.children[0].scale.setScalar(f[v].scale+(1+Math.sin(h.clock.getElapsedTime()/10))/2*v/10)})}),D.createElement("group",l,D.createElement("group",{position:[0,0,i/2*r],ref:u},f.map(({x:h,y:d,scale:g,density:v},y)=>D.createElement(f2e,{key:y,position:[h,d,-y*r]},D.createElement(lve,{scale:g,rotation:[0,0,0]},D.createElement("meshStandardMaterial",{map:c,transparent:!0,opacity:g/6*v*t,depthTest:a,color:o}))))))}var JV={exports:{}},mve="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gve=mve,Ave=gve;function qV(){}function ZV(){}ZV.resetWarningCache=qV;var vve=function(){function t(r,i,s,o,a,l){if(l!==Ave){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZV,resetWarningCache:qV};return n.PropTypes=n,n};JV.exports=vve();var yve=JV.exports;const Wn=Td(yve),qL=t=>{let e;const n=new Set,r=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{n.clear()}};return e=t(r,i,a),a},xve=t=>t?qL(t):qL;var $V={exports:{}},eW={},tW={exports:{}},nW={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em=D;function Eve(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sve=typeof Object.is=="function"?Object.is:Eve,Cve=em.useState,wve=em.useEffect,Tve=em.useLayoutEffect,Mve=em.useDebugValue;function _ve(t,e){var n=e(),r=Cve({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Tve(function(){i.value=n,i.getSnapshot=e,dS(i)&&s({inst:i})},[t,n,e]),wve(function(){return dS(i)&&s({inst:i}),t(function(){dS(i)&&s({inst:i})})},[t]),Mve(n),n}function dS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sve(t,n)}catch{return!0}}function Ive(t,e){return e()}var bve=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ive:_ve;nW.useSyncExternalStore=em.useSyncExternalStore!==void 0?em.useSyncExternalStore:bve;tW.exports=nW;var Bve=tW.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4=D,Rve=Bve;function Dve(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pve=typeof Object.is=="function"?Object.is:Dve,Lve=Rve.useSyncExternalStore,Fve=c4.useRef,Ove=c4.useEffect,Uve=c4.useMemo,kve=c4.useDebugValue;eW.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Fve(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Uve(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var g=o.value;if(i(g,d))return f=g}return f=d}if(g=f,Pve(c,d))return g;var v=r(d);return i!==void 0&&i(g,v)?g:(c=d,f=v)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=Lve(t,s[0],s[1]);return Ove(function(){o.hasValue=!0,o.value=a},[a]),kve(a),a};$V.exports=eW;var Nve=$V.exports;const Gve=Td(Nve),{useSyncExternalStoreWithSelector:zve}=Gve;function Hve(t,e=t.getState,n){const r=zve(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return D.useDebugValue(r),r}const ZL=t=>{const e=typeof t=="function"?xve(t):t,n=(r,i)=>Hve(e,r,i);return Object.assign(n,e),n},Qve=t=>t?ZL(t):ZL;class Vve extends Da{getPoint(e,n=new k){const r=n;e*=2*Math.PI;const i=10,s=50,o=s*Math.sin(e),a=Math.cos(e)*(i+s*Math.cos(e)),l=Math.sin(e)*(i+s*Math.cos(e));return r.set(o,a,l)}}let M7=new I6(new k(-50,0,0),new k(50,0,0));M7=new Vve;let Hg=new Qz(M7,250,.2,10,!0),Wve=1;function pS(t,e,n,r,i){return new Array(t).fill().map(()=>{const s=Math.random(),o=e.parameters.path.getPointAt(s);o.multiplyScalar(15);const a=o.clone().add(new k(-n+Math.random()*n*2,-n+Math.random()*n*2,-n+Math.random()*n*2)),l=.1+Math.random();return{guid:Wve++,scale:typeof i=="function"?i():i,size:r,offset:a,pos:o,speed:l,radius:n,t:s,hit:new k,distance:1e3}})}const jve={isBloom:!1,bloomIntensity:.3,bloomLuminanceThreshold:.6,orbitControl:!1},Ms=7,ni=Qve(()=>({pageOut:!1,pageIn:!1,enableScroll:!0,isZh:!1,currentPage:0,...jve,speed:1,t:0,spline:M7,track:Hg,scale:15,fov:70,position:new k,binormal:new k,normal:new k,dummy:new dn,drones:pS(10,Hg,20,15,1),rocks:pS(100,Hg,150,8,()=>1+Math.random()*2.5),rings:Xve(30,Hg),particles:pS(1500,Hg,100,1,()=>.5+Math.random()*.8)})),bf=t=>ni.setState(e=>{let n=e.currentPage,r=t%Ms;t<0&&(t===eu.NEXT?r=n+1:t===eu.PRE&&(r=n-1)),r<0&&(r=r+Ms),r=r%Ms;let i={currentPage:r,orbitControl:!1};switch(r){case 0:i.isBloom=!1;break;case 1:i.isBloom=!0,i.bloomIntensity=.3,i.bloomLuminanceThreshold=.6;break;case 2:i.isBloom=!0,i.bloomIntensity=.6,i.bloomLuminanceThreshold=.6;break;case 3:i.isBloom=!0,i.bloomIntensity=1,i.bloomLuminanceThreshold=.3;break;case 4:i.isBloom=!1;break;case 5:i.isBloom=!0,i.bloomIntensity=.6,i.bloomLuminanceThreshold=.6;break}return i});function Xve(t,e){let n=[],r=.4;for(let i=0;i<t;i++){r+=.003;const s=e.parameters.path.getPointAt(r);s.multiplyScalar(15);const o=e.tangents.length,a=r*o,l=Math.floor(a),u=e.parameters.path.getPointAt((r+1/e.parameters.path.getLength())%1).multiplyScalar(15),c=new Ke().lookAt(s,u,e.binormals[l]);n.push([s.toArray(),c])}return n}const eu={NEXT:-1,PRE:-2},Yve=()=>ni.setState(({orbitControl:t})=>({orbitControl:!t})),Kve=()=>ni.setState(({isZh:t})=>({isZh:!t}));document.addEventListener("keydown",t=>{console.log(t);let e=t.which;switch(e){case 65:bf(eu.PRE);break;case 68:bf(eu.NEXT);break;case 32:Yve();break}console.log(e)},!1);/**
 * postprocessing v6.33.1 build Tue Sep 19 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rüschen
 * @license Zlib
 */var Ud="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",Jve=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 cocNearFar=texture2D(cocBuffer,vUv).rg*scale;float coc=cocNearFar.x;
#else
float coc=texture2D(cocBuffer,vUv).g*scale;
#endif
if(coc==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(cocNearFar.x,cocNearFar.y);
#else
vec2 step=texelSize*coc;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,Iy=class extends lt{constructor(t=!1,e=!1){super({name:"BokehMaterial",defines:{PASS:t?"2":"1"},uniforms:{inputBuffer:new ae(null),cocBuffer:new ae(null),texelSize:new ae(new ie),kernel64:new ae(null),kernel16:new ae(null),scale:new ae(1)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Jve,vertexShader:Ud}),e&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set cocBuffer(t){this.uniforms.cocBuffer.value=t}setCoCBuffer(t){this.uniforms.cocBuffer.value=t}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(t){return this.scale}setScale(t){this.scale=t}generateKernel(){const t=2.39996323,e=new Float64Array(128),n=new Float64Array(32);let r=0,i=0;for(let s=0,o=Math.sqrt(80);s<80;++s){const a=s*t,l=Math.sqrt(s)/o,u=l*Math.cos(a),c=l*Math.sin(a);s%5===0?(n[i++]=u,n[i++]=c):(e[r++]=u,e[r++]=c)}this.uniforms.kernel64.value=e,this.uniforms.kernel16.value=n}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Ot={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},i0={RED:0,GREEN:1,BLUE:2,ALPHA:3},rW="",Bn="srgb",tm="srgb-linear",m1={FULL:0,SINGLE:1},H1={DEFAULT:0,KEEP_MAX_DEPTH:1,DISCARD_MAX_DEPTH:2},iW={DEPTH:0,LUMA:1,COLOR:2},Io={NONE:0,DEPTH:1,CONVOLUTION:2},Mn={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},Oh={DISABLED:0,SPORADIC:1,CONSTANT_MILD:2,CONSTANT_WILD:3},bm={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},qve={SCALE_UP:"lut.scaleup"},_7={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2,MULTIPLY_RGB:3},Zve={DISABLED:0,DEPTH:1,CUSTOM:2},Qg={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},sW=Number(no.replace(/\D+/g,"")),I7=sW>=152,oW=new Map([[v3,tm],[xa,Bn]]),$ve=new Map([[tm,v3],[Bn,xa]]);function ic(t){return t===null?null:I7?t.outputColorSpace:oW.get(t.outputEncoding)}function di(t,e){t!==null&&(I7?t.colorSpace=e:t.encoding=$ve.get(e))}function mS(t,e){t===null||e===null||(I7?e.colorSpace=t.colorSpace:e.encoding=t.encoding)}function n2(t){return sW<154?t.replace("colorspace_fragment","encodings_fragment"):t}function s0(t,e,n){return t*(e-n)-e}function Yh(t,e,n){return Math.min(Math.max((t+e)/(e-n),0),1)}var eye=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
float depth=unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
float depth=texture2D(depthBuffer,uv).r;
#endif
#ifdef LOG_DEPTH
float d=pow(2.0,depth*log2(cameraFar+1.0))-1.0;float a=cameraFar/(cameraFar-cameraNear);float b=cameraFar*cameraNear/(cameraNear-cameraFar);depth=a+b/d;
#endif
return depth;}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,tye=class extends lt{constructor(t){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ae(null),focusDistance:new ae(0),focusRange:new ae(0),cameraNear:new ae(.3),cameraFar:new ae(1e3)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:eye,vertexShader:Ud}),this.uniforms.focalLength=this.uniforms.focusRange,this.copyCameraSettings(t)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=ti){this.depthBuffer=t,this.depthPacking=e}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(t){this.uniforms.focusDistance.value=t}get worldFocusDistance(){return-s0(this.focusDistance,this.near,this.far)}set worldFocusDistance(t){this.focusDistance=Yh(-t,this.near,this.far)}getFocusDistance(t){this.uniforms.focusDistance.value=t}setFocusDistance(t){this.uniforms.focusDistance.value=t}get focalLength(){return this.focusRange}set focalLength(t){this.focusRange=t}get focusRange(){return this.uniforms.focusRange.value}set focusRange(t){this.uniforms.focusRange.value=t}get worldFocusRange(){return-s0(this.focusRange,this.near,this.far)}set worldFocusRange(t){this.focusRange=Yh(-t,this.near,this.far)}getFocalLength(t){return this.focusRange}setFocalLength(t){this.focusRange=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},nye=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,rye="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",iye=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],sye=class extends lt{constructor(t=new kt){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new ae(null),texelSize:new ae(new kt),scale:new ae(1),kernel:new ae(0)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:nye,vertexShader:rye}),this.fragmentShader=n2(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=bm.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return iye[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},oye=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,aW=class extends lt{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new ae(null),opacity:new ae(1)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:oye,vertexShader:Ud}),this.fragmentShader=n2(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},aye=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,lye=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,uye=class extends lt{constructor(t=null,e){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ae(null),cameraNear:new ae(.3),cameraFar:new ae(1e3)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:aye,vertexShader:lye}),this.depthBuffer=t,this.depthPacking=_a,this.copyCameraSettings(e)}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=_a){this.depthBuffer=t,this.depthPacking=e}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},cye=`#include <packing>
varying vec2 vUv;
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
#if INPUT_DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if INPUT_DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
void main(){
#if INPUT_DEPTH_PACKING == OUTPUT_DEPTH_PACKING
gl_FragColor=texture2D(depthBuffer,vUv);
#else
float depth=readDepth(vUv);
#if OUTPUT_DEPTH_PACKING == 3201
gl_FragColor=(depth==1.0)?vec4(1.0):packDepthToRGBA(depth);
#else
gl_FragColor=vec4(vec3(depth),1.0);
#endif
#endif
}`,fye=`varying vec2 vUv;
#if DEPTH_COPY_MODE == 1
uniform vec2 texelPosition;
#endif
void main(){
#if DEPTH_COPY_MODE == 1
vUv=texelPosition;
#else
vUv=position.xy*0.5+0.5;
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,hye=class extends lt{constructor(){super({name:"DepthCopyMaterial",defines:{INPUT_DEPTH_PACKING:"0",OUTPUT_DEPTH_PACKING:"0",DEPTH_COPY_MODE:"0"},uniforms:{depthBuffer:new ae(null),texelPosition:new ae(new ie)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:cye,vertexShader:fye}),this.depthCopyMode=m1.FULL}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set inputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get outputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}set outputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=ti){this.depthBuffer=t,this.inputDepthPacking=e}getInputDepthPacking(){return Number(this.defines.INPUT_DEPTH_PACKING)}setInputDepthPacking(t){this.defines.INPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}getOutputDepthPacking(){return Number(this.defines.OUTPUT_DEPTH_PACKING)}setOutputDepthPacking(t){this.defines.OUTPUT_DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}get texelPosition(){return this.uniforms.texelPosition.value}getTexelPosition(){return this.uniforms.texelPosition.value}setTexelPosition(t){this.uniforms.texelPosition.value=t}get mode(){return this.depthCopyMode}set mode(t){this.depthCopyMode=t,this.defines.DEPTH_COPY_MODE=t.toFixed(0),this.needsUpdate=!0}getMode(){return this.mode}setMode(t){this.mode=t}},dye=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in highp float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;highp float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){highp float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
highp vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
highp vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,pye="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",mye=class extends lt{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ae(null),normalBuffer:new ae(null),texelSize:new ae(new ie)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:dye,vertexShader:pye})}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=ti){this.depthBuffer=t,this.depthPacking=e}set normalBuffer(t){this.uniforms.normalBuffer.value=t,t!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(t){this.normalBuffer=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},gye=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer0;uniform highp sampler2D depthBuffer1;
#else
uniform mediump sampler2D depthBuffer0;uniform mediump sampler2D depthBuffer1;
#endif
uniform sampler2D inputBuffer;uniform vec2 cameraNearFar;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}varying vec2 vUv;void main(){vec2 depth;
#if DEPTH_PACKING_0 == 3201
depth.x=unpackRGBAToDepth(texture2D(depthBuffer0,vUv));
#else
depth.x=texture2D(depthBuffer0,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.x*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.x=a+b/d;
#endif
#endif
#if DEPTH_PACKING_1 == 3201
depth.y=unpackRGBAToDepth(texture2D(depthBuffer1,vUv));
#else
depth.y=texture2D(depthBuffer1,vUv).r;
#ifdef LOG_DEPTH
float d=pow(2.0,depth.y*log2(cameraNearFar.y+1.0))-1.0;float a=cameraNearFar.y/(cameraNearFar.y-cameraNearFar.x);float b=cameraNearFar.y*cameraNearFar.x/(cameraNearFar.x-cameraNearFar.y);depth.y=a+b/d;
#endif
#endif
bool isMaxDepth=(depth.x==1.0);
#ifdef PERSPECTIVE_CAMERA
depth.x=viewZToOrthographicDepth(getViewZ(depth.x),cameraNearFar.x,cameraNearFar.y);depth.y=viewZToOrthographicDepth(getViewZ(depth.y),cameraNearFar.x,cameraNearFar.y);
#endif
#if DEPTH_TEST_STRATEGY == 0
bool keep=depthTest(depth.x,depth.y);
#elif DEPTH_TEST_STRATEGY == 1
bool keep=isMaxDepth||depthTest(depth.x,depth.y);
#else
bool keep=!isMaxDepth&&depthTest(depth.x,depth.y);
#endif
if(keep){gl_FragColor=texture2D(inputBuffer,vUv);}else{discard;}}`,lW=class extends lt{constructor(){super({name:"DepthMaskMaterial",defines:{DEPTH_EPSILON:"0.0001",DEPTH_PACKING_0:"0",DEPTH_PACKING_1:"0",DEPTH_TEST_STRATEGY:H1.KEEP_MAX_DEPTH},uniforms:{inputBuffer:new ae(null),depthBuffer0:new ae(null),depthBuffer1:new ae(null),cameraNearFar:new ae(new ie(1,1))},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:gye,vertexShader:Ud}),this.depthMode=$5}set depthBuffer0(t){this.uniforms.depthBuffer0.value=t}set depthPacking0(t){this.defines.DEPTH_PACKING_0=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer0(t,e=ti){this.depthBuffer0=t,this.depthPacking0=e}set depthBuffer1(t){this.uniforms.depthBuffer1.value=t}set depthPacking1(t){this.defines.DEPTH_PACKING_1=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer1(t,e=ti){this.depthBuffer1=t,this.depthPacking1=e}get maxDepthStrategy(){return Number(this.defines.DEPTH_TEST_STRATEGY)}set maxDepthStrategy(t){this.defines.DEPTH_TEST_STRATEGY=t.toFixed(0),this.needsUpdate=!0}get keepFar(){return this.maxDepthStrategy}set keepFar(t){this.maxDepthStrategy=t?H1.KEEP_MAX_DEPTH:H1.DISCARD_MAX_DEPTH}getMaxDepthStrategy(){return this.maxDepthStrategy}setMaxDepthStrategy(t){this.maxDepthStrategy=t}get epsilon(){return Number(this.defines.DEPTH_EPSILON)}set epsilon(t){this.defines.DEPTH_EPSILON=t.toFixed(16),this.needsUpdate=!0}getEpsilon(){return this.epsilon}setEpsilon(t){this.epsilon=t}get depthMode(){return Number(this.defines.DEPTH_MODE)}set depthMode(t){let e;switch(t){case X9:e="false";break;case Y9:e="true";break;case SA:e="abs(d1 - d0) <= DEPTH_EPSILON";break;case d6:e="abs(d1 - d0) > DEPTH_EPSILON";break;case $5:e="d0 > d1";break;case EA:e="d0 >= d1";break;case K9:e="d0 <= d1";break;case J9:default:e="d0 < d1";break}this.defines.DEPTH_MODE=t.toFixed(0),this.defines["depthTest(d0, d1)"]=e,this.needsUpdate=!0}getDepthMode(){return this.depthMode}setDepthMode(t){this.depthMode=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),t instanceof Hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},Aye=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,vye="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",yye=class extends lt{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new ae(null),texelSize:new ae(new ie)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Aye,vertexShader:vye}),this.fragmentShader=n2(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},xye=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,Eye=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,Sye=class extends lt{constructor(t=new ie,e=iW.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:no.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new ae(null),depthBuffer:new ae(null),predicationBuffer:new ae(null),texelSize:new ae(t)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:xye,vertexShader:Eye}),this.edgeDetectionMode=e}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=ti){this.depthBuffer=t,this.depthPacking=e}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(t){this.defines.EDGE_DETECTION_MODE=t.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(t){this.edgeDetectionMode=t}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(t){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=t.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(t){this.localContrastAdaptationFactor=t}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(t){this.defines.EDGE_THRESHOLD=t.toFixed("6"),this.defines.DEPTH_THRESHOLD=(t*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(t){this.edgeDetectionThreshold=t}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(t){this.defines.PREDICATION_MODE=t.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(t){this.predicationMode=t}set predicationBuffer(t){this.uniforms.predicationBuffer.value=t}setPredicationBuffer(t){this.uniforms.predicationBuffer.value=t}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(t){this.defines.PREDICATION_THRESHOLD=t.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(t){this.predicationThreshold=t}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(t){this.defines.PREDICATION_SCALE=t.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(t){this.predicationScale=t}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(t){this.defines.PREDICATION_STRENGTH=t.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(t){this.predicationStrength=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Cye=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,wye="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",Tye=class extends lt{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:no.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new ae(null),depthBuffer:new ae(null),resolution:new ae(new ie),texelSize:new ae(new ie),cameraNear:new ae(.3),cameraFar:new ae(1e3),aspect:new ae(1),time:new ae(0)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=ti){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=Cye.replace(Mn.FRAGMENT_HEAD,t.get(Mn.FRAGMENT_HEAD)||"").replace(Mn.FRAGMENT_MAIN_UV,t.get(Mn.FRAGMENT_MAIN_UV)||"").replace(Mn.FRAGMENT_MAIN_IMAGE,t.get(Mn.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=wye.replace(Mn.VERTEX_HEAD,t.get(Mn.VERTEX_HEAD)||"").replace(Mn.VERTEX_MAIN_SUPPORT,t.get(Mn.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=n2(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return Mn}},Mye=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec2 lightPosition;uniform float exposure;uniform float decay;uniform float density;uniform float weight;uniform float clampMax;varying vec2 vUv;void main(){vec2 coord=vUv;vec2 delta=lightPosition-coord;delta*=1.0/SAMPLES_FLOAT*density;float illuminationDecay=1.0;vec4 color=vec4(0.0);for(int i=0;i<SAMPLES_INT;++i){coord+=delta;vec4 texel=texture2D(inputBuffer,coord);texel*=illuminationDecay*weight;color+=texel;illuminationDecay*=decay;}gl_FragColor=clamp(color*exposure,0.0,clampMax);
#include <dithering_fragment>
}`,_ye=class extends lt{constructor(t){super({name:"GodRaysMaterial",defines:{SAMPLES_INT:"60",SAMPLES_FLOAT:"60.0"},uniforms:{inputBuffer:new ae(null),lightPosition:new ae(t),density:new ae(1),decay:new ae(1),weight:new ae(1),exposure:new ae(1),clampMax:new ae(1)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Mye,vertexShader:Ud})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get lightPosition(){return this.uniforms.lightPosition.value}getLightPosition(){return this.uniforms.lightPosition.value}setLightPosition(t){this.uniforms.lightPosition.value=t}get density(){return this.uniforms.density.value}set density(t){this.uniforms.density.value=t}getDensity(){return this.uniforms.density.value}setDensity(t){this.uniforms.density.value=t}get decay(){return this.uniforms.decay.value}set decay(t){this.uniforms.decay.value=t}getDecay(){return this.uniforms.decay.value}setDecay(t){this.uniforms.decay.value=t}get weight(){return this.uniforms.weight.value}set weight(t){this.uniforms.weight.value=t}getWeight(){return this.uniforms.weight.value}setWeight(t){this.uniforms.weight.value=t}get exposure(){return this.uniforms.exposure.value}set exposure(t){this.uniforms.exposure.value=t}getExposure(){return this.uniforms.exposure.value}setExposure(t){this.uniforms.exposure.value=t}get maxIntensity(){return this.uniforms.clampMax.value}set maxIntensity(t){this.uniforms.clampMax.value=t}getMaxIntensity(){return this.uniforms.clampMax.value}setMaxIntensity(t){this.uniforms.clampMax.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){const e=Math.floor(t);this.defines.SAMPLES_INT=e.toFixed(0),this.defines.SAMPLES_FLOAT=e.toFixed(1),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}},Iye=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,bye=class extends lt{constructor(t=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:no.replace(/\D+/g,"")},uniforms:{inputBuffer:new ae(null),threshold:new ae(0),smoothing:new ae(1),range:new ae(null)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Iye,vertexShader:Ud}),this.colorOutput=t,this.luminanceRange=e}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get threshold(){return this.uniforms.threshold.value}set threshold(t){this.smoothing>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=t}getThreshold(){return this.threshold}setThreshold(t){this.threshold=t}get smoothing(){return this.uniforms.smoothing.value}set smoothing(t){this.threshold>0||t>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=t}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(t){this.smoothing=t}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(t){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(t){t?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(t){return this.colorOutput}setColorOutputEnabled(t){this.colorOutput=t}get useRange(){return this.luminanceRange!==null}set useRange(t){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(t){t!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=t,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(t){this.luminanceRange=t}},Bye=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 3
vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=vec4(mask*texel.rgb,texel.a);
#elif MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,Rye=class extends lt{constructor(t=null){super({name:"MaskMaterial",uniforms:{maskTexture:new ae(t),inputBuffer:new ae(null),strength:new ae(1)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Bye,vertexShader:Ud}),this.colorChannel=i0.RED,this.maskFunction=_7.DISCARD}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}set maskTexture(t){this.uniforms.maskTexture.value=t,delete this.defines.MASK_PRECISION_HIGH,t.type!==an&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(t){this.maskTexture=t}set colorChannel(t){this.defines.COLOR_CHANNEL=t.toFixed(0),this.needsUpdate=!0}setColorChannel(t){this.colorChannel=t}set maskFunction(t){this.defines.MASK_FUNCTION=t.toFixed(0),this.needsUpdate=!0}setMaskFunction(t){this.maskFunction=t}get inverted(){return this.defines.INVERTED!==void 0}set inverted(t){this.inverted&&!t?delete this.defines.INVERTED:t&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get strength(){return this.uniforms.strength.value}set strength(t){this.uniforms.strength.value=t}getStrength(){return this.strength}setStrength(t){this.strength=t}},Dye="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",Pye="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",Lye=class extends lt{constructor(t=new ie){super({name:"OutlineMaterial",uniforms:{inputBuffer:new ae(null),texelSize:new ae(new ie)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Dye,vertexShader:Pye}),this.uniforms.texelSize.value.set(t.x,t.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Fye=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,Oye="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",Uye=class extends lt{constructor(t=new ie,e=new ie){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new ae(null),searchTexture:new ae(null),areaTexture:new ae(null),resolution:new ae(e),texelSize:new ae(t)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Fye,vertexShader:Oye})}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(t){this.uniforms.searchTexture.value=t}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(t){this.uniforms.areaTexture.value=t}setLookupTextures(t,e){this.searchTexture=t,this.areaTexture=e}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(t){const e=Math.min(Math.max(t,0),112);this.defines.MAX_SEARCH_STEPS_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=e.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(t){this.orthogonalSearchSteps=t}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(t){const e=Math.min(Math.max(t,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=e.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=e.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(t){this.diagonalSearchSteps=t}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(t){t?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(t){this.diagonalDetection=t}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(t){const e=Math.min(Math.max(t,0),100);this.defines.CORNER_ROUNDING=e.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(e/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(t){this.cornerRounding=t}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(t){t?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(t){this.cornerDetection=t}setSize(t,e){const n=this.uniforms;n.texelSize.value.set(1/t,1/e),n.resolution.value.set(t,e)}},kye=`#include <common>
#include <packing>
#ifdef NORMAL_DEPTH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
float readDepth(const in vec2 uv){return texture2D(normalDepthBuffer,uv).a;}
#else
uniform lowp sampler2D normalBuffer;
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}
#endif
uniform lowp sampler2D noiseTexture;uniform mat4 inverseProjectionMatrix;uniform mat4 projectionMatrix;uniform vec2 texelSize;uniform vec2 cameraNearFar;uniform float intensity;uniform float minRadiusScale;uniform float fade;uniform float bias;uniform vec2 distanceCutoff;uniform vec2 proximityCutoff;varying vec2 vUv;varying vec2 vUv2;float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#else
return orthographicDepthToViewZ(depth,cameraNearFar.x,cameraNearFar.y);
#endif
}vec3 getViewPosition(const in vec2 screenPosition,const in float depth,const in float viewZ){vec4 clipPosition=vec4(vec3(screenPosition,depth)*2.0-1.0,1.0);float clipW=projectionMatrix[2][3]*viewZ+projectionMatrix[3][3];clipPosition*=clipW;return(inverseProjectionMatrix*clipPosition).xyz;}float getAmbientOcclusion(const in vec3 p,const in vec3 n,const in float depth,const in vec2 uv){float radiusScale=1.0-smoothstep(0.0,distanceCutoff.y,depth);radiusScale=radiusScale*(1.0-minRadiusScale)+minRadiusScale;float radius=RADIUS*radiusScale;float noise=texture2D(noiseTexture,vUv2).r;float baseAngle=noise*PI2;float rings=SPIRAL_TURNS*PI2;float occlusion=0.0;int taps=0;for(int i=0;i<SAMPLES_INT;++i){float alpha=(float(i)+0.5)*INV_SAMPLES_FLOAT;float angle=alpha*rings+baseAngle;vec2 rotation=vec2(cos(angle),sin(angle));vec2 coords=alpha*radius*rotation*texelSize+uv;if(coords.s<0.0||coords.s>1.0||coords.t<0.0||coords.t>1.0){continue;}float sampleDepth=readDepth(coords);float viewZ=getViewZ(sampleDepth);
#ifdef PERSPECTIVE_CAMERA
float linearSampleDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearSampleDepth=sampleDepth;
#endif
float proximity=abs(depth-linearSampleDepth);if(proximity<proximityCutoff.y){float falloff=1.0-smoothstep(proximityCutoff.x,proximityCutoff.y,proximity);vec3 Q=getViewPosition(coords,sampleDepth,viewZ);vec3 v=Q-p;float vv=dot(v,v);float vn=dot(v,n)-bias;float f=max(RADIUS_SQ-vv,0.0)/RADIUS_SQ;occlusion+=(f*f*f*max(vn/(fade+vv),0.0))*falloff;}++taps;}return occlusion/(4.0*max(float(taps),1.0));}void main(){
#ifdef NORMAL_DEPTH
vec4 normalDepth=texture2D(normalDepthBuffer,vUv);
#else
vec4 normalDepth=vec4(texture2D(normalBuffer,vUv).xyz,readDepth(vUv));
#endif
float ao=0.0;float depth=normalDepth.a;float viewZ=getViewZ(depth);
#ifdef PERSPECTIVE_CAMERA
float linearDepth=viewZToOrthographicDepth(viewZ,cameraNearFar.x,cameraNearFar.y);
#else
float linearDepth=depth;
#endif
if(linearDepth<distanceCutoff.y){vec3 viewPosition=getViewPosition(vUv,depth,viewZ);vec3 viewNormal=unpackRGBToNormal(normalDepth.rgb);ao+=getAmbientOcclusion(viewPosition,viewNormal,linearDepth,vUv);float d=smoothstep(distanceCutoff.x,distanceCutoff.y,linearDepth);ao=mix(ao,0.0,d);
#ifdef LEGACY_INTENSITY
ao=clamp(1.0-pow(1.0-ao,abs(intensity)),0.0,1.0);
#endif
}gl_FragColor.r=ao;}`,Nye="uniform vec2 noiseScale;varying vec2 vUv;varying vec2 vUv2;void main(){vUv=position.xy*0.5+0.5;vUv2=vUv*noiseScale;gl_Position=vec4(position.xy,1.0,1.0);}",Gye=class extends lt{constructor(t){super({name:"SSAOMaterial",defines:{SAMPLES_INT:"0",INV_SAMPLES_FLOAT:"0.0",SPIRAL_TURNS:"0.0",RADIUS:"1.0",RADIUS_SQ:"1.0",DISTANCE_SCALING:"1",DEPTH_PACKING:"0"},uniforms:{depthBuffer:new ae(null),normalBuffer:new ae(null),normalDepthBuffer:new ae(null),noiseTexture:new ae(null),inverseProjectionMatrix:new ae(new Ke),projectionMatrix:new ae(new Ke),texelSize:new ae(new ie),cameraNearFar:new ae(new ie),distanceCutoff:new ae(new ie),proximityCutoff:new ae(new ie),noiseScale:new ae(new ie),minRadiusScale:new ae(.33),intensity:new ae(1),fade:new ae(.01),bias:new ae(0)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:kye,vertexShader:Nye}),this.copyCameraSettings(t),this.resolution=new ie,this.r=1}get near(){return this.uniforms.cameraNearFar.value.x}get far(){return this.uniforms.cameraNearFar.value.y}set normalDepthBuffer(t){this.uniforms.normalDepthBuffer.value=t,t!==null?this.defines.NORMAL_DEPTH="1":delete this.defines.NORMAL_DEPTH,this.needsUpdate=!0}setNormalDepthBuffer(t){this.normalDepthBuffer=t}set normalBuffer(t){this.uniforms.normalBuffer.value=t}setNormalBuffer(t){this.uniforms.normalBuffer.value=t}set depthBuffer(t){this.uniforms.depthBuffer.value=t}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=ti){this.depthBuffer=t,this.depthPacking=e}set noiseTexture(t){this.uniforms.noiseTexture.value=t}setNoiseTexture(t){this.uniforms.noiseTexture.value=t}get samples(){return Number(this.defines.SAMPLES_INT)}set samples(t){this.defines.SAMPLES_INT=t.toFixed(0),this.defines.INV_SAMPLES_FLOAT=(1/t).toFixed(9),this.needsUpdate=!0}getSamples(){return this.samples}setSamples(t){this.samples=t}get rings(){return Number(this.defines.SPIRAL_TURNS)}set rings(t){this.defines.SPIRAL_TURNS=t.toFixed(1),this.needsUpdate=!0}getRings(){return this.rings}setRings(t){this.rings=t}get intensity(){return this.uniforms.intensity.value}set intensity(t){this.uniforms.intensity.value=t,this.defines.LEGACY_INTENSITY===void 0&&(this.defines.LEGACY_INTENSITY="1",this.needsUpdate=!0)}getIntensity(){return this.uniforms.intensity.value}setIntensity(t){this.uniforms.intensity.value=t}get fade(){return this.uniforms.fade.value}set fade(t){this.uniforms.fade.value=t}getFade(){return this.uniforms.fade.value}setFade(t){this.uniforms.fade.value=t}get bias(){return this.uniforms.bias.value}set bias(t){this.uniforms.bias.value=t}getBias(){return this.uniforms.bias.value}setBias(t){this.uniforms.bias.value=t}get minRadiusScale(){return this.uniforms.minRadiusScale.value}set minRadiusScale(t){this.uniforms.minRadiusScale.value=t}getMinRadiusScale(){return this.uniforms.minRadiusScale.value}setMinRadiusScale(t){this.uniforms.minRadiusScale.value=t}updateRadius(){const t=this.r*this.resolution.height;this.defines.RADIUS=t.toFixed(11),this.defines.RADIUS_SQ=(t*t).toFixed(11),this.needsUpdate=!0}get radius(){return this.r}set radius(t){this.r=Math.min(Math.max(t,1e-6),1),this.updateRadius()}getRadius(){return this.radius}setRadius(t){this.radius=t}get distanceScaling(){return!0}set distanceScaling(t){}isDistanceScalingEnabled(){return this.distanceScaling}setDistanceScalingEnabled(t){this.distanceScaling=t}get distanceThreshold(){return this.uniforms.distanceCutoff.value.x}set distanceThreshold(t){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.distanceFalloff,0),1))}get worldDistanceThreshold(){return-s0(this.distanceThreshold,this.near,this.far)}set worldDistanceThreshold(t){this.distanceThreshold=Yh(-t,this.near,this.far)}get distanceFalloff(){return this.uniforms.distanceCutoff.value.y-this.distanceThreshold}set distanceFalloff(t){this.uniforms.distanceCutoff.value.y=Math.min(Math.max(this.distanceThreshold+t,0),1)}get worldDistanceFalloff(){return-s0(this.distanceFalloff,this.near,this.far)}set worldDistanceFalloff(t){this.distanceFalloff=Yh(-t,this.near,this.far)}setDistanceCutoff(t,e){this.uniforms.distanceCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}get proximityThreshold(){return this.uniforms.proximityCutoff.value.x}set proximityThreshold(t){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+this.proximityFalloff,0),1))}get worldProximityThreshold(){return-s0(this.proximityThreshold,this.near,this.far)}set worldProximityThreshold(t){this.proximityThreshold=Yh(-t,this.near,this.far)}get proximityFalloff(){return this.uniforms.proximityCutoff.value.y-this.proximityThreshold}set proximityFalloff(t){this.uniforms.proximityCutoff.value.y=Math.min(Math.max(this.proximityThreshold+t,0),1)}get worldProximityFalloff(){return-s0(this.proximityFalloff,this.near,this.far)}set worldProximityFalloff(t){this.proximityFalloff=Yh(-t,this.near,this.far)}setProximityCutoff(t,e){this.uniforms.proximityCutoff.value.set(Math.min(Math.max(t,0),1),Math.min(Math.max(t+e,0),1))}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e)}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNearFar.value.set(t.near,t.far),this.uniforms.projectionMatrix.value.copy(t.projectionMatrix),this.uniforms.inverseProjectionMatrix.value.copy(t.projectionMatrix).invert(),t instanceof Hn?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms,r=n.noiseTexture.value;r!==null&&n.noiseScale.value.set(t/r.image.width,e/r.image.height),n.texelSize.value.set(1/t,1/e),this.resolution.set(t,e),this.updateRadius()}},zye=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,Hye="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",Qye=class extends lt{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new ae(null),supportBuffer:new ae(null),texelSize:new ae(new ie),radius:new ae(.85)},blending:Ct,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:zye,vertexShader:Hye}),this.fragmentShader=n2(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}set supportBuffer(t){this.uniforms.supportBuffer.value=t}get radius(){return this.uniforms.radius.value}set radius(t){this.uniforms.radius.value=t}setSize(t,e){this.uniforms.texelSize.value.set(1/t,1/e)}},Vye=new pm,Nc=null;function Wye(){if(Nc===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);Nc=new bt,Nc.setAttribute!==void 0?(Nc.setAttribute("position",new Yt(t,3)),Nc.setAttribute("uv",new Yt(e,2))):(Nc.addAttribute("position",new Yt(t,3)),Nc.addAttribute("uv",new Yt(e,2)))}return Nc}var ii=class uW{constructor(e="Pass",n=new Sf,r=Vye){this.name=e,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new sn(Wye(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new Sf),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=ti){}render(e,n,r,i,s){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,r){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof Tt||n instanceof fr||n instanceof xn||n instanceof uW)&&this[e].dispose()}}},cW=class extends ii{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new aW,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Tt(1,1,{minFilter:ct,magFilter:ct,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==an?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":ic(t)===Bn&&di(this.renderTarget.texture,Bn))}},jye=class extends ii{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const s=t.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},$L=new Be,Bm=class extends ii{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=t.getClearAlpha(),l=s!==null,u=o>=0;l?(t.getClearColor($L),t.setClearColor(s,u?o:a)):u&&t.setClearAlpha(o),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),l?t.setClearColor($L,a):u&&t.setClearAlpha(a)}},Rm=class extends ii{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new Bm,this.overrideMaterialManager=n===null?null:new tF(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new tF(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,u=s.background,c=t.shadowMap.autoUpdate,f=this.renderToScreen?null:e;a!==null&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(f),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,s,o):t.render(s,o),o.layers.mask=l,s.background=u,t.shadowMap.autoUpdate=c}},b7=class extends ii{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=Rn.AUTO_SIZE,height:s=Rn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new Rm(t,e,new gm({depthPacking:_a}));const l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;const u=l.clearPass;u.overrideClearColor=new Be(16777215),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Tt(1,1,{minFilter:ot,magFilter:ot}),this.renderTarget.texture.name="DepthPass.Target");const c=this.resolution=new Rn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},fW=class extends ii{constructor({normalBuffer:t=null,resolutionScale:e=.5,width:n=Rn.AUTO_SIZE,height:r=Rn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("DepthDownsamplingPass");const o=new mye;o.normalBuffer=t,this.fullscreenMaterial=o,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Tt(1,1,{minFilter:ot,magFilter:ot,depthBuffer:!1,type:Un}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const a=this.resolution=new Rn(this,i,s,e);a.addEventListener("change",l=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(t,e=ti){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){const r=t.getContext();if(!(r.getExtension("EXT_color_buffer_float")||r.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},Xye=class extends ii{constructor({depthPacking:t=_a}={}){super("DepthCopyPass");const e=new hye;e.outputDepthPacking=t,this.fullscreenMaterial=e,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new Tt(1,1,{type:t===_a?an:Un,minFilter:ot,magFilter:ot,depthBuffer:!1}),this.renderTarget.texture.name="DepthCopyPass.Target"}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get depthPacking(){return this.fullscreenMaterial.outputDepthPacking}getDepthPacking(){return this.fullscreenMaterial.outputDepthPacking}setDepthTexture(t,e=ti){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.inputDepthPacking=e}render(t,e,n,r,i){t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.renderTarget.setSize(t,e)}},by=new Float32Array([255/256/256**3,255/256/256**2,255/256/256,255/256]);function Yye(t){return(t[0]*by[0]+t[1]*by[1]+t[2]*by[2]+t[3]*by[3])/255}var Kye=class extends Xye{constructor({depthPacking:t=_a,mode:e=m1.SINGLE}={}){super({depthPacking:t}),this.name="DepthPickingPass",this.fullscreenMaterial.mode=e,this.pixelBuffer=t===_a?new Uint8Array(4):new Float32Array(4),this.callback=null}readDepth(t){return this.fullscreenMaterial.texelPosition.set(t.x*.5+.5,t.y*.5+.5),new Promise(e=>{this.callback=e})}render(t,e,n,r,i){const s=this.fullscreenMaterial,o=s.mode;if(o===m1.FULL&&super.render(t),this.callback!==null){const a=this.renderTarget,l=this.pixelBuffer,u=a.texture.type!==Un;let c=0,f=0;if(o===m1.SINGLE)super.render(t);else{const h=s.texelPosition;c=Math.round(h.x*a.width),f=Math.round(h.y*a.height)}t.readRenderTargetPixels(a,c,f,1,1,l),this.callback(u?Yye(l):l[0]),this.callback=null}}setSize(t,e){this.fullscreenMaterial.mode===m1.FULL&&super.setSize(t,e)}};function eF(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),s=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const o of n.entries())o[1]!==null&&n.set(o[0],o[1].replace(s,i))}}function Jye(t,e,n){let r=e.getFragmentShader(),i=e.getVertexShader();const s=r!==void 0&&/mainImage/.test(r),o=r!==void 0&&/mainUv/.test(r);if(n.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(o&&n.attributes&Io.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let u=l.get(Mn.FRAGMENT_HEAD)||"",c=l.get(Mn.FRAGMENT_MAIN_UV)||"",f=l.get(Mn.FRAGMENT_MAIN_IMAGE)||"",h=l.get(Mn.VERTEX_HEAD)||"",d=l.get(Mn.VERTEX_MAIN_SUPPORT)||"";const g=new Set,v=new Set;if(o&&(c+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const x=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);d+=`	${t}MainSupport(`,d+=x?`vUv);
`:`);
`;for(const E of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const S of E[1].split(/\s*,\s*/))n.varyings.add(S),g.add(S),v.add(S);for(const E of i.matchAll(a))v.add(E[1])}for(const x of r.matchAll(a))v.add(x[1]);for(const x of e.defines.keys())v.add(x.replace(/\([\w\s,]*\)/g,""));for(const x of e.uniforms.keys())v.add(x);v.delete("while"),v.delete("for"),v.delete("if"),e.uniforms.forEach((x,E)=>n.uniforms.set(t+E.charAt(0).toUpperCase()+E.slice(1),x)),e.defines.forEach((x,E)=>n.defines.set(t+E.charAt(0).toUpperCase()+E.slice(1),x));const y=new Map([["fragment",r],["vertex",i]]);eF(t,v,n.defines),eF(t,v,y),r=y.get("fragment"),i=y.get("vertex");const A=e.blendMode;if(n.blendModes.set(A.blendFunction,A),s){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(f+=e.inputColorSpace===Bn?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==rW?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const x=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;f+=`${t}MainImage(color0, UV, `,n.attributes&Io.DEPTH&&x.test(r)&&(f+="depth, ",n.readDepth=!0),f+=`color1);
	`;const E=t+"BlendOpacity";n.uniforms.set(E,A.opacity),f+=`color0 = blend${A.blendFunction}(color0, color1, ${E});

	`,u+=`uniform float ${E};

`}if(u+=r+`
`,i!==null&&(h+=i+`
`),l.set(Mn.FRAGMENT_HEAD,u),l.set(Mn.FRAGMENT_MAIN_UV,c),l.set(Mn.FRAGMENT_MAIN_IMAGE,f),l.set(Mn.VERTEX_HEAD,h),l.set(Mn.VERTEX_MAIN_SUPPORT,d),e.extensions!==null)for(const x of e.extensions)n.extensions.add(x)}}var qye=class extends ii{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new Tye(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new s5e;let e=0;for(const o of this.effects)if(o.blendMode.blendFunction===Ot.DST)t.attributes|=o.getAttributes()&Io.DEPTH;else{if(t.attributes&o.getAttributes()&Io.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);Jye("e"+e++,o,t)}let n=t.shaderParts.get(Mn.FRAGMENT_HEAD),r=t.shaderParts.get(Mn.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(Mn.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of t.blendModes.values())n+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+`
`;t.attributes&Io.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===Bn&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(Mn.FRAGMENT_HEAD,n),t.shaderParts.set(Mn.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(Mn.FRAGMENT_MAIN_UV,i);for(const[o,a]of t.shaderParts)a!==null&&t.shaderParts.set(o,a.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=ti){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const s of this.effects)s.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==an&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}},f4=class extends ii{constructor({kernelSize:t=bm.MEDIUM,resolutionScale:e=.5,width:n=Rn.AUTO_SIZE,height:r=Rn.AUTO_SIZE,resolutionX:i=n,resolutionY:s=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Tt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new Rn(this,i,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new sye,this._blurMaterial.kernelSize=t,this.copyMaterial=new aW}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,u=this.blurMaterial,c=u.kernelSequence;let f=e;this.fullscreenMaterial=u;for(let h=0,d=c.length;h<d;++h){const g=h&1?l:a;u.kernel=c[h],u.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=f.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(s,o)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==an?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):ic(t)===Bn&&(di(this.renderTargetA.texture,Bn),di(this.renderTargetB.texture,Bn)))}static get AUTO_SIZE(){return Rn.AUTO_SIZE}},Zye=class extends ii{constructor({renderTarget:t,luminanceRange:e,colorOutput:n,resolutionScale:r=1,width:i=Rn.AUTO_SIZE,height:s=Rn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new bye(n,e),this.needsSwap=!1,this.renderTarget=t,this.renderTarget===void 0&&(this.renderTarget=new Tt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new Rn(this,o,a,r);l.addEventListener("change",u=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(t,e,n,r,i){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}initialize(t,e,n){n!==void 0&&n!==an&&(this.renderTarget.texture.type=n,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},$ye=class extends ii{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new Bm(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const s=t.getContext(),o=t.state.buffers,a=this.scene,l=this.camera,u=this.clearPass,c=this.inverted?0:1,f=1-c;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,c,4294967295),o.stencil.setClear(f),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?u.render(t,null):(u.render(t,e),u.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(a,l)):(t.setRenderTarget(e),t.render(a,l),t.setRenderTarget(n),t.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},e5e=class extends ii{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Tt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new yye,this.upsamplingMaterial=new Qye,this.resolution=new ie}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(t){if(this.levels!==t){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let n=0;n<t;++n){const r=e.clone();r.texture.name="Downsampling.Mipmap"+n,this.downsamplingMipmaps.push(r)}this.upsamplingMipmaps.push(e);for(let n=1,r=t-1;n<r;++n){const i=e.clone();i.texture.name="Upsampling.Mipmap"+n,this.upsamplingMipmaps.push(i)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(t){this.upsamplingMaterial.radius=t}render(t,e,n,r,i){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:u,upsamplingMipmaps:c}=this;let f=e;this.fullscreenMaterial=a;for(let h=0,d=u.length;h<d;++h){const g=u[h];a.setSize(f.width,f.height),a.inputBuffer=f.texture,t.setRenderTarget(g),t.render(s,o),f=g}this.fullscreenMaterial=l;for(let h=c.length-1;h>=0;--h){const d=c[h];l.setSize(f.width,f.height),l.inputBuffer=f.texture,l.supportBuffer=u[h].texture,t.setRenderTarget(d),t.render(s,o),f=d}}setSize(t,e){const n=this.resolution;n.set(t,e);let r=n.width,i=n.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)r=Math.round(r*.5),i=Math.round(i*.5),this.downsamplingMipmaps[s].setSize(r,i),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(r,i)}initialize(t,e,n){if(n!==void 0){const r=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const i of r)i.texture.type=n;if(n!==an)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(ic(t)===Bn)for(const i of r)di(i.texture,Bn)}}dispose(){super.dispose();for(const t of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))t.dispose()}},t5e=class extends ii{constructor(t,e,{renderTarget:n,resolutionScale:r=1,width:i=Rn.AUTO_SIZE,height:s=Rn.AUTO_SIZE,resolutionX:o=i,resolutionY:a=s}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new Rm(t,e,new Em);const l=this.renderPass;l.ignoreBackground=!0,l.skipShadowMapUpdate=!0;const u=l.getClearPass();u.overrideClearColor=new Be(7829503),u.overrideClearAlpha=1,this.renderTarget=n,this.renderTarget===void 0&&(this.renderTarget=new Tt(1,1,{minFilter:ot,magFilter:ot}),this.renderTarget.texture.name="NormalPass.Target");const c=this.resolution=new Rn(this,o,a,r);c.addEventListener("change",f=>this.setSize(c.baseWidth,c.baseHeight))}set mainScene(t){this.renderPass.mainScene=t}set mainCamera(t){this.renderPass.mainCamera=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const s=this.renderToScreen?null:this.renderTarget;this.renderPass.render(t,s,s)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height)}},Ao=class extends ii{constructor(t,e="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=t,this.input=e}setInput(t){this.input=t}render(t,e,n,r,i){const s=this.fullscreenMaterial.uniforms;e!==null&&s!==void 0&&s[this.input]!==void 0&&(s[this.input].value=e.texture),t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}initialize(t,e,n){n!==void 0&&n!==an&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},gS=1/1e3,n5e=1e3,r5e=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*gS}get fixedDelta(){return this._fixedDelta*gS}set fixedDelta(t){this._fixedDelta=t*n5e}get elapsed(){return this._elapsed*gS}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},i5e=class{constructor(e=null,{depthBuffer:n=!0,stencilBuffer:r=!1,multisampling:i=0,frameBufferType:s}={}){this.renderer=null,this.inputBuffer=this.createBuffer(n,r,s,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new cW,this.depthTexture=null,this.passes=[],this.timer=new r5e,this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const n=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(n.depthBuffer,n.stencilBuffer,n.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,e!==null){const n=e.getSize(new ie),r=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===an&&ic(e)===Bn&&(di(this.inputBuffer.texture,Bn),di(this.outputBuffer.texture,Bn),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(n.width,n.height);for(const s of this.passes)s.initialize(e,r,i)}}replaceRenderer(e,n=!0){const r=this.renderer,i=r.domElement.parentNode;return this.setRenderer(e),n&&i!==null&&(i.removeChild(r.domElement),i.appendChild(e.domElement)),r}createDepthTexture(){const e=this.depthTexture=new Uf;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=ec,e.type=Wl):e.type=Ol,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,n,r,i){const s=this.renderer,o=s===null?new ie:s.getDrawingBufferSize(new ie),a={minFilter:ct,magFilter:ct,stencilBuffer:n,depthBuffer:e,type:r},l=new Tt(o.width,o.height,a);return i>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=i),r===an&&ic(s)===Bn&&di(l.texture,Bn),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const n of this.passes)n.mainScene=e}setMainCamera(e){for(const n of this.passes)n.mainCamera=e}addPass(e,n){const r=this.passes,i=this.renderer,s=i.getDrawingBufferSize(new ie),o=i.getContext().getContextAttributes().alpha,a=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(s.width,s.height),e.initialize(i,o,a),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),n!==void 0?r.splice(n,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const l=this.createDepthTexture();for(e of r)e.setDepthTexture(l)}else e.setDepthTexture(this.depthTexture)}removePass(e){const n=this.passes,r=n.indexOf(e);if(r!==-1&&n.splice(r,1).length>0){if(this.depthTexture!==null){const o=(l,u)=>l||u.needsDepthTexture;n.reduce(o,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===n.length&&(e.renderToScreen=!1,n.length>0&&(n[n.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const n=this.renderer,r=this.copyPass;let i=this.inputBuffer,s=this.outputBuffer,o=!1,a,l,u;e===void 0&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(n,i,s,e,o),c.needsSwap&&(o&&(r.renderToScreen=c.renderToScreen,a=n.getContext(),l=n.state.buffers.stencil,l.setFunc(a.NOTEQUAL,1,4294967295),r.render(n,i,s,e,o),l.setFunc(a.EQUAL,1,4294967295)),u=i,i=s,s=u),c instanceof $ye?o=!0:c instanceof jye&&(o=!1))}setSize(e,n,r){const i=this.renderer,s=i.getSize(new ie);(e===void 0||n===void 0)&&(e=s.width,n=s.height),(s.width!==e||s.height!==n)&&i.setSize(e,n,r);const o=i.getDrawingBufferSize(new ie);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const a of this.passes)a.setSize(o.width,o.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},s5e=class{constructor(){this.shaderParts=new Map([[Mn.FRAGMENT_HEAD,null],[Mn.FRAGMENT_MAIN_UV,null],[Mn.FRAGMENT_MAIN_IMAGE,null],[Mn.VERTEX_HEAD,null],[Mn.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=Io.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=tm}},AS=!1,tF=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case $r:n=this.materialsFlatShadedDoubleSide;break;case Vr:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case $r:n=this.materialsDoubleSide;break;case Vr:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof lt))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const s=e[i].value;s.isRenderTargetTexture&&(e[i].value=null,n.set(i,s))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=Ta;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=Vr,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=$r,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Vr,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=$r,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,AS){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const s of i)s[0].material=s[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return AS}static set workaroundEnabled(t){AS=t}},Gc=-1,Rn=class extends Ra{constructor(t,e=Gc,n=Gc,r=1){super(),this.resizable=t,this.baseSize=new ie(1,1),this.preferredSize=new ie(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new ie,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==Gc?n.width=e.width:e.height!==Gc?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==Gc?n.height=e.height:e.width!==Gc?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(Gc),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return Gc}},B7=class extends Set{constructor(t,e=10){super(),this.l=e,this.exclusive=!1,t!==void 0&&this.set(t)}get layer(){return this.l}set layer(t){const e=this.l;for(const n of this)n.layers.disable(e),n.layers.enable(t);this.l=t}getLayer(){return this.layer}setLayer(t){this.layer=t}isExclusive(){return this.exclusive}setExclusive(t){this.exclusive=t}clear(){const t=this.layer;for(const e of this)e.layers.disable(t);return super.clear()}set(t){this.clear();for(const e of t)this.add(e);return this}indexOf(t){return this.has(t)?0:-1}add(t){return this.exclusive?t.layers.set(this.layer):t.layers.enable(this.layer),super.add(t)}delete(t){return this.has(t)&&t.layers.disable(this.layer),super.delete(t)}toggle(t){let e;return this.has(t)?(this.delete(t),e=!1):(this.add(t),e=!0),e}setVisible(t){for(const e of this)t?e.layers.enable(0):e.layers.disable(0);return this}},o5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",a5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",l5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",u5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",c5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",f5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",h5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",d5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",p5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",m5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",g5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",A5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",v5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",y5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",x5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",E5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",S5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",C5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",w5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",T5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",M5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",_5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",I5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",b5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",B5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",R5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",D5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",P5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",L5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",F5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",O5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",U5e="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",k5e=new Map([[Ot.ADD,o5e],[Ot.ALPHA,a5e],[Ot.AVERAGE,l5e],[Ot.COLOR,u5e],[Ot.COLOR_BURN,c5e],[Ot.COLOR_DODGE,f5e],[Ot.DARKEN,h5e],[Ot.DIFFERENCE,d5e],[Ot.DIVIDE,p5e],[Ot.DST,null],[Ot.EXCLUSION,m5e],[Ot.HARD_LIGHT,g5e],[Ot.HARD_MIX,A5e],[Ot.HUE,v5e],[Ot.INVERT,y5e],[Ot.INVERT_RGB,x5e],[Ot.LIGHTEN,E5e],[Ot.LINEAR_BURN,S5e],[Ot.LINEAR_DODGE,C5e],[Ot.LINEAR_LIGHT,w5e],[Ot.LUMINOSITY,T5e],[Ot.MULTIPLY,M5e],[Ot.NEGATION,_5e],[Ot.NORMAL,I5e],[Ot.OVERLAY,b5e],[Ot.PIN_LIGHT,B5e],[Ot.REFLECT,R5e],[Ot.SATURATION,D5e],[Ot.SCREEN,P5e],[Ot.SOFT_LIGHT,L5e],[Ot.SRC,F5e],[Ot.SUBTRACT,O5e],[Ot.VIVID_LIGHT,U5e]]),N5e=class extends Ra{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new ae(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return k5e.get(this.blendFunction)}},Hi=class extends Ra{constructor(t,e,{attributes:n=Io.NONE,blendFunction:r=Ot.NORMAL,defines:i=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=a,this.defines=i,this.uniforms=s,this.extensions=o,this.blendMode=new N5e(r),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=tm,this._outputColorSpace=rW}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=ti){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Tt||e instanceof fr||e instanceof xn||e instanceof ii)&&this[t].dispose()}}},G5e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,hW=class extends Hi{constructor({blendFunction:t=Ot.SCREEN,luminanceThreshold:e=.9,luminanceSmoothing:n=.025,mipmapBlur:r=!1,intensity:i=1,radius:s=.85,levels:o=8,kernelSize:a=bm.LARGE,resolutionScale:l=.5,width:u=Rn.AUTO_SIZE,height:c=Rn.AUTO_SIZE,resolutionX:f=u,resolutionY:h=c}={}){super("BloomEffect",G5e,{blendFunction:t,uniforms:new Map([["map",new ae(null)],["intensity",new ae(i)]])}),this.renderTarget=new Tt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new f4({kernelSize:a}),this.luminancePass=new Zye({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=n,this.mipmapBlurPass=new e5e,this.mipmapBlurPass.enabled=r,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=r?this.mipmapBlurPass.texture:this.renderTarget.texture;const d=this.resolution=new Rn(this,f,h,l);d.addEventListener("change",g=>this.setSize(d.baseWidth,d.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(t){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getIntensity(){return this.intensity}setIntensity(t){this.intensity=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}update(t,e,n){const r=this.renderTarget,i=this.luminancePass;i.enabled?(i.render(t,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,i.renderTarget):this.blurPass.render(t,i.renderTarget,r)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(t,e):this.blurPass.render(t,e,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n),this.luminancePass.setSize(t,e),this.mipmapBlurPass.setSize(t,e)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.luminancePass.initialize(t,e,n),this.mipmapBlurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,ic(t)===Bn&&di(this.renderTarget.texture,Bn))}},z5e="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",H5e=class extends Hi{constructor(t){super("ColorAverageEffect",z5e,{blendFunction:t})}},Q5e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform lowp sampler2D farCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);
#if MASK_FUNCTION == 1
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,colorFar.a);cocNearFar.x=min(cocNearFar.x*scale,1.0);
#else
vec2 cocNearFar=vec2(texture2D(nearCoCBuffer,uv).r,texture2D(farCoCBuffer,uv).g);cocNearFar=min(cocNearFar*scale,1.0);
#endif
vec4 result=inputColor*(1.0-cocNearFar.y)+colorFar;result=mix(result,colorNear,cocNearFar.x);outputColor=result;}`,V5e=class extends Hi{constructor(t,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i=0,focalLength:s=.1,focusRange:o=s,bokehScale:a=1,resolutionScale:l=1,width:u=Rn.AUTO_SIZE,height:c=Rn.AUTO_SIZE,resolutionX:f=u,resolutionY:h=c}={}){super("DepthOfFieldEffect",Q5e,{blendFunction:e,attributes:Io.DEPTH,uniforms:new Map([["nearColorBuffer",new ae(null)],["farColorBuffer",new ae(null)],["nearCoCBuffer",new ae(null)],["farCoCBuffer",new ae(null)],["scale",new ae(1)]])}),this.camera=t,this.renderTarget=new Tt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.uniforms.get("farCoCBuffer").value=this.renderTargetCoC.texture,this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new Ao(new tye(t));const d=this.cocMaterial;d.focusDistance=i,d.focusRange=o,n!==void 0&&(d.worldFocusDistance=n),r!==void 0&&(d.worldFocusRange=r),this.blurPass=new f4({resolutionScale:l,resolutionX:f,resolutionY:h,kernelSize:bm.MEDIUM}),this.maskPass=new Ao(new Rye(this.renderTargetCoC.texture));const g=this.maskPass.fullscreenMaterial;g.colorChannel=i0.GREEN,this.maskFunction=_7.MULTIPLY_RGB,this.bokehNearBasePass=new Ao(new Iy(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new Ao(new Iy(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new Ao(new Iy(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new Ao(new Iy(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null;const v=this.resolution=new Rn(this,f,h,l);v.addEventListener("change",y=>this.setSize(v.baseWidth,v.baseHeight)),this.bokehScale=a}set mainCamera(t){this.camera=t,this.cocMaterial.copyCameraSettings(t)}get cocTexture(){return this.renderTargetCoC.texture}get maskFunction(){return this.maskPass.fullscreenMaterial.maskFunction}set maskFunction(t){this.maskFunction!==t&&(this.defines.set("MASK_FUNCTION",t.toFixed(0)),this.maskPass.fullscreenMaterial.maskFunction=t,this.setChanged())}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.cocMaterial}getBlurPass(){return this.blurPass}getResolution(){return this.resolution}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(t){this.bokehNearBasePass.fullscreenMaterial.scale=t,this.bokehNearFillPass.fullscreenMaterial.scale=t,this.bokehFarBasePass.fullscreenMaterial.scale=t,this.bokehFarFillPass.fullscreenMaterial.scale=t,this.maskPass.fullscreenMaterial.strength=t,this.uniforms.get("scale").value=t}getBokehScale(){return this.bokehScale}setBokehScale(t){this.bokehScale=t}getTarget(){return this.target}setTarget(t){this.target=t}calculateFocusDistance(t){const e=this.camera,n=e.position.distanceTo(t);return Yh(-n,e.near,e.far)}setDepthTexture(t,e=ti){this.cocMaterial.depthBuffer=t,this.cocMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget,i=this.renderTargetCoC,s=this.renderTargetCoCBlurred,o=this.renderTargetMasked;if(this.target!==null){const a=this.calculateFocusDistance(this.target);this.cocMaterial.focusDistance=a}this.cocPass.render(t,null,i),this.blurPass.render(t,i,s),this.maskPass.render(t,e,o),this.bokehFarBasePass.render(t,o,r),this.bokehFarFillPass.render(t,r,this.renderTargetFar),this.bokehNearBasePass.render(t,e,r),this.bokehNearFillPass.render(t,r,this.renderTargetNear)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.cocPass.setSize(t,e),this.blurPass.setSize(t,e),this.maskPass.setSize(t,e),this.renderTargetFar.setSize(t,e),this.renderTargetCoC.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.renderTarget.setSize(r,i),this.renderTargetNear.setSize(r,i),this.renderTargetCoCBlurred.setSize(r,i),this.bokehNearBasePass.fullscreenMaterial.setSize(t,e),this.bokehNearFillPass.fullscreenMaterial.setSize(t,e),this.bokehFarBasePass.fullscreenMaterial.setSize(t,e),this.bokehFarFillPass.fullscreenMaterial.setSize(t,e)}initialize(t,e,n){this.cocPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.bokehNearBasePass.initialize(t,e,n),this.bokehNearFillPass.initialize(t,e,n),this.bokehFarBasePass.initialize(t,e,n),this.bokehFarFillPass.initialize(t,e,n),this.blurPass.initialize(t,e,an),t.capabilities.logarithmicDepthBuffer&&(this.cocPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTarget.texture.type=n,this.renderTargetNear.texture.type=n,this.renderTargetFar.texture.type=n,this.renderTargetMasked.texture.type=n,ic(t)===Bn&&(di(this.renderTarget.texture,Bn),di(this.renderTargetNear.texture,Bn),di(this.renderTargetFar.texture,Bn),di(this.renderTargetMasked.texture,Bn)))}};function nF(t,e,n){const r=document.createElement("canvas"),i=r.getContext("2d");if(r.width=t,r.height=e,n instanceof Image)i.drawImage(n,0,0);else{const s=i.createImageData(t,e);s.data.set(n),i.putImageData(s,0,0)}return r}var W5e=class dW{constructor(e=0,n=0,r=null){this.width=e,this.height=n,this.data=r}toCanvas(){return typeof document>"u"?null:nF(this.width,this.height,this.data)}static from(e){const{width:n,height:r}=e;let i;if(e instanceof Image){const s=nF(n,r,e);s!==null&&(i=s.getContext("2d").getImageData(0,0,n,r).data)}else i=e.data;return new dW(n,r,i)}},j5e=`"use strict";(()=>{var O={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function k(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=_[0];P[0]=s,P[1]=F,P[2]=f;let o=_[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(r**3*4),y=t instanceof Uint8Array?255:1,h=r**2,A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;k(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case O.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();
`,rF=new Be,X5e=class C5 extends $h{constructor(e,n){super(e,n,n,n),this.type=Un,this.format=yn,this.minFilter=ct,this.magFilter=ct,this.wrapS=Kn,this.wrapT=Kn,this.wrapR=Kn,this.unpackAlignment=1,this.needsUpdate=!0,di(this,tm),this.domainMin=new k(0,0,0),this.domainMax=new k(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(e,n=!0){const r=this.image;let i;return e<=r.width?i=Promise.reject(new Error("The target size must be greater than the current size")):i=new Promise((s,o)=>{const a=URL.createObjectURL(new Blob([j5e],{type:"text/javascript"})),l=new Worker(a);l.addEventListener("error",c=>o(c.error)),l.addEventListener("message",c=>{const f=new C5(c.data,e);mS(this,f),f.type=this.type,f.name=this.name,URL.revokeObjectURL(a),s(f)});const u=n?[r.data.buffer]:[];l.postMessage({operation:qve.SCALE_UP,data:r.data,size:e},u)}),i}applyLUT(e){const n=this.image,r=e.image,i=Math.min(n.width,n.height,n.depth),s=Math.min(r.width,r.height,r.depth);if(i!==s)console.error("Size mismatch");else if(e.type!==Un||this.type!==Un)console.error("Both LUTs must be FloatType textures");else if(e.format!==yn||this.format!==yn)console.error("Both LUTs must be RGBA textures");else{const o=n.data,a=r.data,l=i,u=l**2,c=l-1;for(let f=0,h=l**3;f<h;++f){const d=f*4,g=o[d+0]*c,v=o[d+1]*c,y=o[d+2]*c,A=Math.round(g+v*l+y*u)*4;o[d+0]=a[A+0],o[d+1]=a[A+1],o[d+2]=a[A+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===Un){const e=this.image.data,n=new Uint8Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]*255+.5;this.image.data=n,this.type=an,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===an){const e=this.image.data,n=new Float32Array(e.length);for(let r=0,i=e.length;r<i;++r)n[r]=e[r]/255;this.image.data=n,this.type=Un,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const e=this.image.data;if(this.type===Un){for(let n=0,r=e.length;n<r;n+=4)rF.fromArray(e,n).convertLinearToSRGB().toArray(e,n);di(this,Bn),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const e=this.image.data;if(this.type===Un){for(let n=0,r=e.length;n<r;n+=4)rF.fromArray(e,n).convertSRGBToLinear().toArray(e,n);di(this,tm),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const e=this.image.width,n=this.image.height*this.image.depth,r=new Xs(this.image.data,e,n);return r.name=this.name,r.type=this.type,r.format=this.format,r.minFilter=ct,r.magFilter=ct,r.wrapS=this.wrapS,r.wrapT=this.wrapT,r.generateMipmaps=!1,r.needsUpdate=!0,mS(this,r),r}static from(e){const n=e.image,{width:r,height:i}=n,s=Math.min(r,i);let o;if(n instanceof Image){const u=W5e.from(n).data;if(r>i){o=new Uint8Array(u.length);for(let c=0;c<s;++c)for(let f=0;f<s;++f)for(let h=0;h<s;++h){const d=(h+c*s+f*s*s)*4,g=(h+f*s+c*s*s)*4;o[g+0]=u[d+0],o[g+1]=u[d+1],o[g+2]=u[d+2],o[g+3]=u[d+3]}}else o=new Uint8Array(u.buffer)}else o=n.data.slice();const a=new C5(o,s);return a.type=e.type,a.name=e.name,mS(e,a),a}static createNeutral(e){const n=new Float32Array(e**3*4),r=e**2,i=1/(e-1);for(let o=0;o<e;++o)for(let a=0;a<e;++a)for(let l=0;l<e;++l){const u=(o+a*e+l*r)*4;n[u+0]=o*i,n[u+1]=a*i,n[u+2]=l*i,n[u+3]=1}const s=new C5(n,e);return s.name="neutral",s}};function Y5e(t,e,n){const r=new Map([[A3,1],[Qu,1],[zh,2],[yn,4]]);let i;if(r.has(e)||console.error("Invalid noise texture format"),n===an){i=new Uint8Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()*255+.5}else{i=new Float32Array(t*r.get(e));for(let s=0,o=i.length;s<o;++s)i[s]=Math.random()}return i}var nT=class extends Xs{constructor(t,e,n=A3,r=an){super(Y5e(t*e,n,r),t,e,n,r),this.needsUpdate=!0}},K5e="uniform lowp sampler2D perturbationMap;uniform bool active;uniform float columns;uniform float random;uniform vec2 seeds;uniform vec2 distortion;void mainUv(inout vec2 uv){if(active){if(uv.y<distortion.x+columns&&uv.y>distortion.x-columns*random){float sx=clamp(ceil(seeds.x),0.0,1.0);uv.y=sx*(1.0-(uv.y+distortion.y))+(1.0-sx)*distortion.y;}if(uv.x<distortion.y+columns&&uv.x>distortion.y-columns*random){float sy=clamp(ceil(seeds.y),0.0,1.0);uv.x=sy*distortion.x+(1.0-sy)*(1.0-(uv.x+distortion.x));}vec2 normal=texture2D(perturbationMap,uv*random*random).rg;uv+=normal*seeds*(random*0.2);}}",By="Glitch.Generated";function Os(t,e){return t+Math.random()*(e-t)}var J5e=class extends Hi{constructor({chromaticAberrationOffset:t=null,delay:e=new ie(1.5,3.5),duration:n=new ie(.6,1),strength:r=new ie(.3,1),columns:i=.05,ratio:s=.85,perturbationMap:o=null,dtSize:a=64}={}){if(super("GlitchEffect",K5e,{uniforms:new Map([["perturbationMap",new ae(null)],["columns",new ae(i)],["active",new ae(!1)],["random",new ae(1)],["seeds",new ae(new ie)],["distortion",new ae(new ie)]])}),o===null){const l=new nT(a,a,yn);l.name=By,this.perturbationMap=l}else this.perturbationMap=o;this.time=0,this.distortion=this.uniforms.get("distortion").value,this.delay=e,this.duration=n,this.breakPoint=new ie(Os(this.delay.x,this.delay.y),Os(this.duration.x,this.duration.y)),this.strength=r,this.mode=Oh.SPORADIC,this.ratio=s,this.chromaticAberrationOffset=t}get seeds(){return this.uniforms.get("seeds").value}get active(){return this.uniforms.get("active").value}isActive(){return this.active}get minDelay(){return this.delay.x}set minDelay(t){this.delay.x=t}getMinDelay(){return this.delay.x}setMinDelay(t){this.delay.x=t}get maxDelay(){return this.delay.y}set maxDelay(t){this.delay.y=t}getMaxDelay(){return this.delay.y}setMaxDelay(t){this.delay.y=t}get minDuration(){return this.duration.x}set minDuration(t){this.duration.x=t}getMinDuration(){return this.duration.x}setMinDuration(t){this.duration.x=t}get maxDuration(){return this.duration.y}set maxDuration(t){this.duration.y=t}getMaxDuration(){return this.duration.y}setMaxDuration(t){this.duration.y=t}get minStrength(){return this.strength.x}set minStrength(t){this.strength.x=t}getMinStrength(){return this.strength.x}setMinStrength(t){this.strength.x=t}get maxStrength(){return this.strength.y}set maxStrength(t){this.strength.y=t}getMaxStrength(){return this.strength.y}setMaxStrength(t){this.strength.y=t}getMode(){return this.mode}setMode(t){this.mode=t}getGlitchRatio(){return 1-this.ratio}setGlitchRatio(t){this.ratio=Math.min(Math.max(1-t,0),1)}get columns(){return this.uniforms.get("columns").value}set columns(t){this.uniforms.get("columns").value=t}getGlitchColumns(){return this.columns}setGlitchColumns(t){this.columns=t}getChromaticAberrationOffset(){return this.chromaticAberrationOffset}setChromaticAberrationOffset(t){this.chromaticAberrationOffset=t}get perturbationMap(){return this.uniforms.get("perturbationMap").value}set perturbationMap(t){const e=this.perturbationMap;e!==null&&e.name===By&&e.dispose(),t.minFilter=t.magFilter=ot,t.wrapS=t.wrapT=ei,t.generateMipmaps=!1,this.uniforms.get("perturbationMap").value=t}getPerturbationMap(){return this.perturbationMap}setPerturbationMap(t){this.perturbationMap=t}generatePerturbationMap(t=64){const e=new nT(t,t,yn);return e.name=By,e}update(t,e,n){const r=this.mode,i=this.breakPoint,s=this.chromaticAberrationOffset,o=this.strength;let a=this.time,l=!1,u=0,c=0,f;r!==Oh.DISABLED&&(r===Oh.SPORADIC&&(a+=n,f=a>i.x,a>=i.x+i.y&&(i.set(Os(this.delay.x,this.delay.y),Os(this.duration.x,this.duration.y)),a=0)),u=Math.random(),this.uniforms.get("random").value=u,f&&u>this.ratio||r===Oh.CONSTANT_WILD?(l=!0,u*=o.y*.03,c=Os(-Math.PI,Math.PI),this.seeds.set(Os(-o.y,o.y),Os(-o.y,o.y)),this.distortion.set(Os(0,1),Os(0,1))):(f||r===Oh.CONSTANT_MILD)&&(l=!0,u*=o.x*.03,c=Os(-Math.PI,Math.PI),this.seeds.set(Os(-o.x,o.x),Os(-o.x,o.x)),this.distortion.set(Os(0,1),Os(0,1))),this.time=a),s!==null&&(l?s.set(Math.cos(c),Math.sin(c)).multiplyScalar(u):s.set(0,0)),this.uniforms.get("active").value=l}dispose(){const t=this.perturbationMap;t!==null&&t.name===By&&t.dispose()}},q5e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv);}`,vS=new k,iF=new Ke,Z5e=class extends Hi{constructor(t,e,{blendFunction:n=Ot.SCREEN,samples:r=60,density:i=.96,decay:s=.9,weight:o=.4,exposure:a=.6,clampMax:l=1,blur:u=!0,kernelSize:c=bm.SMALL,resolutionScale:f=.5,width:h=Rn.AUTO_SIZE,height:d=Rn.AUTO_SIZE,resolutionX:g=h,resolutionY:v=d}={}){super("GodRaysEffect",q5e,{blendFunction:n,attributes:Io.DEPTH,uniforms:new Map([["map",new ae(null)]])}),this.camera=t,this._lightSource=e,this.lightSource=e,this.lightScene=new Sf,this.screenPosition=new ie,this.renderTargetA=new Tt(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="GodRays.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="GodRays.Target.B",this.uniforms.get("map").value=this.renderTargetB.texture,this.renderTargetLight=new Tt(1,1),this.renderTargetLight.texture.name="GodRays.Light",this.renderTargetLight.depthTexture=new Uf,this.renderPassLight=new Rm(this.lightScene,t),this.renderPassLight.clearPass.overrideClearColor=new Be(0),this.clearPass=new Bm(!0,!1,!1),this.clearPass.overrideClearColor=new Be(0),this.blurPass=new f4({kernelSize:c}),this.blurPass.enabled=u,this.depthMaskPass=new Ao(new lW);const y=this.depthMaskMaterial;y.depthBuffer1=this.renderTargetLight.depthTexture,y.copyCameraSettings(t),this.godRaysPass=new Ao(new _ye(this.screenPosition));const A=this.godRaysMaterial;A.density=i,A.decay=s,A.weight=o,A.exposure=a,A.maxIntensity=l,A.samples=r;const x=this.resolution=new Rn(this,g,v,f);x.addEventListener("change",E=>this.setSize(x.baseWidth,x.baseHeight))}set mainCamera(t){this.camera=t,this.renderPassLight.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}get lightSource(){return this._lightSource}set lightSource(t){this._lightSource=t,t!==null&&(t.material.depthWrite=!1,t.material.transparent=!0)}getBlurPass(){return this.blurPass}get texture(){return this.renderTargetB.texture}getTexture(){return this.texture}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get godRaysMaterial(){return this.godRaysPass.fullscreenMaterial}getGodRaysMaterial(){return this.godRaysMaterial}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get dithering(){return this.godRaysMaterial.dithering}set dithering(t){const e=this.godRaysMaterial;e.dithering=t,e.needsUpdate=!0}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}get samples(){return this.godRaysMaterial.samples}set samples(t){this.godRaysMaterial.samples=t}setDepthTexture(t,e=ti){this.depthMaskPass.fullscreenMaterial.depthBuffer0=t,this.depthMaskPass.fullscreenMaterial.depthPacking0=e}update(t,e,n){const r=this.lightSource,i=r.parent,s=r.matrixAutoUpdate,o=this.renderTargetA,a=this.renderTargetLight;r.material.depthWrite=!0,r.matrixAutoUpdate=!1,r.updateWorldMatrix(!0,!1),i!==null&&(s||iF.copy(r.matrix),r.matrix.copy(r.matrixWorld)),this.lightScene.add(r),this.renderPassLight.render(t,a),this.clearPass.render(t,o),this.depthMaskPass.render(t,a,o),r.material.depthWrite=!1,r.matrixAutoUpdate=s,i!==null&&(s||r.matrix.copy(iF),i.add(r)),vS.setFromMatrixPosition(r.matrixWorld).project(this.camera),this.screenPosition.set(Math.min(Math.max((vS.x+1)*.5,-1),2),Math.min(Math.max((vS.y+1)*.5,-1),2)),this.blurPass.enabled&&this.blurPass.render(t,o,o),this.godRaysPass.render(t,o,this.renderTargetB)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.renderTargetLight.setSize(r,i),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),this.renderPassLight.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),this.godRaysPass.initialize(t,e,n),n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,this.renderTargetLight.texture.type=n,ic(t)===Bn&&(di(this.renderTargetA.texture,Bn),di(this.renderTargetB.texture,Bn),di(this.renderTargetLight.texture,Bn)))}},$5e="uniform vec2 scale;uniform float lineWidth;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float grid=0.5-max(abs(mod(uv.x*scale.x,1.0)-0.5),abs(mod(uv.y*scale.y,1.0)-0.5));outputColor=vec4(vec3(smoothstep(0.0,lineWidth,grid)),inputColor.a);}",exe=class extends Hi{constructor({blendFunction:t=Ot.OVERLAY,scale:e=1,lineWidth:n=0}={}){super("GridEffect",$5e,{blendFunction:t,uniforms:new Map([["scale",new ae(new ie)],["lineWidth",new ae(n)]])}),this.resolution=new ie,this.s=0,this.scale=e,this.l=0,this.lineWidth=n}get scale(){return this.s}set scale(t){this.s=Math.max(t,1e-6),this.setSize(this.resolution.width,this.resolution.height)}getScale(){return this.scale}setScale(t){this.scale=t}get lineWidth(){return this.l}set lineWidth(t){this.l=t,this.setSize(this.resolution.width,this.resolution.height)}getLineWidth(){return this.lineWidth}setLineWidth(t){this.lineWidth=t}setSize(t,e){this.resolution.set(t,e);const n=t/e,r=this.scale*(e*.125);this.uniforms.get("scale").value.set(n*r,r),this.uniforms.get("lineWidth").value=r/e+this.lineWidth}},txe=`uniform vec3 scale;uniform vec3 offset;
#ifdef CUSTOM_INPUT_DOMAIN
uniform vec3 domainMin;uniform vec3 domainMax;
#endif
#ifdef LUT_3D
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler3D lut;
#else
uniform mediump sampler3D lut;
#endif
#else
uniform lowp sampler3D lut;
#endif
vec4 applyLUT(const in vec3 rgb){
#ifdef TETRAHEDRAL_INTERPOLATION
vec3 p=floor(rgb);vec3 f=rgb-p;vec3 v1=(p+0.5)*LUT_TEXEL_WIDTH;vec3 v4=(p+1.5)*LUT_TEXEL_WIDTH;vec3 v2,v3;vec3 frac;if(f.r>=f.g){if(f.g>f.b){frac=f.rgb;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else if(f.r>=f.b){frac=f.rbg;v2=vec3(v4.x,v1.y,v1.z);v3=vec3(v4.x,v1.y,v4.z);}else{frac=f.brg;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v4.x,v1.y,v4.z);}}else{if(f.b>f.g){frac=f.bgr;v2=vec3(v1.x,v1.y,v4.z);v3=vec3(v1.x,v4.y,v4.z);}else if(f.r>=f.b){frac=f.grb;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v4.x,v4.y,v1.z);}else{frac=f.gbr;v2=vec3(v1.x,v4.y,v1.z);v3=vec3(v1.x,v4.y,v4.z);}}vec4 n1=texture(lut,v1);vec4 n2=texture(lut,v2);vec4 n3=texture(lut,v3);vec4 n4=texture(lut,v4);vec4 weights=vec4(1.0-frac.x,frac.x-frac.y,frac.y-frac.z,frac.z);vec4 result=weights*mat4(vec4(n1.r,n2.r,n3.r,n4.r),vec4(n1.g,n2.g,n3.g,n4.g),vec4(n1.b,n2.b,n3.b,n4.b),vec4(1.0));return vec4(result.rgb,1.0);
#else
return texture(lut,rgb);
#endif
}
#else
#ifdef LUT_PRECISION_HIGH
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D lut;
#else
uniform mediump sampler2D lut;
#endif
#else
uniform lowp sampler2D lut;
#endif
vec4 applyLUT(const in vec3 rgb){float slice=rgb.b*LUT_SIZE;float slice0=floor(slice);float interp=slice-slice0;float centeredInterp=interp-0.5;float slice1=slice0+sign(centeredInterp);
#ifdef LUT_STRIP_HORIZONTAL
float xOffset=clamp(rgb.r*LUT_TEXEL_HEIGHT,LUT_TEXEL_WIDTH*0.5,LUT_TEXEL_HEIGHT-LUT_TEXEL_WIDTH*0.5);vec2 uv0=vec2(slice0*LUT_TEXEL_HEIGHT+xOffset,rgb.g);vec2 uv1=vec2(slice1*LUT_TEXEL_HEIGHT+xOffset,rgb.g);
#else
float yOffset=clamp(rgb.g*LUT_TEXEL_WIDTH,LUT_TEXEL_HEIGHT*0.5,LUT_TEXEL_WIDTH-LUT_TEXEL_HEIGHT*0.5);vec2 uv0=vec2(rgb.r,slice0*LUT_TEXEL_WIDTH+yOffset);vec2 uv1=vec2(rgb.r,slice1*LUT_TEXEL_WIDTH+yOffset);
#endif
vec4 sample0=texture2D(lut,uv0);vec4 sample1=texture2D(lut,uv1);return mix(sample0,sample1,abs(centeredInterp));}
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 c=inputColor.rgb;
#ifdef CUSTOM_INPUT_DOMAIN
if(c.r>=domainMin.r&&c.g>=domainMin.g&&c.b>=domainMin.b&&c.r<=domainMax.r&&c.g<=domainMax.g&&c.b<=domainMax.b){c=applyLUT(scale*c+offset).rgb;}else{c=inputColor.rgb;}
#else
#if !defined(LUT_3D) || defined(TETRAHEDRAL_INTERPOLATION)
c=clamp(c,0.0,1.0);
#endif
c=applyLUT(scale*c+offset).rgb;
#endif
outputColor=vec4(c,inputColor.a);}`,nxe=class extends Hi{constructor(t,{blendFunction:e=Ot.SRC,tetrahedralInterpolation:n=!1,inputEncoding:r=xa,inputColorSpace:i}={}){super("LUT3DEffect",txe,{blendFunction:e,uniforms:new Map([["lut",new ae(null)],["scale",new ae(new k)],["offset",new ae(new k)],["domainMin",new ae(null)],["domainMax",new ae(null)]])}),this.tetrahedralInterpolation=n,this.inputColorSpace=i||oW.get(r),this.lut=t}get inputEncoding(){return this.inputColorSpace}set inputEncoding(t){this.inputColorSpace=t}getInputEncoding(){return this.inputColorSpace}setInputEncoding(t){this.inputColorSpace=t}getOutputEncoding(){return this.outputColorSpace}get lut(){return this.uniforms.get("lut").value}set lut(t){const e=this.defines,n=this.uniforms;if(this.lut!==t&&(n.get("lut").value=t,t!==null)){const r=t.image,i=this.tetrahedralInterpolation;if(e.clear(),e.set("LUT_SIZE",Math.min(r.width,r.height).toFixed(16)),e.set("LUT_TEXEL_WIDTH",(1/r.width).toFixed(16)),e.set("LUT_TEXEL_HEIGHT",(1/r.height).toFixed(16)),n.get("domainMin").value=null,n.get("domainMax").value=null,(t.type===Un||t.type===Ln)&&e.set("LUT_PRECISION_HIGH","1"),r.width>r.height?e.set("LUT_STRIP_HORIZONTAL","1"):t instanceof $h&&e.set("LUT_3D","1"),t instanceof X5e){const s=t.domainMin,o=t.domainMax;(s.x!==0||s.y!==0||s.z!==0||o.x!==1||o.y!==1||o.z!==1)&&(e.set("CUSTOM_INPUT_DOMAIN","1"),n.get("domainMin").value=s.clone(),n.get("domainMax").value=o.clone())}this.tetrahedralInterpolation=i}}getLUT(){return this.lut}setLUT(t){this.lut=t}updateScaleOffset(){const t=this.lut;if(t!==null){const e=Math.min(t.image.width,t.image.height),n=this.uniforms.get("scale").value,r=this.uniforms.get("offset").value;if(this.tetrahedralInterpolation&&t instanceof $h)if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n)}else n.setScalar(e-1),r.setScalar(0);else if(this.defines.has("CUSTOM_INPUT_DOMAIN")){const i=t.domainMax.clone().sub(t.domainMin).multiplyScalar(e);n.setScalar(e-1).divide(i),r.copy(t.domainMin).negate().multiply(n).addScalar(1/(2*e))}else n.setScalar((e-1)/e),r.setScalar(1/(2*e))}}configureTetrahedralInterpolation(){const t=this.lut;t!==null&&(t.minFilter=ct,t.magFilter=ct,this.tetrahedralInterpolation&&(t instanceof $h?(t.minFilter=ot,t.magFilter=ot):console.warn("Tetrahedral interpolation requires a 3D texture")),t.source===void 0&&(t.needsUpdate=!0))}get tetrahedralInterpolation(){return this.defines.has("TETRAHEDRAL_INTERPOLATION")}set tetrahedralInterpolation(t){t?this.defines.set("TETRAHEDRAL_INTERPOLATION","1"):this.defines.delete("TETRAHEDRAL_INTERPOLATION"),this.configureTetrahedralInterpolation(),this.updateScaleOffset(),this.setChanged()}setTetrahedralInterpolationEnabled(t){this.tetrahedralInterpolation=t}},rxe=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texture2D(patternTexture,vUvPattern);
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,ixe="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",sxe=class extends Hi{constructor(t,e,{blendFunction:n=Ot.SCREEN,patternTexture:r=null,patternScale:i=1,edgeStrength:s=1,pulseSpeed:o=0,visibleEdgeColor:a=16777215,hiddenEdgeColor:l=2230538,kernelSize:u=bm.VERY_SMALL,blur:c=!1,xRay:f=!0,multisampling:h=0,resolutionScale:d=.5,width:g=Rn.AUTO_SIZE,height:v=Rn.AUTO_SIZE,resolutionX:y=g,resolutionY:A=v}={}){super("OutlineEffect",rxe,{uniforms:new Map([["maskTexture",new ae(null)],["edgeTexture",new ae(null)],["edgeStrength",new ae(s)],["visibleEdgeColor",new ae(new Be(a))],["hiddenEdgeColor",new ae(new Be(l))],["pulse",new ae(1)],["patternScale",new ae(i)],["patternTexture",new ae(null)]])}),this.blendMode.addEventListener("change",w=>{this.blendMode.blendFunction===Ot.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.blendFunction=n,this.patternTexture=r,this.xRay=f,this.scene=t,this.camera=e,this.renderTargetMask=new Tt(1,1),this.renderTargetMask.samples=h,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new Tt(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new Bm,this.clearPass.overrideClearColor=new Be(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new b7(t,e),this.maskPass=new Rm(t,e,new uye(this.depthPass.texture,e));const x=this.maskPass.clearPass;x.overrideClearColor=new Be(16777215),x.overrideClearAlpha=1,this.blurPass=new f4({resolutionScale:d,resolutionX:y,resolutionY:A,kernelSize:u}),this.blurPass.enabled=c;const E=this.blurPass.resolution;E.addEventListener("change",w=>this.setSize(E.baseWidth,E.baseHeight)),this.outlinePass=new Ao(new Lye);const S=this.outlinePass.fullscreenMaterial;S.inputBuffer=this.renderTargetMask.texture,this.time=0,this.forceUpdate=!0,this.selection=new B7,this.selection.layer=10,this.pulseSpeed=o}set mainScene(t){this.scene=t,this.depthPass.mainScene=t,this.maskPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.maskPass.mainCamera=t,this.maskPass.overrideMaterial.copyCameraSettings(t)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(t){this.renderTargetMask.samples=t,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(t){this.uniforms.get("patternScale").value=t}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(t){this.uniforms.get("edgeStrength").value=t}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(t){this.uniforms.get("visibleEdgeColor").value=t}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(t){this.uniforms.get("hiddenEdgeColor").value=t}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(t){this.pulseSpeed=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get selectionLayer(){return this.selection.layer}set selectionLayer(t){this.selection.layer=t}get dithering(){return this.blurPass.dithering}set dithering(t){this.blurPass.dithering=t}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(t){this.blurPass.kernelSize=t}get blur(){return this.blurPass.enabled}set blur(t){this.blurPass.enabled=t}get xRay(){return this.defines.has("X_RAY")}set xRay(t){this.xRay!==t&&(t?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(t){this.xRay=t}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(t){t!==null?(t.wrapS=t.wrapT=ei,this.defines.set("USE_PATTERN","1"),this.setVertexShader(ixe)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.uniforms.get("patternTexture").value=t,this.setChanged()}setPatternTexture(t){this.patternTexture=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}setSelection(t){return this.selection.set(t),this}clearSelection(){return this.selection.clear(),this}selectObject(t){return this.selection.add(t),this}deselectObject(t){return this.selection.delete(t),this}update(t,e,n){const r=this.scene,i=this.camera,s=this.selection,a=this.uniforms.get("pulse"),l=r.background,u=i.layers.mask;(this.forceUpdate||s.size>0)&&(r.background=null,a.value=1,this.pulseSpeed>0&&(a.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.time+=n,s.setVisible(!1),this.depthPass.render(t),s.setVisible(!0),i.layers.set(s.layer),this.maskPass.render(t,this.renderTargetMask),i.layers.mask=u,r.background=l,this.outlinePass.render(t,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(t,this.renderTargetOutline,this.renderTargetOutline)),this.forceUpdate=s.size>0}setSize(t,e){this.blurPass.setSize(t,e),this.renderTargetMask.setSize(t,e);const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.depthPass.setSize(r,i),this.renderTargetOutline.setSize(r,i),this.outlinePass.fullscreenMaterial.setSize(r,i)}initialize(t,e,n){this.blurPass.initialize(t,e,an),n!==void 0&&(this.depthPass.initialize(t,e,n),this.maskPass.initialize(t,e,n),this.outlinePass.initialize(t,e,n))}},oxe="uniform bool active;uniform vec4 d;void mainUv(inout vec2 uv){if(active){uv=d.xy*(floor(uv*d.zw)+0.5);}}",axe=class extends Hi{constructor(t=30){super("PixelationEffect",oxe,{uniforms:new Map([["active",new ae(!1)],["d",new ae(new kt)]])}),this.resolution=new ie,this._granularity=0,this.granularity=t}get granularity(){return this._granularity}set granularity(t){let e=Math.floor(t);e%2>0&&(e+=1),this._granularity=e,this.uniforms.get("active").value=e>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(t){this.granularity=t}setSize(t,e){const n=this.resolution;n.set(t,e);const r=this.granularity,i=r/n.x,s=r/n.y;this.uniforms.get("d").value.set(i,s,1/i,1/s)}},lxe=class extends hW{constructor(t,e,n){super(n),this.setAttributes(this.getAttributes()|Io.DEPTH),this.camera=e,this.depthPass=new b7(t,e),this.clearPass=new Bm(!0,!1,!1),this.clearPass.overrideClearColor=new Be(0),this.depthMaskPass=new Ao(new lW);const r=this.depthMaskMaterial;r.copyCameraSettings(e),r.depthBuffer1=this.depthPass.texture,r.depthPacking1=_a,r.depthMode=SA,this.renderTargetMasked=new Tt(1,1,{depthBuffer:!1}),this.renderTargetMasked.texture.name="Bloom.Masked",this.selection=new B7,this.selection.layer=11,this._inverted=!1,this._ignoreBackground=!1}set mainScene(t){this.depthPass.mainScene=t}set mainCamera(t){this.camera=t,this.depthPass.mainCamera=t,this.depthMaskMaterial.copyCameraSettings(t)}getSelection(){return this.selection}get depthMaskMaterial(){return this.depthMaskPass.fullscreenMaterial}get inverted(){return this._inverted}set inverted(t){this._inverted=t,this.depthMaskMaterial.depthMode=t?d6:SA}isInverted(){return this.inverted}setInverted(t){this.inverted=t}get ignoreBackground(){return this._ignoreBackground}set ignoreBackground(t){this._ignoreBackground=t,this.depthMaskMaterial.maxDepthStrategy=t?H1.DISCARD_MAX_DEPTH:H1.KEEP_MAX_DEPTH}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}setDepthTexture(t,e=ti){this.depthMaskMaterial.depthBuffer0=t,this.depthMaskMaterial.depthPacking0=e}update(t,e,n){const r=this.camera,i=this.selection,s=this.inverted;let o=e;if(this.ignoreBackground||!s||i.size>0){const a=r.layers.mask;r.layers.set(i.layer),this.depthPass.render(t),r.layers.mask=a,o=this.renderTargetMasked,this.clearPass.render(t,o),this.depthMaskPass.render(t,e,o)}super.update(t,o,n)}setSize(t,e){super.setSize(t,e),this.renderTargetMasked.setSize(t,e),this.depthPass.setSize(t,e)}initialize(t,e,n){super.initialize(t,e,n),this.clearPass.initialize(t,e,n),this.depthPass.initialize(t,e,n),this.depthMaskPass.initialize(t,e,n),t.capabilities.logarithmicDepthBuffer&&(this.depthMaskPass.fullscreenMaterial.defines.LOG_DEPTH="1"),n!==void 0&&(this.renderTargetMasked.texture.type=n,ic(t)===Bn&&di(this.renderTargetMasked.texture,Bn))}},sF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",oF="data:image/png;base64,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",uxe="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",cxe="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",fxe=class extends Hi{constructor({blendFunction:t=Ot.SRC,preset:e=Qg.MEDIUM,edgeDetectionMode:n=iW.COLOR,predicationMode:r=Zve.DISABLED}={}){super("SMAAEffect",uxe,{vertexShader:cxe,blendFunction:t,attributes:Io.CONVOLUTION|Io.DEPTH,uniforms:new Map([["weightMap",new ae(null)]])});let i,s;arguments.length>1&&(i=arguments[0],s=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(n=arguments[3])),this.renderTargetEdges=new Tt(1,1,{depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new Bm(!0,!1,!1),this.clearPass.overrideClearColor=new Be(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new Ao(new Sye),this.edgeDetectionMaterial.edgeDetectionMode=n,this.edgeDetectionMaterial.predicationMode=r,this.weightsPass=new Ao(new Uye);const o=new R6;o.onLoad=()=>{const a=new xn(i);a.name="SMAA.Search",a.magFilter=ot,a.minFilter=ot,a.generateMipmaps=!1,a.needsUpdate=!0,a.flipY=!0,this.weightsMaterial.searchTexture=a;const l=new xn(s);l.name="SMAA.Area",l.magFilter=ct,l.minFilter=ct,l.generateMipmaps=!1,l.needsUpdate=!0,l.flipY=!1,this.weightsMaterial.areaTexture=l,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),i!==void 0&&s!==void 0?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(i=new Image,s=new Image,i.addEventListener("load",()=>o.itemEnd("search")),s.addEventListener("load",()=>o.itemEnd("area")),i.src=sF,s.src=oF),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(t){this.edgeDetectionMaterial.edgeDetectionThreshold=t}setOrthogonalSearchSteps(t){this.weightsMaterial.orthogonalSearchSteps=t}applyPreset(t){const e=this.edgeDetectionMaterial,n=this.weightsMaterial;switch(t){case Qg.LOW:e.edgeDetectionThreshold=.15,n.orthogonalSearchSteps=4,n.diagonalDetection=!1,n.cornerDetection=!1;break;case Qg.MEDIUM:e.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=8,n.diagonalDetection=!1,n.cornerDetection=!1;break;case Qg.HIGH:e.edgeDetectionThreshold=.1,n.orthogonalSearchSteps=16,n.diagonalSearchSteps=8,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break;case Qg.ULTRA:e.edgeDetectionThreshold=.05,n.orthogonalSearchSteps=32,n.diagonalSearchSteps=16,n.cornerRounding=25,n.diagonalDetection=!0,n.cornerDetection=!0;break}}setDepthTexture(t,e=ti){this.edgeDetectionMaterial.depthBuffer=t,this.edgeDetectionMaterial.depthPacking=e}update(t,e,n){this.clearPass.render(t,this.renderTargetEdges),this.edgeDetectionPass.render(t,e,this.renderTargetEdges),this.weightsPass.render(t,this.renderTargetEdges,this.renderTargetWeights)}setSize(t,e){this.edgeDetectionMaterial.setSize(t,e),this.weightsMaterial.setSize(t,e),this.renderTargetEdges.setSize(t,e),this.renderTargetWeights.setSize(t,e)}dispose(){const{searchTexture:t,areaTexture:e}=this.weightsMaterial;t!==null&&e!==null&&(t.dispose(),e.dispose()),super.dispose()}static get searchImageDataURL(){return sF}static get areaImageDataURL(){return oF}},hxe=`uniform lowp sampler2D aoBuffer;uniform float luminanceInfluence;uniform float intensity;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH)
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D normalDepthBuffer;
#else
uniform mediump sampler2D normalDepthBuffer;
#endif
#endif
#ifdef COLORIZE
uniform vec3 color;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){float aoLinear=texture2D(aoBuffer,uv).r;
#if defined(DEPTH_AWARE_UPSAMPLING) && defined(NORMAL_DEPTH) && __VERSION__ == 300
vec4 normalDepth[4];normalDepth[0]=textureOffset(normalDepthBuffer,uv,ivec2(0,0));normalDepth[1]=textureOffset(normalDepthBuffer,uv,ivec2(0,1));normalDepth[2]=textureOffset(normalDepthBuffer,uv,ivec2(1,0));normalDepth[3]=textureOffset(normalDepthBuffer,uv,ivec2(1,1));float dot01=dot(normalDepth[0].rgb,normalDepth[1].rgb);float dot02=dot(normalDepth[0].rgb,normalDepth[2].rgb);float dot03=dot(normalDepth[0].rgb,normalDepth[3].rgb);float minDot=min(dot01,min(dot02,dot03));float s=step(THRESHOLD,minDot);float smallestDistance=1.0;int index;for(int i=0;i<4;++i){float distance=abs(depth-normalDepth[i].a);if(distance<smallestDistance){smallestDistance=distance;index=i;}}ivec2 offsets[4];offsets[0]=ivec2(0,0);offsets[1]=ivec2(0,1);offsets[2]=ivec2(1,0);offsets[3]=ivec2(1,1);ivec2 coord=ivec2(uv*vec2(textureSize(aoBuffer,0)))+offsets[index];float aoNearest=texelFetch(aoBuffer,coord,0).r;float ao=mix(aoNearest,aoLinear,s);
#else
float ao=aoLinear;
#endif
float l=luminance(inputColor.rgb);ao=mix(ao,0.0,l*luminanceInfluence);ao=clamp(ao*intensity,0.0,1.0);
#ifdef COLORIZE
outputColor=vec4(1.0-ao*(1.0-color),inputColor.a);
#else
outputColor=vec4(vec3(1.0-ao),inputColor.a);
#endif
}`,aF=64,dxe=class extends Hi{constructor(t,e,{blendFunction:n=Ot.MULTIPLY,samples:r=9,rings:i=7,normalDepthBuffer:s=null,depthAwareUpsampling:o=!0,worldDistanceThreshold:a,worldDistanceFalloff:l,worldProximityThreshold:u,worldProximityFalloff:c,distanceThreshold:f=.97,distanceFalloff:h=.03,rangeThreshold:d=5e-4,rangeFalloff:g=.001,minRadiusScale:v=.1,luminanceInfluence:y=.7,radius:A=.1825,intensity:x=1,bias:E=.025,fade:S=.01,color:w=null,resolutionScale:M=1,width:_=Rn.AUTO_SIZE,height:b=Rn.AUTO_SIZE,resolutionX:I=_,resolutionY:B=b}={}){super("SSAOEffect",hxe,{blendFunction:n,attributes:Io.DEPTH,defines:new Map([["THRESHOLD","0.997"]]),uniforms:new Map([["aoBuffer",new ae(null)],["normalDepthBuffer",new ae(s)],["luminanceInfluence",new ae(y)],["color",new ae(null)],["intensity",new ae(x)],["scale",new ae(0)]])}),this.renderTarget=new Tt(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="AO.Target",this.uniforms.get("aoBuffer").value=this.renderTarget.texture;const L=this.resolution=new Rn(this,I,B,M);L.addEventListener("change",G=>this.setSize(L.baseWidth,L.baseHeight)),this.camera=t,this.depthDownsamplingPass=new fW({normalBuffer:e,resolutionScale:M}),this.depthDownsamplingPass.enabled=s===null,this.ssaoPass=new Ao(new Gye(t));const F=new nT(aF,aF,yn);F.wrapS=F.wrapT=ei;const O=this.ssaoMaterial;O.normalBuffer=e,O.noiseTexture=F,O.minRadiusScale=v,O.samples=r,O.radius=A,O.rings=i,O.fade=S,O.bias=E,O.distanceThreshold=f,O.distanceFalloff=h,O.proximityThreshold=d,O.proximityFalloff=g,a!==void 0&&(O.worldDistanceThreshold=a),l!==void 0&&(O.worldDistanceFalloff=l),u!==void 0&&(O.worldProximityThreshold=u),c!==void 0&&(O.worldProximityFalloff=c),s!==null&&(this.ssaoMaterial.normalDepthBuffer=s,this.defines.set("NORMAL_DEPTH","1")),this.depthAwareUpsampling=o,this.color=w}set mainCamera(t){this.camera=t,this.ssaoMaterial.copyCameraSettings(t)}get normalBuffer(){return this.ssaoMaterial.normalBuffer}set normalBuffer(t){this.ssaoMaterial.normalBuffer=t,this.depthDownsamplingPass.fullscreenMaterial.normalBuffer=t}getResolution(){return this.resolution}get ssaoMaterial(){return this.ssaoPass.fullscreenMaterial}getSSAOMaterial(){return this.ssaoMaterial}get samples(){return this.ssaoMaterial.samples}set samples(t){this.ssaoMaterial.samples=t}get rings(){return this.ssaoMaterial.rings}set rings(t){this.ssaoMaterial.rings=t}get radius(){return this.ssaoMaterial.radius}set radius(t){this.ssaoMaterial.radius=t}get depthAwareUpsampling(){return this.defines.has("DEPTH_AWARE_UPSAMPLING")}set depthAwareUpsampling(t){this.depthAwareUpsampling!==t&&(t?this.defines.set("DEPTH_AWARE_UPSAMPLING","1"):this.defines.delete("DEPTH_AWARE_UPSAMPLING"),this.setChanged())}isDepthAwareUpsamplingEnabled(){return this.depthAwareUpsampling}setDepthAwareUpsamplingEnabled(t){this.depthAwareUpsampling=t}get distanceScaling(){return!0}set distanceScaling(t){}get color(){return this.uniforms.get("color").value}set color(t){const e=this.uniforms,n=this.defines;t!==null?n.has("COLORIZE")?e.get("color").value.set(t):(n.set("COLORIZE","1"),e.get("color").value=new Be(t),this.setChanged()):n.has("COLORIZE")&&(n.delete("COLORIZE"),e.get("color").value=null,this.setChanged())}get luminanceInfluence(){return this.uniforms.get("luminanceInfluence").value}set luminanceInfluence(t){this.uniforms.get("luminanceInfluence").value=t}get intensity(){return this.uniforms.get("intensity").value}set intensity(t){this.uniforms.get("intensity").value=t}getColor(){return this.color}setColor(t){this.color=t}setDistanceCutoff(t,e){this.ssaoMaterial.distanceThreshold=t,this.ssaoMaterial.distanceFalloff=e}setProximityCutoff(t,e){this.ssaoMaterial.proximityThreshold=t,this.ssaoMaterial.proximityFalloff=e}setDepthTexture(t,e=ti){this.depthDownsamplingPass.setDepthTexture(t,e),this.ssaoMaterial.depthBuffer=t,this.ssaoMaterial.depthPacking=e}update(t,e,n){const r=this.renderTarget;this.depthDownsamplingPass.enabled&&this.depthDownsamplingPass.render(t),this.ssaoPass.render(t,null,r)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.ssaoMaterial.copyCameraSettings(this.camera),this.ssaoMaterial.setSize(r,i),this.renderTarget.setSize(r,i),this.depthDownsamplingPass.resolution.scale=n.scale,this.depthDownsamplingPass.setSize(t,e)}initialize(t,e,n){try{let r=this.uniforms.get("normalDepthBuffer").value;r===null&&(this.depthDownsamplingPass.initialize(t,e,n),r=this.depthDownsamplingPass.texture,this.uniforms.get("normalDepthBuffer").value=r,this.ssaoMaterial.normalDepthBuffer=r,this.defines.set("NORMAL_DEPTH","1"))}catch{this.depthDownsamplingPass.enabled=!1}}},pxe=`#ifdef TEXTURE_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
varying vec2 vUv2;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#ifdef UV_TRANSFORM
vec4 texel=texture2D(map,vUv2);
#else
vec4 texel=texture2D(map,uv);
#endif
outputColor=TEXEL;}`,mxe=`#ifdef ASPECT_CORRECTION
uniform float scale;
#else
uniform mat3 uvTransform;
#endif
varying vec2 vUv2;void mainSupport(const in vec2 uv){
#ifdef ASPECT_CORRECTION
vUv2=uv*vec2(aspect,1.0)*scale;
#else
vUv2=(uvTransform*vec3(uv,1.0)).xy;
#endif
}`,gxe=class extends Hi{constructor({blendFunction:t,texture:e=null,aspectCorrection:n=!1}={}){super("TextureEffect",pxe,{blendFunction:t,defines:new Map([["TEXEL","texel"]]),uniforms:new Map([["map",new ae(null)],["scale",new ae(1)],["uvTransform",new ae(null)]])}),this.texture=e,this.aspectCorrection=n}get texture(){return this.uniforms.get("map").value}set texture(t){const e=this.texture,n=this.uniforms,r=this.defines;e!==t&&(n.get("map").value=t,n.get("uvTransform").value=t.matrix,r.delete("TEXTURE_PRECISION_HIGH"),t!==null&&(t.matrixAutoUpdate?(r.set("UV_TRANSFORM","1"),this.setVertexShader(mxe)):(r.delete("UV_TRANSFORM"),this.setVertexShader(null)),t.type!==an&&r.set("TEXTURE_PRECISION_HIGH","1"),(e===null||e.type!==t.type||e.encoding!==t.encoding)&&this.setChanged()))}getTexture(){return this.texture}setTexture(t){this.texture=t}get aspectCorrection(){return this.defines.has("ASPECT_CORRECTION")}set aspectCorrection(t){this.aspectCorrection!==t&&(t?this.defines.set("ASPECT_CORRECTION","1"):this.defines.delete("ASPECT_CORRECTION"),this.setChanged())}get uvTransform(){const t=this.texture;return t!==null&&t.matrixAutoUpdate}set uvTransform(t){const e=this.texture;e!==null&&(e.matrixAutoUpdate=t)}setTextureSwizzleRGBA(t,e=t,n=t,r=t){const i="rgba";let s="";(t!==i0.RED||e!==i0.GREEN||n!==i0.BLUE||r!==i0.ALPHA)&&(s=[".",i[t],i[e],i[n],i[r]].join("")),this.defines.set("TEXEL","texel"+s),this.setChanged()}update(t,e,n){this.texture.matrixAutoUpdate&&this.texture.updateMatrix()}};function Q1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Axe(t,e){if(t){if(typeof t=="string")return rT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(t,e)}}function vxe(t){if(Array.isArray(t))return rT(t)}function yxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t){return vxe(t)||yxe(t)||Axe(t)||xxe()}new ie;new ie;function Sxe(t,e,n){return Math.max(e,Math.min(n,t))}function Cxe(t,e){return Sxe(t-Math.floor(t/e)*e,0,e)}function wxe(t,e){var n=Cxe(e-t,Math.PI*2);return n>Math.PI&&(n-=Math.PI*2),n}function pW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var $o=function t(e,n,r){var i=this;pW(this,t),Q1(this,"dot2",function(s,o){return i.x*s+i.y*o}),Q1(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},Txe=[new $o(1,1,0),new $o(-1,1,0),new $o(1,-1,0),new $o(-1,-1,0),new $o(1,0,1),new $o(-1,0,1),new $o(1,0,-1),new $o(-1,0,-1),new $o(0,1,1),new $o(0,-1,1),new $o(0,1,-1),new $o(0,-1,-1)],lF=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],uF=new Array(512),cF=new Array(512),Mxe=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=lF[n]^e&255:r=lF[n]^e>>8&255,uF[n]=uF[n+256]=r,cF[n]=cF[n+256]=Txe[r%12]}};Mxe(0);function _xe(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function fF(t){var e=_xe(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var Ixe=function t(e){var n=this;pW(this,t),Q1(this,"seed",0),Q1(this,"init",function(r){n.seed=r,n.value=fF(r)}),Q1(this,"value",fF(this.seed)),this.init(e)};new Ixe(Math.random());var bxe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/n)*Math.atan(Math.sin(2*Math.PI*e*i)/n)},mW=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function pi(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:mW,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(t.__damp===void 0&&(t.__damp={}),t.__damp[l]===void 0&&(t.__damp[l]=0),Math.abs(t[e]-n)<=a)return t[e]=n,!1;r=Math.max(1e-4,r);var u=2/r,c=o(u*i),f=t[e]-n,h=n,d=s*r;f=Math.min(Math.max(f,-d),d),n=t[e]-f;var g=(t.__damp[l]+u*f)*i;t.__damp[l]=(t.__damp[l]-u*g)*c;var v=n+(f+g)*c;return h-t[e]>0==v>h&&(v=h,t.__damp[l]=(v-h)/i),t[e]=v,!0}function w0(t,e,n,r,i,s,o,a){return pi(t,e,t[e]+wxe(t[e],n),r,i,s,o,a)}var Vg=new ie,hF,dF;function Bxe(t,e,n,r,i,s,o){return typeof e=="number"?Vg.setScalar(e):Array.isArray(e)?Vg.set(e[0],e[1]):Vg.copy(e),hF=pi(t,"x",Vg.x,n,r,i,s,o),dF=pi(t,"y",Vg.y,n,r,i,s,o),hF||dF}var Rp=new k,pF,mF,gF;function iT(t,e,n,r,i,s,o){return typeof e=="number"?Rp.setScalar(e):Array.isArray(e)?Rp.set(e[0],e[1],e[2]):Rp.copy(e),pF=pi(t,"x",Rp.x,n,r,i,s,o),mF=pi(t,"y",Rp.y,n,r,i,s,o),gF=pi(t,"z",Rp.z,n,r,i,s,o),pF||mF||gF}var xh=new kt,AF,vF,yF,xF;function Rxe(t,e,n,r,i,s,o){return typeof e=="number"?xh.setScalar(e):Array.isArray(e)?xh.set(e[0],e[1],e[2],e[3]):xh.copy(e),AF=pi(t,"x",xh.x,n,r,i,s,o),vF=pi(t,"y",xh.y,n,r,i,s,o),yF=pi(t,"z",xh.z,n,r,i,s,o),xF=pi(t,"w",xh.w,n,r,i,s,o),AF||vF||yF||xF}var Wg=new bd,EF,SF,CF;function Dxe(t,e,n,r,i,s,o){return Array.isArray(e)?Wg.set(e[0],e[1],e[2],e[3]):Wg.copy(e),EF=w0(t,"x",Wg.x,n,r,i,s,o),SF=w0(t,"y",Wg.y,n,r,i,s,o),CF=w0(t,"z",Wg.z,n,r,i,s,o),EF||SF||CF}var Dp=new Be,wF,TF,MF;function Pxe(t,e,n,r,i,s,o){return e instanceof Be?Dp.copy(e):Array.isArray(e)?Dp.setRGB(e[0],e[1],e[2]):Dp.set(e),wF=pi(t,"r",Dp.r,n,r,i,s,o),TF=pi(t,"g",Dp.g,n,r,i,s,o),MF=pi(t,"b",Dp.b,n,r,i,s,o),wF||TF||MF}var Va=new sr,Ru=new kt,_F=new kt,jg=new kt,IF,bF,BF,RF;function gW(t,e,n,r,i,s,o){var a=t;Array.isArray(e)?Va.set(e[0],e[1],e[2],e[3]):Va.copy(e);var l=t.dot(Va)>0?1:-1;return Va.x*=l,Va.y*=l,Va.z*=l,Va.w*=l,IF=pi(t,"x",Va.x,n,r,i,s,o),bF=pi(t,"y",Va.y,n,r,i,s,o),BF=pi(t,"z",Va.z,n,r,i,s,o),RF=pi(t,"w",Va.w,n,r,i,s,o),Ru.set(t.x,t.y,t.z,t.w).normalize(),_F.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),jg.copy(Ru).multiplyScalar(_F.dot(Ru)/Ru.dot(Ru)),a.__damp.velocity_x-=jg.x,a.__damp.velocity_y-=jg.y,a.__damp.velocity_z-=jg.z,a.__damp.velocity_w-=jg.w,t.set(Ru.x,Ru.y,Ru.z,Ru.w),IF||bF||BF||RF}var Xg=new O6,DF,PF,LF;function Lxe(t,e,n,r,i,s,o){return Array.isArray(e)?Xg.set(e[0],e[1],e[2]):Xg.copy(e),DF=pi(t,"radius",Xg.radius,n,r,i,s,o),PF=w0(t,"phi",Xg.phi,n,r,i,s,o),LF=w0(t,"theta",Xg.theta,n,r,i,s,o),DF||PF||LF}var Ry=new Ke,FF=new k,OF=new sr,UF=new k,kF,NF,GF;function Fxe(t,e,n,r,i,s,o){var a=t;return a.__damp===void 0&&(a.__damp={position:new k,rotation:new sr,scale:new k},t.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?Ry.set.apply(Ry,Exe(e)):Ry.copy(e),Ry.decompose(FF,OF,UF),kF=iT(a.__damp.position,FF,n,r,i,s,o),NF=gW(a.__damp.rotation,OF,n,r,i,s,o),GF=iT(a.__damp.scale,UF,n,r,i,s,o),t.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),kF||NF||GF}var AW=Object.freeze({__proto__:null,rsqw:bxe,exp:mW,damp:pi,dampAngle:w0,damp2:Bxe,damp3:iT,damp4:Rxe,dampE:Dxe,dampC:Pxe,dampQ:gW,dampS:Lxe,dampM:Fxe});const R7=D.createContext(null),gc=D.createContext(null),Oxe=te.memo(D.forwardRef(({children:t,camera:e,scene:n,resolutionScale:r,enabled:i=!0,renderPriority:s=1,autoClear:o=!0,depthBuffer:a,disableNormalPass:l,stencilBuffer:u,multisampling:c=8,frameBufferType:f=Ln},h)=>{const{gl:d,scene:g,camera:v,size:y}=qn(),A=n||g,x=e||v,[E,S,w]=D.useMemo(()=>{const I=zfe(),B=new i5e(d,{depthBuffer:a,stencilBuffer:u,multisampling:c>0&&I?c:0,frameBufferType:f});B.addPass(new Rm(A,x));let L=null,F=null;return l||(F=new t5e(A,x),F.enabled=!1,B.addPass(F),r!==void 0&&I&&(L=new fW({normalBuffer:F.texture,resolutionScale:r}),L.enabled=!1,B.addPass(L))),[B,F,L]},[x,d,a,u,c,f,A,l,r]);D.useEffect(()=>E==null?void 0:E.setSize(y.width,y.height),[E,y]),or((I,B)=>{if(i){const L=d.autoClear;d.autoClear=o,u&&!o&&d.clearStencil(),E.render(B),d.autoClear=L}},i?s:0);const M=D.useRef(null),_=Hse(M);D.useLayoutEffect(()=>{const I=[];if(M.current&&_.current&&E){const B=_.current.objects;for(let L=0;L<B.length;L++){const F=B[L];if(F instanceof Hi){const O=[];for(;B[L]instanceof Hi;)O.push(B[L++]);L--;const G=new qye(x,...O);I.push(G)}else F instanceof ii&&I.push(F)}for(const L of I)E==null||E.addPass(L);S&&(S.enabled=!0),w&&(w.enabled=!0)}return()=>{for(const B of I)E==null||E.removePass(B);S&&(S.enabled=!1),w&&(w.enabled=!1)}},[E,t,x,S,w,_]);const b=D.useMemo(()=>({composer:E,normalPass:S,downSamplingPass:w,resolutionScale:r,camera:x,scene:A}),[E,S,w,r,x,A]);return D.useImperativeHandle(h,()=>E,[E]),ce(gc.Provider,{value:b,children:ce("group",{ref:M,children:t})})})),Zc=t=>typeof t=="object"&&t!=null&&"current"in t?t.current:t;let Uxe=0;const zF=new WeakMap,vW=(t,e)=>te.forwardRef(function({blendFunction:r=e==null?void 0:e.blendFunction,opacity:i=e==null?void 0:e.opacity,...s},o){let a=zF.get(t);if(!a){const c=`@react-three/postprocessing/${t.name}-${Uxe++}`;F3({[c]:t}),zF.set(t,a=c)}const l=qn(c=>c.camera),u=te.useMemo(()=>{var c,f;return[...(c=e==null?void 0:e.args)!=null?c:[],...(f=s.args)!=null?f:[{...e,...s}]]},[JSON.stringify(s)]);return ce(a,{camera:l,"blendMode-blendFunction":r,"blendMode-opacity-value":i,...s,ref:o,args:u})}),Dy=(t,e)=>{const n=t[e];return te.useMemo(()=>typeof n=="number"?new ie(n,n):n?new ie(...n):new ie,[n])},kxe=D.forwardRef(function({blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:h,target:d,depthTexture:g,...v},y){const{camera:A}=D.useContext(gc),x=d!=null,E=D.useMemo(()=>{const S=new V5e(A,{blendFunction:e,worldFocusDistance:n,worldFocusRange:r,focusDistance:i,focusRange:s,focalLength:o,bokehScale:a,resolutionScale:l,resolutionX:u,resolutionY:c,width:f,height:h});x&&(S.target=new k),g&&S.setDepthTexture(g.texture,g.packing);const w=S.maskPass.getFullscreenMaterial();return w.maskFunction=_7.MULTIPLY_RGB_SET_ALPHA,S},[A,e,n,r,i,s,o,a,l,u,c,f,h,x,g]);return D.useEffect(()=>()=>{E.dispose()},[E]),ce("primitive",{...v,ref:y,object:E,target:d})});D.forwardRef(({target:t=void 0,mouse:e=!1,debug:n=void 0,manual:r=!1,smoothTime:i=.25,...s},o)=>{const a=D.useRef(null),l=D.useRef(null),u=D.useRef(null),c=qn(({scene:w})=>w),f=qn(({pointer:w})=>w),{composer:h,camera:d}=D.useContext(gc),[g]=D.useState(()=>new Kye),[v]=D.useState(()=>new cW);D.useEffect(()=>(h.addPass(g),h.addPass(v),()=>{h.removePass(g),h.removePass(v)}),[h,g,v]),D.useEffect(()=>()=>{g.dispose(),v.dispose()},[g,v]);const[y]=D.useState(()=>new k(0,0,0)),[A]=D.useState(()=>new k(0,0,0)),x=D.useCallback(async(w,M)=>(A.x=w,A.y=M,A.z=await g.readDepth(A),A.z=A.z*2-1,1-A.z>1e-7?A.unproject(d):!1),[A,g,d]),E=D.useCallback(async(w,M=!0)=>{var _;if(t)y.set(...t);else{const{x:b,y:I}=e?f:{x:0,y:0},B=await x(b,I);B&&y.copy(B)}M&&((_=a.current)!=null&&_.target)&&(i>0&&w>0?AW.damp3(a.current.target,y,i,w):a.current.target.copy(y))},[t,y,e,x,i,f]);or(async(w,M)=>{var _;r||E(M),l.current&&l.current.position.copy(y),u.current&&((_=a.current)!=null&&_.target)&&u.current.position.copy(a.current.target)});const S=D.useMemo(()=>({dofRef:a,hitpoint:y,update:E}),[y,E]);return D.useImperativeHandle(o,()=>S,[S]),wt(Dn,{children:[n?fH(wt(Dn,{children:[wt("mesh",{ref:l,children:[ce("sphereGeometry",{args:[n,16,16]}),ce("meshBasicMaterial",{color:"#00ff00",opacity:1,transparent:!0,depthWrite:!1})]}),wt("mesh",{ref:u,children:[ce("sphereGeometry",{args:[n/2,16,16]}),ce("meshBasicMaterial",{color:"#00ff00",opacity:.5,transparent:!0,depthWrite:!1})]})]}),c):null,ce(kxe,{ref:a,...s,target:y})]})});const Nxe={fragmentShader:`

  uniform float iTime;
  uniform vec2 lensPosition;
  uniform vec2 iResolution;
  uniform vec3 colorGain;
  uniform float starPoints;
  uniform float glareSize;
  uniform float flareSize;
  uniform float flareSpeed;
  uniform float flareShape;
  uniform float haloScale;
  uniform float opacity;
  uniform bool animated;
  uniform bool anamorphic;
  uniform bool enabled;
  uniform bool secondaryGhosts;
  uniform bool starBurst;
  uniform float ghostScale;
  uniform bool aditionalStreaks;
  uniform sampler2D lensDirtTexture;
  vec2 vxtC;

  float rndf(float n){return fract(sin(n) * 43758.5453123);}float niz(float p){float fl = floor(p);float fc = fract(p);return mix(rndf(fl),rndf(fl + 1.0), fc);}
  vec3 hsv2rgb(vec3 c){vec4 k = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);vec3 p = abs(fract(c.xxx + k.xyz) * 6.0 - k.www);return c.z * mix(k.xxx, clamp(p - k.xxx, 0.0, 1.0), c.y);}
  float satU(float x){return clamp(x, 0.,1.);}vec2 rtU(vec2 naz, float rtn){return vec2(cos(rtn) * naz.x + sin(rtn) * naz.y,cos(rtn) * naz.y - sin(rtn) * naz.x);}
  vec3 drwF(vec2 p, float intensity, float rnd, float speed, int id){float flhos = (1. / 32.) * float(id) * 0.1;float lingrad = distance(vec2(0.), p);float expg = 1. / exp(lingrad * (fract(rnd) * 0.66 + 0.33));vec3 qzTg = hsv2rgb(vec3( fract( (expg * 8.) + speed * flareSpeed + flhos), pow(1.-abs(expg*2.-1.), 0.45), 20.0 * expg * intensity));float internalStarPoints;if(anamorphic){internalStarPoints = 1.0;} else{internalStarPoints = starPoints;}float ams = length(p * flareShape * sin(internalStarPoints * atan(p.x, p.y)));float kJhg = pow(1.-satU(ams), ( anamorphic ? 100. : 12.));kJhg += satU(expg-0.9) * 3.;kJhg = pow(kJhg * expg, 8. + (1.-intensity) * 5.);if(flareSpeed > 0.0){return vec3(kJhg) * qzTg;} else{return vec3(kJhg) * flareSize * 15.;}}
  float ams2(vec3 a, vec3 b) { return abs(a.x - b.x) + abs(a.y - b.y) + abs(a.z - b.z);}vec3 satU(vec3 x){return clamp(x, vec3(0.0), vec3(1.0));}
  float glR(vec2 naz, vec2 pos, float zsi){vec2 mni;if(animated){mni = rtU(naz-pos, iTime * 0.1);} else{mni = naz-pos;}float ang = atan(mni.y, mni.x) * (anamorphic ? 1.0 : starPoints);float ams2 = length(mni);ams2 = pow(ams2, .9);float f0 = 1.0/(length(naz-pos)*(1.0/zsi*16.0)+.2);return f0+f0*(sin((ang))*.2 +.3);}
  float sdHex(vec2 p){p = abs(p);vec2 q = vec2(p.x*2.0*0.5773503, p.y + p.x*0.5773503);return dot(step(q.xy,q.yx), 1.0-q.yx);}float fpow(float x, float k){return x > k ? pow((x-k)/(1.0-k),2.0) : 0.0;}
  vec3 rHx(vec2 naz, vec2 p, float s, vec3 col){naz -= p;if (abs(naz.x) < 0.2*s && abs(naz.y) < 0.2*s){return mix(vec3(0),mix(vec3(0),col,0.1 + fpow(length(naz/s),0.1)*10.0),smoothstep(0.0,0.1,sdHex(naz*20.0/s)));}return vec3(0);}
  vec3 mLs(vec2 naz, vec2 pos){vec2 mni = naz-pos;vec2 zxMp = naz*(length(naz));float ang = atan(mni.x,mni.y);float f0 = .3/(length(naz-pos)*16.0+1.0);f0 = f0*(sin(niz(sin(ang*3.9-(animated ? iTime : 0.0) * 0.3) * starPoints))*.2 );float f1 = max(0.01-pow(length(naz+1.2*pos),1.9),.0)*7.0;float f2 = max(.9/(10.0+32.0*pow(length(zxMp+0.99*pos),2.0)),.0)*0.35;float f22 = max(.9/(11.0+32.0*pow(length(zxMp+0.85*pos),2.0)),.0)*0.23;float f23 = max(.9/(12.0+32.0*pow(length(zxMp+0.95*pos),2.0)),.0)*0.6;vec2 ztX = mix(naz,zxMp, 0.1);float f4 = max(0.01-pow(length(ztX+0.4*pos),2.9),.0)*4.02;float f42 = max(0.0-pow(length(ztX+0.45*pos),2.9),.0)*4.1;float f43 = max(0.01-pow(length(ztX+0.5*pos),2.9),.0)*4.6;ztX = mix(naz,zxMp,-.4);float f5 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;float f52 = max(0.01-pow(length(ztX+0.2*pos),5.5),.0)*2.0;float f53 = max(0.01-pow(length(ztX+0.1*pos),5.5),.0)*2.0;ztX = mix(naz,zxMp, 2.1);float f6 = max(0.01-pow(length(ztX-0.3*pos),1.61),.0)*3.159;float f62 = max(0.01-pow(length(ztX-0.325*pos),1.614),.0)*3.14;float f63 = max(0.01-pow(length(ztX-0.389*pos),1.623),.0)*3.12;vec3 c = vec3(glR(naz,pos, glareSize));vec2 prot;if(animated){prot = rtU(naz - pos, (iTime * 0.1));} else if(anamorphic){prot = rtU(naz - pos, 1.570796);} else {prot = naz - pos;}c += drwF(prot, (anamorphic ? flareSize * 10. : flareSize), 0.1, iTime, 1);c.r+=f1+f2+f4+f5+f6; c.g+=f1+f22+f42+f52+f62; c.b+=f1+f23+f43+f53+f63;c = c*1.3 * vec3(length(zxMp)+.09);c+=vec3(f0);return c;}
  vec3 cc(vec3 clr, float fct,float fct2){float w = clr.x+clr.y+clr.z;return mix(clr,vec3(w)*fct,w*fct2);}float rnd(vec2 p){float f = fract(sin(dot(p, vec2(12.1234, 72.8392) )*45123.2));return f;}float rnd(float w){float f = fract(sin(w)*1000.);return f;}
  float rShp(vec2 p, int N){float f;float a=atan(p.x,p.y)+.2;float b=6.28319/float(N);f=smoothstep(.5,.51, cos(floor(.5+a/b)*b-a)*length(p.xy)* 2.0  -ghostScale);return f;}
  vec3 drC(vec2 p, float zsi, float dCy, vec3 clr, vec3 clr2, float ams2, vec2 esom){float l = length(p + esom*(ams2*2.))+zsi/2.;float l2 = length(p + esom*(ams2*4.))+zsi/3.;float c = max(0.01-pow(length(p + esom*ams2), zsi*ghostScale), 0.0)*10.;float c1 = max(0.001-pow(l-0.3, 1./40.)+sin(l*20.), 0.0)*3.;float c2 =  max(0.09/pow(length(p-esom*ams2/.5)*1., .95), 0.0)/20.;float s = max(0.02-pow(rShp(p*5. + esom*ams2*5. + dCy, 6) , 1.), 0.0)*1.5;clr = cos(vec3(0.44, .24, .2)*8. + ams2*4.)*0.5+.5;vec3 f = c*clr;f += c1*clr;f += c2*clr;f +=  s*clr;return f-0.01;}
  vec4 geLC(float x){return vec4(vec3(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(mix(vec3(0., 0., 0.),vec3(0., 0., 0.), smoothstep(0.0, 0.063, x)),vec3(0., 0., 0.), smoothstep(0.063, 0.125, x)),vec3(0.0, 0., 0.), smoothstep(0.125, 0.188, x)),vec3(0.188, 0.131, 0.116), smoothstep(0.188, 0.227, x)),vec3(0.31, 0.204, 0.537), smoothstep(0.227, 0.251, x)),vec3(0.192, 0.106, 0.286), smoothstep(0.251, 0.314, x)),vec3(0.102, 0.008, 0.341), smoothstep(0.314, 0.392, x)),vec3(0.086, 0.0, 0.141), smoothstep(0.392, 0.502, x)),vec3(1.0, 0.31, 0.0), smoothstep(0.502, 0.604, x)),vec3(.1, 0.1, 0.1), smoothstep(0.604, 0.643, x)),vec3(1.0, 0.929, 0.0), smoothstep(0.643, 0.761, x)),vec3(1.0, 0.086, 0.424), smoothstep(0.761, 0.847, x)),vec3(1.0, 0.49, 0.0), smoothstep(0.847, 0.89, x)),vec3(0.945, 0.275, 0.475), smoothstep(0.89, 0.941, x)),vec3(0.251, 0.275, 0.796), smoothstep(0.941, 1.0, x))),1.0);}
  float diTN(vec2 p){vec2 f = fract(p);f = (f * f) * (3.0 - (2.0 * f));float n = dot(floor(p), vec2(1.0, 157.0));vec4 a = fract(sin(vec4(n + 0.0, n + 1.0, n + 157.0, n + 158.0)) * 43758.5453123);return mix(mix(a.x, a.y, f.x), mix(a.z, a.w, f.x), f.y);} 
  float fbm(vec2 p){const mat2 m = mat2(0.80, -0.60, 0.60, 0.80);float f = 0.0;f += 0.5000*diTN(p); p = m*p*2.02;f += 0.2500*diTN(p); p = m*p*2.03;f += 0.1250*diTN(p); p = m*p*2.01;f += 0.0625*diTN(p);return f/0.9375;} 
  vec4 geLS(vec2 p){vec2 pp = (p - vec2(0.5)) * 2.0;float a = atan(pp.y, pp.x);vec4 cp = vec4(sin(a * 1.0), length(pp), sin(a * 13.0), sin(a * 53.0));float d = sin(clamp(pow(length(vec2(0.5) - p) * 0.5 + haloScale /2., 5.0), 0.0, 1.0) * 3.14159);vec3 c = vec3(d) * vec3(fbm(cp.xy * 16.0) * fbm(cp.zw * 9.0) * max(max(max(max(0.5, sin(a * 1.0)), sin(a * 3.0) * 0.8), sin(a * 7.0) * 0.8), sin(a * 9.0) * 10.6));c *= vec3(mix(2.0, (sin(length(pp.xy) * 256.0) * 0.5) + 0.5, sin((clamp((length(pp.xy) - 0.875) / 0.1, 0.0, 1.0) + 0.0) * 2.0 * 3.14159) * 1.5) + 0.5) * 0.3275;return vec4(vec3(c * 1.0), d);}
  vec4 geLD(vec2 p){p.xy += vec2(fbm(p.yx * 3.0), fbm(p.yx * 2.0)) * 0.0825;vec3 o = vec3(mix(0.125, 0.25, max(max(smoothstep(0.1, 0.0, length(p - vec2(0.25))),smoothstep(0.4, 0.0, length(p - vec2(0.75)))),smoothstep(0.8, 0.0, length(p - vec2(0.875, 0.125))))));o += vec3(max(fbm(p * 1.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 2.0) - 0.5, 0.0)) * 0.5;o += vec3(max(fbm(p * 4.0) - 0.5, 0.0)) * 0.25;o += vec3(max(fbm(p * 8.0) - 0.75, 0.0)) * 1.0;o += vec3(max(fbm(p * 16.0) - 0.75, 0.0)) * 0.75;o += vec3(max(fbm(p * 64.0) - 0.75, 0.0)) * 0.5;return vec4(clamp(o, vec3(0.15), vec3(1.0)), 1.0);}
  vec4 txL(sampler2D tex, vec2 xtC){if(((xtC.x < 0.) || (xtC.y < 0.)) || ((xtC.x > 1.) || (xtC.y > 1.))){return vec4(0.0);}else{return texture(tex, xtC); }}
  vec4 txD(sampler2D tex, vec2 xtC, vec2 dir, vec3 ditn) {return vec4(txL(tex, (xtC + (dir * ditn.r))).r,txL(tex, (xtC + (dir * ditn.g))).g,txL(tex, (xtC + (dir * ditn.b))).b,1.0);}
  vec4 strB(){vec2 aspXtc = vec2(1.0) - (((vxtC - vec2(0.5)) * vec2(1.0)) + vec2(0.5)); vec2 xtC = vec2(1.0) - vxtC; vec2 ghvc = (vec2(0.5) - xtC) * 0.3 - lensPosition; vec2 ghNm = normalize(ghvc * vec2(1.0)) * vec2(1.0);vec2 haloVec = normalize(ghvc) * 0.6;vec2 hlNm = ghNm * 0.6;vec2 texelSize = vec2(1.0) / vec2(iResolution.xy);vec3 ditn = vec3(-(texelSize.x * 1.5), 0.2, texelSize.x * 1.5);vec4 c = vec4(0.0);for (int i = 0; i < 8; i++) {vec2 offset = xtC + (ghvc * float(i));c += txD(lensDirtTexture, offset, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - offset) / length(vec2(0.5)))), 10.0);}vec2 uyTrz = xtC + hlNm; return (c * geLC((length(vec2(0.5) - aspXtc) / length(vec2(haloScale))))) +(txD(lensDirtTexture, uyTrz, ghNm, ditn) * pow(max(0.0, 1.0 - (length(vec2(0.5) - uyTrz) / length(vec2(0.5)))), 10.0));} 
  void mainImage(vec4 v,vec2 r,out vec4 i){vec2 g=r-.5;g.y*=iResolution.y/iResolution.x;vec2 l=lensPosition*.5;l.y*=iResolution.y/iResolution.x;vec3 f=mLs(g,l)*20.*colorGain/256.;if(aditionalStreaks){vec3 o=vec3(.9,.2,.1),p=vec3(.3,.1,.9);for(float n=0.;n<10.;n++)f+=drC(g,pow(rnd(n*2e3)*2.8,.1)+1.41,0.,o+n,p+n,rnd(n*20.)*3.+.2-.5,lensPosition);}if(secondaryGhosts){vec3 n=vec3(0);n+=rHx(g,-lensPosition*.25,ghostScale*1.4,vec3(.25,.35,0));n+=rHx(g,lensPosition*.25,ghostScale*.5,vec3(1,.5,.5));n+=rHx(g,lensPosition*.1,ghostScale*1.6,vec3(1));n+=rHx(g,lensPosition*1.8,ghostScale*2.,vec3(0,.5,.75));n+=rHx(g,lensPosition*1.25,ghostScale*.8,vec3(1,1,.5));n+=rHx(g,-lensPosition*1.25,ghostScale*5.,vec3(.5,.5,.25));n+=fpow(1.-abs(distance(lensPosition*.8,g)-.7),.985)*colorGain/2100.;f+=n;}if(starBurst){vxtC=g+.5;vec4 n=geLD(g);float o=1.-clamp(0.5,0.,.5)*2.;n+=mix(n,pow(n*2.,vec4(2))*.5,o);float s=(g.x+g.y)*(1./6.);vec2 d=mat2(cos(s),-sin(s),sin(s),cos(s))*vxtC;n+=geLS(d)*2.;f+=clamp(n.xyz*strB().xyz,.01,1.);}i=enabled?vec4(mix(f,vec3(0),opacity)+v.xyz,v.w):vec4(v);}
`};class Gxe extends Hi{constructor({blendFunction:e=Ot.NORMAL,enabled:n=!0,glareSize:r=.2,lensPosition:i=[.01,.01],iResolution:s=[0,0],starPoints:o=6,flareSize:a=.01,flareSpeed:l=.01,flareShape:u=.01,animated:c=!0,anamorphic:f=!1,colorGain:h=new Be(20,20,20),lensDirtTexture:d=null,haloScale:g=.5,secondaryGhosts:v=!0,aditionalStreaks:y=!0,ghostScale:A=0,opacity:x=1,starBurst:E=!1}={}){super("LensFlareEffect",Nxe.fragmentShader,{blendFunction:e,uniforms:new Map([["enabled",new ae(n)],["glareSize",new ae(r)],["lensPosition",new ae(i)],["iTime",new ae(0)],["iResolution",new ae(s)],["starPoints",new ae(o)],["flareSize",new ae(a)],["flareSpeed",new ae(l)],["flareShape",new ae(u)],["animated",new ae(c)],["anamorphic",new ae(f)],["colorGain",new ae(h)],["lensDirtTexture",new ae(d)],["haloScale",new ae(g)],["secondaryGhosts",new ae(v)],["aditionalStreaks",new ae(y)],["ghostScale",new ae(A)],["starBurst",new ae(E)],["opacity",new ae(x)]])})}update(e,n,r){const i=this.uniforms.get("iTime");i&&(i.value+=r)}}D.forwardRef(({position:t=new k(-25,6,-60),followMouse:e=!1,smoothTime:n=.07,...r},i)=>{const s=qn(({viewport:d})=>d),o=qn(({raycaster:d})=>d),a=qn(({pointer:d})=>d),{scene:l,camera:u}=D.useContext(gc),[c]=D.useState(()=>new k),[f]=D.useState(()=>new ie),h=D.useMemo(()=>new Gxe(r),[r]);return or((d,g)=>{var v,y,A;const x=h.uniforms.get("lensPosition"),E=h.uniforms.get("opacity");if(!x||!E)return;let S=1;if(e)x.value.x=a.x,x.value.y=a.y,S=0;else{if(c.copy(t).project(u),c.z>1)return;x.value.x=c.x,x.value.y=c.y,f.set(c.x,c.y),o.setFromCamera(f,u);const w=o.intersectObjects(l.children,!0),{object:M}=w[0];M&&(((v=M.userData)==null?void 0:v.lensflare)==="no-occlusion"?S=0:M instanceof sn&&(((A=(y=M.material.uniforms)==null?void 0:y._transmission)==null?void 0:A.value)>.2||M.material._transmission&&M.material._transmission>.2?S=.2:M.material.transparent&&(S=M.material.opacity)))}AW.damp(E,"value",S,n,g)}),D.useEffect(()=>{const d=h.uniforms.get("iResolution");d&&(d.value.x=s.width,d.value.y=s.height)},[h,s]),ce("primitive",{ref:i,object:h,dispose:null})});const zxe=vW(hW,{blendFunction:Ot.ADD});D.forwardRef(function({blendFunction:e=Ot.NORMAL},n){const r=D.useMemo(()=>new H5e(e),[e]);return ce("primitive",{ref:n,object:r,dispose:null})});D.forwardRef(function({active:e=!0,...n},r){const i=qn(c=>c.invalidate),s=Dy(n,"delay"),o=Dy(n,"duration"),a=Dy(n,"strength"),l=Dy(n,"chromaticAberrationOffset"),u=D.useMemo(()=>new J5e({...n,delay:s,duration:o,strength:a,chromaticAberrationOffset:l}),[s,o,n,a,l]);return D.useLayoutEffect(()=>{u.mode=e?n.mode||Oh.SPORADIC:Oh.DISABLED,i()},[e,u,i,n.mode]),D.useEffect(()=>()=>{u.dispose()},[u]),ce("primitive",{ref:r,object:u,dispose:null})});D.forwardRef(function(e,n){const{camera:r}=D.useContext(gc),i=D.useMemo(()=>new Z5e(r,Zc(e.sun),e),[r,e]);return D.useLayoutEffect(()=>void(i.lightSource=Zc(e.sun)),[i,e.sun]),ce("primitive",{ref:n,object:i,dispose:null})});D.forwardRef(function({size:e,...n},r){const i=qn(o=>o.invalidate),s=D.useMemo(()=>new exe(n),[n]);return D.useLayoutEffect(()=>{e&&s.setSize(e.width,e.height),i()},[s,e]),ce("primitive",{ref:r,object:s,dispose:null})});D.forwardRef(function({selection:e=[],selectionLayer:n=10,blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:h,xRay:d,...g},v){const y=qn(w=>w.invalidate),{scene:A,camera:x}=D.useContext(gc),E=D.useMemo(()=>new sxe(A,x,{blendFunction:r,patternTexture:i,edgeStrength:s,pulseSpeed:o,visibleEdgeColor:a,hiddenEdgeColor:l,width:u,height:c,kernelSize:f,blur:h,xRay:d,...g}),[r,h,x,s,c,l,f,i,o,A,a,u,d]),S=D.useContext(R7);return D.useEffect(()=>{if(!S&&e)return E.selection.set(Array.isArray(e)?e.map(Zc):[Zc(e)]),y(),()=>{E.selection.clear(),y()}},[E,e,S,y]),D.useEffect(()=>{E.selectionLayer=n,y()},[E,y,n]),D.useRef(),D.useEffect(()=>{var w;if(S&&S.enabled&&(w=S.selected)!=null&&w.length)return E.selection.set(S.selected),y(),()=>{E.selection.clear(),y()}},[S,E.selection,y]),ce("primitive",{ref:v,object:E})});D.forwardRef(function({granularity:e=5},n){const r=D.useMemo(()=>new axe(e),[e]);return ce("primitive",{ref:n,object:r,dispose:null})});const Hxe=(t,e)=>t.layers.enable(e.selection.layer),Qxe=(t,e)=>t.layers.disable(e.selection.layer);D.forwardRef(function({selection:e=[],selectionLayer:n=10,lights:r=[],luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f},h){r.length===0&&console.warn("SelectiveBloom requires lights to work.");const d=qn(x=>x.invalidate),{scene:g,camera:v}=D.useContext(gc),y=D.useMemo(()=>new lxe(g,v,{blendFunction:Ot.ADD,luminanceThreshold:i,luminanceSmoothing:s,intensity:o,width:a,height:l,kernelSize:u,mipmapBlur:c,...f}),[g,v,i,s,o,a,l,u,c,f]),A=D.useContext(R7);return D.useEffect(()=>{if(!A&&e)return y.selection.set(Array.isArray(e)?e.map(Zc):[Zc(e)]),d(),()=>{y.selection.clear(),d()}},[y,e,A,d]),D.useEffect(()=>{y.selection.layer=n,d()},[y,d,n]),D.useEffect(()=>{if(r&&r.length>0)return r.forEach(x=>Hxe(Zc(x),y)),d(),()=>{r.forEach(x=>Qxe(Zc(x),y)),d()}},[y,d,r,n]),D.useEffect(()=>{var x;if(A&&A.enabled&&(x=A.selected)!=null&&x.length)return y.selection.set(A.selected),d(),()=>{y.selection.clear(),d()}},[A,y.selection,d]),ce("primitive",{ref:h,object:y,dispose:null})});D.forwardRef(function(e,n){const{camera:r,normalPass:i,downSamplingPass:s,resolutionScale:o}=D.useContext(gc),a=D.useMemo(()=>i===null&&s===null?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),{}):new dxe(r,i&&!s?i.texture:null,{blendFunction:Ot.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,bias:.5,intensity:1,color:void 0,normalDepthBuffer:s?s.texture:null,resolutionScale:o??1,depthAwareUpsampling:!0,...e}),[r,i,e]);return ce("primitive",{ref:n,object:a,dispose:null})});const Vxe=vW(fxe);D.forwardRef(function({textureSrc:e,texture:n,...r},i){const s=Pa(kf,e);D.useLayoutEffect(()=>{s.encoding=xa,s.wrapS=s.wrapT=ei},[s]);const o=D.useMemo(()=>new gxe({...r,texture:s||n}),[r,s,n]);return ce("primitive",{ref:i,object:o,dispose:null})});D.forwardRef(function({lut:e,tetrahedralInterpolation:n,...r},i){const s=D.useMemo(()=>new nxe(e,r),[e,r]),o=qn(a=>a.invalidate);return D.useLayoutEffect(()=>{n&&(s.tetrahedralInterpolation=n),e&&(s.lut=e),o()},[s,o,e,n]),ce("primitive",{ref:i,object:s,dispose:null})});const Wxe=`
uniform sampler2D uCharacters;
uniform float uCharactersCount;
uniform float uCellSize;
uniform bool uInvert;
uniform vec3 uColor;

const vec2 SIZE = vec2(16.);

vec3 greyscale(vec3 color, float strength) {
    float g = dot(color, vec3(0.299, 0.587, 0.114));
    return mix(color, vec3(g), strength);
}

vec3 greyscale(vec3 color) {
    return greyscale(color, 1.0);
}

void mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {
    vec2 cell = resolution / uCellSize;
    vec2 grid = 1.0 / cell;
    vec2 pixelizedUV = grid * (0.5 + floor(uv / grid));
    vec4 pixelized = texture2D(inputBuffer, pixelizedUV);
    float greyscaled = greyscale(pixelized.rgb).r;

    if (uInvert) {
        greyscaled = 1.0 - greyscaled;
    }

    float characterIndex = floor((uCharactersCount - 1.0) * greyscaled);
    vec2 characterPosition = vec2(mod(characterIndex, SIZE.x), floor(characterIndex / SIZE.y));
    vec2 offset = vec2(characterPosition.x, -characterPosition.y) / SIZE;
    vec2 charUV = mod(uv * (cell / SIZE), 1.0 / SIZE) - vec2(0., 1.0 / SIZE) + offset;
    vec4 asciiCharacter = texture2D(uCharacters, charUV);

    asciiCharacter.rgb = uColor * asciiCharacter.r;
    asciiCharacter.a = pixelized.a;
    outputColor = asciiCharacter;
}
`;class jxe extends Hi{constructor({characters:e=" .:,'-^=*+?!|0#X%WM@",fontSize:n=54,cellSize:r=16,color:i="#ffffff",invert:s=!1}={}){const o=new Map([["uCharacters",new ae(new xn)],["uCellSize",new ae(r)],["uCharactersCount",new ae(e.length)],["uColor",new ae(new Be(i))],["uInvert",new ae(s)]]);super("ASCIIEffect",Wxe,{uniforms:o});const a=this.uniforms.get("uCharacters");a&&(a.value=this.createCharactersTexture(e,n))}createCharactersTexture(e,n){const r=document.createElement("canvas"),i=1024,s=16,o=i/s;r.width=r.height=i;const a=new fz(r,void 0,ei,ei,ot,ot),l=r.getContext("2d");if(!l)throw new Error("Context not available");l.clearRect(0,0,i,i),l.font=`${n}px arial`,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";for(let u=0;u<e.length;u++){const c=e[u],f=u%s,h=Math.floor(u/s);l.fillText(c,f*o+o/2,h*o+o/2)}return a.needsUpdate=!0,a}}D.forwardRef(({characters:t=" .:,'-^=*+?!|0#X%WM@",fontSize:e=54,cellSize:n=16,color:r="#ffffff",invert:i=!1},s)=>{const o=D.useMemo(()=>new jxe({characters:t,fontSize:e,cellSize:n,color:r,invert:i}),[t,e,n,r,i]);return ce("primitive",{ref:s,object:o})});var Xxe=`#define GLSLIFY 1
uniform float blur;uniform float blurSharpness;uniform int blurKernel;vec3 denoise(vec3 center,sampler2D tex,vec2 uv,vec2 invTexSize,float blur,float blurSharpness,int blurKernel){vec3 color;float total;vec3 col;float weight;for(int x=-blurKernel;x<=blurKernel;x++){for(int y=-blurKernel;y<=blurKernel;y++){col=textureLod(tex,uv+vec2(x,y)*invTexSize,0.).rgb;weight=1.0-abs(dot(col-center,vec3(0.25)));weight=pow(weight,blurSharpness);color+=col*weight;total+=weight;}}return color/total;}`,Yxe=`#define GLSLIFY 1
#define MODE_DEFAULT 0
#define MODE_REFLECTIONS 1
#define MODE_RAW_REFLECTION 2
#define MODE_BLURRED_REFLECTIONS 3
#define MODE_INPUT 4
#define MODE_BLUR_MIX 5
#define FLOAT_EPSILON 0.00001
uniform sampler2D inputTexture;uniform sampler2D reflectionsTexture;uniform float samples;
#include <boxBlur>
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 reflectionsTexel=texture2D(reflectionsTexture,vUv);ivec2 size=textureSize(reflectionsTexture,0);vec2 invTexSize=1./vec2(size.x,size.y);vec3 reflectionClr=reflectionsTexel.xyz;if(blur>FLOAT_EPSILON){vec3 blurredReflectionsColor=denoise(reflectionsTexel.rgb,reflectionsTexture,vUv,invTexSize,blur,blurSharpness,blurKernel);reflectionClr=mix(reflectionClr,blurredReflectionsColor.rgb,blur);}
#if RENDER_MODE == MODE_DEFAULT
outputColor=vec4(inputColor.rgb+reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_REFLECTIONS
outputColor=vec4(reflectionClr,1.0);
#endif
#if RENDER_MODE == MODE_RAW_REFLECTION
outputColor=vec4(reflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLURRED_REFLECTIONS
outputColor=vec4(blurredReflectionsTexel.xyz,1.0);
#endif
#if RENDER_MODE == MODE_INPUT
outputColor=vec4(inputColor.xyz,1.0);
#endif
#if RENDER_MODE == MODE_BLUR_MIX
outputColor=vec4(vec3(blur),1.0);
#endif
}`,yW=`#define GLSLIFY 1
vec3 getViewPosition(const float depth){float clipW=_projectionMatrix[2][3]*depth+_projectionMatrix[3][3];vec4 clipPosition=vec4((vec3(vUv,depth)-0.5)*2.0,1.0);clipPosition*=clipW;return(_inverseProjectionMatrix*clipPosition).xyz;}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 screenSpaceToWorldSpace(const vec2 uv,const float depth){vec4 ndc=vec4((uv.x-0.5)*2.0,(uv.y-0.5)*2.0,(depth-0.5)*2.0,1.0);vec4 clip=_inverseProjectionMatrix*ndc;vec4 view=cameraMatrixWorld*(clip/clip.w);return view.xyz;}
#define Scale (vec3(0.8, 0.8, 0.8))
#define K (19.19)
vec3 hash(vec3 a){a=fract(a*Scale);a+=dot(a,a.yxz+K);return fract((a.xxy+a.yxx)*a.zyx);}float fresnel_dielectric_cos(float cosi,float eta){float c=abs(cosi);float g=eta*eta-1.0+c*c;float result;if(g>0.0){g=sqrt(g);float A=(g-c)/(g+c);float B=(c*(g+c)-1.0)/(c*(g-c)+1.0);result=0.5*A*A*(1.0+B*B);}else{result=1.0;}return result;}float fresnel_dielectric(vec3 Incoming,vec3 Normal,float eta){float cosine=dot(Incoming,Normal);return min(1.0,5.0*fresnel_dielectric_cos(cosine,eta));}`,Kxe=`#define GLSLIFY 1
#define INV_EULER 0.36787944117144233
alpha=velocityDisocclusion<FLOAT_EPSILON ?(alpha+0.0075): 0.0;alpha=clamp(alpha,0.0,1.0);bool needsBlur=!didReproject||velocityDisocclusion>0.5;
#ifdef boxBlur
if(needsBlur)inputColor=boxBlurredColor;
#endif
if(alpha==1.0){outputColor=accumulatedColor;}else{float m=mix(alpha,1.0,blend);if(needsBlur)m=0.0;outputColor=accumulatedColor*m+inputColor*(1.0-m);}`;class Jxe extends lt{constructor(){super({type:"MRTMaterial",defines:{USE_UV:"",TEMPORAL_RESOLVE:""},uniforms:{opacity:new ae(1),normalMap:new ae(null),normalScale:new ae(new ie(1,1)),uvTransform:new ae(new Jt),roughness:new ae(1),roughnessMap:new ae(null)},vertexShader:`
                #ifdef USE_MRT
                 varying vec2 vHighPrecisionZW;
                #endif
                #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <common>
                #include <uv_pars_vertex>
                #include <displacementmap_pars_vertex>
                #include <normal_pars_vertex>
                #include <morphtarget_pars_vertex>
                #include <skinning_pars_vertex>
                #include <logdepthbuf_pars_vertex>
                #include <clipping_planes_pars_vertex>
                #ifdef USE_UV
                  ${no.replace(/\D+/g,"")>=151?"uniform mat3 uvTransform;":""}
                #endif
                void main() {
                    #include <uv_vertex>
                    #include <beginnormal_vertex>
                    #include <morphnormal_vertex>
                    #include <skinbase_vertex>
                    #include <skinnormal_vertex>
                    #include <defaultnormal_vertex>
                    #include <normal_vertex>
                    #include <begin_vertex>
                    #include <morphtarget_vertex>
                    #include <skinning_vertex>
                    #include <displacementmap_vertex>
                    #include <project_vertex>
                    #include <logdepthbuf_vertex>
                    #include <clipping_planes_vertex>
                    #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                        vViewPosition = - mvPosition.xyz;
                    #endif
                    #ifdef USE_MRT
                        vHighPrecisionZW = gl_Position.zw;
                    #endif
                    #ifdef USE_UV
                        vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
                    #endif
                }
            `,fragmentShader:`
                 #define NORMAL
                #if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
                    varying vec3 vViewPosition;
                #endif
                #include <packing>
                #include <uv_pars_fragment>
                #include <normal_pars_fragment>
                #include <bumpmap_pars_fragment>
                #include <normalmap_pars_fragment>
                #include <logdepthbuf_pars_fragment>
                #include <clipping_planes_pars_fragment>
                #include <roughnessmap_pars_fragment>

                #ifdef USE_MRT
                layout(location = 0) out vec4 gNormal;
                layout(location = 1) out vec4 gDepth;

                varying vec2 vHighPrecisionZW;
                #endif
                uniform float roughness;
                void main() {
                    #include <clipping_planes_fragment>
                    #include <logdepthbuf_fragment>
                    #include <normal_fragment_begin>
                    #include <normal_fragment_maps>

                    float roughnessFactor = roughness;

                    if(roughness > 10.0e9){
                        roughnessFactor = 1.;
                    }else{
                        #ifdef useRoughnessMap
                            vec4 texelRoughness = texture2D( roughnessMap, vUv );
                            // reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture
                            roughnessFactor *= texelRoughness.g;
                        #endif
                    }

                    vec3 normalColor = packNormalToRGB( normal );
                    #ifdef USE_MRT
                        float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
                        vec4 depthColor = packDepthToRGBA( fragCoordZ );
                        gNormal = vec4( normalColor, roughnessFactor );
                        gDepth = depthColor;
                    #else
                        gl_FragColor = vec4(normalColor, roughnessFactor);
                    #endif
                }
            `,toneMapped:!1}),this.normalMapType=uc,this.normalScale=new ie(1,1),Object.defineProperty(this,"glslVersion",{get(){return"USE_MRT"in this.defines?tx:null},set(e){}})}}var qxe=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,Zxe=`#define GLSLIFY 1
varying vec2 vUv;uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D normalTexture;uniform sampler2D depthTexture;uniform sampler2D envMap;uniform mat4 _projectionMatrix;uniform mat4 _inverseProjectionMatrix;uniform mat4 cameraMatrixWorld;uniform float cameraNear;uniform float cameraFar;uniform float rayDistance;uniform float intensity;uniform float maxDepthDifference;uniform float roughnessFade;uniform float maxRoughness;uniform float fade;uniform float thickness;uniform float ior;uniform float samples;uniform float jitter;uniform float jitterRoughness;
#define INVALID_RAY_COORDS vec2(-1.0);
#define EARLY_OUT_COLOR vec4(0.0, 0.0, 0.0, 1.0)
#define FLOAT_EPSILON 0.00001
float nearMinusFar;float nearMulFar;float farMinusNear;
#include <packing>
#include <helperFunctions>
vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference);float fastGetViewZ(const in float depth);vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness);void main(){vec4 depthTexel=textureLod(depthTexture,vUv,0.0);if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON){gl_FragColor=EARLY_OUT_COLOR;return;}float unpackedDepth=unpackRGBAToDepth(depthTexel);vec4 normalTexel=textureLod(normalTexture,vUv,0.0);float roughness=normalTexel.a;float specular=1.0-roughness;nearMinusFar=cameraNear-cameraFar;nearMulFar=cameraNear*cameraFar;farMinusNear=cameraFar-cameraNear;normalTexel.rgb=unpackRGBToNormal(normalTexel.rgb);float depth=fastGetViewZ(unpackedDepth);vec3 viewPos=getViewPosition(depth);vec3 viewDir=normalize(viewPos);vec3 viewNormal=normalTexel.xyz;vec3 worldPos=screenSpaceToWorldSpace(vUv,unpackedDepth);vec3 jitt=vec3(0.0);if(jitterRoughness!=0.0||jitter!=0.0){vec3 randomJitter=hash(50.0*samples*worldPos)-0.5;float spread=((2.0-specular)+roughness*jitterRoughness);float jitterMix=jitter*0.25+jitterRoughness*roughness;if(jitterMix>1.0)jitterMix=1.0;jitt=mix(vec3(0.0),randomJitter*spread,jitterMix);}viewNormal+=jitt;float fresnelFactor=fresnel_dielectric(viewDir,viewNormal,ior);vec3 iblRadiance=getIBLRadiance(-viewDir,viewNormal,0.)*fresnelFactor;float lastFrameAlpha=textureLod(accumulatedTexture,vUv,0.0).a;if(roughness>maxRoughness||(roughness>1.0-FLOAT_EPSILON&&roughnessFade>1.0-FLOAT_EPSILON)){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec3 reflected=reflect(viewDir,viewNormal);vec3 rayDir=reflected*-viewPos.z;vec3 hitPos=viewPos;float rayHitDepthDifference;vec2 coords=RayMarch(rayDir,hitPos,rayHitDepthDifference);if(coords.x==-1.0){gl_FragColor=vec4(iblRadiance,lastFrameAlpha);return;}vec4 SSRTexel=textureLod(inputTexture,coords.xy,0.0);vec4 SSRTexelReflected=textureLod(accumulatedTexture,coords.xy,0.0);vec3 SSR=SSRTexel.rgb+SSRTexelReflected.rgb;float roughnessFactor=mix(specular,1.0,max(0.0,1.0-roughnessFade));vec2 coordsNDC=(coords.xy*2.0-1.0);float screenFade=0.1;float maxDimension=min(1.0,max(abs(coordsNDC.x),abs(coordsNDC.y)));float reflectionIntensity=1.0-(max(0.0,maxDimension-screenFade)/(1.0-screenFade));reflectionIntensity=max(0.,reflectionIntensity);vec3 finalSSR=mix(iblRadiance,SSR,reflectionIntensity)*roughnessFactor;if(fade!=0.0){vec3 hitWorldPos=screenSpaceToWorldSpace(coords,rayHitDepthDifference);float reflectionDistance=distance(hitWorldPos,worldPos)+1.0;float opacity=1.0/(reflectionDistance*fade*0.1);if(opacity>1.0)opacity=1.0;finalSSR*=opacity;}finalSSR*=fresnelFactor*intensity;finalSSR=min(vec3(1.0),finalSSR);float alpha=hitPos.z==1.0 ? 1.0 : SSRTexelReflected.a;alpha=min(lastFrameAlpha,alpha);gl_FragColor=vec4(finalSSR,alpha);}vec2 RayMarch(vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){dir=normalize(dir);dir*=rayDistance/float(steps);float depth;vec4 projectedCoord;vec4 lastProjectedCoord;float unpackedDepth;vec4 depthTexel;for(int i=0;i<steps;i++){hitPos+=dir;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;
#ifndef missedRays
if(projectedCoord.x<0.0||projectedCoord.x>1.0||projectedCoord.y<0.0||projectedCoord.y>1.0){return INVALID_RAY_COORDS;}
#endif
depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;if(rayHitDepthDifference>=0.0&&rayHitDepthDifference<thickness){
#if refineSteps == 0
if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;
#else
return BinarySearch(dir,hitPos,rayHitDepthDifference);
#endif
}
#ifndef missedRays
if(hitPos.z>0.0){return INVALID_RAY_COORDS;}
#endif
lastProjectedCoord=projectedCoord;}hitPos.z=1.0;
#ifndef missedRays
return INVALID_RAY_COORDS;
#endif
rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}vec2 BinarySearch(in vec3 dir,inout vec3 hitPos,inout float rayHitDepthDifference){float depth;vec4 projectedCoord;vec2 lastMinProjectedCoordXY;float unpackedDepth;vec4 depthTexel;for(int i=0;i<refineSteps;i++){projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;depthTexel=textureLod(depthTexture,projectedCoord.xy,0.0);unpackedDepth=unpackRGBAToDepth(depthTexel);depth=fastGetViewZ(unpackedDepth);rayHitDepthDifference=depth-hitPos.z;dir*=0.5;if(rayHitDepthDifference>0.0){hitPos-=dir;}else{hitPos+=dir;}}if(dot(depthTexel.rgb,depthTexel.rgb)<FLOAT_EPSILON)return INVALID_RAY_COORDS;if(abs(rayHitDepthDifference)>maxDepthDifference)return INVALID_RAY_COORDS;projectedCoord=_projectionMatrix*vec4(hitPos,1.0);projectedCoord.xy/=projectedCoord.w;projectedCoord.xy=projectedCoord.xy*0.5+0.5;rayHitDepthDifference=unpackedDepth;return projectedCoord.xy;}float fastGetViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return nearMulFar/(farMinusNear*depth-cameraFar);
#else
return depth*nearMinusFar-cameraNear;
#endif
}
#include <common>
#include <cube_uv_reflection_fragment>
vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness){
#if defined(ENVMAP_TYPE_CUBE_UV)
vec3 reflectVec=reflect(-viewDir,normal);reflectVec=normalize(mix(reflectVec,normal,roughness*roughness));reflectVec=inverseTransformDirection(reflectVec,viewMatrix);vec4 envMapColor=textureCubeUV(envMap,reflectVec,roughness);return envMapColor.rgb*intensity;
#else
return vec3(0.0);
#endif
}`;class $xe extends lt{constructor(){super({type:"ReflectionsMaterial",uniforms:{inputTexture:new ae(null),accumulatedTexture:new ae(null),normalTexture:new ae(null),depthTexture:new ae(null),_projectionMatrix:new ae(new Ke),_inverseProjectionMatrix:new ae(new Ke),cameraMatrixWorld:new ae(new Ke),cameraNear:new ae(0),cameraFar:new ae(0),rayDistance:new ae(0),intensity:new ae(0),roughnessFade:new ae(0),fade:new ae(0),thickness:new ae(0),ior:new ae(0),maxDepthDifference:new ae(0),jitter:new ae(0),jitterRoughness:new ae(0),maxRoughness:new ae(0),samples:new ae(0),envMap:new ae(null),envMapPosition:new ae(new k),envMapSize:new ae(new k),viewMatrix:new ae(new Ke)},defines:{steps:20,refineSteps:5,CUBEUV_TEXEL_WIDTH:0,CUBEUV_TEXEL_HEIGHT:0,CUBEUV_MAX_MIP:0,vWorldPosition:"worldPos"},fragmentShader:Zxe.replace("#include <helperFunctions>",yW),vertexShader:qxe,toneMapped:!1,depthWrite:!1,depthTest:!1})}}const xW=t=>{const e=[t],n=[];for(;e.length!==0;){const r=e.shift();r.material&&n.push(r);for(const i of r.children)i.visible&&e.push(i)}return n},e6e=t=>{const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}},HF=(t,e,n)=>{t.uniforms.envMap.value=e;const r=e6e({envMapCubeUVHeight:n});t.defines.ENVMAP_TYPE_CUBE_UV="",t.defines.CUBEUV_TEXEL_WIDTH=r.texelWidth,t.defines.CUBEUV_TEXEL_HEIGHT=r.texelHeight,t.defines.CUBEUV_MAX_MIP=r.maxMip+".0",t.needsUpdate=!0},t6e=()=>{try{const t=document.createElement("canvas");return!!(window.WebGL2RenderingContext&&t.getContext("webgl2"))}catch{return!1}};class n6e extends ii{constructor(e,n={}){super("ReflectionsPass"),this.ssrEffect=void 0,this.cachedMaterials=new WeakMap,this.USE_MRT=!1,this.webgl1DepthPass=null,this.visibleMeshes=[],this.ssrEffect=e,this._scene=e._scene,this._camera=e._camera,this.fullscreenMaterial=new $xe,e._camera.isPerspectiveCamera&&(this.fullscreenMaterial.defines.PERSPECTIVE_CAMERA="");const r=n.width||typeof window<"u"?window.innerWidth:2e3,i=n.height||typeof window<"u"?window.innerHeight:1e3;this.renderTarget=new Tt(r,i,{minFilter:ct,magFilter:ct,type:Ln,depthBuffer:!1}),this.renderPass=new Rm(this._scene,this._camera),this.USE_MRT=t6e(),this.USE_MRT?(this.gBuffersRenderTarget=new uM(r,i,2,{minFilter:ct,magFilter:ct}),this.normalTexture=this.gBuffersRenderTarget.texture[0],this.depthTexture=this.gBuffersRenderTarget.texture[1]):(this.webgl1DepthPass=new b7(this._scene,this._camera),this.webgl1DepthPass.renderTarget.minFilter=ct,this.webgl1DepthPass.renderTarget.magFilter=ct,this.webgl1DepthPass.renderTarget.texture.minFilter=ct,this.webgl1DepthPass.renderTarget.texture.magFilter=ct,this.webgl1DepthPass.setSize(typeof window<"u"?window.innerWidth:2e3,typeof window<"u"?window.innerHeight:1e3),this.gBuffersRenderTarget=new Tt(r,i,{minFilter:ct,magFilter:ct}),this.normalTexture=this.gBuffersRenderTarget.texture,this.depthTexture=this.webgl1DepthPass.texture),this.fullscreenMaterial.uniforms.normalTexture.value=this.normalTexture,this.fullscreenMaterial.uniforms.depthTexture.value=this.depthTexture,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.uniforms.cameraMatrixWorld.value=this._camera.matrixWorld,this.fullscreenMaterial.uniforms._projectionMatrix.value=this._camera.projectionMatrix,this.fullscreenMaterial.uniforms._inverseProjectionMatrix.value=this._camera.projectionMatrixInverse}setSize(e,n){this.renderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.gBuffersRenderTarget.setSize(e*this.ssrEffect.resolutionScale,n*this.ssrEffect.resolutionScale),this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.ssrEffect.temporalResolvePass.accumulatedTexture,this.fullscreenMaterial.needsUpdate=!0}dispose(){this.renderTarget.dispose(),this.gBuffersRenderTarget.dispose(),this.renderPass.dispose(),this.USE_MRT||this.webgl1DepthPass.dispose(),this.fullscreenMaterial.dispose(),this.normalTexture=null,this.depthTexture=null,this.velocityTexture=null}keepMaterialMapUpdated(e,n,r,i){this.ssrEffect[i]?n[r]!==e[r]&&(e[r]=n[r],e.uniforms[r].value=n[r],n[r]?e.defines[i]="":delete e.defines[i],e.needsUpdate=!0):e[r]!==void 0&&(e[r]=void 0,e.uniforms[r].value=void 0,delete e.defines[i],e.needsUpdate=!0)}setMRTMaterialInScene(){this.visibleMeshes=xW(this._scene);for(const e of this.visibleMeshes)if(e.material){const n=e.material;let[r,i]=this.cachedMaterials.get(e)||[];if(n!==r){i&&i.dispose(),i=new Jxe,this.USE_MRT&&(i.defines.USE_MRT=""),i.normalScale=n.normalScale,i.uniforms.normalScale.value=n.normalScale;const s=n.map||n.normalMap||n.roughnessMap||n.metalnessMap;s&&(i.uniforms.uvTransform.value=s.matrix),this.cachedMaterials.set(e,[n,i])}this.keepMaterialMapUpdated(i,n,"normalMap","useNormalMap"),this.keepMaterialMapUpdated(i,n,"roughnessMap","useRoughnessMap"),i.uniforms.roughness.value=this.ssrEffect.selection.size===0||this.ssrEffect.selection.has(e)?n.roughness||0:1e11,e.material=i}}unsetMRTMaterialInScene(){for(const n of this.visibleMeshes){var e;if(((e=n.material)==null?void 0:e.type)==="MRTMaterial"){n.visible=!0;const[r]=this.cachedMaterials.get(n);n.material=r}}}render(e,n){this.setMRTMaterialInScene(),e.setRenderTarget(this.gBuffersRenderTarget),this.renderPass.render(e,this.gBuffersRenderTarget),this.unsetMRTMaterialInScene(),this.USE_MRT||this.webgl1DepthPass.renderPass.render(e,this.webgl1DepthPass.renderTarget),this.fullscreenMaterial.uniforms.inputTexture.value=n.texture,this.fullscreenMaterial.uniforms.samples.value=this.ssrEffect.temporalResolvePass.samples,this.fullscreenMaterial.uniforms.cameraNear.value=this._camera.near,this.fullscreenMaterial.uniforms.cameraFar.value=this._camera.far,this.fullscreenMaterial.uniforms.viewMatrix.value.copy(this._camera.matrixWorldInverse),e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera)}}const QF={intensity:1,exponent:1,distance:10,fade:0,roughnessFade:1,thickness:10,ior:1.45,maxRoughness:1,maxDepthDifference:10,blend:.9,correction:1,correctionRadius:1,blur:.5,blurKernel:1,blurSharpness:10,jitter:0,jitterRoughness:0,steps:20,refineSteps:5,missedRays:!0,useNormalMap:!0,useRoughnessMap:!0,resolutionScale:1,velocityResolutionScale:1};var r6e=`#define GLSLIFY 1
varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}`,i6e=`#define GLSLIFY 1
uniform sampler2D inputTexture;uniform sampler2D accumulatedTexture;uniform sampler2D velocityTexture;uniform sampler2D lastVelocityTexture;uniform float blend;uniform float correction;uniform float exponent;uniform float samples;uniform vec2 invTexSize;uniform mat4 curInverseProjectionMatrix;uniform mat4 curCameraMatrixWorld;uniform mat4 prevInverseProjectionMatrix;uniform mat4 prevCameraMatrixWorld;varying vec2 vUv;
#define MAX_NEIGHBOR_DEPTH_DIFFERENCE 0.001
#define FLOAT_EPSILON 0.00001
#define FLOAT_ONE_MINUS_EPSILON 0.99999
vec3 transformexponent;vec3 undoColorTransformExponent;vec3 transformColor(vec3 color){if(exponent==1.0)return color;return pow(abs(color),transformexponent);}vec3 undoColorTransform(vec3 color){if(exponent==1.0)return color;return max(pow(abs(color),undoColorTransformExponent),vec3(0.0));}void main(){if(exponent!=1.0){transformexponent=vec3(1.0/exponent);undoColorTransformExponent=vec3(exponent);}vec4 inputTexel=textureLod(inputTexture,vUv,0.0);vec4 accumulatedTexel;vec3 inputColor=transformColor(inputTexel.rgb);vec3 accumulatedColor;float alpha=inputTexel.a;float velocityDisocclusion;bool didReproject=false;
#ifdef boxBlur
vec3 boxBlurredColor=inputTexel.rgb;
#endif
vec4 velocity=textureLod(velocityTexture,vUv,0.0);bool isMoving=alpha<1.0||dot(velocity.xy,velocity.xy)>0.0;if(isMoving){vec3 minNeighborColor=inputColor;vec3 maxNeighborColor=inputColor;vec3 col;vec2 neighborUv;vec2 reprojectedUv=vUv-velocity.xy;vec4 lastVelocity=textureLod(lastVelocityTexture,reprojectedUv,0.0);float depth=velocity.b;float closestDepth=depth;float lastClosestDepth=lastVelocity.b;float neighborDepth;float lastNeighborDepth;for(int x=-correctionRadius;x<=correctionRadius;x++){for(int y=-correctionRadius;y<=correctionRadius;y++){if(x!=0||y!=0){neighborUv=vUv+vec2(x,y)*invTexSize;vec4 neigborVelocity=textureLod(velocityTexture,neighborUv,0.0);neighborDepth=neigborVelocity.b;col=textureLod(inputTexture,neighborUv,0.0).xyz;int absX=abs(x);int absY=abs(y);
#ifdef dilation
if(absX==1&&absY==1){if(neighborDepth>closestDepth){velocity=neigborVelocity;closestDepth=neighborDepth;}vec4 lastNeighborVelocity=textureLod(velocityTexture,vUv+vec2(x,y)*invTexSize,0.0);lastNeighborDepth=lastNeighborVelocity.b;if(neighborDepth>closestDepth){lastVelocity=lastNeighborVelocity;lastClosestDepth=lastNeighborDepth;}}
#endif
if(abs(depth-neighborDepth)<MAX_NEIGHBOR_DEPTH_DIFFERENCE){
#ifdef boxBlur
if(absX<=2&&absY<=2)boxBlurredColor+=col;
#endif
col=transformColor(col);minNeighborColor=min(col,minNeighborColor);maxNeighborColor=max(col,maxNeighborColor);}}}}float velocityLength=length(lastVelocity.xy-velocity.xy);velocityDisocclusion=(velocityLength-0.000005)*10.0;velocityDisocclusion*=velocityDisocclusion;reprojectedUv=vUv-velocity.xy;
#ifdef boxBlur
float pxRadius=correctionRadius>5 ? 121.0 : pow(float(correctionRadius*2+1),2.0);boxBlurredColor/=pxRadius;boxBlurredColor=transformColor(boxBlurredColor);
#endif
if(reprojectedUv.x>=0.0&&reprojectedUv.x<=1.0&&reprojectedUv.y>=0.0&&reprojectedUv.y<=1.0){accumulatedTexel=textureLod(accumulatedTexture,reprojectedUv,0.0);accumulatedColor=transformColor(accumulatedTexel.rgb);vec3 clampedColor=clamp(accumulatedColor,minNeighborColor,maxNeighborColor);accumulatedColor=mix(accumulatedColor,clampedColor,correction);didReproject=true;}else{
#ifdef boxBlur
accumulatedColor=boxBlurredColor;
#else
accumulatedColor=inputColor;
#endif
}if(velocity.r>FLOAT_ONE_MINUS_EPSILON&&velocity.g>FLOAT_ONE_MINUS_EPSILON){alpha=0.0;velocityDisocclusion=1.0;}}else{accumulatedColor=transformColor(textureLod(accumulatedTexture,vUv,0.0).rgb);}vec3 outputColor=inputColor;
#include <custom_compose_shader>
gl_FragColor=vec4(undoColorTransform(outputColor),alpha);}`;class s6e extends lt{constructor(e){const n=i6e.replace("#include <custom_compose_shader>",e);super({type:"TemporalResolveMaterial",uniforms:{inputTexture:new ae(null),accumulatedTexture:new ae(null),velocityTexture:new ae(null),lastVelocityTexture:new ae(null),samples:new ae(1),blend:new ae(.5),correction:new ae(1),exponent:new ae(1),invTexSize:new ae(new ie)},defines:{correctionRadius:1},vertexShader:r6e,fragmentShader:n})}}const o6e=`
    #ifdef USE_SKINNING
      #ifdef BONE_TEXTURE
        uniform sampler2D prevBoneTexture;
        mat4 getPrevBoneMatrix( const in float i ) {
          float j = i * 4.0;
          float x = mod( j, float( boneTextureSize ) );
          float y = floor( j / float( boneTextureSize ) );
          float dx = 1.0 / float( boneTextureSize );
          float dy = 1.0 / float( boneTextureSize );
          y = dy * ( y + 0.5 );
          vec4 v1 = texture2D( prevBoneTexture, vec2( dx * ( x + 0.5 ), y ) );
          vec4 v2 = texture2D( prevBoneTexture, vec2( dx * ( x + 1.5 ), y ) );
          vec4 v3 = texture2D( prevBoneTexture, vec2( dx * ( x + 2.5 ), y ) );
          vec4 v4 = texture2D( prevBoneTexture, vec2( dx * ( x + 3.5 ), y ) );
          mat4 bone = mat4( v1, v2, v3, v4 );
          return bone;
        }
      #else
        uniform mat4 prevBoneMatrices[ MAX_BONES ];
        mat4 getPrevBoneMatrix( const in float i ) {
          mat4 bone = prevBoneMatrices[ int(i) ];
          return bone;
        }
      #endif
    #endif
`,a6e=`
    vec3 transformed;

    // Get the normal
    ${St.skinbase_vertex}
    ${St.beginnormal_vertex}
    ${St.skinnormal_vertex}
    ${St.defaultnormal_vertex}

    // Get the current vertex position
    transformed = vec3( position );
    ${St.skinning_vertex}
    newPosition = velocityMatrix * vec4( transformed, 1.0 );

    // Get the previous vertex position
    transformed = vec3( position );
    ${St.skinbase_vertex.replace(/mat4 /g,"").replace(/getBoneMatrix/g,"getPrevBoneMatrix")}
    ${St.skinning_vertex.replace(/vec4 /g,"")}
    prevPosition = prevVelocityMatrix * vec4( transformed, 1.0 );

    gl_Position = newPosition;
`;class l6e extends lt{constructor(){super({uniforms:{prevVelocityMatrix:{value:new Ke},velocityMatrix:{value:new Ke},prevBoneTexture:{value:null},interpolateGeometry:{value:0},intensity:{value:1},boneTexture:{value:null},alphaTest:{value:0},map:{value:null},alphaMap:{value:null},opacity:{value:1}},vertexShader:`
                    #define MAX_BONES 1024

                    ${St.skinning_pars_vertex}
                    ${o6e}

                    uniform mat4 velocityMatrix;
                    uniform mat4 prevVelocityMatrix;
                    uniform float interpolateGeometry;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {

                        ${a6e}

            vHighPrecisionZW = gl_Position.zw;

                    }`,fragmentShader:`
                    uniform float intensity;
                    varying vec4 prevPosition;
                    varying vec4 newPosition;
          varying vec2 vHighPrecisionZW;

                    void main() {
            #ifdef FULL_MOVEMENT
            gl_FragColor = vec4( 1., 1., 1. - gl_FragCoord.z, 0. );
            return;
            #endif

                        vec2 pos0 = (prevPosition.xy / prevPosition.w) * 0.5 + 0.5;
                        vec2 pos1 = (newPosition.xy / newPosition.w) * 0.5 + 0.5;

                        vec2 vel = pos1 - pos0;

            float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;

                        gl_FragColor = vec4( vel, 1. - fragCoordZ, 0. );

                    }`}),this.isVelocityMaterial=!0}}const u6e=new Be(0),c6e=["visible","wireframe","side"];class f6e extends ii{constructor(e,n){var r,i;super("VelocityPass"),this.cachedMaterials=new WeakMap,this.lastCameraTransform={position:new k,quaternion:new sr},this.visibleMeshes=[],this.renderedMeshesThisFrame=0,this.renderedMeshesLastFrame=0,this._scene=e,this._camera=n,this.renderTarget=new Tt(((r=window)==null?void 0:r.innerWidth)||1e3,((i=window)==null?void 0:i.innerHeight)||1e3,{type:Ln})}setVelocityMaterialInScene(){this.renderedMeshesThisFrame=0,this.visibleMeshes=xW(this._scene);for(const r of this.visibleMeshes){var e;const i=r.material;let[s,o]=this.cachedMaterials.get(r)||[];if(i!==s){var n;o=new l6e,o.lastMatrixWorld=new Ke,r.material=o,(n=r.skeleton)!=null&&n.boneTexture&&this.saveBoneTexture(r),this.cachedMaterials.set(r,[i,o])}if(o.uniforms.velocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,r.modelViewMatrix),r.userData.needsUpdatedReflections||i.map instanceof sx?("FULL_MOVEMENT"in o.defines||(o.needsUpdate=!0),o.defines.FULL_MOVEMENT=""):"FULL_MOVEMENT"in o.defines&&(delete o.defines.FULL_MOVEMENT,o.needsUpdate=!0),r.visible=this.cameraMovedThisFrame||!r.matrixWorld.equals(o.lastMatrixWorld)||r.skeleton||"FULL_MOVEMENT"in o.defines,r.material=o,!!r.visible){this.renderedMeshesThisFrame++;for(const a of c6e)o[a]=i[a];(e=r.skeleton)!=null&&e.boneTexture&&(o.defines.USE_SKINNING="",o.defines.BONE_TEXTURE="",o.uniforms.boneTexture.value=r.skeleton.boneTexture)}}}saveBoneTexture(e){let n=e.material.uniforms.prevBoneTexture.value;if(n&&n.image.width===e.skeleton.boneTexture.width)n=e.material.uniforms.prevBoneTexture.value,n.image.data.set(e.skeleton.boneTexture.image.data);else{var r;(r=n)==null||r.dispose();const i=e.skeleton.boneTexture.image.data.slice(),s=e.skeleton.boneTexture.image.width;n=new Xs(i,s,s,yn,Un),e.material.uniforms.prevBoneTexture.value=n,n.needsUpdate=!0}}unsetVelocityMaterialInScene(){for(const n of this.visibleMeshes)if(n.material.isVelocityMaterial){var e;n.visible=!0,n.material.lastMatrixWorld.copy(n.matrixWorld),n.material.uniforms.prevVelocityMatrix.value.multiplyMatrices(this._camera.projectionMatrix,n.modelViewMatrix),(e=n.skeleton)!=null&&e.boneTexture&&this.saveBoneTexture(n),n.material=this.cachedMaterials.get(n)[0]}}setSize(e,n){this.renderTarget.setSize(e,n)}renderVelocity(e){if(e.setRenderTarget(this.renderTarget),this.renderedMeshesThisFrame>0){const{background:n}=this._scene;this._scene.background=u6e,e.render(this._scene,this._camera),this._scene.background=n}else e.clearColor()}checkCameraMoved(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));return e>1e-6||n>1e-6?(this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion),!0):!1}render(e){this.cameraMovedThisFrame=this.checkCameraMoved(),this.setVelocityMaterialInScene(),(this.renderedMeshesThisFrame>0||this.renderedMeshesLastFrame>0)&&this.renderVelocity(e),this.unsetVelocityMaterialInScene(),this.renderedMeshesLastFrame=this.renderedMeshesThisFrame}}const VF=new ie;class h6e extends ii{constructor(e,n,r,i={}){super("TemporalResolvePass"),this.velocityPass=null,this.velocityResolutionScale=1,this.samples=1,this.lastCameraTransform={position:new k,quaternion:new sr},this._scene=e,this._camera=n,this.renderTarget=new Tt(1,1,{minFilter:ct,magFilter:ct,type:Ln,depthBuffer:!1}),this.velocityPass=new f6e(e,n),this.fullscreenMaterial=new s6e(r),this.fullscreenMaterial.defines.correctionRadius=i.correctionRadius||1,i.dilation&&(this.fullscreenMaterial.defines.dilation=""),i.boxBlur&&(this.fullscreenMaterial.defines.boxBlur=""),this.setupFramebuffers(1,1),this.checkCanUseSharedVelocityTexture()}dispose(){this._scene.userData.velocityTexture===this.velocityPass.renderTarget.texture&&(delete this._scene.userData.velocityTexture,delete this._scene.userData.lastVelocityTexture),this.renderTarget.dispose(),this.accumulatedTexture.dispose(),this.fullscreenMaterial.dispose(),this.velocityPass.dispose()}setSize(e,n){this.renderTarget.setSize(e,n),this.velocityPass.setSize(e*this.velocityResolutionScale,n*this.velocityResolutionScale),this.velocityPass.renderTarget.texture.minFilter=this.velocityResolutionScale===1?ot:ct,this.velocityPass.renderTarget.texture.magFilter=this.velocityResolutionScale===1?ot:ct,this.velocityPass.renderTarget.texture.needsUpdate=!0,this.fullscreenMaterial.uniforms.invTexSize.value.set(1/e,1/n),this.setupFramebuffers(e,n)}setupFramebuffers(e,n){this.accumulatedTexture&&this.accumulatedTexture.dispose(),this.lastVelocityTexture&&this.lastVelocityTexture.dispose(),this.accumulatedTexture=new fw(e,n,yn),this.accumulatedTexture.minFilter=ct,this.accumulatedTexture.magFilter=ct,this.accumulatedTexture.type=Ln,this.lastVelocityTexture=new fw(e*this.velocityResolutionScale,n*this.velocityResolutionScale,yn),this.lastVelocityTexture.minFilter=this.velocityResolutionScale===1?ot:ct,this.lastVelocityTexture.magFilter=this.velocityResolutionScale===1?ot:ct,this.lastVelocityTexture.type=Ln,this.fullscreenMaterial.uniforms.accumulatedTexture.value=this.accumulatedTexture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0}checkCanUseSharedVelocityTexture(){return this._scene.userData.velocityTexture&&this.velocityPass.renderTarget.texture!==this._scene.userData.velocityTexture?this.velocityPass.renderTarget.texture===this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this._scene.userData.lastVelocityTexture,this.fullscreenMaterial.uniforms.velocityTexture.value=this._scene.userData.velocityTexture,this.fullscreenMaterial.needsUpdate=!0):this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value&&(this.fullscreenMaterial.uniforms.velocityTexture.value=this.velocityPass.renderTarget.texture,this.fullscreenMaterial.uniforms.lastVelocityTexture.value=this.lastVelocityTexture,this.fullscreenMaterial.needsUpdate=!0,this._scene.userData.velocityTexture||(this._scene.userData.velocityTexture=this.velocityPass.renderTarget.texture,this._scene.userData.lastVelocityTexture=this.lastVelocityTexture)),this.velocityPass.renderTarget.texture!==this.fullscreenMaterial.uniforms.velocityTexture.value}checkNeedsResample(){const e=this.lastCameraTransform.position.distanceToSquared(this._camera.position),n=8*(1-this.lastCameraTransform.quaternion.dot(this._camera.quaternion));(e>1e-6||n>1e-6)&&(this.samples=1,this.lastCameraTransform.position.copy(this._camera.position),this.lastCameraTransform.quaternion.copy(this._camera.quaternion))}render(e){this.samples++,this.checkNeedsResample(),this.fullscreenMaterial.uniforms.samples.value=this.samples,e.setRenderTarget(this.renderTarget),e.render(this.scene,this.camera),e.copyFramebufferToTexture(VF,this.accumulatedTexture),e.setRenderTarget(this.velocityPass.renderTarget),e.copyFramebufferToTexture(VF,this.lastVelocityTexture)}}const WF=function(e,n){let r=1,i=0;for(;e>0;)r/=n,i+=r*(e%n),e=~~(e/n);return i},d6e=t=>{const e=[];let n=1;const r=n+t;for(;n<r;n++)e.push([WF(n,2)-.5,WF(n,3)-.5]);return e};function jF(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const p6e=`
#if defined( USE_ENVMAP ) || defined(  ) || defined ( USE_SHADOWMAP )
    vec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );

    #ifdef BOX_PROJECTED_ENV_MAP
        vWorldPosition = worldPosition.xyz;
    #endif
#endif
`,m6e=`
#ifdef BOX_PROJECTED_ENV_MAP
    uniform vec3 envMapSize;
    uniform vec3 envMapPosition;
    varying vec3 vWorldPosition;

    vec3 parallaxCorrectNormal( vec3 v, vec3 cubeSize, vec3 cubePos ) {
        vec3 nDir = normalize( v );

        vec3 rbmax = ( .5 * cubeSize + cubePos - vWorldPosition ) / nDir;
        vec3 rbmin = ( -.5 * cubeSize + cubePos - vWorldPosition ) / nDir;

        vec3 rbminmax;

        rbminmax.x = ( nDir.x > 0. ) ? rbmax.x : rbmin.x;
        rbminmax.y = ( nDir.y > 0. ) ? rbmax.y : rbmin.y;
        rbminmax.z = ( nDir.z > 0. ) ? rbmax.z : rbmin.z;

        float correction = min( min( rbminmax.x, rbminmax.y ), rbminmax.z );
        vec3 boxIntersection = vWorldPosition + nDir * correction;

        return boxIntersection - cubePos;
    }
#endif
`,g6e=`
#ifdef BOX_PROJECTED_ENV_MAP
    worldNormal = parallaxCorrectNormal( worldNormal, envMapSize, envMapPosition );
#endif
`,A6e=`
#ifdef BOX_PROJECTED_ENV_MAP
    reflectVec = parallaxCorrectNormal( reflectVec, envMapSize, envMapPosition );
#endif
`;function v6e(t,e,n){t.defines.BOX_PROJECTED_ENV_MAP="",t.uniforms.envMapPosition={value:e},t.uniforms.envMapSize={value:n};const r=new RegExp(jF("vec3 worldNormal = inverseTransformDirection ( normal , viewMatrix ) ;").replaceAll(" ","\\s*"),"g"),i=new RegExp(jF("reflectVec = inverseTransformDirection ( reflectVec , viewMatrix ) ;").replaceAll(" ","\\s*"),"g");t.vertexShader=`varying vec3 vWorldPosition;
`+t.vertexShader.replace("#include <worldpos_vertex>",p6e),t.fragmentShader=m6e+`
`+t.fragmentShader.replace("#include <envmap_physical_pars_fragment>",St.envmap_physical_pars_fragment).replace(r,`vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
                ${g6e}`).replace(i,`reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
                ${A6e}`)}const y6e=Yxe.replace("#include <helperFunctions>",yW).replace("#include <boxBlur>",Xxe),x6e=["blur","blurSharpness","blurKernel"],E6e=new x6(1);let Py;class S6e extends Hi{constructor(e,n,r=QF){super("SSREffect",y6e,{type:"FinalSSRMaterial",uniforms:new Map([["reflectionsTexture",new ae(null)],["blur",new ae(0)],["blurSharpness",new ae(0)],["blurKernel",new ae(0)]]),defines:new Map([["RENDER_MODE","0"]])}),this.haltonSequence=d6e(1024),this.haltonIndex=0,this.selection=new B7,this.lastSize=void 0,this.cubeCamera=new fM(.001,1e3,E6e),this.usingBoxProjectedEnvMap=!1,this._scene=e,this._camera=n,r={...QF,...r,...{boxBlur:!0,dilation:!0}},this.temporalResolvePass=new h6e(e,n,Kxe,r),this.uniforms.get("reflectionsTexture").value=this.temporalResolvePass.renderTarget.texture,this.reflectionsPass=new n6e(this,r),this.temporalResolvePass.fullscreenMaterial.uniforms.inputTexture.value=this.reflectionsPass.renderTarget.texture,this.lastSize={width:r.width,height:r.height,resolutionScale:r.resolutionScale,velocityResolutionScale:r.velocityResolutionScale},this.setSize(r.width,r.height),this.makeOptionsReactive(r)}makeOptionsReactive(e){let n=!1;const r=this.reflectionsPass.fullscreenMaterial.uniforms,i=Object.keys(r);for(const s of Object.keys(e))Object.defineProperty(this,s,{get(){return e[s]},set(o){if(!(e[s]===o&&n))switch(e[s]=o,x6e.includes(s)||this.setSize(this.lastSize.width,this.lastSize.height,!0),s){case"resolutionScale":this.setSize(this.lastSize.width,this.lastSize.height);break;case"velocityResolutionScale":this.temporalResolvePass.velocityResolutionScale=o,this.setSize(this.lastSize.width,this.lastSize.height,!0);break;case"blur":this.uniforms.get("blur").value=o;break;case"blurSharpness":this.uniforms.get("blurSharpness").value=o;break;case"blurKernel":this.uniforms.get("blurKernel").value=o;break;case"steps":this.reflectionsPass.fullscreenMaterial.defines.steps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"refineSteps":this.reflectionsPass.fullscreenMaterial.defines.refineSteps=parseInt(o),this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"missedRays":o?this.reflectionsPass.fullscreenMaterial.defines.missedRays="":delete this.reflectionsPass.fullscreenMaterial.defines.missedRays,this.reflectionsPass.fullscreenMaterial.needsUpdate=n;break;case"correctionRadius":this.temporalResolvePass.fullscreenMaterial.defines.correctionRadius=Math.round(o),this.temporalResolvePass.fullscreenMaterial.needsUpdate=n;break;case"blend":this.temporalResolvePass.fullscreenMaterial.uniforms.blend.value=o;break;case"correction":this.temporalResolvePass.fullscreenMaterial.uniforms.correction.value=o;break;case"exponent":this.temporalResolvePass.fullscreenMaterial.uniforms.exponent.value=o;break;case"distance":r.rayDistance.value=o;default:i.includes(s)&&(r[s].value=o)}}}),this[s]=e[s];n=!0}setSize(e,n,r=!1){!r&&e===this.lastSize.width&&n===this.lastSize.height&&this.resolutionScale===this.lastSize.resolutionScale&&this.velocityResolutionScale===this.lastSize.velocityResolutionScale||(this.temporalResolvePass.setSize(e,n),this.reflectionsPass.setSize(e,n),this.lastSize={width:e,height:n,resolutionScale:this.resolutionScale,velocityResolutionScale:this.velocityResolutionScale})}generateBoxProjectedEnvMapFallback(e,n=new k,r=new k,i=512){this.cubeCamera.renderTarget.dispose(),this.cubeCamera.renderTarget=new x6(i),this.cubeCamera.position.copy(n),this.cubeCamera.updateMatrixWorld(),this.cubeCamera.update(e,this._scene),Py||(Py=new ix(e),Py.compileCubemapShader());const s=Py.fromCubemap(this.cubeCamera.renderTarget.texture).texture;s.minFilter=ct,s.magFilter=ct;const o=this.reflectionsPass.fullscreenMaterial;return v6e(o,n,r),o.fragmentShader=o.fragmentShader.replace("vec3 worldPos","worldPos").replace("varying vec3 vWorldPosition;","vec3 worldPos;"),o.uniforms.envMapPosition.value.copy(n),o.uniforms.envMapSize.value.copy(r),HF(o,s,i),this.usingBoxProjectedEnvMap=!0,s}setIBLRadiance(e,n){this._scene.traverse(r=>{if(r.material){var i;const s=(i=n.properties.get(r.material))==null?void 0:i.uniforms;s&&"disableIBLRadiance"in s&&(s.disableIBLRadiance.value=e)}})}deleteBoxProjectedEnvMapFallback(){const e=this.reflectionsPass.fullscreenMaterial;e.uniforms.envMap.value=null,e.fragmentShader=e.fragmentShader.replace("worldPos = ","vec3 worldPos = "),delete e.defines.BOX_PROJECTED_ENV_MAP,e.needsUpdate=!0,this.usingBoxProjectedEnvMap=!1}dispose(){super.dispose(),this.reflectionsPass.dispose(),this.temporalResolvePass.dispose()}update(e,n){if(!this.usingBoxProjectedEnvMap&&this._scene.environment){const a=this.reflectionsPass.fullscreenMaterial;let l=null;if(this._scene.traverse(u=>{if(!l&&u.material&&!u.material.envMap){const c=e.properties.get(u.material);"envMap"in c&&c.envMap instanceof xn&&(l=c.envMap)}}),l){const u=this._scene.environment.image.height;HF(a,l,u)}}this.haltonIndex=(this.haltonIndex+1)%this.haltonSequence.length;const[r,i]=this.haltonSequence[this.haltonIndex],{width:s,height:o}=this.lastSize;this.temporalResolvePass.velocityPass.render(e),this._camera.setViewOffset&&this._camera.setViewOffset(s,o,r,i,s,o),this.reflectionsPass.render(e,n),this.temporalResolvePass.render(e),this._camera.clearViewOffset()}static patchDirectEnvIntensity(e=0){e===0?St.envmap_physical_pars_fragment=St.envmap_physical_pars_fragment.replace("vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {","vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) { return vec3(0.0);"):St.envmap_physical_pars_fragment=St.envmap_physical_pars_fragment.replace("vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );","vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness ) * "+e.toFixed(5)+";")}}D.forwardRef(function({ENABLE_BLUR:e=!0,USE_MRT:n=!0,...r},i){const{invalidate:s}=qn(),{scene:o,camera:a}=D.useContext(gc),l=D.useMemo(()=>new S6e(o,a,{ENABLE_BLUR:e,USE_MRT:n,...r}),[o,a,e,n,r]),u=D.useContext(R7);return D.useEffect(()=>{var c;if(u&&u.enabled&&(c=u.selected)!=null&&c.length)return l.selection.set(u.selected),s(),()=>{l.selection.clear(),s()}},[u]),ce("primitive",{ref:i,object:l,...r})});const r2=new bt;r2.setAttribute("position",new Yt(new Float32Array([-1,-1,3,-1,-1,3]),2));r2.setAttribute("uv",new Yt(new Float32Array([0,0,2,0,0,2]),2));r2.boundingSphere=new ro;r2.computeBoundingSphere=function(){};const C6e=new Of;class Yg{constructor(e){this._mesh=new sn(r2,e),this._mesh.frustumCulled=!1}render(e){e.render(this._mesh,C6e)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}dispose(){this._mesh.material.dispose(),this._mesh.geometry.dispose()}}const w6e={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},sceneNormal:{value:null},projMat:{value:new Ke},viewMat:{value:new Ke},projViewMat:{value:new Ke},projectionMatrixInv:{value:new Ke},viewMatrixInv:{value:new Ke},cameraPos:{value:new k},resolution:{value:new ie},time:{value:0},samples:{value:[]},samplesR:{value:[]},bluenoise:{value:null},distanceFalloff:{value:1},radius:{value:5},near:{value:.1},far:{value:1e3},logDepth:{value:!1},ortho:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
varying vec2 vUv;
void main() {
  vUv = uv;
  gl_Position = vec4(position, 1);
}`,fragmentShader:`
    #define SAMPLES 16
    #define FSAMPLES 16.0
uniform sampler2D sceneDiffuse;
uniform highp sampler2D sceneNormal;
uniform highp sampler2D sceneDepth;
uniform mat4 projectionMatrixInv;
uniform mat4 viewMatrixInv;
uniform mat4 projMat;
uniform mat4 viewMat;
uniform mat4 projViewMat;
uniform vec3 cameraPos;
uniform vec2 resolution;
uniform float time;
uniform vec3[SAMPLES] samples;
uniform float[SAMPLES] samplesR;
uniform float radius;
uniform float distanceFalloff;
uniform float near;
uniform float far;
uniform bool logDepth;
uniform bool ortho;
uniform bool screenSpaceRadius;
uniform sampler2D bluenoise;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }

    vec3 getWorldPosLog(vec3 posS) {
      vec2 uv = posS.xy;
      float z = posS.z;
      float nearZ =near;
      float farZ = far;
      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
      vec4 wpos = projectionMatrixInv * clipVec;
      return wpos.xyz / wpos.w;
    }
    vec3 getWorldPos(float depth, vec2 coord) {
      #ifdef LOGDEPTH
        return getWorldPosLog(vec3(coord, depth));
      #endif
      float z = depth * 2.0 - 1.0;
      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
      // Perspective division
     vec4 worldSpacePosition = viewSpacePosition;
     worldSpacePosition.xyz /= worldSpacePosition.w;
      return worldSpacePosition.xyz;
  }

  vec3 computeNormal(vec3 worldPos, vec2 vUv) {
    ivec2 p = ivec2(vUv * resolution);
    float c0 = texelFetch(sceneDepth, p, 0).x;
    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;

    float dl = abs((2.0 * l1 - l2) - c0);
    float dr = abs((2.0 * r1 - r2) - c0);
    float db = abs((2.0 * b1 - b2) - c0);
    float dt = abs((2.0 * t1 - t2) - c0);

    vec3 ce = getWorldPos(c0, vUv).xyz;

    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;

    return normalize(cross(dpdx, dpdy));
}

void main() {
      vec4 diffuse = texture2D(sceneDiffuse, vUv);
      float depth = texture2D(sceneDepth, vUv).x;
      if (depth == 1.0) {
        gl_FragColor = vec4(vec3(1.0), 1.0);
        return;
      }
      vec3 worldPos = getWorldPos(depth, vUv);
    //  vec3 normal = texture2D(sceneNormal, vUv).rgb;//computeNormal(worldPos, vUv);
      #ifdef HALFRES
        vec3 normal = texture2D(sceneNormal, vUv).rgb;
      #else
        vec3 normal = computeNormal(worldPos, vUv);
      #endif
      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);
      vec3 randomVec = normalize(noise.rgb * 2.0 - 1.0);
      vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal));
      vec3 bitangent = cross(normal, tangent);
      mat3 tbn = mat3(tangent, bitangent, normal);
      float occluded = 0.0;
      float totalWeight = 0.0;
     /* float radiusScreen = distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(48.0, 0.0) / resolution)
      );/*vUv.x < 0.5 ? radius : min(distance(
        worldPos,
        getWorldPos(depth, vUv + 
          vec2(100.0, 0.0) / resolution)
      ), radius);
      float distanceFalloffScreen = radiusScreen * 0.2;*/
      float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
      float bias = (0.1 / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;
      for(float i = 0.0; i < FSAMPLES; i++) {
        vec3 sampleDirection = 
        tbn * 
        samples[int(i)];
        ;
        float moveAmt = samplesR[int(mod(i + noise.a * FSAMPLES, FSAMPLES))];
        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;
        vec4 offset = projMat * vec4(samplePos, 1.0);
        offset.xyz /= offset.w;
        offset.xyz = offset.xyz * 0.5 + 0.5;
        float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;
        /*float distSample = logDepth ? linearize_depth_log(sampleDepth, near, far) 
         (ortho ?  linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far));*/
        #ifdef LOGDEPTH
        float distSample = linearize_depth_log(sampleDepth, near, far);
        #else
        float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);
        #endif
        float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);
        float rangeCheck = smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));
        vec2 diff = gl_FragCoord.xy - ( offset.xy * resolution);
        float weight = dot(sampleDirection, normal);
          occluded += rangeCheck * weight * 
            (distSample + bias
               < distWorld ? 1.0 : 0.0) * (
          (dot(
            diff,
            diff
             
            ) < 1.0 || (sampleDepth == depth) || (
              offset.x < 0.0 || offset.x > 1.0 || offset.y < 0.0 || offset.y > 1.0
            ) ? 0.0 : 1.0)
          );
          totalWeight += weight;
      }
      float occ = clamp(1.0 - occluded / totalWeight, 0.0, 1.0);
      gl_FragColor = vec4(0.5 + 0.5 * normal, occ);
}`},T6e={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new Ke},viewMat:{value:new Ke},projectionMatrixInv:{value:new Ke},viewMatrixInv:{value:new Ke},cameraPos:{value:new k},resolution:{value:new ie},color:{value:new k(0,0,0)},blueNoise:{value:null},downsampledDepth:{value:null},time:{value:0},intensity:{value:10},renderMode:{value:0},gammaCorrection:{value:!1},logDepth:{value:!1},ortho:{value:!1},near:{value:.1},far:{value:1e3},screenSpaceRadius:{value:!1},radius:{value:0},distanceFalloff:{value:1},fog:{value:!1},fogExp:{value:!1},fogDensity:{value:0},fogNear:{value:1/0},fogFar:{value:1/0},colorMultiply:{value:!0}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform highp sampler2D downsampledDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform vec2 resolution;
    uniform vec3 color;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform float intensity;
    uniform float renderMode;
    uniform float near;
    uniform float far;
    uniform bool gammaCorrection;
    uniform bool logDepth;
    uniform bool ortho;
    uniform bool screenSpaceRadius;
    uniform bool fog;
    uniform bool fogExp;
    uniform bool colorMultiply;
    uniform float fogDensity;
    uniform float fogNear;
    uniform float fogFar;
    uniform float radius;
    uniform float distanceFalloff;
    uniform vec3 cameraPos;
    varying vec2 vUv;
    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        return (zFar * zNear) / (zFar - d * (zFar - zNear));
    }
    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
      return nearZ + (farZ - nearZ) * d;
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
      float a = farZ / (farZ - nearZ);
      float b = farZ * nearZ / (nearZ - farZ);
      float linDepth = a + b / depth;
      return ortho ? linearize_depth_ortho(
        linDepth,
        nearZ,
        farZ
      ) :linearize_depth(linDepth, nearZ, farZ);
    }
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
       // if (logDepth) {
        #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
        #endif
      //  }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }

    #include <common>
    #include <dithering_pars_fragment>
    void main() {
        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);
        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);
        float depth = texture2D(
            sceneDepth,
            vUv
        ).x;
        #ifdef HALFRES 
        vec4 texel;
        if (depth == 1.0) {
            texel = vec4(0.0, 0.0, 0.0, 1.0);
        } else {
        vec3 worldPos = getWorldPos(depth, vUv);
        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);
       // vec4 texel = texture2D(tDiffuse, vUv);
       // Find closest depth;
       float totalWeight = 0.0;
       float radiusToUse = screenSpaceRadius ? distance(
        worldPos,
        getWorldPos(depth, vUv +
          vec2(radius, 0.0) / resolution)
      ) : radius;
      float distanceFalloffToUse =screenSpaceRadius ?
          radiusToUse * distanceFalloff
      : distanceFalloff;
        for(float x = -1.0; x <= 1.0; x++) {
            for(float y = -1.0; y <= 1.0; y++) {
                vec2 offset = vec2(x, y);
                ivec2 p = ivec2(
                    (vUv * resolution * 0.5) + offset
                );
                vec2 pUv = vec2(p) / (resolution * 0.5);
                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;
                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);
                vec3 normalSample = sampleInfo.xyz * 2.0 - 1.0;
                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);
                float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);
                float weight = rangeCheck;
                totalWeight += weight;
                texel += sampleInfo * weight;
            }
        }
        if (totalWeight == 0.0) {
            texel = texture2D(tDiffuse, vUv);
        } else {
            texel /= totalWeight;
        }
    }
        #else
        vec4 texel = texture2D(tDiffuse, vUv);
        #endif

     
        float finalAo = pow(texel.a, intensity);
        float fogFactor;
        float fogDepth = distance(
            cameraPos,
            getWorldPos(depth, vUv)
        );
        if (fog) {
            if (fogExp) {
                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
            } else {
                fogFactor = smoothstep( fogNear, fogFar, fogDepth );
            }
        }
        finalAo = mix(finalAo, 1.0, fogFactor);
        vec3 aoApplied = color * mix(vec3(1.0), sceneTexel.rgb, float(colorMultiply));
        if (renderMode == 0.0) {
            gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 1.0) {
            gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
        } else if (renderMode == 2.0) {
            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
        } else if (renderMode == 3.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        } else if (renderMode == 4.0) {
            if (vUv.x < 0.5) {
                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);
            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {
                gl_FragColor = vec4(1.0);
            } else {
                gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);
            }
        }
        #include <dithering_fragment>
        if (gammaCorrection) {
            gl_FragColor = LinearTosRGB(gl_FragColor);
        }
    }
    `},M6e={uniforms:{sceneDiffuse:{value:null},sceneDepth:{value:null},tDiffuse:{value:null},projMat:{value:new Ke},viewMat:{value:new Ke},projectionMatrixInv:{value:new Ke},viewMatrixInv:{value:new Ke},cameraPos:{value:new k},resolution:{value:new ie},time:{value:0},r:{value:5},blueNoise:{value:null},radius:{value:12},worldRadius:{value:5},index:{value:0},poissonDisk:{value:[]},distanceFalloff:{value:1},near:{value:.1},far:{value:1e3},logDepth:{value:!1},screenSpaceRadius:{value:!1}},vertexShader:`
		varying vec2 vUv;
		void main() {
			vUv = uv;
			gl_Position = vec4(position, 1.0);
		}`,fragmentShader:`
		uniform sampler2D sceneDiffuse;
    uniform highp sampler2D sceneDepth;
    uniform sampler2D tDiffuse;
    uniform sampler2D blueNoise;
    uniform mat4 projectionMatrixInv;
    uniform mat4 viewMatrixInv;
    uniform vec2 resolution;
    uniform float r;
    uniform float radius;
     uniform float worldRadius;
    uniform float index;
     uniform float near;
     uniform float far;
     uniform float distanceFalloff;
     uniform bool logDepth;
     uniform bool screenSpaceRadius;
    varying vec2 vUv;

    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)
    {
        highp float z_n = 2.0 * d - 1.0;
        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));
    }
    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {
     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     return linearize_depth(linDepth, nearZ, farZ);
   }
   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {
     return nearZ + (farZ - nearZ) * d;
   }
   vec3 getWorldPosLog(vec3 posS) {
     vec2 uv = posS.xy;
     float z = posS.z;
     float nearZ =near;
     float farZ = far;
     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
     float a = farZ / (farZ - nearZ);
     float b = farZ * nearZ / (nearZ - farZ);
     float linDepth = a + b / depth;
     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
     vec4 wpos = projectionMatrixInv * clipVec;
     return wpos.xyz / wpos.w;
   }
    vec3 getWorldPos(float depth, vec2 coord) {
     #ifdef LOGDEPTH
          return getWorldPosLog(vec3(coord, depth));
     #endif
        
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
    #include <common>
    #define NUM_SAMPLES 16
    uniform vec2 poissonDisk[NUM_SAMPLES];
    void main() {
        const float pi = 3.14159;
        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);
        vec2 uv = vUv;
        vec4 data = texture2D(tDiffuse, vUv);
        float occlusion = data.a;
        float baseOcc = data.a;
        vec3 normal = data.rgb * 2.0 - 1.0;
        float count = 1.0;
        float d = texture2D(sceneDepth, vUv).x;
        if (d == 1.0) {
          gl_FragColor = data;
          return;
        }
        vec3 worldPos = getWorldPos(d, vUv);
        float size = radius;
        float angle;
        if (index == 0.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;
        } else if (index == 1.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;
        } else if (index == 2.0) {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;
        } else {
             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;
        }

        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));
        float radiusToUse = screenSpaceRadius ? distance(
          worldPos,
          getWorldPos(d, vUv +
            vec2(worldRadius, 0.0) / resolution)
        ) : worldRadius;
        float distanceFalloffToUse =screenSpaceRadius ?
            radiusToUse * distanceFalloff
        : distanceFalloff;


        for(int i = 0; i < NUM_SAMPLES; i++) {
            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;
            vec4 dataSample = texture2D(tDiffuse, uv + offset);
            float occSample = dataSample.a;
            vec3 normalSample = dataSample.rgb * 2.0 - 1.0;
            float dSample = texture2D(sceneDepth, uv + offset).x;
            vec3 worldPosSample = getWorldPos(dSample, uv + offset);
            float tangentPlaneDist = abs(dot(worldPos - worldPosSample, normal));
            float rangeCheck = dSample == 1.0 ? 0.0 :exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));
            occlusion += occSample * rangeCheck;
            count += rangeCheck;
        }
        occlusion /= count;
        gl_FragColor = vec4(0.5 + 0.5 * normal, occlusion);
    }
    `},_6e={uniforms:{sceneDepth:{value:null},resolution:{value:new ie},near:{value:.1},far:{value:1e3},viewMatrixInv:{value:new Ke},projectionMatrixInv:{value:new Ke},logDepth:{value:!1}},vertexShader:`
    varying vec2 vUv;
    void main() {
        vUv = uv;
        gl_Position = vec4(position, 1);
    }`,fragmentShader:`
    uniform highp sampler2D sceneDepth;
    uniform vec2 resolution;
    uniform float near;
    uniform float far;
    uniform bool logDepth;
    uniform mat4 viewMatrixInv;
    uniform mat4 projectionMatrixInv;
    varying vec2 vUv;
    layout(location = 1) out vec4 gNormal;
    vec3 getWorldPosLog(vec3 posS) {
        vec2 uv = posS.xy;
        float z = posS.z;
        float nearZ =near;
        float farZ = far;
        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;
        float a = farZ / (farZ - nearZ);
        float b = farZ * nearZ / (nearZ - farZ);
        float linDepth = a + b / depth;
        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;
        vec4 wpos = projectionMatrixInv * clipVec;
        return wpos.xyz / wpos.w;
      }
      vec3 getWorldPos(float depth, vec2 coord) {
        if (logDepth) {
          return getWorldPosLog(vec3(coord, depth));
        }
        float z = depth * 2.0 - 1.0;
        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);
        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;
        // Perspective division
       vec4 worldSpacePosition = viewSpacePosition;
       worldSpacePosition.xyz /= worldSpacePosition.w;
        return worldSpacePosition.xyz;
    }
  
    vec3 computeNormal(vec3 worldPos, vec2 vUv) {
      ivec2 p = ivec2(vUv * resolution);
      float c0 = texelFetch(sceneDepth, p, 0).x;
      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;
      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;
      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;
      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;
      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;
      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;
      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;
      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;
  
      float dl = abs((2.0 * l1 - l2) - c0);
      float dr = abs((2.0 * r1 - r2) - c0);
      float db = abs((2.0 * b1 - b2) - c0);
      float dt = abs((2.0 * t1 - t2) - c0);
  
      vec3 ce = getWorldPos(c0, vUv).xyz;
  
      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz
                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;
      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz
                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;
  
      return normalize(cross(dpdx, dpdy));
  }
    void main() {
        vec2 uv = vUv - vec2(0.5) / resolution;
        vec2 pixelSize = vec2(1.0) / resolution;
        vec2[] uvSamples = vec2[4](
            uv,
            uv + vec2(pixelSize.x, 0.0),
            uv + vec2(0.0, pixelSize.y),
            uv + pixelSize
        );
        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;
        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;
        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;
        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;
        float minDepth = min(min(depth00, depth10), min(depth01, depth11));
        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));
        float targetDepth = minDepth;
        // Checkerboard pattern to avoid artifacts
        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { 
            targetDepth = maxDepth;
        }
        int chosenIndex = 0;
        float[] samples = float[4](depth00, depth10, depth01, depth11);
        for(int i = 0; i < 4; ++i) {
            if (samples[i] == targetDepth) {
                chosenIndex = i;
                break;
            }
        }
        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]
        ), 0.0);
       /* float[] samples = float[4](depth00, depth10, depth01, depth11);
        float c = 0.25 * (depth00 + depth10 + depth01 + depth11);
        float[] distances = float[4](depth00, depth10, depth01, depth11);
        float maxDistance = max(max(distances[0], distances[1]), max(distances[2], distances[3]));

        int remaining[3];
        int rejected[3];
        int i, j, k;

        for(i = 0, j = 0, k = 0; i < 4; ++i) {
            if (distances[i] < maxDistance) {
                remaining[j++] = i;
            } else {
                rejected[k++] = i;
            }
        }
        for(;j < 3;++j) {
            remaining[j] = rejected[--k];
        }
        vec3 s = vec3(
            samples[remaining[0]],
            samples[remaining[1]],
            samples[remaining[2]]
        );
        c = (s.x + s.y + s.z) / 3.0;

        distances[0] = abs(c - s.x);
        distances[1] = abs(c - s.y);
        distances[2] = abs(c - s.z);

        float minDistance = min(min(distances[0], distances[1]), distances[2]);

        for(i = 0; i < 3; ++i) {
            if (distances[i] == minDistance) {
                break;
            }
        }*/
      /*  gl_FragColor = vec4(samples[remaining[i]], 0.0, 0.0, 0.0);
        gNormal = vec4(computeNormal(
            getWorldPos(samples[remaining[i]], uvSamples[remaining[i]]), uvSamples[remaining[i]]
        ), 0.0);*/
    }`};var EW="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";const I6e=Uint8Array.from(atob(EW),t=>t.charCodeAt(0));function SW(t,e,n){if(e.getQueryParameter(t,e.QUERY_RESULT_AVAILABLE)){const s=e.getQueryParameter(t,e.QUERY_RESULT)/1e6;n.lastTime=s}else setTimeout(()=>{SW(t,e,n)},1)}class b6e extends ii{constructor(e,n,r=512,i=512){super(),this.width=r,this.height=i,this.clear=!0,this.camera=n,this.scene=e,this.autosetGamma=!0,this.configuration=new Proxy({aoSamples:16,aoRadius:5,denoiseSamples:8,denoiseRadius:12,distanceFalloff:1,intensity:5,denoiseIterations:2,renderMode:0,color:new Be(0,0,0),gammaCorrection:!0,logarithmicDepthBuffer:!1,screenSpaceRadius:!1,halfRes:!1,depthAwareUpsampling:!0,colorMultiply:!0},{set:(s,o,a)=>{const l=s[o];return s[o]=a,o==="aoSamples"&&l!==a&&this.configureAOPass(this.configuration.logarithmicDepthBuffer),o==="denoiseSamples"&&l!==a&&this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),o==="halfRes"&&l!==a&&(this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureHalfResTargets(),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.setSize(this.width,this.height)),o==="depthAwareUpsampling"&&l!==a&&this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),o==="gammaCorrection"&&(this.autosetGamma=!1),!0}}),this.samples=[],this.samplesR=[],this.samplesDenoise=[],this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer),this.configureSampleDependentPasses(),this.configureHalfResTargets(),this.copyQuad=new Yg(new lt({uniforms:{tDiffuse:{value:null}},depthWrite:!1,vertexShader:`
            varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = vec4(position, 1);
            }
            `,fragmentShader:`
            uniform sampler2D tDiffuse;
            varying vec2 vUv;
            void main() {
                gl_FragColor = texture2D(tDiffuse, vUv);
            }
            `})),this.writeTargetInternal=new Tt(this.width,this.height,{minFilter:ct,magFilter:ct,depthBuffer:!1}),this.readTargetInternal=new Tt(this.width,this.height,{minFilter:ct,magFilter:ct,depthBuffer:!1}),this.outputTargetInternal=new Tt(this.width,this.height,{minFilter:ct,magFilter:ct,depthBuffer:!1}),this.bluenoise=new Xs(I6e,128,128),this.bluenoise.colorSpace=ju,this.bluenoise.wrapS=ei,this.bluenoise.wrapT=ei,this.bluenoise.minFilter=ot,this.bluenoise.magFilter=ot,this.bluenoise.needsUpdate=!0,this.lastTime=0,this.needsDepthTexture=!0,this.needsSwap=!0,this._r=new ie,this._c=new Be}configureHalfResTargets(){this.configuration.halfRes?(this.depthDownsampleTarget=new uM(this.width/2,this.height/2,2),this.depthDownsampleTarget.texture[0].format=Qu,this.depthDownsampleTarget.texture[0].type=Un,this.depthDownsampleTarget.texture[0].minFilter=ot,this.depthDownsampleTarget.texture[0].magFilter=ot,this.depthDownsampleTarget.texture[0].depthBuffer=!1,this.depthDownsampleTarget.texture[1].format=yn,this.depthDownsampleTarget.texture[1].type=Ln,this.depthDownsampleTarget.texture[1].minFilter=ot,this.depthDownsampleTarget.texture[1].magFilter=ot,this.depthDownsampleTarget.texture[1].depthBuffer=!1,this.depthDownsampleQuad=new Yg(new lt(_6e))):(this.depthDownsampleTarget&&(this.depthDownsampleTarget.dispose(),this.depthDownsampleTarget=null),this.depthDownsampleQuad&&(this.depthDownsampleQuad.dispose(),this.depthDownsampleQuad=null))}configureSampleDependentPasses(){this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer)}configureAOPass(e=!1){this.samples=this.generateHemisphereSamples(this.configuration.aoSamples),this.samplesR=this.generateHemisphereSamplesR(this.configuration.aoSamples);const n={...w6e};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.aoSamples).replace("16.0",this.configuration.aoSamples+".0"),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectShaderQuad?(this.effectShaderQuad.material.dispose(),this.effectShaderQuad.material=new lt(n)):this.effectShaderQuad=new Yg(new lt(n))}configureDenoisePass(e=!1){this.samplesDenoise=this.generateDenoiseSamples(this.configuration.denoiseSamples,11);const n={...M6e};n.fragmentShader=n.fragmentShader.replace("16",this.configuration.denoiseSamples),e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.poissonBlurQuad?(this.poissonBlurQuad.material.dispose(),this.poissonBlurQuad.material=new lt(n)):this.poissonBlurQuad=new Yg(new lt(n))}configureEffectCompositer(e=!1){const n={...T6e};e&&(n.fragmentShader=`#define LOGDEPTH
`+n.fragmentShader),this.configuration.halfRes&&this.configuration.depthAwareUpsampling&&(n.fragmentShader=`#define HALFRES
`+n.fragmentShader),this.effectCompositerQuad?(this.effectCompositerQuad.material.dispose(),this.effectCompositerQuad.material=new lt(n)):this.effectCompositerQuad=new Yg(new lt(n))}generateHemisphereSamples(e){const n=[];for(let r=0;r<e;r++){const i=2.399963*r,s=Math.sqrt(r+.5)/Math.sqrt(e),o=s*Math.cos(i),a=s*Math.sin(i),l=Math.sqrt(1-(o*o+a*a));n.push(new k(o,a,l))}return n}generateHemisphereSamplesR(e){let n=[];for(let r=0;r<e;r++)n.push((r+1)/e);return n}generateDenoiseSamples(e,n){const r=2*Math.PI*n/e,i=1/e,s=i,o=[];let a=i,l=0;for(let u=0;u<e;u++)o.push(new ie(Math.cos(l),Math.sin(l)).multiplyScalar(Math.pow(a,.75))),a+=s,l+=r;return o}setSize(e,n){this.width=e,this.height=n;const r=this.configuration.halfRes?.5:1;this.writeTargetInternal.setSize(e*r,n*r),this.readTargetInternal.setSize(e*r,n*r),this.configuration.halfRes&&this.depthDownsampleTarget.setSize(e*r,n*r),this.outputTargetInternal.setSize(e,n)}setDepthTexture(e){this.depthTexture=e}render(e,n,r){const i=e.xr.enabled;e.xr.enabled=!1,e.capabilities.logarithmicDepthBuffer!==this.configuration.logarithmicDepthBuffer&&(this.configuration.logarithmicDepthBuffer=e.capabilities.logarithmicDepthBuffer,this.configureAOPass(this.configuration.logarithmicDepthBuffer),this.configureDenoisePass(this.configuration.logarithmicDepthBuffer),this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer)),n.texture.type!==this.outputTargetInternal.texture.type&&(this.outputTargetInternal.texture.type=n.texture.type,this.outputTargetInternal.texture.needsUpdate=!0);let s,o,a;this.debugMode&&(s=e.getContext(),o=s.getExtension("EXT_disjoint_timer_query_webgl2"),o===null&&(console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."),this.debugMode=!1)),this.debugMode&&(a=s.createQuery(),s.beginQuery(o.TIME_ELAPSED_EXT,a)),this.camera.updateMatrixWorld(),this._r.set(this.width,this.height);let l=this.configuration.aoRadius;this.configuration.halfRes&&this.configuration.screenSpaceRadius&&(l*=.5),this.configuration.halfRes&&(e.setRenderTarget(this.depthDownsampleTarget),this.depthDownsampleQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.depthDownsampleQuad.material.uniforms.resolution.value=this._r,this.depthDownsampleQuad.material.uniforms.near.value=this.camera.near,this.depthDownsampleQuad.material.uniforms.far.value=this.camera.far,this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.depthDownsampleQuad.material.uniforms.logDepth.value=this.configuration.logarithmicDepthBuffer,this.depthDownsampleQuad.render(e)),this.effectShaderQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectShaderQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectShaderQuad.material.uniforms.sceneNormal.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[1]:null,this.effectShaderQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.effectShaderQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.effectShaderQuad.material.uniforms.projViewMat.value=this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()),this.effectShaderQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectShaderQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectShaderQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new k),this.effectShaderQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.effectShaderQuad.material.uniforms.time.value=performance.now()/1e3,this.effectShaderQuad.material.uniforms.samples.value=this.samples,this.effectShaderQuad.material.uniforms.samplesR.value=this.samplesR,this.effectShaderQuad.material.uniforms.bluenoise.value=this.bluenoise,this.effectShaderQuad.material.uniforms.radius.value=l,this.effectShaderQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectShaderQuad.material.uniforms.near.value=this.camera.near,this.effectShaderQuad.material.uniforms.far.value=this.camera.far,this.effectShaderQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectShaderQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectShaderQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.effectShaderQuad.render(e);for(let u=0;u<this.configuration.denoiseIterations;u++)[this.writeTargetInternal,this.readTargetInternal]=[this.readTargetInternal,this.writeTargetInternal],this.poissonBlurQuad.material.uniforms.tDiffuse.value=this.readTargetInternal.texture,this.poissonBlurQuad.material.uniforms.sceneDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.poissonBlurQuad.material.uniforms.projMat.value=this.camera.projectionMatrix,this.poissonBlurQuad.material.uniforms.viewMat.value=this.camera.matrixWorldInverse,this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.poissonBlurQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.poissonBlurQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new k),this.poissonBlurQuad.material.uniforms.resolution.value=this.configuration.halfRes?this._r.clone().multiplyScalar(.5).floor():this._r,this.poissonBlurQuad.material.uniforms.time.value=performance.now()/1e3,this.poissonBlurQuad.material.uniforms.blueNoise.value=this.bluenoise,this.poissonBlurQuad.material.uniforms.radius.value=this.configuration.denoiseRadius*(this.configuration.halfRes?.5:1),this.poissonBlurQuad.material.uniforms.worldRadius.value=l,this.poissonBlurQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.poissonBlurQuad.material.uniforms.index.value=u,this.poissonBlurQuad.material.uniforms.poissonDisk.value=this.samplesDenoise,this.poissonBlurQuad.material.uniforms.near.value=this.camera.near,this.poissonBlurQuad.material.uniforms.far.value=this.camera.far,this.poissonBlurQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,e.setRenderTarget(this.writeTargetInternal),this.poissonBlurQuad.render(e);this.effectCompositerQuad.material.uniforms.sceneDiffuse.value=n.texture,this.effectCompositerQuad.material.uniforms.sceneDepth.value=this.depthTexture,this.effectCompositerQuad.material.uniforms.near.value=this.camera.near,this.effectCompositerQuad.material.uniforms.far.value=this.camera.far,this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value=this.camera.projectionMatrixInverse,this.effectCompositerQuad.material.uniforms.viewMatrixInv.value=this.camera.matrixWorld,this.effectCompositerQuad.material.uniforms.logDepth.value=e.capabilities.logarithmicDepthBuffer,this.effectCompositerQuad.material.uniforms.ortho.value=this.camera.isOrthographicCamera,this.effectCompositerQuad.material.uniforms.downsampledDepth.value=this.configuration.halfRes?this.depthDownsampleTarget.texture[0]:this.depthTexture,this.effectCompositerQuad.material.uniforms.resolution.value=this._r,this.effectCompositerQuad.material.uniforms.blueNoise.value=this.bluenoise,this.effectCompositerQuad.material.uniforms.intensity.value=this.configuration.intensity,this.effectCompositerQuad.material.uniforms.renderMode.value=this.configuration.renderMode,this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value=this.configuration.screenSpaceRadius,this.effectCompositerQuad.material.uniforms.radius.value=l,this.effectCompositerQuad.material.uniforms.distanceFalloff.value=this.configuration.distanceFalloff,this.effectCompositerQuad.material.uniforms.gammaCorrection.value=this.autosetGamma?this.renderToScreen:this.configuration.gammaCorrection,this.effectCompositerQuad.material.uniforms.tDiffuse.value=this.writeTargetInternal.texture,this.effectCompositerQuad.material.uniforms.color.value=this._c.copy(this.configuration.color).convertSRGBToLinear(),this.effectCompositerQuad.material.uniforms.colorMultiply.value=this.configuration.colorMultiply,this.effectCompositerQuad.material.uniforms.cameraPos.value=this.camera.getWorldPosition(new k),this.effectCompositerQuad.material.uniforms.fog.value=!!this.scene.fog,this.scene.fog&&(this.scene.fog.isFog?(this.effectCompositerQuad.material.uniforms.fogExp.value=!1,this.effectCompositerQuad.material.uniforms.fogNear.value=this.scene.fog.near,this.effectCompositerQuad.material.uniforms.fogFar.value=this.scene.fog.far):this.scene.fog.isFogExp2?(this.effectCompositerQuad.material.uniforms.fogExp.value=!0,this.effectCompositerQuad.material.uniforms.fogDensity.value=this.scene.fog.density):console.error(`Unsupported fog type ${this.scene.fog.constructor.name} in SSAOPass.`)),e.setRenderTarget(this.outputTargetInternal),this.effectCompositerQuad.render(e),e.setRenderTarget(this.renderToScreen?null:r),this.copyQuad.material.uniforms.tDiffuse.value=this.outputTargetInternal.texture,this.copyQuad.render(e),this.debugMode&&(s.endQuery(o.TIME_ELAPSED_EXT),SW(a,s,this)),e.xr.enabled=i}enableDebugMode(){this.debugMode=!0}disableDebugMode(){this.debugMode=!1}setDisplayMode(e){this.configuration.renderMode=["Combined","AO","No AO","Split","Split AO"].indexOf(e)}setQualityMode(e){e==="Performance"?(this.configuration.aoSamples=8,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Low"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=4,this.configuration.denoiseRadius=12):e==="Medium"?(this.configuration.aoSamples=16,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=12):e==="High"?(this.configuration.aoSamples=64,this.configuration.denoiseSamples=8,this.configuration.denoiseRadius=6):e==="Ultra"&&(this.configuration.aoSamples=64,this.configuration.denoiseSamples=16,this.configuration.denoiseRadius=6)}}Uint8Array.from(atob(EW),t=>t.charCodeAt(0));D.forwardRef(({halfRes:t,screenSpaceRadius:e,quality:n,depthAwareUpsampling:r=!0,aoRadius:i=5,aoSamples:s=16,denoiseSamples:o=4,denoiseRadius:a=12,distanceFalloff:l=1,intensity:u=1,color:c,renderMode:f=0},h)=>{const{camera:d,scene:g}=qn(),v=D.useMemo(()=>new b6e(g,d),[]);return D.useLayoutEffect(()=>{_h(v.configuration,{color:c,aoRadius:i,distanceFalloff:l,intensity:u,aoSamples:s,denoiseSamples:o,denoiseRadius:a,screenSpaceRadius:e,renderMode:f,halfRes:t,depthAwareUpsampling:r})},[e,c,i,l,u,s,o,a,f,t,r]),D.useLayoutEffect(()=>{n&&v.setQualityMode(n.charAt(0).toUpperCase()+n.slice(1))},[n]),ce("primitive",{ref:h,object:v})});function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}new ie;new ie;function V1(t){return t*t*t*(t*(t*6-15)+10)}function Rl(t,e,n){return t*(1-n)+e*n}function D7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B6e(t,e,n){return e&&YF(t.prototype,e),n&&YF(t,n),t}var ea=function t(e,n,r){var i=this;D7(this,t),Jr(this,"dot2",function(s,o){return i.x*s+i.y*o}),Jr(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=n,this.z=r},R6e=[new ea(1,1,0),new ea(-1,1,0),new ea(1,-1,0),new ea(-1,-1,0),new ea(1,0,1),new ea(-1,0,1),new ea(1,0,-1),new ea(-1,0,-1),new ea(0,1,1),new ea(0,-1,1),new ea(0,1,-1),new ea(0,-1,-1)],KF=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],An=new Array(512),zr=new Array(512),CW=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var n=0;n<256;n++){var r;n&1?r=KF[n]^e&255:r=KF[n]^e>>8&255,An[n]=An[n+256]=r,zr[n]=zr[n+256]=R6e[r%12]}};CW(0);var D6e=.5*(Math.sqrt(3)-1),Kg=(3-Math.sqrt(3))/6,P6e=1/3,Il=1/6,L6e=function(e,n){var r,i,s,o=(e+n)*D6e,a=Math.floor(e+o),l=Math.floor(n+o),u=(a+l)*Kg,c=e-a+u,f=n-l+u,h,d;c>f?(h=1,d=0):(h=0,d=1);var g=c-h+Kg,v=f-d+Kg,y=c-1+2*Kg,A=f-1+2*Kg;a&=255,l&=255;var x=zr[a+An[l]],E=zr[a+h+An[l+d]],S=zr[a+1+An[l+1]],w=.5-c*c-f*f;w<0?r=0:(w*=w,r=w*w*x.dot2(c,f));var M=.5-g*g-v*v;M<0?i=0:(M*=M,i=M*M*E.dot2(g,v));var _=.5-y*y-A*A;return _<0?s=0:(_*=_,s=_*_*S.dot2(y,A)),70*(r+i+s)},F6e=function(e,n,r){var i,s,o,a,l=(e+n+r)*P6e,u=Math.floor(e+l),c=Math.floor(n+l),f=Math.floor(r+l),h=(u+c+f)*Il,d=e-u+h,g=n-c+h,v=r-f+h,y,A,x,E,S,w;d>=g?g>=v?(y=1,A=0,x=0,E=1,S=1,w=0):d>=v?(y=1,A=0,x=0,E=1,S=0,w=1):(y=0,A=0,x=1,E=1,S=0,w=1):g<v?(y=0,A=0,x=1,E=0,S=1,w=1):d<v?(y=0,A=1,x=0,E=0,S=1,w=1):(y=0,A=1,x=0,E=1,S=1,w=0);var M=d-y+Il,_=g-A+Il,b=v-x+Il,I=d-E+2*Il,B=g-S+2*Il,L=v-w+2*Il,F=d-1+3*Il,O=g-1+3*Il,G=v-1+3*Il;u&=255,c&=255,f&=255;var V=zr[u+An[c+An[f]]],Y=zr[u+y+An[c+A+An[f+x]]],J=zr[u+E+An[c+S+An[f+w]]],z=zr[u+1+An[c+1+An[f+1]]],W=.6-d*d-g*g-v*v;W<0?i=0:(W*=W,i=W*W*V.dot3(d,g,v));var j=.6-M*M-_*_-b*b;j<0?s=0:(j*=j,s=j*j*Y.dot3(M,_,b));var Q=.6-I*I-B*B-L*L;Q<0?o=0:(Q*=Q,o=Q*Q*J.dot3(I,B,L));var H=.6-F*F-O*O-G*G;return H<0?a=0:(H*=H,a=H*H*z.dot3(F,O,G)),32*(i+s+o+a)},O6e=function(e,n){var r=Math.floor(e),i=Math.floor(n);e=e-r,n=n-i,r=r&255,i=i&255;var s=zr[r+An[i]].dot2(e,n),o=zr[r+An[i+1]].dot2(e,n-1),a=zr[r+1+An[i]].dot2(e-1,n),l=zr[r+1+An[i+1]].dot2(e-1,n-1),u=V1(e);return Rl(Rl(s,a,u),Rl(o,l,u),V1(n))},U6e=function(e,n,r){var i=Math.floor(e),s=Math.floor(n),o=Math.floor(r);e=e-i,n=n-s,r=r-o,i=i&255,s=s&255,o=o&255;var a=zr[i+An[s+An[o]]].dot3(e,n,r),l=zr[i+An[s+An[o+1]]].dot3(e,n,r-1),u=zr[i+An[s+1+An[o]]].dot3(e,n-1,r),c=zr[i+An[s+1+An[o+1]]].dot3(e,n-1,r-1),f=zr[i+1+An[s+An[o]]].dot3(e-1,n,r),h=zr[i+1+An[s+An[o+1]]].dot3(e-1,n,r-1),d=zr[i+1+An[s+1+An[o]]].dot3(e-1,n-1,r),g=zr[i+1+An[s+1+An[o+1]]].dot3(e-1,n-1,r-1),v=V1(e),y=V1(n),A=V1(r);return Rl(Rl(Rl(a,f,v),Rl(l,h,v),A),Rl(Rl(u,d,v),Rl(c,g,v),A),y)},k6e=Object.freeze({__proto__:null,seed:CW,simplex2:L6e,simplex3:F6e,perlin2:O6e,perlin3:U6e}),P7=Math.PI*2,N6e=function(){function t(e){D7(this,t),Jr(this,"nextBurstTime",0),Jr(this,"nextFlashEndTime",0),Jr(this,"flashesDone",0),Jr(this,"isFlashing",!1),Jr(this,"currentCount",0),Jr(this,"flashIntensity",0),Jr(this,"isDecaying",!1),Jr(this,"autoBurst",!0),Jr(this,"decaySpeed",40),Jr(this,"minInterval",5e3),Jr(this,"maxInterval",1e4),Jr(this,"minDuration",50),Jr(this,"maxDuration",300),Jr(this,"count",5),Object.assign(this,e)}return B6e(t,[{key:"scheduleNextBurst",value:function(n){var r=Math.random()*(this.maxInterval-this.minInterval)+this.minInterval;this.nextBurstTime=n+r/1e3,this.flashesDone=0,this.isFlashing=!1}},{key:"burst",value:function(){this.nextBurstTime=0,this.flashesDone=0,this.isFlashing=!1}},{key:"update",value:function(n,r){if(n>this.nextBurstTime&&this.currentCount===0&&(this.currentCount=Math.floor(Math.random()*this.count)+1),this.flashesDone<this.currentCount&&n>this.nextBurstTime)if(this.isFlashing)this.isFlashing&&n>this.nextFlashEndTime&&(this.isFlashing=!1,this.isDecaying=!0,this.flashesDone++,this.flashesDone>=this.currentCount&&(this.currentCount=0,this.autoBurst&&this.scheduleNextBurst(n)));else{this.isFlashing=!0,this.flashIntensity=1;var i=Math.random()*(this.maxDuration-this.minDuration)+this.minDuration;this.nextFlashEndTime=n+i/1e3}return this.isDecaying&&(this.flashIntensity-=r*this.decaySpeed,this.flashIntensity=Math.max(0,Math.min(1,this.flashIntensity)),this.flashIntensity<=0&&(this.isDecaying=!1,this.flashIntensity=0)),this.flashIntensity}}]),t}();function G6e(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var e=t;t=0;for(var n=0;n<e.length;n++)t=(t+(n+1)*(e.charCodeAt(n)%96))%2147483647}return t===0&&(t=311),t}function JF(t){var e=G6e(t);return function(){var n=e*48271%2147483647;return e=n,n/2147483647}}var wW=function t(e){var n=this;D7(this,t),Jr(this,"seed",0),Jr(this,"init",function(r){n.seed=r,n.value=JF(r)}),Jr(this,"value",JF(this.seed)),this.init(e)},kd=new wW(Math.random()),TW={radius:1,center:[0,0,0]};function z6e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kd,r=eo(eo({},TW),e),i=r.radius,s=r.center,o=0;o<t.length;o+=3){var a=n.value(),l=n.value(),u=Math.acos(2*l-1),c=P7*a;t[o]=Math.sin(u)*Math.cos(c)*i+s[0],t[o+1]=Math.sin(u)*Math.sin(c)*i+s[1],t[o+2]=Math.cos(u)*i+s[2]}return t}function H6e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kd,r=eo(eo({},TW),e),i=r.radius,s=r.center,o=0;o<t.length;o+=3){var a=Math.pow(n.value(),.3333333333333333),l=n.value()*2-1,u=n.value()*2-1,c=n.value()*2-1,f=Math.sqrt(l*l+u*u+c*c);l=a*l/f,u=a*u/f,c=a*c/f,t[o]=l*i+s[0],t[o+1]=u*i+s[1],t[o+2]=c*i+s[2]}return t}var MW={radius:1,center:[0,0]};function Q6e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kd,r=eo(eo({},MW),e),i=r.radius,s=r.center,o=0;o<t.length;o+=2){var a=i*Math.sqrt(n.value()),l=n.value()*P7;t[o]=Math.sin(l)*a+s[0],t[o+1]=Math.cos(l)*a+s[1]}return t}function V6e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kd,r=eo(eo({},MW),e),i=r.radius,s=r.center,o=0;o<t.length;o+=2){var a=n.value()*P7;t[o]=Math.sin(a)*i+s[0],t[o+1]=Math.cos(a)*i+s[1]}return t}var W6e={sides:1,center:[0,0]};function j6e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kd,r=eo(eo({},W6e),e),i=r.sides,s=r.center,o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],l=0;l<t.length;l+=2)t[l]=(n.value()-.5)*o+s[0],t[l+1]=(n.value()-.5)*a+s[1];return t}function X6e(t,e){return t}function Y6e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kd,r=eo(eo({},_W),e),i=r.sides,s=r.center,o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],l=typeof i=="number"?i:i[2],u=0;u<t.length;u+=3)t[u]=(n.value()-.5)*o+s[0],t[u+1]=(n.value()-.5)*a+s[1],t[u+2]=(n.value()-.5)*l+s[2];return t}var _W={sides:1,center:[0,0,0]};function K6e(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kd,r=eo(eo({},_W),e),i=r.sides,s=r.center,o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],l=typeof i=="number"?i:i[2],u=0;u<t.length;u+=3)t[u]=(n.value()-.5)*o+s[0],t[u+1]=(n.value()-.5)*a+s[1],t[u+2]=(n.value()-.5)*l+s[2];return t}var J6e=Object.freeze({__proto__:null,FlashGen:N6e,Generator:wW,onSphere:z6e,inSphere:H6e,inCircle:Q6e,onCircle:V6e,inRect:j6e,onRect:X6e,inBox:Y6e,onBox:K6e,noise:k6e});const Gt={ROOT_URL:"https://penzaiblogs.oss-cn-hangzhou.aliyuncs.com"};function Fu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IW(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var bo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},nm={duration:.5,overwrite:!1,delay:0},L7,rs,Rr,ma=1e8,zn=1/ma,sT=Math.PI*2,q6e=sT/4,Z6e=0,bW=Math.sqrt,$6e=Math.cos,e4e=Math.sin,Ri=function(e){return typeof e=="string"},Lr=function(e){return typeof e=="function"},sc=function(e){return typeof e=="number"},F7=function(e){return typeof e>"u"},tu=function(e){return typeof e=="object"},Ks=function(e){return e!==!1},O7=function(){return typeof window<"u"},Ly=function(e){return Lr(e)||Ri(e)},BW=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},is=Array.isArray,oT=/(?:-?\.?\d|\.)+/gi,RW=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,o0=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,yS=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,DW=/[+-]=-?[.\d]+/,PW=/[^,'"\[\]\s]+/gi,t4e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,vr,sa,aT,U7,Oo={},Tx={},LW,FW=function(e){return(Tx=Sd(e,Oo))&&to},k7=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Mx=function(e,n){return!n&&console.warn(e)},OW=function(e,n){return e&&(Oo[e]=n)&&Tx&&(Tx[e]=n)||Oo},YA=function(){return 0},n4e={suppressEvents:!0,isStart:!0,kill:!1},w5={suppressEvents:!0,kill:!1},r4e={suppressEvents:!0},N7={},mf=[],lT={},UW,go={},xS={},qF=30,T5=[],G7="",z7=function(e){var n=e[0],r,i;if(tu(n)||Lr(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=T5.length;i--&&!T5[i].targetTest(n););r=T5[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new aj(e[i],r)))||e.splice(i,1);return e},rd=function(e){return e._gsap||z7(ga(e))[0]._gsap},kW=function(e,n,r){return(r=e[n])&&Lr(r)?e[n]():F7(r)&&e.getAttribute&&e.getAttribute(n)||r},Js=function(e,n){return(e=e.split(",")).forEach(n)||e},Hr=function(e){return Math.round(e*1e5)/1e5||0},Ni=function(e){return Math.round(e*1e7)/1e7||0},T0=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},i4e=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},_x=function(){var e=mf.length,n=mf.slice(0),r,i;for(lT={},mf.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},NW=function(e,n,r,i){mf.length&&!rs&&_x(),e.render(n,r,i||rs&&n<0&&(e._initted||e._startAt)),mf.length&&!rs&&_x()},GW=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(PW).length<2?n:Ri(e)?e.trim():e},zW=function(e){return e},Ba=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},s4e=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},Sd=function(e,n){for(var r in n)e[r]=n[r];return e},ZF=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=tu(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Ix=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},W1=function(e){var n=e.parent||vr,r=e.keyframes?s4e(is(e.keyframes)):Ba;if(Ks(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},o4e=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},HW=function(e,n,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},h4=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Bf=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},id=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},a4e=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},uT=function(e,n,r,i){return e._startAt&&(rs?e._startAt.revert(w5):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},l4e=function t(e){return!e||e._ts&&t(e.parent)},$F=function(e){return e._repeat?rm(e._tTime,e=e.duration()+e._rDelay)*e:0},rm=function(e,n){var r=Math.floor(e/=n);return e&&r===e?r-1:r},bx=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},d4=function(e){return e._end=Ni(e._start+(e._tDur/Math.abs(e._ts||e._rts||zn)||0))},p4=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ni(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),d4(e),r._dirty||id(r,e)),e},QW=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=bx(e.rawTime(),n),(!n._dur||i2(0,n.totalDuration(),r)-n._tTime>zn)&&n.render(r,!0)),id(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-zn}},Fl=function(e,n,r,i){return n.parent&&Bf(n),n._start=Ni((sc(r)?r:r||e!==vr?ra(e,r,n):e._time)+n._delay),n._end=Ni(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),HW(e,n,"_first","_last",e._sort?"_start":0),cT(n)||(e._recent=n),i||QW(e,n),e._ts<0&&p4(e,e._tTime),e},VW=function(e,n){return(Oo.ScrollTrigger||k7("scrollTrigger",n))&&Oo.ScrollTrigger.create(n,e)},WW=function(e,n,r,i,s){if(Q7(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!rs&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&UW!==yo.frame)return mf.push(e),e._lazy=[s,i],1},u4e=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},cT=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},c4e=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&u4e(e)&&!(!e._initted&&cT(e))||(e._ts<0||e._dp._ts<0)&&!cT(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=i2(0,e._tDur,n),c=rm(l,a),e._yoyo&&c&1&&(o=1-o),c!==rm(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||rs||i||e._zTime===zn||!n&&e._zTime){if(!e._initted&&WW(e,n,i,r,l))return;for(f=e._zTime,e._zTime=n||(r?zn:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&uT(e,n,r,!0),e._onUpdate&&!r&&Aa(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Aa(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Bf(e,1),!r&&!rs&&(Aa(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},f4e=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},im=function(e,n,r,i){var s=e._repeat,o=Ni(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Ni(o*(s+1)+e._rDelay*s):o,a>0&&!i&&p4(e,e._tTime=e._tDur*a),e.parent&&d4(e),r||id(e.parent,e),e},eO=function(e){return e instanceof zs?id(e):im(e,e._dur)},h4e={_start:0,endTime:YA,totalDuration:YA},ra=function t(e,n,r){var i=e.labels,s=e._recent||h4e,o=e.duration()>=ma?s.endTime(!1):e._dur,a,l,u;return Ri(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(is(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},j1=function(e,n,r){var i=sc(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ks(l.vars.inherit)&&l.parent;o.immediateRender=Ks(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new qr(n[0],o,n[s+1])},Vf=function(e,n){return e||e===0?n(e):n},i2=function(e,n,r){return r<e?e:r>n?n:r},ts=function(e,n){return!Ri(e)||!(n=t4e.exec(e))?"":n[1]},d4e=function(e,n,r){return Vf(r,function(i){return i2(e,n,i)})},fT=[].slice,jW=function(e,n){return e&&tu(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&tu(e[0]))&&!e.nodeType&&e!==sa},p4e=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Ri(i)&&!n||jW(i,1)?(s=r).push.apply(s,ga(i)):r.push(i)})||r},ga=function(e,n,r){return Rr&&!n&&Rr.selector?Rr.selector(e):Ri(e)&&!r&&(aT||!sm())?fT.call((n||U7).querySelectorAll(e),0):is(e)?p4e(e,r):jW(e)?fT.call(e,0):e?[e]:[]},hT=function(e){return e=ga(e)[0]||Mx("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return ga(n,r.querySelectorAll?r:r===e?Mx("Invalid scope")||U7.createElement("div"):e)}},XW=function(e){return e.sort(function(){return .5-Math.random()})},YW=function(e){if(Lr(e))return e;var n=tu(e)?e:{each:e},r=sd(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=n.axis,c=i,f=i;return Ri(i)?c=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],f=i[1]),function(h,d,g){var v=(g||n).length,y=o[v],A,x,E,S,w,M,_,b,I;if(!y){if(I=n.grid==="auto"?0:(n.grid||[1,ma])[1],!I){for(_=-ma;_<(_=g[I++].getBoundingClientRect().left)&&I<v;);I--}for(y=o[v]=[],A=l?Math.min(I,v)*c-.5:i%I,x=I===ma?0:l?v*f/I-.5:i/I|0,_=0,b=ma,M=0;M<v;M++)E=M%I-A,S=x-(M/I|0),y[M]=w=u?Math.abs(u==="y"?S:E):bW(E*E+S*S),w>_&&(_=w),w<b&&(b=w);i==="random"&&XW(y),y.max=_-b,y.min=b,y.v=v=(parseFloat(n.amount)||parseFloat(n.each)*(I>v?v-1:u?u==="y"?v/I:I:Math.max(I,v/I))||0)*(i==="edges"?-1:1),y.b=v<0?s-v:s,y.u=ts(n.amount||n.each)||0,r=r&&v<0?ij(r):r}return v=(y[h]-y.min)/y.max||0,Ni(y.b+(r?r(v):v)*y.v)+y.u}},dT=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Ni(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(sc(r)?0:ts(r))}},KW=function(e,n){var r=is(e),i,s;return!r&&tu(e)&&(i=r=e.radius||ma,e.values?(e=ga(e.values),(s=!sc(e[0]))&&(i*=i)):e=dT(e.increment)),Vf(n,r?Lr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=ma,c=0,f=e.length,h,d;f--;)s?(h=e[f].x-a,d=e[f].y-l,h=h*h+d*d):h=Math.abs(e[f]-a),h<u&&(u=h,c=f);return c=!i||u<=i?e[c]:o,s||c===o||sc(o)?c:c+ts(o)}:dT(e))},JW=function(e,n,r,i){return Vf(is(e)?!n:r===!0?!!(r=0):!i,function(){return is(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},m4e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},g4e=function(e,n){return function(r){return e(parseFloat(r))+(n||ts(r))}},A4e=function(e,n,r){return ZW(e,n,0,1,r)},qW=function(e,n,r){return Vf(r,function(i){return e[~~n(i)]})},v4e=function t(e,n,r){var i=n-e;return is(e)?qW(e,t(0,e.length),n):Vf(r,function(s){return(i+(s-e)%i)%i+e})},y4e=function t(e,n,r){var i=n-e,s=i*2;return is(e)?qW(e,t(0,e.length-1),n):Vf(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},KA=function(e){for(var n=0,r="",i,s,o,a;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?PW:oT),r+=e.substr(n,i-n)+JW(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},ZW=function(e,n,r,i,s){var o=n-e,a=i-r;return Vf(s,function(l){return r+((l-e)/o*a||0)})},x4e=function t(e,n,r,i){var s=isNaN(e+n)?0:function(d){return(1-d)*e+d*n};if(!s){var o=Ri(e),a={},l,u,c,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(is(e)&&!is(n)){for(c=[],f=e.length,h=f-2,u=1;u<f;u++)c.push(t(e[u-1],e[u]));f--,s=function(g){g*=f;var v=Math.min(h,~~g);return c[v](g-v)},r=n}else i||(e=Sd(is(e)?[]:{},e));if(!c){for(l in n)H7.call(a,e,l,"get",n[l]);s=function(g){return j7(g,a)||(o?e.p:e)}}}return Vf(r,s)},tO=function(e,n,r){var i=e.labels,s=ma,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Aa=function(e,n,r){var i=e.vars,s=i[n],o=Rr,a=e._ctx,l,u,c;if(s)return l=i[n+"Params"],u=i.callbackScope||e,r&&mf.length&&_x(),a&&(Rr=a),c=l?s.apply(u,l):s.call(u),Rr=o,c},g1=function(e){return Bf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!rs),e.progress()<1&&Aa(e,"onInterrupt"),e},a0,$W=[],ej=function(e){if(O7()&&e){e=!e.name&&e.default||e;var n=e.name,r=Lr(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:YA,render:j7,add:H7,kill:O4e,modifier:F4e,rawVars:0},o={targetTest:0,get:0,getSetter:W7,aliases:{},register:0};if(sm(),e!==i){if(go[n])return;Ba(i,Ba(Ix(e,s),o)),Sd(i.prototype,Sd(s,Ix(e,o))),go[i.prop=n]=i,e.targetTest&&(T5.push(i),N7[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}OW(n,i),e.register&&e.register(to,i,qs)}else e&&$W.push(e)},Gn=255,A1={aqua:[0,Gn,Gn],lime:[0,Gn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Gn],navy:[0,0,128],white:[Gn,Gn,Gn],olive:[128,128,0],yellow:[Gn,Gn,0],orange:[Gn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Gn,0,0],pink:[Gn,192,203],cyan:[0,Gn,Gn],transparent:[Gn,Gn,Gn,0]},ES=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*Gn+.5|0},tj=function(e,n,r){var i=e?sc(e)?[e>>16,e>>8&Gn,e&Gn]:0:A1.black,s,o,a,l,u,c,f,h,d,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),A1[e])i=A1[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Gn,i&Gn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Gn,e&Gn]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(oT),!n)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=ES(l+1/3,s,o),i[1]=ES(l,s,o),i[2]=ES(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(RW),r&&i.length<4&&(i[3]=1),i}else i=e.match(oT)||A1.transparent;i=i.map(Number)}return n&&!g&&(s=i[0]/Gn,o=i[1]/Gn,a=i[2]/Gn,f=Math.max(s,o,a),h=Math.min(s,o,a),c=(f+h)/2,f===h?l=u=0:(d=f-h,u=c>.5?d/(2-f-h):d/(f+h),l=f===s?(o-a)/d+(o<a?6:0):f===o?(a-s)/d+2:(s-o)/d+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},nj=function(e){var n=[],r=[],i=-1;return e.split(gf).forEach(function(s){var o=s.match(o0)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},nO=function(e,n,r){var i="",s=(e+i).match(gf),o=n?"hsla(":"rgba(",a=0,l,u,c,f;if(!s)return e;if(s=s.map(function(h){return(h=tj(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(c=nj(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(gf,"1").split(o0),f=u.length-1;a<f;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(gf),f=u.length-1;a<f;a++)i+=u[a]+s[a];return i+u[f]},gf=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in A1)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),E4e=/hsl[a]?\(/,rj=function(e){var n=e.join(" "),r;if(gf.lastIndex=0,gf.test(n))return r=E4e.test(n),e[1]=nO(e[1],r),e[0]=nO(e[0],r,nj(e[1])),!0},JA,yo=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,u,c,f,h,d,g=function v(y){var A=t()-i,x=y===!0,E,S,w,M;if(A>e&&(r+=A-n),i+=A,w=i-r,E=w-o,(E>0||x)&&(M=++f.frame,h=w-f.time*1e3,f.time=w=w/1e3,o+=E+(E>=s?4:s-E),S=1),x||(l=u(v)),S)for(d=0;d<a.length;d++)a[d](w,h,M,y)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return h/(1e3/(y||60))},wake:function(){LW&&(!aT&&O7()&&(sa=aT=window,U7=sa.document||{},Oo.gsap=to,(sa.gsapVersions||(sa.gsapVersions=[])).push(to.version),FW(Tx||sa.GreenSockGlobals||!sa.gsap&&sa||{}),c=sa.requestAnimationFrame,$W.forEach(ej)),l&&f.sleep(),u=c||function(y){return setTimeout(y,o-f.time*1e3+1|0)},JA=1,g(2))},sleep:function(){(c?sa.cancelAnimationFrame:clearTimeout)(l),JA=0,u=YA},lagSmoothing:function(y,A){e=y||1/0,n=Math.min(A||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,A,x){var E=A?function(S,w,M,_){y(S,w,M,_),f.remove(E)}:y;return f.remove(y),a[x?"unshift":"push"](E),sm(),E},remove:function(y,A){~(A=a.indexOf(y))&&a.splice(A,1)&&d>=A&&d--},_listeners:a},f}(),sm=function(){return!JA&&yo.wake()},hn={},S4e=/^[\d.\-M][\d.\-,\s]/,C4e=/["']/g,w4e=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[i]=isNaN(u)?u.replace(C4e,"").trim():+u,i=l.substr(a+1).trim();return n},T4e=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},M4e=function(e){var n=(e+"").split("("),r=hn[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[w4e(n[1])]:T4e(e).split(",").map(GW)):hn._CE&&S4e.test(e)?hn._CE("",e):r},ij=function(e){return function(n){return 1-e(1-n)}},sj=function t(e,n){for(var r=e._first,i;r;)r instanceof zs?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},sd=function(e,n){return e&&(Lr(e)?e:hn[e]||M4e(e))||n},Nd=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return Js(e,function(a){hn[a]=Oo[a]=s,hn[o=a.toLowerCase()]=r;for(var l in s)hn[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=hn[a+"."+l]=s[l]}),s},oj=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},SS=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/sT*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*e4e((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:oj(a);return s=sT/s,l.config=function(u,c){return t(e,u,c)},l},CS=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:oj(r);return i.config=function(s){return t(e,s)},i};Js("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Nd(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});hn.Linear.easeNone=hn.none=hn.Linear.easeIn;Nd("Elastic",SS("in"),SS("out"),SS());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Nd("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Nd("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Nd("Circ",function(t){return-(bW(1-t*t)-1)});Nd("Sine",function(t){return t===1?1:-$6e(t*q6e)+1});Nd("Back",CS("in"),CS("out"),CS());hn.SteppedEase=hn.steps=Oo.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-zn;return function(a){return((i*i2(0,o,a)|0)+s)*r}}};nm.ease=hn["quad.out"];Js("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return G7+=t+","+t+"Params,"});var aj=function(e,n){this.id=Z6e++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:kW,this.set=n?n.getSetter:W7},qA=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,im(this,+n.duration,1,1),this.data=n.data,Rr&&(this._ctx=Rr,Rr.data.push(this)),JA||yo.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,im(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(sm(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(p4(this,r),!s._dp||s.parent||QW(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Fl(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===zn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),NW(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+$F(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+$F(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?rm(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-zn?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?bx(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-zn?0:this._rts,this.totalTime(i2(-Math.abs(this._delay),this._tDur,i),!0),d4(this),a4e(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(sm(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==zn&&(this._tTime-=zn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Fl(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Ks(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?bx(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=r4e);var i=rs;return rs=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),rs=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,eO(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,eO(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(ra(this,r),Ks(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Ks(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-zn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-zn,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-zn)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Lr(r)?r:zW,a=function(){var u=i.then;i.then=null,Lr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),s(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){g1(this)},t}();Ba(qA.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zn,_prom:0,_ps:!1,_rts:1});var zs=function(t){IW(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Ks(r.sortChildren),vr&&Fl(r.parent||vr,Fu(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&VW(Fu(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return j1(0,arguments,this),this},n.from=function(i,s,o){return j1(1,arguments,this),this},n.fromTo=function(i,s,o,a){return j1(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,W1(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new qr(i,s,ra(this,o),1),this},n.call=function(i,s,o){return Fl(this,qr.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new qr(i,o,ra(this,l)),this},n.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,W1(o).immediateRender=Ks(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},n.staggerFromTo=function(i,s,o,a,l,u,c,f){return a.startAt=o,W1(a).immediateRender=Ks(a.immediateRender),this.staggerTo(i,s,a,l,u,c,f)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:Ni(i),f=this._zTime<0!=i<0&&(this._initted||!u),h,d,g,v,y,A,x,E,S,w,M,_;if(this!==vr&&c>l&&i>=0&&(c=l),c!==this._tTime||o||f){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),h=c,S=this._start,E=this._ts,A=!E,f&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(M=this._yoyo,y=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,s,o);if(h=Ni(c%y),c===l?(v=this._repeat,h=u):(v=~~(c/y),v&&v===c/y&&(h=u,v--),h>u&&(h=u)),w=rm(this._tTime,y),!a&&this._tTime&&w!==v&&this._tTime-w*y-this._dur<=0&&(w=v),M&&v&1&&(h=u-h,_=1),v!==w&&!this._lock){var b=M&&w&1,I=b===(M&&v&1);if(v<w&&(b=!b),a=b?0:c%u?u:c,this._lock=1,this.render(a||(_?0:Ni(v*y)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&Aa(this,"onRepeat"),this.vars.repeatRefresh&&!_&&(this.invalidate()._lock=1),a&&a!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,I&&(this._lock=2,a=b?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!_&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;sj(this,_)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=f4e(this,Ni(a),Ni(h)),x&&(c-=h-(h=x._start))),this._tTime=c,this._time=h,this._act=!E,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!v&&(Aa(this,"onStart"),this._tTime!==c))return this;if(h>=a&&i>=0)for(d=this._first;d;){if(g=d._next,(d._act||h>=d._start)&&d._ts&&x!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(h-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(h-d._start)*d._ts,s,o),h!==this._time||!this._ts&&!A){x=0,g&&(c+=this._zTime=-zn);break}}d=g}else{d=this._last;for(var B=i<0?i:h;d;){if(g=d._prev,(d._act||B<=d._end)&&d._ts&&x!==d){if(d.parent!==this)return this.render(i,s,o);if(d.render(d._ts>0?(B-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(B-d._start)*d._ts,s,o||rs&&(d._initted||d._startAt)),h!==this._time||!this._ts&&!A){x=0,g&&(c+=this._zTime=B?-zn:zn);break}}d=g}}if(x&&!s&&(this.pause(),x.render(h>=a?0:-zn)._zTime=h>=a?1:-1,this._ts))return this._start=S,d4(this),this.render(i,s,o);this._onUpdate&&!s&&Aa(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(S===this._start||Math.abs(E)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Bf(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(Aa(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(sc(s)||(s=ra(this,s,i)),!(i instanceof qA)){if(is(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Ri(i))return this.addLabel(i,s);if(Lr(i))i=qr.delayedCall(0,i);else return this}return this!==i?Fl(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ma);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof qr?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return Ri(i)?this.removeLabel(i):Lr(i)?this.killTweensOf(i):(h4(this,i),i===this._recent&&(this._recent=this._last),id(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ni(yo.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=ra(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=qr.delayedCall(0,s||YA,o);return a.data="isPause",this._hasPause=1,Fl(this,a,ra(this,i))},n.removePause=function(i){var s=this._first;for(i=ra(this,i);s;)s._start===i&&s.data==="isPause"&&Bf(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)$c!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=ga(i),l=this._first,u=sc(s),c;l;)l instanceof qr?i4e(l._targets,a)&&(u?(!$c||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=ra(o,i),l=s,u=l.startAt,c=l.onStart,f=l.onStartParams,h=l.immediateRender,d,g=qr.to(o,Ba({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||zn,onStart:function(){if(o.pause(),!d){var y=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());g._dur!==y&&im(g,y,0,1).render(g._time,!0,!0),d=1}c&&c.apply(g,f||[])}},s));return h?g.render(0):g},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,Ba({startAt:{time:ra(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),tO(this,ra(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),tO(this,ra(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+zn)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return id(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),id(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=ma,u,c,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Fl(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;im(o,o===vr&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(vr._ts&&(NW(vr,bx(i,vr)),UW=yo.frame),yo.frame>=qF){qF+=bo.autoSleep||120;var s=vr._first;if((!s||!s._ts)&&bo.autoSleep&&yo._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||yo.sleep()}}},e}(qA);Ba(zs.prototype,{_lock:0,_hasPause:0,_forcing:0});var _4e=function(e,n,r,i,s,o,a){var l=new qs(this._pt,e,n,0,1,dj,null,s),u=0,c=0,f,h,d,g,v,y,A,x;for(l.b=r,l.e=i,r+="",i+="",(A=~i.indexOf("random("))&&(i=KA(i)),o&&(x=[r,i],o(x,e,n),r=x[0],i=x[1]),h=r.match(yS)||[];f=yS.exec(i);)g=f[0],v=i.substring(u,f.index),d?d=(d+1)%5:v.substr(-5)==="rgba("&&(d=1),g!==h[c++]&&(y=parseFloat(h[c-1])||0,l._pt={_next:l._pt,p:v||c===1?v:",",s:y,c:g.charAt(1)==="="?T0(y,g)-y:parseFloat(g)-y,m:d&&d<4?Math.round:0},u=yS.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(DW.test(i)||A)&&(l.e=0),this._pt=l,l},H7=function(e,n,r,i,s,o,a,l,u,c){Lr(i)&&(i=i(s||0,e,o));var f=e[n],h=r!=="get"?r:Lr(f)?u?e[n.indexOf("set")||!Lr(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,d=Lr(f)?u?D4e:fj:V7,g;if(Ri(i)&&(~i.indexOf("random(")&&(i=KA(i)),i.charAt(1)==="="&&(g=T0(h,i)+(ts(h)||0),(g||g===0)&&(i=g))),!c||h!==i||pT)return!isNaN(h*i)&&i!==""?(g=new qs(this._pt,e,n,+h||0,i-(h||0),typeof f=="boolean"?L4e:hj,0,d),u&&(g.fp=u),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(n in e)&&k7(n,i),_4e.call(this,e,n,h,i,d,l||bo.stringFilter,u))},I4e=function(e,n,r,i,s){if(Lr(e)&&(e=X1(e,s,n,r,i)),!tu(e)||e.style&&e.nodeType||is(e)||BW(e))return Ri(e)?X1(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=X1(e[a],s,n,r,i);return o},lj=function(e,n,r,i,s,o){var a,l,u,c;if(go[e]&&(a=new go[e]).init(s,a.rawVars?n[e]:I4e(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new qs(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==a0))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},$c,pT,Q7=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.onUpdateParams,f=i.callbackScope,h=i.runBackwards,d=i.yoyoEase,g=i.keyframes,v=i.autoRevert,y=e._dur,A=e._startAt,x=e._targets,E=e.parent,S=E&&E.data==="nested"?E.vars.targets:x,w=e._overwrite==="auto"&&!L7,M=e.timeline,_,b,I,B,L,F,O,G,V,Y,J,z,W;if(M&&(!g||!s)&&(s="none"),e._ease=sd(s,nm.ease),e._yEase=d?ij(sd(d===!0?s:d,nm.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!M&&!!i.runBackwards,!M||g&&!i.stagger){if(G=x[0]?rd(x[0]).harness:0,z=G&&i[G.prop],_=Ix(i,N7),A&&(A._zTime<0&&A.progress(1),n<0&&h&&a&&!v?A.render(-1,!0):A.revert(h&&y?w5:n4e),A._lazy=0),o){if(Bf(e._startAt=qr.set(x,Ba({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:!A&&Ks(l),startAt:null,delay:0,onUpdate:u,onUpdateParams:c,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(rs||!a&&!v)&&e._startAt.revert(w5),a&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(h&&y&&!A){if(n&&(a=!1),I=Ba({overwrite:!1,data:"isFromStart",lazy:a&&!A&&Ks(l),immediateRender:a,stagger:0,parent:E},_),z&&(I[G.prop]=z),Bf(e._startAt=qr.set(x,I)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(rs?e._startAt.revert(w5):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,zn,zn);else if(!n)return}for(e._pt=e._ptCache=0,l=y&&Ks(l)||l&&!y,b=0;b<x.length;b++){if(L=x[b],O=L._gsap||z7(x)[b]._gsap,e._ptLookup[b]=Y={},lT[O.id]&&mf.length&&_x(),J=S===x?b:S.indexOf(L),G&&(V=new G).init(L,z||_,e,J,S)!==!1&&(e._pt=B=new qs(e._pt,L,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(j){Y[j]=B}),V.priority&&(F=1)),!G||z)for(I in _)go[I]&&(V=lj(I,_,e,J,L,S))?V.priority&&(F=1):Y[I]=B=H7.call(e,L,I,"get",_[I],J,S,0,i.stringFilter);e._op&&e._op[b]&&e.kill(L,e._op[b]),w&&e._pt&&($c=e,vr.killTweensOf(L,Y,e.globalTime(n)),W=!e.parent,$c=0),e._pt&&l&&(lT[O.id]=1)}F&&pj(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!W,g&&n<=0&&M.render(ma,!0,!0)},b4e=function(e,n,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,c,f,h;if(!l)for(l=e._ptCache[n]=[],f=e._ptLookup,h=e._targets.length;h--;){if(u=f[h][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return pT=1,e.vars[n]="+=0",Q7(e,a),pT=0,1;l.push(u)}for(h=l.length;h--;)c=l[h],u=c._pt||c,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,c.e&&(c.e=Hr(r)+ts(c.e)),c.b&&(c.b=u.s+ts(c.b))},B4e=function(e,n){var r=e[0]?rd(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=Sd({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},R4e=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(is(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},X1=function(e,n,r,i,s){return Lr(e)?e.call(n,r,i,s):Ri(e)&&~e.indexOf("random(")?KA(e):e},uj=G7+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",cj={};Js(uj+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return cj[t]=1});var qr=function(t){IW(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:W1(i))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,h=l.stagger,d=l.overwrite,g=l.keyframes,v=l.defaults,y=l.scrollTrigger,A=l.yoyoEase,x=i.parent||vr,E=(is(r)||BW(r)?sc(r[0]):"length"in i)?[r]:ga(r),S,w,M,_,b,I,B,L;if(a._targets=E.length?z7(E):Mx("GSAP target "+r+" not found. https://greensock.com",!bo.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,g||h||Ly(u)||Ly(c)){if(i=a.vars,S=a.timeline=new zs({data:"nested",defaults:v||{},targets:x&&x.data==="nested"?x.vars.targets:E}),S.kill(),S.parent=S._dp=Fu(a),S._start=0,h||Ly(u)||Ly(c)){if(_=E.length,B=h&&YW(h),tu(h))for(b in h)~uj.indexOf(b)&&(L||(L={}),L[b]=h[b]);for(w=0;w<_;w++)M=Ix(i,cj),M.stagger=0,A&&(M.yoyoEase=A),L&&Sd(M,L),I=E[w],M.duration=+X1(u,Fu(a),w,I,E),M.delay=(+X1(c,Fu(a),w,I,E)||0)-a._delay,!h&&_===1&&M.delay&&(a._delay=c=M.delay,a._start+=c,M.delay=0),S.to(I,M,B?B(w,I,E):0),S._ease=hn.none;S.duration()?u=c=0:a.timeline=0}else if(g){W1(Ba(S.vars.defaults,{ease:"none"})),S._ease=sd(g.ease||i.ease||"none");var F=0,O,G,V;if(is(g))g.forEach(function(Y){return S.to(E,Y,">")}),S.duration();else{M={};for(b in g)b==="ease"||b==="easeEach"||R4e(b,g[b],M,g.easeEach);for(b in M)for(O=M[b].sort(function(Y,J){return Y.t-J.t}),F=0,w=0;w<O.length;w++)G=O[w],V={ease:G.e,duration:(G.t-(w?O[w-1].t:0))/100*u},V[b]=G.v,S.to(E,V,F),F+=V.duration;S.duration()<u&&S.to({},{duration:u-S.duration()})}}u||a.duration(u=S.duration())}else a.timeline=0;return d===!0&&!L7&&($c=Fu(a),vr.killTweensOf(E),$c=0),Fl(x,Fu(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!u&&!g&&a._start===Ni(x._time)&&Ks(f)&&l4e(Fu(a))&&x.data!=="nested")&&(a._tTime=-zn,a.render(Math.max(0,-c)||0)),y&&VW(Fu(a),y),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,f=i>l-zn&&!c?l:i<zn?0:i,h,d,g,v,y,A,x,E,S;if(!u)c4e(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(h=f,E=this.timeline,this._repeat){if(v=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(v*100+i,s,o);if(h=Ni(f%v),f===l?(g=this._repeat,h=u):(g=~~(f/v),g&&g===f/v&&(h=u,g--),h>u&&(h=u)),A=this._yoyo&&g&1,A&&(S=this._yEase,h=u-h),y=rm(this._tTime,v),h===a&&!o&&this._initted)return this._tTime=f,this;g!==y&&(E&&this._yEase&&sj(E,A),this.vars.repeatRefresh&&!A&&!this._lock&&(this._lock=o=1,this.render(Ni(v*g),!0).invalidate()._lock=0))}if(!this._initted){if(WW(this,c?i:h,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(S||this._ease)(h/u),this._from&&(this.ratio=x=1-x),h&&!a&&!s&&!g&&(Aa(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(x,d.d),d=d._next;E&&E.render(i<0?i:!h&&A?-zn:E._dur*E._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&uT(this,i,s,o),Aa(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!s&&this.parent&&Aa(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&uT(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Bf(this,1),!s&&!(c&&!a)&&(f||a||A)&&(Aa(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a){JA||yo.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Q7(this,l),u=this._ease(l/this._dur),b4e(this,i,s,o,a,u,l)?this.resetTo(i,s,o,a):(p4(this,0),this.parent||HW(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?g1(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,$c&&$c.vars.overwrite!==!0)._first||g1(this),this.parent&&o!==this.timeline.totalDuration()&&im(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?ga(i):a,u=this._ptLookup,c=this._pt,f,h,d,g,v,y,A;if((!s||s==="all")&&o4e(a,l))return s==="all"&&(this._pt=0),g1(this);for(f=this._op=this._op||[],s!=="all"&&(Ri(s)&&(v={},Js(s,function(x){return v[x]=1}),s=v),s=B4e(a,s)),A=a.length;A--;)if(~l.indexOf(a[A])){h=u[A],s==="all"?(f[A]=s,g=h,d={}):(d=f[A]=f[A]||{},g=s);for(v in g)y=h&&h[v],y&&((!("kill"in y.d)||y.d.kill(v)===!0)&&h4(this,y,"_pt"),delete h[v]),d!=="all"&&(d[v]=1)}return this._initted&&!this._pt&&c&&g1(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return j1(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return j1(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return vr.killTweensOf(i,s,o)},e}(qA);Ba(qr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Js("staggerTo,staggerFrom,staggerFromTo",function(t){qr[t]=function(){var e=new zs,n=fT.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var V7=function(e,n,r){return e[n]=r},fj=function(e,n,r){return e[n](r)},D4e=function(e,n,r,i){return e[n](i.fp,r)},P4e=function(e,n,r){return e.setAttribute(n,r)},W7=function(e,n){return Lr(e[n])?fj:F7(e[n])&&e.setAttribute?P4e:V7},hj=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},L4e=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},dj=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},j7=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},F4e=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},O4e=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?h4(this,n,"_pt"):n.dep||(r=1),n=i;return!r},U4e=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},pj=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},qs=function(){function t(n,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||hj,this.d=l||this,this.set=u||V7,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=U4e,this.m=r,this.mt=s,this.tween=i},t}();Js(G7+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return N7[t]=1});Oo.TweenMax=Oo.TweenLite=qr;Oo.TimelineLite=Oo.TimelineMax=zs;vr=new zs({sortChildren:!1,defaults:nm,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});bo.stringFilter=rj;var od=[],M5={},k4e=[],rO=0,N4e=0,wS=function(e){return(M5[e]||k4e).map(function(n){return n()})},mT=function(){var e=Date.now(),n=[];e-rO>2&&(wS("matchMediaInit"),od.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=sa.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),wS("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r)}),rO=e,wS("matchMedia"))},mj=function(){function t(n,r){this.selector=r&&hT(r),this.data=[],this._r=[],this.isReverted=!1,this.id=N4e++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){Lr(r)&&(s=i,i=r,r=Lr);var o=this,a=function(){var u=Rr,c=o.selector,f;return u&&u!==o&&u.data.push(o),s&&(o.selector=hT(s)),Rr=o,f=i.apply(o,arguments),Lr(f)&&o._r.push(f),Rr=u,o.selector=c,o.isReverted=!1,f};return o.last=a,r===Lr?a(o):r?o[r]=a:a},e.ignore=function(r){var i=Rr;Rr=null,r(this),Rr=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof qr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,u){return u.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof qr)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=od.length;a--;)od[a].id===this.id&&od.splice(a,1)},e.revert=function(r){this.kill(r||{})},t}(),G4e=function(){function t(n){this.contexts=[],this.scope=n}var e=t.prototype;return e.add=function(r,i,s){tu(r)||(r={matches:r});var o=new mj(0,s||this.scope),a=o.conditions={},l,u,c;Rr&&!o.selector&&(o.selector=Rr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=sa.matchMedia(r[u]),l&&(od.indexOf(o)<0&&od.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(mT):l.addEventListener("change",mT)));return c&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),Bx={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return ej(i)})},timeline:function(e){return new zs(e)},getTweensOf:function(e,n){return vr.getTweensOf(e,n)},getProperty:function(e,n,r,i){Ri(e)&&(e=ga(e)[0]);var s=rd(e||{}).get,o=r?zW:GW;return r==="native"&&(r=""),e&&(n?o((go[n]&&go[n].get||s)(e,n,r,i)):function(a,l,u){return o((go[a]&&go[a].get||s)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=ga(e),e.length>1){var i=e.map(function(c){return to.quickSetter(c,n,r)}),s=i.length;return function(c){for(var f=s;f--;)i[f](c)}}e=e[0]||{};var o=go[n],a=rd(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var f=new o;a0._pt=0,f.init(e,r?c+r:c,a0,0,[e]),f.render(1,f),a0._pt&&j7(1,a0)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var i,s=to.to(e,Sd((i={},i[n]="+=0.1",i.paused=!0,i),r||{})),o=function(l,u,c){return s.resetTo(n,l,u,c)};return o.tween=s,o},isTweening:function(e){return vr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=sd(e.ease,nm.ease)),ZF(nm,e||{})},config:function(e){return ZF(bo,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!go[a]&&!Oo[a]&&Mx(n+" effect requires "+a+" plugin.")}),xS[n]=function(a,l,u){return r(ga(a),Ba(l||{},s),u)},o&&(zs.prototype[n]=function(a,l,u){return this.add(xS[n](a,tu(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){hn[e]=sd(n)},parseEase:function(e,n){return arguments.length?sd(e,n):hn},getById:function(e){return vr.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new zs(e),i,s;for(r.smoothChildTiming=Ks(e.smoothChildTiming),vr.remove(r),r._dp=0,r._time=r._tTime=vr._time,i=vr._first;i;)s=i._next,(n||!(!i._dur&&i instanceof qr&&i.vars.onComplete===i._targets[0]))&&Fl(r,i,i._start-i._delay),i=s;return Fl(vr,r,0),r},context:function(e,n){return e?new mj(e,n):Rr},matchMedia:function(e){return new G4e(e)},matchMediaRefresh:function(){return od.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||mT()},addEventListener:function(e,n){var r=M5[e]||(M5[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=M5[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:v4e,wrapYoyo:y4e,distribute:YW,random:JW,snap:KW,normalize:A4e,getUnit:ts,clamp:d4e,splitColor:tj,toArray:ga,selector:hT,mapRange:ZW,pipe:m4e,unitize:g4e,interpolate:x4e,shuffle:XW},install:FW,effects:xS,ticker:yo,updateRoot:zs.updateRoot,plugins:go,globalTimeline:vr,core:{PropTween:qs,globals:OW,Tween:qr,Timeline:zs,Animation:qA,getCache:rd,_removeLinkedListItem:h4,reverting:function(){return rs},context:function(e){return e&&Rr&&(Rr.data.push(e),e._ctx=Rr),Rr},suppressOverwrites:function(e){return L7=e}}};Js("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Bx[t]=qr[t]});yo.add(zs.updateRoot);a0=Bx.to({},{duration:0});var z4e=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},H4e=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=z4e(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},TS=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(Ri(s)&&(l={},Js(s,function(c){return l[c]=1}),s=l),n){l={};for(u in s)l[u]=n(s[u]);s=l}H4e(a,s)}}}},to=Bx.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)rs?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},TS("roundProps",dT),TS("modifiers"),TS("snap",KW))||Bx;qr.version=zs.version=to.version="3.12.2";LW=1;O7()&&sm();hn.Power0;hn.Power1;hn.Power2;hn.Power3;hn.Power4;hn.Linear;hn.Quad;hn.Cubic;hn.Quart;hn.Quint;hn.Strong;hn.Elastic;hn.Back;hn.SteppedEase;hn.Bounce;hn.Sine;hn.Expo;hn.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var iO,ef,M0,X7,Kh,sO,Y7,Q4e=function(){return typeof window<"u"},oc={},Dh=180/Math.PI,_0=Math.PI/180,Pp=Math.atan2,oO=1e8,K7=/([A-Z])/g,V4e=/(left|right|width|margin|padding|x)/i,W4e=/[\s,\(]\S/,zl={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},gT=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},j4e=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},X4e=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Y4e=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},gj=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},Aj=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},K4e=function(e,n,r){return e.style[n]=r},J4e=function(e,n,r){return e.style.setProperty(n,r)},q4e=function(e,n,r){return e._gsap[n]=r},Z4e=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},$4e=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},eEe=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},xr="transform",nl=xr+"Origin",tEe=function t(e,n){var r=this,i=this.target,s=i.style;if(e in oc&&s){if(this.tfm=this.tfm||{},e!=="transform")e=zl[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=ku(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:ku(i,e);else return zl.transform.split(",").forEach(function(o){return t.call(r,o,n)});if(this.props.indexOf(xr)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(nl,n,"")),e=xr}(s||n)&&this.props.push(e,n,s[e])},vj=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},nEe=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(K7,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=Y7(),(!s||!s.isStart)&&!r[xr]&&(vj(r),i.uncache=1)}},yj=function(e,n){var r={target:e,props:[],revert:nEe,save:tEe};return e._gsap||to.core.getCache(e),n&&n.split(",").forEach(function(i){return r.save(i)}),r},xj,AT=function(e,n){var r=ef.createElementNS?ef.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ef.createElement(e);return r.style?r:ef.createElement(e)},Zl=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(K7,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,om(n)||n,1)||""},aO="O,Moz,ms,Ms,Webkit".split(","),om=function(e,n,r){var i=n||Kh,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(aO[o]+e in s););return o<0?null:(o===3?"ms":o>=0?aO[o]:"")+e},vT=function(){Q4e()&&window.document&&(iO=window,ef=iO.document,M0=ef.documentElement,Kh=AT("div")||{style:{}},AT("div"),xr=om(xr),nl=xr+"Origin",Kh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",xj=!!om("perspective"),Y7=to.core.reverting,X7=1)},MS=function t(e){var n=AT("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(M0.appendChild(n),n.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),M0.removeChild(n),this.style.cssText=s,o},lO=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},Ej=function(e){var n;try{n=e.getBBox()}catch{n=MS.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===MS||(n=MS.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+lO(e,["x","cx","x1"])||0,y:+lO(e,["y","cy","y1"])||0,width:0,height:0}:n},Sj=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Ej(e))},ZA=function(e,n){if(n){var r=e.style;n in oc&&n!==nl&&(n=xr),r.removeProperty?((n.substr(0,2)==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(n.replace(K7,"-$1").toLowerCase())):r.removeAttribute(n)}},tf=function(e,n,r,i,s,o){var a=new qs(e._pt,n,r,0,1,o?Aj:gj);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},uO={deg:1,rad:1,turn:1},rEe={grid:1,flex:1},Rf=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Kh.style,l=V4e.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,h=i==="px",d=i==="%",g,v,y,A;return i===o||!s||uO[i]||uO[o]?s:(o!=="px"&&!h&&(s=t(e,n,r,"px")),A=e.getCTM&&Sj(e),(d||o==="%")&&(oc[n]||~n.indexOf("adius"))?(g=A?e.getBBox()[l?"width":"height"]:e[c],Hr(d?s/g*f:s/100*g)):(a[l?"width":"height"]=f+(h?o:i),v=~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,A&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===ef||!v.appendChild)&&(v=ef.body),y=v._gsap,y&&d&&y.width&&l&&y.time===yo.time&&!y.uncache?Hr(s/y.width*f):((d||o==="%")&&!rEe[Zl(v,"display")]&&(a.position=Zl(e,"position")),v===e&&(a.position="static"),v.appendChild(Kh),g=Kh[c],v.removeChild(Kh),a.position="absolute",l&&d&&(y=rd(v),y.time=yo.time,y.width=v[c]),Hr(h?g*s/f:g&&s?f/g*s:0))))},ku=function(e,n,r,i){var s;return X7||vT(),n in zl&&n!=="transform"&&(n=zl[n],~n.indexOf(",")&&(n=n.split(",")[0])),oc[n]&&n!=="transform"?(s=e3(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Dx(Zl(e,nl))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=Rx[n]&&Rx[n](e,n,r)||Zl(e,n)||kW(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Rf(e,n,s,r)+r:s},iEe=function(e,n,r,i){if(!r||r==="none"){var s=om(n,e,1),o=s&&Zl(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=Zl(e,"borderTopColor"))}var a=new qs(this._pt,e.style,n,0,1,dj),l=0,u=0,c,f,h,d,g,v,y,A,x,E,S,w;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[n]=i,i=Zl(e,n)||i,e.style[n]=r),c=[r,i],rj(c),r=c[0],i=c[1],h=r.match(o0)||[],w=i.match(o0)||[],w.length){for(;f=o0.exec(i);)y=f[0],x=i.substring(l,f.index),g?g=(g+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(g=1),y!==(v=h[u++]||"")&&(d=parseFloat(v)||0,S=v.substr((d+"").length),y.charAt(1)==="="&&(y=T0(d,y)+S),A=parseFloat(y),E=y.substr((A+"").length),l=o0.lastIndex-E.length,E||(E=E||bo.units[n]||S,l===i.length&&(i+=E,a.e+=E)),S!==E&&(d=Rf(e,n,v,E)||0),a._pt={_next:a._pt,p:x||u===1?x:",",s:d,c:A-d,m:g&&g<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?Aj:gj;return DW.test(i)&&(a.e=0),this._pt=a,a},cO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},sEe=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=cO[r]||r,n[1]=cO[i]||i,n.join(" ")},oEe=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],oc[a]&&(l=1,a=a==="transformOrigin"?nl:xr),ZA(r,a);l&&(ZA(r,xr),o&&(o.svg&&r.removeAttribute("transform"),e3(r,1),o.uncache=1,vj(i)))}},Rx={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new qs(e._pt,n,r,0,0,oEe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},$A=[1,0,0,1,0,0],Cj={},wj=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},fO=function(e){var n=Zl(e,xr);return wj(n)?$A:n.substr(7).match(RW).map(Hr)},J7=function(e,n){var r=e._gsap||rd(e),i=e.style,s=fO(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?$A:s):(s===$A&&!e.offsetParent&&e!==M0&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(u=1,a=e.nextElementSibling,M0.appendChild(e)),s=fO(e),l?i.display=l:ZA(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):M0.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},yT=function(e,n,r,i,s,o){var a=e._gsap,l=s||J7(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,d=l[0],g=l[1],v=l[2],y=l[3],A=l[4],x=l[5],E=n.split(" "),S=parseFloat(E[0])||0,w=parseFloat(E[1])||0,M,_,b,I;r?l!==$A&&(_=d*y-g*v)&&(b=S*(y/_)+w*(-v/_)+(v*x-y*A)/_,I=S*(-g/_)+w*(d/_)-(d*x-g*A)/_,S=b,w=I):(M=Ej(e),S=M.x+(~E[0].indexOf("%")?S/100*M.width:S),w=M.y+(~(E[1]||E[0]).indexOf("%")?w/100*M.height:w)),i||i!==!1&&a.smooth?(A=S-u,x=w-c,a.xOffset=f+(A*d+x*v)-A,a.yOffset=h+(A*g+x*y)-x):a.xOffset=a.yOffset=0,a.xOrigin=S,a.yOrigin=w,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[nl]="0px 0px",o&&(tf(o,a,"xOrigin",u,S),tf(o,a,"yOrigin",c,w),tf(o,a,"xOffset",f,a.xOffset),tf(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",S+" "+w)},e3=function(e,n){var r=e._gsap||new aj(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=Zl(e,nl)||"0",c,f,h,d,g,v,y,A,x,E,S,w,M,_,b,I,B,L,F,O,G,V,Y,J,z,W,j,Q,H,ee,Z,ne;return c=f=h=v=y=A=x=E=S=0,d=g=1,r.svg=!!(e.getCTM&&Sj(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[xr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[xr]!=="none"?l[xr]:"")),i.scale=i.rotate=i.translate="none"),_=J7(e,r.svg),r.svg&&(r.uncache?(z=e.getBBox(),u=r.xOrigin-z.x+"px "+(r.yOrigin-z.y)+"px",J=""):J=!n&&e.getAttribute("data-svg-origin"),yT(e,J||u,!!J||r.originIsAbsolute,r.smooth!==!1,_)),w=r.xOrigin||0,M=r.yOrigin||0,_!==$A&&(L=_[0],F=_[1],O=_[2],G=_[3],c=V=_[4],f=Y=_[5],_.length===6?(d=Math.sqrt(L*L+F*F),g=Math.sqrt(G*G+O*O),v=L||F?Pp(F,L)*Dh:0,x=O||G?Pp(O,G)*Dh+v:0,x&&(g*=Math.abs(Math.cos(x*_0))),r.svg&&(c-=w-(w*L+M*O),f-=M-(w*F+M*G))):(ne=_[6],ee=_[7],j=_[8],Q=_[9],H=_[10],Z=_[11],c=_[12],f=_[13],h=_[14],b=Pp(ne,H),y=b*Dh,b&&(I=Math.cos(-b),B=Math.sin(-b),J=V*I+j*B,z=Y*I+Q*B,W=ne*I+H*B,j=V*-B+j*I,Q=Y*-B+Q*I,H=ne*-B+H*I,Z=ee*-B+Z*I,V=J,Y=z,ne=W),b=Pp(-O,H),A=b*Dh,b&&(I=Math.cos(-b),B=Math.sin(-b),J=L*I-j*B,z=F*I-Q*B,W=O*I-H*B,Z=G*B+Z*I,L=J,F=z,O=W),b=Pp(F,L),v=b*Dh,b&&(I=Math.cos(b),B=Math.sin(b),J=L*I+F*B,z=V*I+Y*B,F=F*I-L*B,Y=Y*I-V*B,L=J,V=z),y&&Math.abs(y)+Math.abs(v)>359.9&&(y=v=0,A=180-A),d=Hr(Math.sqrt(L*L+F*F+O*O)),g=Hr(Math.sqrt(Y*Y+ne*ne)),b=Pp(V,Y),x=Math.abs(b)>2e-4?b*Dh:0,S=Z?1/(Z<0?-Z:Z):0),r.svg&&(J=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!wj(Zl(e,xr)),J&&e.setAttribute("transform",J))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(d*=-1,x+=v<=0?180:-180,v+=v<=0?180:-180):(g*=-1,x+=x<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=Hr(d),r.scaleY=Hr(g),r.rotation=Hr(v)+a,r.rotationX=Hr(y)+a,r.rotationY=Hr(A)+a,r.skewX=x+a,r.skewY=E+a,r.transformPerspective=S+o,(r.zOrigin=parseFloat(u.split(" ")[2])||0)&&(i[nl]=Dx(u)),r.xOffset=r.yOffset=0,r.force3D=bo.force3D,r.renderTransform=r.svg?lEe:xj?Tj:aEe,r.uncache=0,r},Dx=function(e){return(e=e.split(" "))[0]+" "+e[1]},_S=function(e,n,r){var i=ts(n);return Hr(parseFloat(n)+parseFloat(Rf(e,"x",r+"px",i)))+i},aEe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Tj(e,n)},Eh="0deg",Jg="0px",Sh=") ",Tj=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,f=r.rotationX,h=r.skewX,d=r.skewY,g=r.scaleX,v=r.scaleY,y=r.transformPerspective,A=r.force3D,x=r.target,E=r.zOrigin,S="",w=A==="auto"&&e&&e!==1||A===!0;if(E&&(f!==Eh||c!==Eh)){var M=parseFloat(c)*_0,_=Math.sin(M),b=Math.cos(M),I;M=parseFloat(f)*_0,I=Math.cos(M),o=_S(x,o,_*I*-E),a=_S(x,a,-Math.sin(M)*-E),l=_S(x,l,b*I*-E+E)}y!==Jg&&(S+="perspective("+y+Sh),(i||s)&&(S+="translate("+i+"%, "+s+"%) "),(w||o!==Jg||a!==Jg||l!==Jg)&&(S+=l!==Jg||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Sh),u!==Eh&&(S+="rotate("+u+Sh),c!==Eh&&(S+="rotateY("+c+Sh),f!==Eh&&(S+="rotateX("+f+Sh),(h!==Eh||d!==Eh)&&(S+="skew("+h+", "+d+Sh),(g!==1||v!==1)&&(S+="scale("+g+", "+v+Sh),x.style[xr]=S||"translate(0, 0)"},lEe=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,f=r.scaleX,h=r.scaleY,d=r.target,g=r.xOrigin,v=r.yOrigin,y=r.xOffset,A=r.yOffset,x=r.forceCSS,E=parseFloat(o),S=parseFloat(a),w,M,_,b,I;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=_0,u*=_0,w=Math.cos(l)*f,M=Math.sin(l)*f,_=Math.sin(l-u)*-h,b=Math.cos(l-u)*h,u&&(c*=_0,I=Math.tan(u-c),I=Math.sqrt(1+I*I),_*=I,b*=I,c&&(I=Math.tan(c),I=Math.sqrt(1+I*I),w*=I,M*=I)),w=Hr(w),M=Hr(M),_=Hr(_),b=Hr(b)):(w=f,b=h,M=_=0),(E&&!~(o+"").indexOf("px")||S&&!~(a+"").indexOf("px"))&&(E=Rf(d,"x",o,"px"),S=Rf(d,"y",a,"px")),(g||v||y||A)&&(E=Hr(E+g-(g*w+v*_)+y),S=Hr(S+v-(g*M+v*b)+A)),(i||s)&&(I=d.getBBox(),E=Hr(E+i/100*I.width),S=Hr(S+s/100*I.height)),I="matrix("+w+","+M+","+_+","+b+","+E+","+S+")",d.setAttribute("transform",I),x&&(d.style[xr]=I)},uEe=function(e,n,r,i,s){var o=360,a=Ri(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Dh:1),u=l-i,c=i+u+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*oO)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*oO)%o-~~(u/o)*o)),e._pt=h=new qs(e._pt,n,r,i,u,j4e),h.e=c,h.u="deg",e._props.push(r),h},hO=function(e,n){for(var r in n)e[r]=n[r];return e},cEe=function(e,n,r){var i=hO({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,f,h,d,g;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[xr]=n,a=e3(r,1),ZA(r,xr),r.setAttribute("transform",u)):(u=getComputedStyle(r)[xr],o[xr]=n,a=e3(r,1),o[xr]=u);for(l in oc)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(d=ts(u),g=ts(c),f=d!==g?Rf(r,l,u,g):parseFloat(u),h=parseFloat(c),e._pt=new qs(e._pt,a,l,f,h-f,gT),e._pt.u=g||0,e._props.push(l));hO(a,i)};Js("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});Rx[e>1?"border"+t:t]=function(a,l,u,c,f){var h,d;if(arguments.length<4)return h=o.map(function(g){return ku(a,g,u)}),d=h.join(" "),d.split(h[0]).length===5?h[0]:d;h=(c+"").split(" "),d={},o.forEach(function(g,v){return d[g]=h[v]=h[v]||h[(v-1)/2|0]}),a.init(l,d,f)}});var Mj={name:"css",register:vT,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,f,h,d,g,v,y,A,x,E,S,w,M,_,b;X7||vT(),this.styles=this.styles||yj(e),b=this.styles.props,this.tween=r;for(v in n)if(v!=="autoRound"&&(c=n[v],!(go[v]&&lj(v,n,r,i,e,s)))){if(d=typeof c,g=Rx[v],d==="function"&&(c=c.call(r,i,e,s),d=typeof c),d==="string"&&~c.indexOf("random(")&&(c=KA(c)),g)g(this,e,v,c,r)&&(_=1);else if(v.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(v)+"").trim(),c+="",gf.lastIndex=0,gf.test(u)||(y=ts(u),A=ts(c)),A?y!==A&&(u=Rf(e,v,u,A)+A):y&&(c+=y),this.add(a,"setProperty",u,c,i,s,0,0,v),o.push(v),b.push(v,0,a[v]);else if(d!=="undefined"){if(l&&v in l?(u=typeof l[v]=="function"?l[v].call(r,i,e,s):l[v],Ri(u)&&~u.indexOf("random(")&&(u=KA(u)),ts(u+"")||(u+=bo.units[v]||ts(ku(e,v))||""),(u+"").charAt(1)==="="&&(u=ku(e,v))):u=ku(e,v),h=parseFloat(u),x=d==="string"&&c.charAt(1)==="="&&c.substr(0,2),x&&(c=c.substr(2)),f=parseFloat(c),v in zl&&(v==="autoAlpha"&&(h===1&&ku(e,"visibility")==="hidden"&&f&&(h=0),b.push("visibility",0,a.visibility),tf(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),v!=="scale"&&v!=="transform"&&(v=zl[v],~v.indexOf(",")&&(v=v.split(",")[0]))),E=v in oc,E){if(this.styles.save(v),S||(w=e._gsap,w.renderTransform&&!n.parseTransform||e3(e,n.parseTransform),M=n.smoothOrigin!==!1&&w.smooth,S=this._pt=new qs(this._pt,a,xr,0,1,w.renderTransform,w,0,-1),S.dep=1),v==="scale")this._pt=new qs(this._pt,w,"scaleY",w.scaleY,(x?T0(w.scaleY,x+f):f)-w.scaleY||0,gT),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){b.push(nl,0,a[nl]),c=sEe(c),w.svg?yT(e,c,0,M,0,this):(A=parseFloat(c.split(" ")[2])||0,A!==w.zOrigin&&tf(this,w,"zOrigin",w.zOrigin,A),tf(this,a,v,Dx(u),Dx(c)));continue}else if(v==="svgOrigin"){yT(e,c,1,M,0,this);continue}else if(v in Cj){uEe(this,w,v,h,x?T0(h,x+c):c);continue}else if(v==="smoothOrigin"){tf(this,w,"smooth",w.smooth,c);continue}else if(v==="force3D"){w[v]=c;continue}else if(v==="transform"){cEe(this,c,e);continue}}else v in a||(v=om(v)||v);if(E||(f||f===0)&&(h||h===0)&&!W4e.test(c)&&v in a)y=(u+"").substr((h+"").length),f||(f=0),A=ts(c)||(v in bo.units?bo.units[v]:y),y!==A&&(h=Rf(e,v,u,A)),this._pt=new qs(this._pt,E?w:a,v,h,(x?T0(h,x+f):f)-h,!E&&(A==="px"||v==="zIndex")&&n.autoRound!==!1?Y4e:gT),this._pt.u=A||0,y!==A&&A!=="%"&&(this._pt.b=u,this._pt.r=X4e);else if(v in a)iEe.call(this,e,v,u,x?x+c:c);else if(v in e)this.add(e,v,u||e[v],x?x+c:c,i,s);else if(v!=="parseTransform"){k7(v,c);continue}E||(v in a?b.push(v,0,a[v]):b.push(v,1,u||e[v])),o.push(v)}}_&&pj(this)},render:function(e,n){if(n.tween._time||!Y7())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:ku,aliases:zl,getSetter:function(e,n,r){var i=zl[n];return i&&i.indexOf(",")<0&&(n=i),n in oc&&n!==nl&&(e._gsap.x||ku(e,"x"))?r&&sO===r?n==="scale"?Z4e:q4e:(sO=r||{})&&(n==="scale"?$4e:eEe):e.style&&!F7(e.style[n])?K4e:~n.indexOf("-")?J4e:W7(e,n)},core:{_removeProperty:ZA,_getMatrix:J7}};to.utils.checkPrefix=om;to.core.getStyleSaver=yj;(function(t,e,n,r){var i=Js(t+","+e+","+n,function(s){oc[s]=1});Js(e,function(s){bo.units[s]="deg",Cj[s]=1}),zl[i[13]]=t+","+e,Js(r,function(s){var o=s.split(":");zl[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Js("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){bo.units[t]="px"});to.registerPlugin(Mj);var ha=to.registerPlugin(Mj)||to;ha.core.Tween;function fEe(){const t=D.useRef(),e=D.useRef(),n=D.useRef(),[r]=D.useState(()=>new J6e.FlashGen({count:15,minDuration:30,maxDuration:150})),i=ni(u=>u.isZh),s=qn(({camera:u})=>u),o=D.useRef(),a=O3();D.useLayoutEffect(()=>(s.position.set(0,0,10),s.quaternion.set(0,0,0,1),s.lookAt(0,0,0),s.updateProjectionMatrix(),ha.to(s.position,{duration:1.2,z:5,ease:"power2.inOut"}),o.current=ha.timeline(),o.current.to(t.current.position,{duration:2,z:12}),o.current.seek(0),o.current.pause(),()=>{o.current.clear()})),or(()=>{a.visible(0,.16666666666666666)||bf(eu.NEXT);const c=a.range(0,1/6);o.current.seek(c*o.current.duration())}),or((u,c)=>{e.current.material.time+=c,e.current.quaternion.copy(u.camera.quaternion);const f=r.update(u.clock.elapsedTime,c*1.2);n.current.intensity=f*15e3*3});const l=.4;return wt("group",{ref:t,children:[ce(pve,{position:[0,4,-6],seed:2,fade:1,speed:.3,texture:Gt.ROOT_URL+"/cloud.png",growth:20,segments:15,volume:1,depthTest:!1,opacity:.6,bounds:[2,2,1]}),ce("pointLight",{position:[0,0,.5],ref:n,color:"blue"}),wt("group",{position:[0,-.6,2],children:[ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",fontSize:l,position:[-l*1.6,0,0],children:"Hi"}),wt("mesh",{ref:e,rotation:[0,0,0],position:[-.2,0,0],children:[ce("planeGeometry",{args:[l*1.2,l*1.2]}),ce("heartMaterial",{})]}),ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",fontSize:l,position:[l*1.2,0,0],children:"Friend"}),i?wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",fontSize:l,position:[-l*1.2,-l*1.6,0],children:"我是"}),ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",fontSize:l*1.2,color:"#8080e6",position:[l*.8,-l*1.6,0],children:"盆栽"})]}):wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",fontSize:l,position:[-l*1.2,-l*1.6,0],children:"I am "}),ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",fontSize:l*1.2,color:"#8080e6",position:[l*.8,-l*1.6,0],children:"Julito"})]})]})]})}const hEe=T7({time:0,resolution:new ie,pointer:new ie},`
      varying vec2 vUv;
      void main() {
        vec4 modelPosition = modelMatrix * vec4(position, 1.0);
        vec4 viewPosition = viewMatrix * modelPosition;
        vec4 projectionPosition = projectionMatrix * viewPosition;
        gl_Position = projectionPosition;
        vUv = uv;
      }`,`
      uniform float time;
      uniform vec2 resolution;
      uniform vec2 pointer;
      varying vec2 vUv;      

      vec3 palette(float t) {
        vec3 a = vec3(0.5, 0.5, 0.5);
        vec3 b = vec3(0.5, 0.5, 0.5);
        vec3 c = vec3(1.0, 1.0, 1.0);
        vec3 d = vec3(0.263, 0.416, 0.557);
        
            a = vec3(0.8,0.5,0.4);
         b = vec3(0.2,0.4,0.2);
         c = vec3(2.0,1.0,1.0);
         d = vec3(0.0,0.25,0.25) ;
        return a + b * cos(6.28318 * (c * t + d));
      }

      void main() {
        vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / resolution.y;      
        vec2 p = vUv * 2.0 - 1.0;
// background color
vec3 bcol = vec3(1.0,0.8,0.7-0.07*p.y)*(1.0-0.25*length(p));

// animate
float tt = mod(time,1.5)/1.5;
float ss = pow(tt,.2)*0.5 + 0.5;
ss = 1.0 + ss*0.5*sin(tt*6.2831*3.0 + p.y*0.5)*exp(-tt*4.0);
p *= vec2(0.5,1.5) + ss*vec2(0.5,-0.5);

// shape
vec2 p2 = p;
p.y -= 0.25;
float a = atan(p.x,p.y)/3.141593;
float r = length(p);
float h = abs(a);
float d = (13.0*h - 22.0*h*h + 10.0*h*h*h)/(6.0-5.0*h);




// d = mix(d, .5, abs(sin(time * 2. + .5) ));
// d = .5;

// color
float s = 0.75 + 0.75*p.x;
s *= 1.0-0.4*r;
s = 0.3 + 0.7*s;
s *= 0.5+0.5*pow( 1.0-clamp(r/d, 0.0, 1.0 ), 0.1 );
vec3 hcol = vec3(3.0,0.4*r,0.3)*s;

         // hcol = palette(length(p) + time * 0.4);


vec3 finalColor = mix( bcol, hcol, smoothstep( -0.01, 0.01, d-r) );
float alpha = d < r? 0.0 : 1.0;
        gl_FragColor = vec4(finalColor, alpha);   
      }`,t=>{t.transparent=!0,t.side=$r,t.depthWrite=!1,t.toneMapped=!1});F3({HeartMaterial:hEe});function dEe(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}const _j=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.Children.toArray(n).some(dO)?D.createElement(D.Fragment,null,D.Children.map(n,i=>dO(i)?D.createElement(xT,ar({},r,{ref:e}),i.props.children):i)):D.createElement(xT,ar({},r,{ref:e}),n)});_j.displayName="Slot";const xT=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.isValidElement(n)?D.cloneElement(n,{...mEe(r,n.props),ref:dEe(e,n.ref)}):D.Children.count(n)>1?D.Children.only(null):null});xT.displayName="SlotClone";const pEe=({children:t})=>D.createElement(D.Fragment,null,t);function dO(t){return D.isValidElement(t)&&t.type===pEe}function mEe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const gEe=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:D.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?_j:e;return D.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),D.createElement(o,ar({},s,{ref:r}))})}),{}),AEe=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},vEe=D.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=D.useState({});return AEe(()=>{l({})},[]),a?dG.createPortal(D.createElement(gEe.div,ar({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),yEe=vEe;var pO=Object.prototype.hasOwnProperty;function Px(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Px(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(pO.call(t,n)&&++r&&!pO.call(e,n)||!(n in e)||!Px(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function Ij(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var m4=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};m4.prototype._test=function(e){var n=this.fn;try{I0(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return I0(this.modifiers.slice(),n,this)(e)}catch{return!1}};m4.prototype._check=function(e){try{I0(this.modifiers.slice(),this.fn,this)(e)}catch{if(I0(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!I0(this.modifiers.slice(),this.fn,this)(e))throw null};m4.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){Bj(n.modifiers.slice(),n.fn,n)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function bj(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function I0(t,e,n){if(t.length){var r=t.shift(),i=I0(t,e,n);return r.perform(i,n)}else return bj(e)}function Bj(t,e,n){if(t.length){var r=t.shift(),i=Bj(t,e,n);return r.performAsync(i,n)}else return function(s){return Promise.resolve(bj(e,"async")(s))}}var xEe=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},q7=function(t){function e(n,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];t.call(this,o),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),nu=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};nu.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new m4(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};nu.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new xEe(n,e.simple,e.async)),this};nu.prototype._clone=function(){return new nu(this.chain.slice(),this.nextRuleModifiers.slice())};nu.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};nu.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new q7(r,e,i))}}),n};nu.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new q7(n,e,r)}})};nu.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){Rj(e,n.chain.slice(),r,i)})};function Rj(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){Rj(t,e,n,r)},function(s){r(new q7(i,t,s))})}else n(t)}var mO=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function EEe(t,e){return e===void 0&&(e=!1),{simple:function(n){return mO(n,e)||t.check(n)===void 0},async:function(n){return mO(n,e)||t.testAsync(n)}}}function Qs(){return typeof Proxy<"u"?Dj(new nu):ET(new nu)}var t3={};Qs.extend=function(t){Object.assign(t3,t)};Qs.clearCustomRules=function(){t3={}};function Dj(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=Dj(t._clone());if(r in Lx)return i._applyModifier(Lx[r],r);if(r in t3)return i._applyRule(t3[r],r);if(r in ST)return i._applyRule(ST[r],r)}})}function ET(t){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var u=ET(s._clone()),c=u._applyRule(i[o],o).apply(void 0,a);return c}}),s},n=e(ST,t),r=e(t3,n);return Object.keys(Lx).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=ET(r._clone());return s._applyModifier(Lx[i],i)}})}),r}var Lx={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return Fy(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(Fy(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&Fy(e).every(t)}},async:function(t){return function(e){return Promise.all(Fy(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return gO(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return gO(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function gO(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function Fy(t){return typeof t=="string"?t.split(""):t}var ST={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||SEe;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Lp("string")},boolean:function(){return Lp("boolean")},undefined:function(){return Lp("undefined")},null:function(){return Lp("null")},array:function(){return Lp("array")},object:function(){return Lp("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return CEe(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:EEe};function Lp(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function SEe(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function CEe(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(s){s.target=r,n.push(s)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var s=t[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,n.push(o)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var On="colors",vs="sizes",dt="space",wEe={gap:dt,gridGap:dt,columnGap:dt,gridColumnGap:dt,rowGap:dt,gridRowGap:dt,inset:dt,insetBlock:dt,insetBlockEnd:dt,insetBlockStart:dt,insetInline:dt,insetInlineEnd:dt,insetInlineStart:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,marginBlock:dt,marginBlockEnd:dt,marginBlockStart:dt,marginInline:dt,marginInlineEnd:dt,marginInlineStart:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,paddingBlock:dt,paddingBlockEnd:dt,paddingBlockStart:dt,paddingInline:dt,paddingInlineEnd:dt,paddingInlineStart:dt,top:dt,right:dt,bottom:dt,left:dt,scrollMargin:dt,scrollMarginTop:dt,scrollMarginRight:dt,scrollMarginBottom:dt,scrollMarginLeft:dt,scrollMarginX:dt,scrollMarginY:dt,scrollMarginBlock:dt,scrollMarginBlockEnd:dt,scrollMarginBlockStart:dt,scrollMarginInline:dt,scrollMarginInlineEnd:dt,scrollMarginInlineStart:dt,scrollPadding:dt,scrollPaddingTop:dt,scrollPaddingRight:dt,scrollPaddingBottom:dt,scrollPaddingLeft:dt,scrollPaddingX:dt,scrollPaddingY:dt,scrollPaddingBlock:dt,scrollPaddingBlockEnd:dt,scrollPaddingBlockStart:dt,scrollPaddingInline:dt,scrollPaddingInlineEnd:dt,scrollPaddingInlineStart:dt,fontSize:"fontSizes",background:On,backgroundColor:On,backgroundImage:On,borderImage:On,border:On,borderBlock:On,borderBlockEnd:On,borderBlockStart:On,borderBottom:On,borderBottomColor:On,borderColor:On,borderInline:On,borderInlineEnd:On,borderInlineStart:On,borderLeft:On,borderLeftColor:On,borderRight:On,borderRightColor:On,borderTop:On,borderTopColor:On,caretColor:On,color:On,columnRuleColor:On,fill:On,outline:On,outlineColor:On,stroke:On,textDecorationColor:On,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:vs,minBlockSize:vs,maxBlockSize:vs,inlineSize:vs,minInlineSize:vs,maxInlineSize:vs,width:vs,minWidth:vs,maxWidth:vs,height:vs,minHeight:vs,maxHeight:vs,flexBasis:vs,gridTemplateColumns:vs,gridTemplateRows:vs,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},TEe=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Dm=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(s=>JSON.stringify(s,TEe))(e);return i in t?t[i]:t[i]=n(e,...r)}},ad=Symbol.for("sxs.internal"),Z7=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),AO=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:MEe}=Object.prototype,CT=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),_Ee=/\s+(?![^()]*\))/,Fp=t=>e=>t(...typeof e=="string"?String(e).split(_Ee):[e]),vO={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Fp((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Fp((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Fp((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Fp((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Fp((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Fp((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},IS=/([\d.]+)([^]*)/,IEe=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,bEe=(t,e)=>t in BEe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${CT(t)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${CT(t)}:${r}fit-content`)+s):String(e),BEe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},ac=t=>t?t+"-":"",Pj=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?ac(e)+(a.includes("$")?"":ac(n))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),REe=/\s*,\s*(?![^()]*\))/,DEe=Object.prototype.toString,l0=(t,e,n,r,i)=>{let s,o,a;const l=(u,c,f)=>{let h,d;const g=v=>{for(h in v){const x=h.charCodeAt(0)===64,E=x&&Array.isArray(v[h])?v[h]:[v[h]];for(d of E){const S=/[A-Z]/.test(A=h)?A:A.replace(/-[^]/g,M=>M[1].toUpperCase()),w=typeof d=="object"&&d&&d.toString===DEe&&(!r.utils[S]||!c.length);if(S in r.utils&&!w){const M=r.utils[S];if(M!==o){o=M,g(M(d)),o=null;continue}}else if(S in vO){const M=vO[S];if(M!==a){a=M,g(M(d)),a=null;continue}}if(x&&(y=h.slice(1)in r.media?"@media "+r.media[h.slice(1)]:h,h=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(M,_,b,I,B,L)=>{const F=IS.test(_),O=.0625*(F?-1:1),[G,V]=F?[I,_]:[_,I];return"("+(b[0]==="="?"":b[0]===">"===F?"max-":"min-")+G+":"+(b[0]!=="="&&b.length===1?V.replace(IS,(Y,J,z)=>Number(J)+O*(b===">"?1:-1)+z):V)+(B?") and ("+(B[0]===">"?"min-":"max-")+G+":"+(B.length===1?L.replace(IS,(Y,J,z)=>Number(J)+O*(B===">"?-1:1)+z):L):"")+")"})),w){const M=x?f.concat(h):[...f],_=x?[...c]:IEe(c,h.split(REe));s!==void 0&&i(yO(...s)),s=void 0,l(d,_,M)}else s===void 0&&(s=[[],c,f]),h=x||h.charCodeAt(0)!==36?h:`--${ac(r.prefix)}${h.slice(1).replace(/\$/g,"-")}`,d=w?d:typeof d=="number"?d&&S in PEe?String(d)+"px":String(d):Pj(bEe(S,d??""),r.prefix,r.themeMap[S]),s[0].push(`${x?`${h} `:`${CT(h)}:`}${d}`)}}var y,A};g(u),s!==void 0&&i(yO(...s)),s=void 0};l(t,e,n)},yO=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,PEe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},xO=t=>String.fromCharCode(t+(t>25?39:97)),ld=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=xO(n%52)+r;return xO(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),v1=["themed","global","styled","onevar","resonevar","allvar","inline"],LEe=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},FEe=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(LEe(a)){for(let l=0,u=a.cssRules;u[l];++l){const c=Object(u[l]);if(c.type!==1)continue;const f=Object(u[l+1]);if(f.type!==4)continue;++l;const{cssText:h}=c;if(!h.startsWith("--sxs"))continue;const d=h.slice(14,-3).trim().split(/\s+/),g=v1[d[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[g]={group:f,index:l,cache:new Set(d)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(c,f){this.cssRules.splice(f,0,a(c,{import:3,undefined:1}[(c.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,c=>c.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:s,rules:o}=e;for(let a=v1.length-1;a>=0;--a){const l=v1[a];if(!o[l]){const u=v1[a+1],c=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",c),s.insertRule(`--sxs{--sxs:${a}}`,c),o[l]={group:s.cssRules[c+1],index:c,cache:new Set([a])}}OEe(o[l])}};return r(),e},OEe=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},qg=Symbol(),UEe=Dm(),EO=(t,e)=>UEe(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[ad]){r.type==null&&(r.type=i[ad].type);for(const s of i[ad].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(kEe(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),NEe(t,r,e)}),kEe=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const s=`${ac(i.prefix)}c-${ld(r)}`,o=[],a=[],l=Object.create(null),u=[];for(const h in n)l[h]=String(n[h]);if(typeof t=="object"&&t)for(const h in t){c=l,f=h,MEe.call(c,f)||(l[h]="undefined");const d=t[h];for(const g in d){const v={[h]:String(g)};String(g)==="undefined"&&u.push(h);const y=d[g],A=[v,y,!AO(y)];o.push(A)}}var c,f;if(typeof e=="object"&&e)for(const h of e){let{css:d,...g}=h;d=typeof d=="object"&&d||{};for(const y in g)g[y]=String(g[y]);const v=[g,d,!AO(d)];a.push(v)}return[s,r,o,a,l,u]},NEe=(t,e,n)=>{const[r,i,s,o]=GEe(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function h(){for(let d=0;d<h[qg].length;d++){const[g,v]=h[qg][d];f.rules[g].apply(v)}return h[qg]=[],null}return h[qg]=[],h.rules={},v1.forEach(d=>h.rules[d]={apply:g=>h[qg].push([d,g])}),h})(n):null,l=(a||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=f=>{f=typeof f=="object"&&f||zEe;const{css:h,...d}=f,g={};for(const A in s)if(delete d[A],A in f){let x=f[A];typeof x=="object"&&x?g[A]={"@initial":s[A],...x}:(x=String(x),g[A]=x!=="undefined"||o.has(A)?x:s[A])}else g[A]=s[A];const v=new Set([...i]);for(const[A,x,E,S]of e.composers){n.rules.styled.cache.has(A)||(n.rules.styled.cache.add(A),l0(x,[`.${A}`],[],t,_=>{l.styled.apply(_)}));const w=SO(E,g,t.media),M=SO(S,g,t.media,!0);for(const _ of w)if(_!==void 0)for(const[b,I,B]of _){const L=`${A}-${ld(I)}-${b}`;v.add(L);const F=(B?n.rules.resonevar:n.rules.onevar).cache,O=B?l.resonevar:l.onevar;F.has(L)||(F.add(L),l0(I,[`.${L}`],[],t,G=>{O.apply(G)}))}for(const _ of M)if(_!==void 0)for(const[b,I]of _){const B=`${A}-${ld(I)}-${b}`;v.add(B),n.rules.allvar.cache.has(B)||(n.rules.allvar.cache.add(B),l0(I,[`.${B}`],[],t,L=>{l.allvar.apply(L)}))}}if(typeof h=="object"&&h){const A=`${r}-i${ld(h)}-css`;v.add(A),n.rules.inline.cache.has(A)||(n.rules.inline.cache.add(A),l0(h,[`.${A}`],[],t,x=>{l.inline.apply(x)}))}for(const A of String(f.className||"").trim().split(/\s+/))A&&v.add(A);const y=d.className=[...v].join(" ");return{type:e.type,className:y,selector:u,props:d,toString:()=>y,deferredInjector:a}};return Z7(c,{className:r,selector:u,[ad]:e,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},GEe=t=>{let e="";const n=[],r={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),n.push(s),i.push(...a);for(const l in o){const u=o[l];(r[l]===void 0||u!=="undefined"||a.includes(u))&&(r[l]=u)}}return[e,n,r,new Set(i)]},SO=(t,e,n,r)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,u=0,c=!1;for(l in s){const f=s[l];let h=e[l];if(h!==f){if(typeof h!="object"||!h)continue e;{let d,g,v=0;for(const y in h){if(f===String(h[y])){if(y!=="@initial"){const A=y.slice(1);(g=g||[]).push(A in n?n[A]:y.replace(/^@media ?/,"")),c=!0}u+=v,d=!0}++v}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!d)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${l}-${s[l]}`,o,c])}return i},zEe={},HEe=Dm(),QEe=(t,e)=>HEe(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let s=ld(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}l0(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return Z7(r,{toString:r})}),VEe=Dm(),WEe=(t,e)=>VEe(t,()=>n=>{const r=`${ac(t.prefix)}k-${ld(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];l0(n,[],[],t,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return Z7(i,{get name(){return i()},toString:i})}),jEe=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+ac(this.prefix)+ac(this.scale)+this.token}toString(){return this.computedValue}},XEe=Dm(),YEe=(t,e)=>XEe(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${ac(t.prefix)}t-${ld(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const u in r[l]){const c=`--${ac(t.prefix)}${l}-${u}`,f=Pj(String(r[l][u]),t.prefix,l);s[l][u]=new jEe(u,f,l,t.prefix),o.push(`${c}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const l=`${r===t.theme?":root,":""}.${n}{${o.join(";")}}`;e.rules.themed.apply(l)}return n};return{...s,get className(){return a()},selector:i,toString:a}}),KEe=Dm(),JEe=Dm(),qEe=t=>{const e=(n=>{let r=!1;const i=KEe(n,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},c={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...wEe},utils:typeof s.utils=="object"&&s.utils||{}},f=FEe(l),h={css:EO(c,f),globalCss:QEe(c,f),keyframes:WEe(c,f),createTheme:YEe(c,f),reset(){f.reset(),h.theme.toString()},theme:{},sheet:f,config:c,prefix:o,getCssText:f.toString,toString:f.toString};return String(h.theme=h.createTheme(u)),h});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>JEe(n,()=>{const i=EO(n,r);return(...s)=>{const o=i(...s),a=o[ad].type,l=te.forwardRef((u,c)=>{const f=u&&u.as||a,{props:h,deferredInjector:d}=o(u);return delete h.as,h.ref=c,d?te.createElement(te.Fragment,null,te.createElement(f,h),te.createElement(d,null)):te.createElement(f,h)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[ad]=o[ad],l}}))(e),e};const ZEe=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},$Ee=xK["useId".toString()]||(()=>{});let e8e=0;function t8e(t){const[e,n]=D.useState($Ee());return ZEe(()=>{t||n(r=>r??String(e8e++))},[t]),t||(e?`radix-${e}`:"")}function Lj(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function $7(...t){return D.useCallback(Lj(...t),t)}const Fj=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.Children.toArray(n).some(CO)?D.createElement(D.Fragment,null,D.Children.map(n,i=>CO(i)?D.createElement(wT,ar({},r,{ref:e}),i.props.children):i)):D.createElement(wT,ar({},r,{ref:e}),n)});Fj.displayName="Slot";const wT=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.isValidElement(n)?D.cloneElement(n,{...n8e(r,n.props),ref:Lj(e,n.ref)}):D.Children.count(n)>1?D.Children.only(null):null});wT.displayName="SlotClone";const Oj=({children:t})=>D.createElement(D.Fragment,null,t);function CO(t){return D.isValidElement(t)&&t.type===Oj}function n8e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?n[r]=(...o)=>{s==null||s(...o),i==null||i(...o)}:r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Pm=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((t,e)=>({...t,[e]:D.forwardRef((n,r)=>{const{asChild:i,...s}=n,o=i?Fj:e;return D.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),n.as&&console.error(r8e),D.createElement(o,ar({},s,{ref:r}))})}),{}),r8e="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",i8e=D.forwardRef((t,e)=>D.createElement(Pm.span,ar({},t,{ref:e,style:{...t.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),s8e=i8e,o8e=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},a8e=D.forwardRef((t,e)=>{var n,r;const{containerRef:i,style:s,...o}=t,a=(n=i==null?void 0:i.current)!==null&&n!==void 0?n:globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,[,l]=D.useState({});return o8e(()=>{l({})},[]),a?dG.createPortal(D.createElement(Pm.div,ar({"data-radix-portal":""},o,{ref:e,style:a===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...s}:void 0})),a):null}),l8e=D.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return D.createElement(Pm.svg,ar({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:D.createElement("polygon",{points:"0,0 30,0 15,10"}))}),u8e=l8e;function wO(t){const[e,n]=D.useState(void 0);return D.useEffect(()=>{if(t){const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else{const l=t.getBoundingClientRect();o=l.width,a=l.height}n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>{n(void 0),r.unobserve(t)}}},[t]),e}function c8e(t,e){const n=Ph.get(t);return n===void 0?(Ph.set(t,{rect:{},callbacks:[e]}),Ph.size===1&&(TT=requestAnimationFrame(Uj))):(n.callbacks.push(e),e(t.getBoundingClientRect())),()=>{const r=Ph.get(t);if(r===void 0)return;const i=r.callbacks.indexOf(e);i>-1&&r.callbacks.splice(i,1),r.callbacks.length===0&&(Ph.delete(t),Ph.size===0&&cancelAnimationFrame(TT))}}let TT;const Ph=new Map;function Uj(){const t=[];Ph.forEach((e,n)=>{const r=n.getBoundingClientRect();var i,s;i=e.rect,s=r,(i.width!==s.width||i.height!==s.height||i.top!==s.top||i.right!==s.right||i.bottom!==s.bottom||i.left!==s.left)&&(e.rect=r,t.push(e))}),t.forEach(e=>{e.callbacks.forEach(n=>n(e.rect))}),TT=requestAnimationFrame(Uj)}function kj(t){const[e,n]=D.useState();return D.useEffect(()=>{if(t){const r=c8e(t,n);return()=>{n(void 0),r()}}},[t]),e}function Nj(t,e=[]){let n=[];const r=()=>{const i=n.map(s=>D.createContext(s));return function(s){const o=(s==null?void 0:s[t])||i;return D.useMemo(()=>({[`__scope${t}`]:{...s,[t]:o}}),[s,o])}};return r.scopeName=t,[function(i,s){const o=D.createContext(s),a=n.length;function l(u){const{scope:c,children:f,...h}=u,d=(c==null?void 0:c[t][a])||o,g=D.useMemo(()=>h,Object.values(h));return D.createElement(d.Provider,{value:g},f)}return n=[...n,s],l.displayName=i+"Provider",[l,function(u,c){const f=(c==null?void 0:c[t][a])||o,h=D.useContext(f);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${i}\``)}]},f8e(r,...e)]}function f8e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(i){const s=r.reduce((o,{useScope:a,scopeName:l})=>({...o,...a(i)[`__scope${l}`]}),{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function h8e({anchorRect:t,popperSize:e,arrowSize:n,arrowOffset:r=0,side:i,sideOffset:s=0,align:o,alignOffset:a=0,shouldAvoidCollisions:l=!0,collisionBoundariesRect:u,collisionTolerance:c=0}){if(!t||!e||!u)return{popperStyles:d8e,arrowStyles:bS};const f=function(_,b,I=0,B=0,L){const F=L?L.height:0,O=TO(b,_,"x"),G=TO(b,_,"y"),V=G.before-I-F,Y=G.after+I+F,J=O.before-I-F,z=O.after+I+F;return{top:{start:{x:O.start+B,y:V},center:{x:O.center,y:V},end:{x:O.end-B,y:V}},right:{start:{x:z,y:G.start+B},center:{x:z,y:G.center},end:{x:z,y:G.end-B}},bottom:{start:{x:O.start+B,y:Y},center:{x:O.center,y:Y},end:{x:O.end-B,y:Y}},left:{start:{x:J,y:G.start+B},center:{x:J,y:G.center},end:{x:J,y:G.end-B}}}}(e,t,s,a,n),h=f[i][o];if(l===!1){const _=MO(h);let b=bS;return n&&(b=IO({popperSize:e,arrowSize:n,arrowOffset:r,side:i,align:o})),{popperStyles:{..._,"--radix-popper-transform-origin":_O(e,i,o,r,n)},arrowStyles:b,placedSide:i,placedAlign:o}}const d=DOMRect.fromRect({...e,...h}),g=(v=u,y=c,DOMRect.fromRect({width:v.width-2*y,height:v.height-2*y,x:v.left+y,y:v.top+y}));var v,y;const A=BO(d,g),x=f[bO(i)][o],E=function(_,b,I){const B=bO(_);return b[_]&&!I[B]?B:_}(i,A,BO(DOMRect.fromRect({...e,...x}),g)),S=function(_,b,I,B,L){const F=I==="top"||I==="bottom",O=F?"left":"top",G=F?"right":"bottom",V=F?"width":"height",Y=b[V]>_[V];return(B==="start"||B==="center")&&(L[O]&&Y||L[G]&&!Y)?"end":(B==="end"||B==="center")&&(L[G]&&Y||L[O]&&!Y)?"start":B}(e,t,i,o,A),w=MO(f[E][S]);let M=bS;return n&&(M=IO({popperSize:e,arrowSize:n,arrowOffset:r,side:E,align:S})),{popperStyles:{...w,"--radix-popper-transform-origin":_O(e,E,S,r,n)},arrowStyles:M,placedSide:E,placedAlign:S}}function TO(t,e,n){const r=t[n==="x"?"left":"top"],i=n==="x"?"width":"height",s=t[i],o=e[i];return{before:r-o,start:r,center:r+(s-o)/2,end:r+s-o,after:r+s}}function MO(t){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(t.x+window.scrollX)}px, ${Math.round(t.y+window.scrollY)}px, 0)`}}function _O(t,e,n,r,i){const s=e==="top"||e==="bottom",o=i?i.width:0,a=i?i.height:0,l=o/2+r;let u="",c="";return s?(u={start:`${l}px`,center:"center",end:t.width-l+"px"}[n],c=e==="top"?`${t.height+a}px`:-a+"px"):(u=e==="left"?`${t.width+a}px`:-a+"px",c={start:`${l}px`,center:"center",end:t.height-l+"px"}[n]),`${u} ${c}`}const d8e={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},bS={position:"absolute",opacity:0};function IO({popperSize:t,arrowSize:e,arrowOffset:n,side:r,align:i}){const s=(t.width-e.width)/2,o=(t.height-e.width)/2,a={top:0,right:90,bottom:180,left:-90}[r],l=Math.max(e.width,e.height),u={width:`${l}px`,height:`${l}px`,transform:`rotate(${a}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:p8e(r,i)};return r!=="top"&&r!=="bottom"||(i==="start"&&(u.left=`${n}px`),i==="center"&&(u.left=`${s}px`),i==="end"&&(u.right=`${n}px`)),r!=="left"&&r!=="right"||(i==="start"&&(u.top=`${n}px`),i==="center"&&(u.top=`${o}px`),i==="end"&&(u.bottom=`${n}px`)),u}function p8e(t,e){return(t!=="top"&&t!=="right"||e!=="end")&&(t!=="bottom"&&t!=="left"||e==="end")?"ltr":"rtl"}function bO(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]}function BO(t,e){return{top:t.top<e.top,right:t.right>e.right,bottom:t.bottom>e.bottom,left:t.left<e.left}}const[Gj,zj]=Nj("Popper"),[m8e,Hj]=Gj("Popper"),g8e=t=>{const{__scopePopper:e,children:n}=t,[r,i]=D.useState(null);return D.createElement(m8e,{scope:e,anchor:r,onAnchorChange:i},n)},A8e=D.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Hj("PopperAnchor",n),o=D.useRef(null),a=$7(e,o);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:D.createElement(Pm.div,ar({},i,{ref:a}))}),[v8e,y8e]=Gj("PopperContent"),x8e=D.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i,align:s="center",alignOffset:o,collisionTolerance:a,avoidCollisions:l=!0,...u}=t,c=Hj("PopperContent",n),[f,h]=D.useState(),d=kj(c.anchor),[g,v]=D.useState(null),y=wO(g),[A,x]=D.useState(null),E=wO(A),S=$7(e,F=>v(F)),w=function(){const[F,O]=D.useState(void 0);return D.useEffect(()=>{let G;function V(){O({width:window.innerWidth,height:window.innerHeight})}function Y(){window.clearTimeout(G),G=window.setTimeout(V,100)}return V(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),F}(),M=w?DOMRect.fromRect({...w,x:0,y:0}):void 0,{popperStyles:_,arrowStyles:b,placedSide:I,placedAlign:B}=h8e({anchorRect:d,popperSize:y,arrowSize:E,arrowOffset:f,side:r,sideOffset:i,align:s,alignOffset:o,shouldAvoidCollisions:l,collisionBoundariesRect:M,collisionTolerance:a}),L=I!==void 0;return D.createElement("div",{style:_,"data-radix-popper-content-wrapper":""},D.createElement(v8e,{scope:n,arrowStyles:b,onArrowChange:x,onArrowOffsetChange:h},D.createElement(Pm.div,ar({"data-side":I,"data-align":B},u,{style:{...u.style,animation:L?void 0:"none"},ref:S}))))}),E8e=D.forwardRef(function(t,e){const{__scopePopper:n,offset:r,...i}=t,s=y8e("PopperArrow",n),{onArrowOffsetChange:o}=s;return D.useEffect(()=>o(r),[o,r]),D.createElement("span",{style:{...s.arrowStyles,pointerEvents:"none"}},D.createElement("span",{ref:s.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},D.createElement(u8e,ar({},i,{ref:e,style:{...i.style,display:"block"}}))))}),S8e=g8e,C8e=A8e,w8e=x8e,T8e=E8e,RO=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{};function M8e(...t){return e=>t.forEach(n=>function(r,i){typeof r=="function"?r(i):r!=null&&(r.current=i)}(n,e))}function _8e(...t){return D.useCallback(M8e(...t),t)}const Qj=t=>{const{present:e,children:n}=t,r=function(o){const[a,l]=D.useState(),u=D.useRef({}),c=D.useRef(o),f=D.useRef("none"),h=o?"mounted":"unmounted",[d,g]=function(v,y){return D.useReducer((A,x)=>{const E=y[A][x];return E??A},v)}(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const v=Oy(u.current);f.current=d==="mounted"?v:"none"},[d]),RO(()=>{const v=u.current,y=c.current;if(y!==o){const A=f.current,x=Oy(v);o?g("MOUNT"):x==="none"||(v==null?void 0:v.display)==="none"?g("UNMOUNT"):g(y&&A!==x?"ANIMATION_OUT":"UNMOUNT"),c.current=o}},[o,g]),RO(()=>{if(a){const v=A=>{const x=Oy(u.current).includes(A.animationName);A.target===a&&x&&g("ANIMATION_END")},y=A=>{A.target===a&&(f.current=Oy(u.current))};return a.addEventListener("animationstart",y),a.addEventListener("animationcancel",v),a.addEventListener("animationend",v),()=>{a.removeEventListener("animationstart",y),a.removeEventListener("animationcancel",v),a.removeEventListener("animationend",v)}}},[a,g]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:D.useCallback(v=>{v&&(u.current=getComputedStyle(v)),l(v)},[])}}(e),i=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),s=_8e(r.ref,i.ref);return typeof n=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};function Oy(t){return(t==null?void 0:t.animationName)||"none"}Qj.displayName="Presence";function DO(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t},[t]),e.current}function I8e(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function b8e(t){const e=I8e(t);D.useEffect(()=>{const n=r=>{r.key==="Escape"&&e(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e])}function PO(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function B8e({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=function({defaultProp:l,onChange:u}){const c=D.useState(l),[f]=c,h=D.useRef(f),d=PO(u);return D.useEffect(()=>{h.current!==f&&(d(f),h.current=f)},[f,h,d]),c}({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=PO(n);return[o,D.useCallback(l=>{if(s){const u=l,c=typeof l=="function"?u(t):l;c!==t&&a(c)}else i(l)},[s,t,i,a])]}function Op(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}const[Vj,A_e]=Nj("Tooltip",[zj]),g4=zj(),R8e=700,[v_e,D8e]=Vj("TooltipProvider",{isOpenDelayed:!0,delayDuration:R8e,onOpen:()=>{},onClose:()=>{}}),[P8e,A4]=Vj("Tooltip"),L8e=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,delayDuration:o}=t,a=D8e("Tooltip",e),l=g4(e),[u,c]=D.useState(null),f=t8e(),h=D.useRef(0),d=o??a.delayDuration,g=D.useRef(!1),{onOpen:v,onClose:y}=a,[A=!1,x]=B8e({prop:r,defaultProp:i,onChange:M=>{M&&(document.dispatchEvent(new CustomEvent("tooltip.open")),v()),s==null||s(M)}}),E=D.useMemo(()=>A?g.current?"delayed-open":"instant-open":"closed",[A]),S=D.useCallback(()=>{window.clearTimeout(h.current),g.current=!1,x(!0)},[x]),w=D.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,x(!0)},d)},[d,x]);return D.useEffect(()=>()=>window.clearTimeout(h.current),[]),D.createElement(S8e,l,D.createElement(P8e,{scope:e,contentId:f,open:A,stateAttribute:E,trigger:u,onTriggerChange:c,onTriggerEnter:D.useCallback(()=>{a.isOpenDelayed?w():S()},[a.isOpenDelayed,w,S]),onOpen:D.useCallback(S,[S]),onClose:D.useCallback(()=>{window.clearTimeout(h.current),x(!1),y()},[x,y])},n))},F8e=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=A4("TooltipTrigger",n),s=g4(n),o=$7(e,i.onTriggerChange),a=D.useRef(!1),l=D.useCallback(()=>a.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("mouseup",l),[l]),D.createElement(C8e,ar({asChild:!0},s),D.createElement(Pm.button,ar({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:o,onMouseEnter:Op(t.onMouseEnter,i.onTriggerEnter),onMouseLeave:Op(t.onMouseLeave,i.onClose),onMouseDown:Op(t.onMouseDown,()=>{i.onClose(),a.current=!0,document.addEventListener("mouseup",l,{once:!0})}),onFocus:Op(t.onFocus,()=>{a.current||i.onOpen()}),onBlur:Op(t.onBlur,i.onClose),onClick:Op(t.onClick,i.onClose)})))}),O8e=D.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=A4("TooltipContent",t.__scopeTooltip);return D.createElement(Qj,{present:n||i.open},D.createElement(U8e,ar({ref:e},r)))}),U8e=D.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,portalled:s=!0,...o}=t,a=A4("TooltipContent",n),l=g4(n),u=s?a8e:D.Fragment,{onClose:c}=a;return b8e(()=>c()),D.useEffect(()=>(document.addEventListener("tooltip.open",c),()=>document.removeEventListener("tooltip.open",c)),[c]),D.createElement(u,null,D.createElement(N8e,{__scopeTooltip:n}),D.createElement(w8e,ar({"data-state":a.stateAttribute},l,o,{ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),D.createElement(Oj,null,r),D.createElement(s8e,{id:a.contentId,role:"tooltip"},i||r)))}),k8e=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=g4(n);return D.createElement(T8e,ar({},i,r,{ref:e}))});function N8e(t){const{__scopeTooltip:e}=t,n=A4("CheckTriggerMoved",e),r=kj(n.trigger),i=r==null?void 0:r.left,s=DO(i),o=r==null?void 0:r.top,a=DO(o),l=n.onClose;return D.useEffect(()=>{(s!==void 0&&s!==i||a!==void 0&&a!==o)&&l()},[l,s,a,i,o]),null}const G8e=L8e,z8e=F8e,H8e=O8e,Q8e=k8e;function V8e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zn(t,e){if(t==null)return{};var n=V8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let gr;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(gr||(gr={}));const W8e={[gr.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[gr.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[gr.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[gr.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[gr.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[gr.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[gr.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[gr.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[gr.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[gr.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[gr.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function Wj(t,e,...n){const[r,...i]=W8e[e](...n);console[t]("LEVA: "+r,...i)}const Gu=Wj.bind(null,"warn"),j8e=Wj.bind(null,"log"),X8e=["value"],Y8e=["schema"],K8e=["value"],jj=[],Cd={};function LO(t){let{value:e}=t,n=Zn(t,X8e);for(let r of jj){const i=r(e,n);if(i)return i}}function Ac(t,e){let{schema:n}=e,r=Zn(e,Y8e);if(t in Cd){Gu(gr.ALREADY_REGISTERED_TYPE,t);return}jj.push((i,s)=>n(i,s)&&t),Cd[t]=r}function BS(t,e,n,r){const{normalize:i}=Cd[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=Zn(e,K8e);return{value:s,settings:o}}function J8e(t,e,n,r,i,s){const{sanitize:o}=Cd[t];return o?o(e,n,r,i,s):e}function FO(t,e,n){const{format:r}=Cd[t];return r?r(e,n):e}function q8e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){q8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Df=(t,e,n)=>t>n?n:t<e?e:t,Z8e=t=>{if(t===""||typeof t=="number")return t;try{const e=Qc(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},$8e=Math.log(10);function UO(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/$8e)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const Fx=(t,e,n)=>n===e?0:(Df(t,e,n)-e)/(n-e),Ox=(t,e,n)=>t*(n-e)+e,eSe=()=>"_"+Math.random().toString(36).substr(2,9),kO=/\(([0-9+\-*/^ .]+)\)/,NO=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,GO=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,zO=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,HO=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,QO=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Qc(t){if(isNaN(Number(t)))if(kO.test(t)){const e=t.replace(kO,(n,r)=>String(Qc(r)));return Qc(e)}else if(NO.test(t)){const e=t.replace(NO,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return Qc(e)}else if(GO.test(t)){const e=t.replace(GO,(n,r,i)=>String(Number(r)*Number(i)));return Qc(e)}else if(zO.test(t)){const e=t.replace(zO,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Qc(e)}else if(HO.test(t)){const e=t.replace(HO,(n,r,i)=>String(Number(r)+Number(i)));return Qc(e)}else if(QO.test(t)){const e=t.replace(QO,(n,r,i)=>String(Number(r)-Number(i)));return Qc(e)}else return Number(t);return Number(t)}function tSe(t,e){const n=jt({},t);return e.forEach(r=>r in t&&delete n[r]),n}function nSe(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function Xj(t){return Object.prototype.toString.call(t)==="[object Object]"}const rSe=t=>Xj(t)&&Object.keys(t).length===0;let $l;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})($l||($l={}));let ul;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(ul||(ul={}));const iSe=["type","__customInput"],sSe=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],oSe=["type"];function Yj(t,e,n={},r){var i,s;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:jt({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:w,__customInput:M}=t,_=Zn(t,iSe);return Yj(M,e,_,w)}const{render:o,label:a,optional:l,order:u=0,disabled:c,hint:f,onChange:h,onEditStart:d,onEditEnd:g,transient:v}=t,y=Zn(t,sSe),A=jt({render:o,key:e,label:a??e,hint:f,transient:v??!!h,onEditStart:d,onEditEnd:g,disabled:c,optional:l,order:u},n);let{type:x}=y,E=Zn(y,oSe);if(x=r??x,x in $l)return{type:x,input:E,options:A};let S;return r&&Xj(E)&&"value"in E?S=E.value:S=rSe(E)?void 0:E,{type:x,input:S,options:jt(jt({},A),{},{onChange:h,optional:(i=A.optional)!==null&&i!==void 0?i:!1,disabled:(s=A.disabled)!==null&&s!==void 0?s:!1})}}function aSe(t,e,n,r){const i=Yj(t,e),{type:s,input:o,options:a}=i;if(s)return s in $l?i:{type:s,input:BS(s,o,n,r),options:a};let l=LO(o);return l?{type:l,input:BS(l,o,n,r),options:a}:(l=LO({value:o}),l?{type:l,input:BS(l,{value:o},n,r),options:a}:!1)}function VO(t,e,n,r,i){const{value:s,type:o,settings:a}=t;t.value=Kj({type:o,value:s,settings:a},e,n,r),t.fromPanel=i}const lSe=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function Kj({type:t,value:e,settings:n},r,i,s){const o=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=J8e(t,o,n,e,i,s)}catch(l){throw new lSe(`The value \`${r}\` did not result in a correct value.`,e,l)}return Px(a,e)?e:a}const Jj=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,s=n&&!r,o=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},qj=t=>t.shiftKey?5:t.altKey?1/5:1,uSe=["value"],cSe=["min","max"],fSe=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},Zj=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const s=Df(i,e,n);return r?s+r:s},hSe=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},$j=t=>{let{value:e}=t,n=Zn(t,uSe);const{min:r=-1/0,max:i=1/0}=n,s=Zn(n,cSe);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=Df(o,r,i);let l=n.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const u=l?UO(l)*10:UO(o);l=l||u/10;const c=Math.round(Df(Math.log10(1/u),0,2));return{value:a?o+a:o,settings:jt({initialValue:o,step:l,pad:c,min:r,max:i,suffix:a},s)}},eX=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var tX=Object.freeze({__proto__:null,schema:fSe,sanitize:Zj,format:hSe,normalize:$j,sanitizeStep:eX});function ri(){return ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ri.apply(this,arguments)}const nX=D.createContext({});function as(){return D.useContext(nX)}const rX=D.createContext(null),iX=D.createContext(null),sX=D.createContext(null);function s2(){return D.useContext(iX)}function dSe(){return D.useContext(sX)}const pSe=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Uy(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const Zg={$inputStyle:()=>t=>Uy(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>Uy(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>Uy(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>Uy(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Bt,css:y_e,createTheme:x_e,globalCss:mSe,keyframes:E_e}=qEe({prefix:"leva",theme:pSe(),utils:jt(jt({},Zg),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":Zg.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":Zg.$focusStyle()(t)}),$hover:t=>({"&:hover":Zg.$hoverStyle()(t)}),$active:t=>({"&:active":Zg.$activeStyle()(t)})})}),gSe=mSe({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Ku(t,e){const{theme:n}=D.useContext(rX);if(!(t in n)||!(e in n[t]))return Gu(gr.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const oX=Bt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),aX=Bt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${oX}`]:{paddingLeft:0}}),ASe=Bt(aX,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),vSe=Bt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),ySe=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],xSe=["onUpdate"];function e_(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:u=0}=t,c=Zn(t,ySe);const{id:f,emitOnEditStart:h,emitOnEditEnd:d,disabled:g}=as(),v=a||f,y=D.useRef(null),A=u>0,x=A?"textarea":"input",E=D.useCallback(M=>_=>{const b=_.currentTarget.value;M(b)},[]);te.useEffect(()=>{const M=y.current,_=E(b=>{r(b),d()});return M==null||M.addEventListener("blur",_),()=>M==null?void 0:M.removeEventListener("blur",_)},[E,r,d]);const S=D.useCallback(M=>{M.key==="Enter"&&E(r)(M)},[E,r]),w=Object.assign({as:x},A?{rows:u}:{},c);return te.createElement(vSe,{textArea:A},e&&typeof e=="string"?te.createElement(aX,null,e):e,te.createElement(oX,ri({levaType:o,ref:y,id:v,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:E(i),onFocus:()=>h(),onKeyPress:S,onKeyDown:s,disabled:g},w)))}function ESe(t){let{onUpdate:e}=t,n=Zn(t,xSe);const r=D.useCallback(s=>e(Z8e(s)),[e]),i=D.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return te.createElement(e_,ri({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const Ux=Bt("div",{}),MT=Bt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),SSe=Bt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${MT}::after`]:{opacity:.6},[`${Ux}:hover > & + ${MT}::after`]:{opacity:.6},[`${Ux}:hover > & > svg`]:{opacity:1}}),lX=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${Ux}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),uX=Bt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${lX} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),cX=Bt(uX,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),CSe=Bt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),wSe=Bt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),_T=Bt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),TSe=Bt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${_T}`]:{pointerEvents:"auto"}}}}}),fX=Bt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),MSe=Bt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),_Se=Bt(Q8e,{fill:"$toolTipBackground"});function t_({children:t}){const{className:e}=D.useContext(rX);return te.createElement(yEe,{className:e},t)}const ISe=["align"];function bSe(){const{id:t,disable:e,disabled:n}=as();return te.createElement(te.Fragment,null,te.createElement(wSe,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),te.createElement("label",{htmlFor:t+"__disable"}))}function BSe(t){const{id:e,optional:n,hint:r}=as(),i=t.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof t.children=="string"?{title:t.children}:null;return te.createElement(te.Fragment,null,n&&te.createElement(bSe,null),r!==void 0?te.createElement(G8e,null,te.createElement(z8e,{asChild:!0},te.createElement(_T,ri({},i,t))),te.createElement(H8e,{side:"top",sideOffset:2},te.createElement(MSe,null,r,te.createElement(_Se,null)))):te.createElement(_T,ri({},i,s,t)))}function Al(t){let{align:e}=t,n=Zn(t,ISe);const{value:r,label:i,key:s,disabled:o}=as(),{hideCopyButton:a}=dSe(),l=!a&&s!==void 0,[u,c]=D.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),c(!0)}catch{Gu(gr.CLIPBOARD_ERROR,{[s]:r})}};return te.createElement(CSe,{align:e,onPointerLeave:()=>c(!1)},te.createElement(BSe,n),l&&!o&&te.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},u?te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),te.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):te.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),te.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const RSe=["toggled"],DSe=Bt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function n_(t){let{toggled:e}=t,n=Zn(t,RSe);return te.createElement(DSe,ri({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),te.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const PSe=["input"];function Oa(t){let{input:e}=t,n=Zn(t,PSe);return e?te.createElement(cX,n):te.createElement(uX,n)}function hX({value:t,type:e,settings:n,setValue:r}){const[i,s]=D.useState(FO(e,t,n)),o=D.useRef(t),a=D.useRef(n);a.current=n;const l=D.useCallback(c=>s(FO(e,c,a.current)),[e]),u=D.useCallback(c=>{try{r(c)}catch(f){const{type:h,previousValue:d}=f;if(h!=="LEVA_ERROR")throw f;l(d)}},[l,r]);return D.useEffect(()=>{Px(t,o.current)||l(t),o.current=t},[t,l]),{displayValue:i,onChange:s,onUpdate:u}}function o2(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=as();return Bae(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const s=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function LSe(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!1);return D.useEffect(()=>{const i=Jj(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),D.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function dX(){const t=D.useRef(null),e=D.useRef({x:0,y:0}),n=D.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const FSe=["__refCount"],RS=(t,e)=>{if(!t[e])return null;const n=t[e];return Zn(n,FSe)};function OSe(t){const e=s2(),[n,r]=D.useState(RS(e.getData(),t)),i=D.useCallback(u=>e.setValueAtPath(t,u,!0),[t,e]),s=D.useCallback(u=>e.setSettingsAtPath(t,u),[t,e]),o=D.useCallback(u=>e.disableInputAtPath(t,u),[t,e]),a=D.useCallback(()=>e.emitOnEditStart(t),[t,e]),l=D.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return D.useEffect(()=>{r(RS(e.getData(),t));const u=e.useStore.subscribe(c=>RS(c.data,t),r,{equalityFn:Ij});return()=>u()},[e,t]),[n,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const USe=Bt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),pX=Bt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),IT=Bt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),mX=Bt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),gX=Bt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function kSe({value:t,min:e,max:n,onDrag:r,step:i,initialValue:s}){const o=D.useRef(null),a=D.useRef(null),l=D.useRef(0),u=Ku("sizes","scrubberWidth"),c=o2(({event:h,first:d,xy:[g],movement:[v],memo:y})=>{if(d){const{width:x,left:E}=o.current.getBoundingClientRect();l.current=x-parseFloat(u),y=(h==null?void 0:h.target)===a.current?t:Ox((g-E)/x,e,n)}const A=y+Ox(v/l.current,0,n-e);return r(eX(A,{step:i,initialValue:s})),y}),f=Fx(t,e,n);return te.createElement(mX,ri({ref:o},c()),te.createElement(pX,null,te.createElement(gX,{style:{left:0,right:`${(1-f)*100}%`}})),te.createElement(IT,{ref:a,style:{left:`calc(${f} * (100% - ${u}))`}}))}const NSe=te.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,s]=D.useState(!1),o=o2(({active:a,delta:[l],event:u,memo:c=0})=>(s(a),c+=l/2,Math.abs(c)>=1&&(e(f=>parseFloat(f)+Math.floor(c)*n*qj(u)),c=0),c));return te.createElement(ASe,ri({dragging:i,title:t.length>1?t:""},o()),t.slice(0,r))});function AX({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&te.createElement(NSe,{label:t,step:s.step,onUpdate:r,innerLabelTrim:o});return te.createElement(ESe,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function GSe(){const t=as(),{label:e,value:n,onUpdate:r,settings:i,id:s}=t,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return te.createElement(Oa,{input:!0},te.createElement(Al,null,e),te.createElement(USe,{hasRange:l},l&&te.createElement(kSe,ri({value:parseFloat(n),onDrag:r},i)),te.createElement(AX,ri({},t,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:zSe}=tX,HSe=Zn(tX,["sanitizeStep"]);var QSe=jt({component:GSe},HSe);const VSe=(t,e)=>Qs().schema({options:Qs().passesAnyOf(Qs().object(),Qs().array())}).test(e),WSe=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},jSe=(t,{values:e})=>e.indexOf(t),XSe=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(s=>String(s))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var YSe=Object.freeze({__proto__:null,schema:VSe,sanitize:WSe,format:jSe,normalize:XSe});const KSe=Bt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),bT=Bt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),JSe=Bt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${bT}:focus + &`]:{$focusStyle:""},[`${bT}:hover + &`]:{$hoverStyle:""}});function qSe({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=D.useRef();return e===a[t]&&(l.current=o[t]),te.createElement(KSe,null,te.createElement(bT,{id:r,value:t,onChange:u=>n(a[Number(u.currentTarget.value)]),disabled:s},o.map((u,c)=>te.createElement("option",{key:u,value:c},u))),te.createElement(JSe,null,l.current),te.createElement(n_,{toggled:!0}))}function ZSe(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:s,settings:o}=as();return te.createElement(Oa,{input:!0},te.createElement(Al,null,t),te.createElement(qSe,{id:i,value:e,displayValue:n,onUpdate:r,settings:o,disabled:s}))}var $Se=jt({component:ZSe},YSe);const eCe=t=>Qs().string().test(t),tCe=t=>{if(typeof t!="string")throw Error("Invalid string");return t},nCe=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var rCe=Object.freeze({__proto__:null,schema:eCe,sanitize:tCe,normalize:nCe});const iCe=["displayValue","onUpdate","onChange","editable"],sCe=Bt("div",{whiteSpace:"pre-wrap"});function oCe(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,s=Zn(t,iCe);return i?te.createElement(e_,ri({value:e,onUpdate:n,onChange:r},s)):te.createElement(sCe,null,e)}function aCe(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=as();return te.createElement(Oa,{input:!0},te.createElement(Al,null,t),te.createElement(oCe,ri({displayValue:n,onUpdate:r,onChange:i},e)))}var lCe=jt({component:aCe},rCe);const uCe=t=>Qs().boolean().test(t),cCe=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var fCe=Object.freeze({__proto__:null,schema:uCe,sanitize:cCe});const hCe=Bt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function dCe({value:t,onUpdate:e,id:n,disabled:r}){return te.createElement(hCe,null,te.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),te.createElement("label",{htmlFor:n},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},te.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function pCe(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=as();return te.createElement(Oa,{input:!0},te.createElement(Al,null,t),te.createElement(dCe,{value:e,onUpdate:n,id:i,disabled:r}))}var mCe=jt({component:pCe},fCe);const gCe=["locked"];function ACe({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:s}){const o=D.useRef(t[n]);o.current=t[n];const a=D.useCallback(u=>i({[n]:Kj({type:"NUMBER",value:o.current,settings:r},u)}),[i,r,n]),l=hX({type:"NUMBER",value:t[n],settings:r,setValue:a});return te.createElement(AX,{id:e,label:n,value:t[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const vCe=Bt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function yCe(t){let{locked:e}=t,n=Zn(t,gCe);return te.createElement("svg",ri({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?te.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):te.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function r_({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:s}=as(),{lock:o,locked:a}=n;return te.createElement(vCe,{withLock:o},o&&te.createElement(yCe,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(t).map((l,u)=>te.createElement(ACe,{id:u===0?i:`${i}.${l}`,key:l,valueKey:l,value:t,settings:n[l],onUpdate:e,innerLabelTrim:r})))}const vX=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([s,o])=>{n[s]=$j(jt({value:o},e[s])).settings,r=Math.max(r,n[s].step),i=Math.min(i,n[s].pad)});for(let s in n){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(n[s].step=r,n[s].pad=i)}return n},xCe=["lock"],ECe=["value"];function SCe(t){const e=Qs().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(s=>isFinite(s))};return r=>e.test(r)||n(r)}function CCe(t){return Array.isArray(t)?"array":"object"}function Y1(t,e,n){return CCe(t)===e?t:e==="array"?Object.values(t):nSe(t,n)}const wCe=(t,e,n)=>{const r=Y1(t,"object",e.keys);for(let o in r)r[o]=Zj(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Y1(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],u=o[a],c=u!==0?l/u:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*c}else s=jt(jt({},o),r)}return Y1(s,e.format,e.keys)},TCe=(t,e)=>Y1(t,"object",e.keys),MCe=t=>!!t&&("step"in t||"min"in t||"max"in t);function _Ce(t,e,n=[]){const{lock:r=!1}=e,i=Zn(e,xCe),s=Array.isArray(t)?"array":"object",o=s==="object"?Object.keys(t):n,a=Y1(t,"object",o),l=MCe(i)?o.reduce((c,f)=>Object.assign(c,{[f]:i}),{}):i,u=vX(a,l);return{value:s==="array"?t:a,settings:jt(jt({},u),{},{format:s,keys:o,lock:r,locked:!1})}}function yX(t){return{schema:SCe(t.length),normalize:e=>{let{value:n}=e,r=Zn(e,ECe);return _Ce(n,r,t)},format:(e,n)=>TCe(e,n),sanitize:(e,n,r)=>wCe(e,n,r)}}var ICe={grad:.9,turn:360,rad:360/(2*Math.PI)},Du=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Ii=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},va=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},xX=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},WO=function(t){return{r:va(t.r,0,255),g:va(t.g,0,255),b:va(t.b,0,255),a:va(t.a)}},DS=function(t){return{r:Ii(t.r),g:Ii(t.g),b:Ii(t.b),a:Ii(t.a,3)}},bCe=/^#([0-9a-f]{3,8})$/i,ky=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},EX=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},SX=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},jO=function(t){return{h:xX(t.h),s:va(t.s,0,100),l:va(t.l,0,100),a:va(t.a)}},XO=function(t){return{h:Ii(t.h),s:Ii(t.s),l:Ii(t.l),a:Ii(t.a,3)}},YO=function(t){return SX((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},K1=function(t){return{h:(e=EX(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},BCe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,RCe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,DCe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,PCe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BT={string:[[function(t){var e=bCe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Ii(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Ii(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=DCe.exec(t)||PCe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:WO({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=BCe.exec(t)||RCe.exec(t);if(!e)return null;var n,r,i=jO({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(ICe[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return YO(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return Du(e)&&Du(n)&&Du(r)?WO({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!Du(e)||!Du(n)||!Du(r))return null;var o=jO({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return YO(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!Du(e)||!Du(n)||!Du(r))return null;var o=function(a){return{h:xX(a.h),s:va(a.s,0,100),v:va(a.v,0,100),a:va(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return SX(o)},"hsv"]]},KO=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},CX=function(t){return typeof t=="string"?KO(t.trim(),BT.string):typeof t=="object"&&t!==null?KO(t,BT.object):[null,void 0]},LCe=function(t){return CX(t)[1]},PS=function(t,e){var n=K1(t);return{h:n.h,s:va(n.s+100*e,0,100),l:n.l,a:n.a}},LS=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},JO=function(t,e){var n=K1(t);return{h:n.h,s:n.s,l:va(n.l+100*e,0,100),a:n.a}},RT=function(){function t(e){this.parsed=CX(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Ii(LS(this.rgba),2)},t.prototype.isDark=function(){return LS(this.rgba)<.5},t.prototype.isLight=function(){return LS(this.rgba)>=.5},t.prototype.toHex=function(){return e=DS(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?ky(Ii(255*s)):"","#"+ky(n)+ky(r)+ky(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return DS(this.rgba)},t.prototype.toRgbString=function(){return e=DS(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return XO(K1(this.rgba))},t.prototype.toHslString=function(){return e=XO(K1(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=EX(this.rgba),{h:Ii(e.h),s:Ii(e.s),v:Ii(e.v),a:Ii(e.a,3)};var e},t.prototype.invert=function(){return Ss({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ss(PS(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ss(PS(this.rgba,-e))},t.prototype.grayscale=function(){return Ss(PS(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ss(JO(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ss(JO(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ss({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Ii(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=K1(this.rgba);return typeof e=="number"?Ss({h:e,s:n.s,l:n.l,a:n.a}):Ii(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Ss(e).toHex()},t}(),Ss=function(t){return t instanceof RT?t:new RT(t)},qO=[],FCe=function(t){t.forEach(function(e){qO.indexOf(e)<0&&(e(RT,BT),qO.push(e))})};function OCe(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),f=1/0,h="black";if(!s.length)for(var d in n)s[d]=new t(n[d]).toRgb();for(var g in n){var v=(a=c,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<f&&(f=v,h=g)}return h}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}function Lm(){return(Lm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i_(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function DT(t){var e=D.useRef(t),n=D.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var am=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},J1=function(t){return"touches"in t},PT=function(t){return t&&t.ownerDocument.defaultView||self},ZO=function(t,e,n){var r=t.getBoundingClientRect(),i=J1(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,n):e;return{left:am((i.pageX-(r.left+PT(t).pageXOffset))/r.width),top:am((i.pageY-(r.top+PT(t).pageYOffset))/r.height)}},$O=function(t){!J1(t)&&t.preventDefault()},s_=te.memo(function(t){var e=t.onMove,n=t.onKey,r=i_(t,["onMove","onKey"]),i=D.useRef(null),s=DT(e),o=DT(n),a=D.useRef(null),l=D.useRef(!1),u=D.useMemo(function(){var d=function(y){$O(y),(J1(y)?y.touches.length>0:y.buttons>0)&&i.current?s(ZO(i.current,y,a.current)):v(!1)},g=function(){return v(!1)};function v(y){var A=l.current,x=PT(i.current),E=y?x.addEventListener:x.removeEventListener;E(A?"touchmove":"mousemove",d),E(A?"touchend":"mouseup",g)}return[function(y){var A=y.nativeEvent,x=i.current;if(x&&($O(A),!function(S,w){return w&&!J1(S)}(A,l.current)&&x)){if(J1(A)){l.current=!0;var E=A.changedTouches||[];E.length&&(a.current=E[0].identifier)}x.focus(),s(ZO(x,A,a.current)),v(!0)}},function(y){var A=y.which||y.keyCode;A<37||A>40||(y.preventDefault(),o({left:A===39?.05:A===37?-.05:0,top:A===40?.05:A===38?-.05:0}))},v]},[o,s]),c=u[0],f=u[1],h=u[2];return D.useEffect(function(){return h},[h]),te.createElement("div",Lm({},r,{onTouchStart:c,onMouseDown:c,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),a2=function(t){return t.filter(Boolean).join(" ")},o_=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=a2(["react-colorful__pointer",t.className]);return te.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},te.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},ws=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},wX=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:ws(t.h),s:ws(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:ws(i/2),a:ws(r,2)}},LT=function(t){var e=wX(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},FS=function(t){var e=wX(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},TX=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:ws(255*[r,a,o,o,l,r][u]),g:ws(255*[l,r,r,a,o,o][u]),b:ws(255*[o,o,l,r,r,a][u]),a:ws(i,2)}},MX=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:ws(60*(a<0?a+6:a)),s:ws(s?o/s*100:0),v:ws(s/255*100),a:i}},_X=te.memo(function(t){var e=t.hue,n=t.onChange,r=a2(["react-colorful__hue",t.className]);return te.createElement("div",{className:r},te.createElement(s_,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:am(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":ws(e),"aria-valuemax":"360","aria-valuemin":"0"},te.createElement(o_,{className:"react-colorful__hue-pointer",left:e/360,color:LT({h:e,s:100,v:100,a:1})})))}),IX=te.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:LT({h:e.h,s:100,v:100,a:1})};return te.createElement("div",{className:"react-colorful__saturation",style:r},te.createElement(s_,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:am(e.s+100*i.left,0,100),v:am(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ws(e.s)+"%, Brightness "+ws(e.v)+"%"},te.createElement(o_,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:LT(e)})))}),a_=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function bX(t,e,n){var r=DT(n),i=D.useState(function(){return t.toHsva(e)}),s=i[0],o=i[1],a=D.useRef({color:e,hsva:s});D.useEffect(function(){if(!t.equal(e,a.current.color)){var u=t.toHsva(e);a.current={hsva:u,color:e},o(u)}},[e,t]),D.useEffect(function(){var u;a_(s,a.current.hsva)||t.equal(u=t.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,t,r]);var l=D.useCallback(function(u){o(function(c){return Object.assign({},c,u)})},[]);return[s,l]}var UCe=typeof window<"u"?D.useLayoutEffect:D.useEffect,kCe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},eU=new Map,BX=function(t){UCe(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!eU.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,eU.set(e,n);var r=kCe();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},NCe=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=i_(t,["className","colorModel","color","onChange"]),a=D.useRef(null);BX(a);var l=bX(n,i,s),u=l[0],c=l[1],f=a2(["react-colorful",e]);return te.createElement("div",Lm({},o,{ref:a,className:f}),te.createElement(IX,{hsva:u,onChange:c}),te.createElement(_X,{hue:u.h,onChange:c,className:"react-colorful__last-control"}))},GCe=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+FS(Object.assign({},n,{a:0}))+", "+FS(Object.assign({},n,{a:1}))+")"},s=a2(["react-colorful__alpha",e]),o=ws(100*n.a);return te.createElement("div",{className:s},te.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),te.createElement(s_,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:am(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},te.createElement(o_,{className:"react-colorful__alpha-pointer",left:n.a,color:FS(n)})))},zCe=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,o=i_(t,["className","colorModel","color","onChange"]),a=D.useRef(null);BX(a);var l=bX(n,i,s),u=l[0],c=l[1],f=a2(["react-colorful",e]);return te.createElement("div",Lm({},o,{ref:a,className:f}),te.createElement(IX,{hsva:u,onChange:c}),te.createElement(_X,{hue:u.h,onChange:c}),te.createElement(GCe,{hsva:u,onChange:c,className:"react-colorful__last-control"}))},HCe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:MX,fromHsva:TX,equal:a_},QCe=function(t){return te.createElement(zCe,Lm({},t,{colorModel:HCe}))},VCe={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return MX({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=TX(t)).r,g:e.g,b:e.b};var e},equal:a_},WCe=function(t){return te.createElement(NCe,Lm({},t,{colorModel:VCe}))};function Fm(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function Om(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function jCe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function XCe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jCe(arguments[e]));return t}var YCe=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function l2(t,e){var n=KCe(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function KCe(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=YCe.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var JCe=[".DS_Store","Thumbs.db"];function qCe(t){return Fm(this,void 0,void 0,function(){return Om(this,function(e){return kx(t)&&ZCe(t)?[2,nwe(t.dataTransfer,t.type)]:$Ce(t)?[2,ewe(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,twe(t)]:[2,[]]})})}function ZCe(t){return kx(t.dataTransfer)}function $Ce(t){return kx(t)&&kx(t.target)}function kx(t){return typeof t=="object"&&t!==null}function ewe(t){return FT(t.target.files).map(function(e){return l2(e)})}function twe(t){return Fm(this,void 0,void 0,function(){var e;return Om(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return l2(r)})]}})})}function nwe(t,e){return Fm(this,void 0,void 0,function(){var n,r;return Om(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=FT(t.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(rwe))]):[3,2];case 1:return r=i.sent(),[2,tU(RX(r))];case 2:return[2,tU(FT(t.files).map(function(s){return l2(s)}))]}})})}function tU(t){return t.filter(function(e){return JCe.indexOf(e.name)===-1})}function FT(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function rwe(t){if(typeof t.webkitGetAsEntry!="function")return nU(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?DX(e):nU(t)}function RX(t){return t.reduce(function(e,n){return XCe(e,Array.isArray(n)?RX(n):[n])},[])}function nU(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=l2(e);return Promise.resolve(n)}function iwe(t){return Fm(this,void 0,void 0,function(){return Om(this,function(e){return[2,t.isDirectory?DX(t):swe(t)]})})}function DX(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Fm(o,void 0,void 0,function(){var l,u,c;return Om(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return u=f.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(a.map(iwe)),i.push(c),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function swe(t){return Fm(this,void 0,void 0,function(){return Om(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var s=l2(i,t.fullPath);n(s)},function(i){r(i)})})]})})}var owe=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function rU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(n),!0).forEach(function(r){PX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sU(t,e){return cwe(t)||uwe(t,e)||lwe(t,e)||awe()}function awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lwe(t,e){if(t){if(typeof t=="string")return oU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oU(t,e)}}function oU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function cwe(t){if(Array.isArray(t))return t}var fwe="file-invalid-type",hwe="file-too-large",dwe="file-too-small",pwe="too-many-files",mwe=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:fwe,message:"File type must be ".concat(n)}},aU=function(e){return{code:hwe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},lU=function(e){return{code:dwe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},gwe={code:pwe,message:"Too many files"};function LX(t,e){var n=t.type==="application/x-moz-file"||owe(t,e);return[n,n?null:mwe(e)]}function FX(t,e,n){if($g(t.size))if($g(e)&&$g(n)){if(t.size>n)return[!1,aU(n)];if(t.size<e)return[!1,lU(e)]}else{if($g(e)&&t.size<e)return[!1,lU(e)];if($g(n)&&t.size>n)return[!1,aU(n)]}return[!0,null]}function $g(t){return t!=null}function Awe(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=LX(a,n),u=sU(l,1),c=u[0],f=FX(a,r,i),h=sU(f,1),d=h[0];return c&&d})}function Nx(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Ny(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function uU(t){t.preventDefault()}function vwe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function ywe(t){return t.indexOf("Edge/")!==-1}function xwe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vwe(t)||ywe(t)}function bl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!Nx(r)&&a&&a.apply(void 0,[r].concat(s)),Nx(r)})}}function Ewe(){return"showOpenFilePicker"in window}function Swe(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return iU(iU({},e),{},PX({},n,[]))},{}):{}}]}function Cwe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function wwe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var Twe=["children"],Mwe=["open"],_we=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Iwe=["refKey","onChange","onClick"];function bwe(t){return Dwe(t)||Rwe(t)||OX(t)||Bwe()}function Bwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dwe(t){if(Array.isArray(t))return OT(t)}function OS(t,e){return Fwe(t)||Lwe(t,e)||OX(t,e)||Pwe()}function Pwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(t,e){if(t){if(typeof t=="string")return OT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OT(t,e)}}function OT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Fwe(t){if(Array.isArray(t))return t}function cU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(n),!0).forEach(function(r){UT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gx(t,e){if(t==null)return{};var n=Owe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Owe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var l_=D.forwardRef(function(t,e){var n=t.children,r=Gx(t,Twe),i=kX(r),s=i.open,o=Gx(i,Mwe);return D.useImperativeHandle(e,function(){return{open:s}},[s]),te.createElement(D.Fragment,null,n(mr(mr({},o),{},{open:s})))});l_.displayName="Dropzone";var UX={disabled:!1,getFilesFromEvent:qCe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};l_.defaultProps=UX;l_.propTypes={children:Wn.func,accept:Wn.oneOfType([Wn.string,Wn.arrayOf(Wn.string)]),multiple:Wn.bool,preventDropOnDocument:Wn.bool,noClick:Wn.bool,noKeyboard:Wn.bool,noDrag:Wn.bool,noDragEventsBubbling:Wn.bool,minSize:Wn.number,maxSize:Wn.number,maxFiles:Wn.number,disabled:Wn.bool,getFilesFromEvent:Wn.func,onFileDialogCancel:Wn.func,onFileDialogOpen:Wn.func,useFsAccessApi:Wn.bool,onDragEnter:Wn.func,onDragLeave:Wn.func,onDragOver:Wn.func,onDrop:Wn.func,onDropAccepted:Wn.func,onDropRejected:Wn.func,validator:Wn.func};var kT={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function kX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=mr(mr({},UX),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,f=e.onDragOver,h=e.onDrop,d=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,y=e.onFileDialogOpen,A=e.useFsAccessApi,x=e.preventDropOnDocument,E=e.noClick,S=e.noKeyboard,w=e.noDrag,M=e.noDragEventsBubbling,_=e.validator,b=D.useMemo(function(){return typeof y=="function"?y:fU},[y]),I=D.useMemo(function(){return typeof v=="function"?v:fU},[v]),B=D.useRef(null),L=D.useRef(null),F=D.useReducer(Uwe,kT),O=OS(F,2),G=O[0],V=O[1],Y=G.isFocused,J=G.isFileDialogActive,z=G.draggedFiles,W=D.useRef(typeof window<"u"&&window.isSecureContext&&A&&Ewe()),j=function(){!W.current&&J&&setTimeout(function(){if(L.current){var U=L.current.files;U.length||(V({type:"closeDialog"}),I())}},300)};D.useEffect(function(){return window.addEventListener("focus",j,!1),function(){window.removeEventListener("focus",j,!1)}},[L,J,I,W]);var Q=D.useRef([]),H=function(U){B.current&&B.current.contains(U.target)||(U.preventDefault(),Q.current=[])};D.useEffect(function(){return x&&(document.addEventListener("dragover",uU,!1),document.addEventListener("drop",H,!1)),function(){x&&(document.removeEventListener("dragover",uU),document.removeEventListener("drop",H))}},[B,x]);var ee=D.useCallback(function(N){N.preventDefault(),N.persist(),pe(N),Q.current=[].concat(bwe(Q.current),[N.target]),Ny(N)&&Promise.resolve(i(N)).then(function(U){Nx(N)&&!M||(V({draggedFiles:U,isDragActive:!0,type:"setDraggedFiles"}),u&&u(N))})},[i,u,M]),Z=D.useCallback(function(N){N.preventDefault(),N.persist(),pe(N);var U=Ny(N);if(U&&N.dataTransfer)try{N.dataTransfer.dropEffect="copy"}catch{}return U&&f&&f(N),!1},[f,M]),ne=D.useCallback(function(N){N.preventDefault(),N.persist(),pe(N);var U=Q.current.filter(function(_e){return B.current&&B.current.contains(_e)}),re=U.indexOf(N.target);re!==-1&&U.splice(re,1),Q.current=U,!(U.length>0)&&(V({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Ny(N)&&c&&c(N))},[B,c,M]),oe=D.useCallback(function(N,U){var re=[],_e=[];N.forEach(function(Te){var Ie=LX(Te,n),He=OS(Ie,2),Ne=He[0],ge=He[1],Ge=FX(Te,o,s),qe=OS(Ge,2),Ve=qe[0],Oe=qe[1],ze=_?_(Te):null;if(Ne&&Ve&&!ze)re.push(Te);else{var it=[ge,Oe];ze&&(it=it.concat(ze)),_e.push({file:Te,errors:it.filter(function(vt){return vt})})}}),(!a&&re.length>1||a&&l>=1&&re.length>l)&&(re.forEach(function(Te){_e.push({file:Te,errors:[gwe]})}),re.splice(0)),V({acceptedFiles:re,fileRejections:_e,type:"setFiles"}),h&&h(re,_e,U),_e.length>0&&g&&g(_e,U),re.length>0&&d&&d(re,U)},[V,a,n,o,s,l,h,d,g,_]),se=D.useCallback(function(N){N.preventDefault(),N.persist(),pe(N),Q.current=[],Ny(N)&&Promise.resolve(i(N)).then(function(U){Nx(N)&&!M||oe(U,N)}),V({type:"reset"})},[i,oe,M]),he=D.useCallback(function(){if(W.current){V({type:"openDialog"}),b();var N={multiple:a,types:Swe(n)};window.showOpenFilePicker(N).then(function(U){return i(U)}).then(function(U){oe(U,null),V({type:"closeDialog"})}).catch(function(U){Cwe(U)?(I(U),V({type:"closeDialog"})):wwe(U)&&(W.current=!1,L.current&&(L.current.value=null,L.current.click()))});return}L.current&&(V({type:"openDialog"}),b(),L.current.value=null,L.current.click())},[V,b,I,A,oe,n,a]),we=D.useCallback(function(N){!B.current||!B.current.isEqualNode(N.target)||(N.key===" "||N.key==="Enter"||N.keyCode===32||N.keyCode===13)&&(N.preventDefault(),he())},[B,he]),ke=D.useCallback(function(){V({type:"focus"})},[]),Se=D.useCallback(function(){V({type:"blur"})},[]),X=D.useCallback(function(){E||(xwe()?setTimeout(he,0):he())},[E,he]),ve=function(U){return r?null:U},de=function(U){return S?null:ve(U)},xe=function(U){return w?null:ve(U)},pe=function(U){M&&U.stopPropagation()},je=D.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=N.refKey,re=U===void 0?"ref":U,_e=N.role,Te=N.onKeyDown,Ie=N.onFocus,He=N.onBlur,Ne=N.onClick,ge=N.onDragEnter,Ge=N.onDragOver,qe=N.onDragLeave,Ve=N.onDrop,Oe=Gx(N,_we);return mr(mr(UT({onKeyDown:de(bl(Te,we)),onFocus:de(bl(Ie,ke)),onBlur:de(bl(He,Se)),onClick:ve(bl(Ne,X)),onDragEnter:xe(bl(ge,ee)),onDragOver:xe(bl(Ge,Z)),onDragLeave:xe(bl(qe,ne)),onDrop:xe(bl(Ve,se)),role:typeof _e=="string"&&_e!==""?_e:"button"},re,B),!r&&!S?{tabIndex:0}:{}),Oe)}},[B,we,ke,Se,X,ee,Z,ne,se,S,w,r]),Ae=D.useCallback(function(N){N.stopPropagation()},[]),Le=D.useMemo(function(){return function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=N.refKey,re=U===void 0?"ref":U,_e=N.onChange,Te=N.onClick,Ie=Gx(N,Iwe),He=UT({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:ve(bl(_e,se)),onClick:ve(bl(Te,Ae)),tabIndex:-1},re,L);return mr(mr({},He),Ie)}},[L,n,a,se,r]),Ue=z.length,Ce=Ue>0&&Awe({files:z,accept:n,minSize:o,maxSize:s,multiple:a,maxFiles:l}),Je=Ue>0&&!Ce;return mr(mr({},G),{},{isDragAccept:Ce,isDragReject:Je,isFocused:Y&&!r,getRootProps:je,getInputProps:Le,rootRef:B,inputRef:L,open:ve(he)})}function Uwe(t,e){switch(e.type){case"focus":return mr(mr({},t),{},{isFocused:!0});case"blur":return mr(mr({},t),{},{isFocused:!1});case"openDialog":return mr(mr({},kT),{},{isFileDialogActive:!0});case"closeDialog":return mr(mr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return mr(mr({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return mr(mr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return mr({},kT);default:return t}}function fU(){}function kwe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(d=>d(e,h))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function d(){const g=c(e);if(!f(h,g)){const v=h;u(h=g,v)}}return n.add(d),()=>n.delete(d)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Nwe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),hU=Nwe?D.useEffect:D.useLayoutEffect;function Gwe(t){const e=typeof t=="function"?kwe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=D.useReducer(y=>y+1,0),o=e.getState(),a=D.useRef(o),l=D.useRef(r),u=D.useRef(i),c=D.useRef(!1),f=D.useRef();f.current===void 0&&(f.current=r(o));let h,d=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),d=!i(f.current,h)),hU(()=>{d&&(f.current=h),a.current=o,l.current=r,u.current=i,c.current=!1});const g=D.useRef(o);hU(()=>{const y=()=>{try{const x=e.getState(),E=l.current(x);u.current(f.current,E)||(a.current=x,f.current=E,s())}catch{c.current=!0,s()}},A=e.subscribe(y);return e.getState()!==g.current&&y(),A},[]);const v=d?h:f.current;return D.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const zwe=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());u=h=>{const d=o(h);if(!c(f,d)){const g=f;a(f=d,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(u)},t(e,n,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Hwe=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Qwe=Hwe;function dU(t){return Qwe(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var NX=function(e){var n,r;return!(dU(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,dU(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Vwe=NX,u_=function(e){return Vwe(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Wwe=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break},jwe=u_,Xwe=Wwe;function GX(t,e){for(var n=arguments.length,r=0;++r<n;){var i=arguments[r];NT(i)&&Xwe(i,Ywe,t)}return t}function Ywe(t,e){if(Kwe(e)){var n=this[e];NT(t)&&NT(n)?GX(n,t):this[e]=t}}function NT(t){return jwe(t)&&!Array.isArray(t)}function Kwe(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var Jwe=GX;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var qwe=function(t,e,n,r,i){if(!Zwe(t)||!e)return t;if(e=Gy(e),n&&(e+="."+Gy(n)),r&&(e+="."+Gy(r)),i&&(e+="."+Gy(i)),e in t)return t[e];for(var s=e.split("."),o=s.length,a=-1;t&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];t=t[l]}return t};function Zwe(t){return t!==null&&(typeof t=="object"||typeof t=="function")}function Gy(t){return t?Array.isArray(t)?t.join("."):t:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var $we=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var u=a[l];n.call(o,u)&&(r[u]=o[u])}return r},eTe=u_,tTe=$we,nTe=Object.assign||function(t){if(t===null||typeof t>"u")throw new TypeError("Cannot convert undefined or null to object");pU(t)||(t={});for(var e=1;e<arguments.length;e++){var n=arguments[e];iTe(n)&&(n=sTe(n)),pU(n)&&(rTe(t,n),tTe(t,n))}return t};function rTe(t,e){for(var n in e)oTe(e,n)&&(t[n]=e[n])}function iTe(t){return t&&typeof t=="string"}function sTe(t){var e={};for(var n in t)e[n]=t[n];return e}function pU(t){return t&&typeof t=="object"||eTe(t)}function oTe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var aTe=nTe,lTe=function(t,e,n){if(typeof t!="string")throw new TypeError("expected a string");typeof e=="function"&&(n=e,e=null),typeof e=="string"&&(e={sep:e});var r=aTe({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],u=r.sep,c=t.length,f=-1,h;function d(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<c;){var g=t[f],v=t[f+1],y={val:g,idx:f,arr:l,str:t};if(o.push(y),g==="\\"){y.val=cTe(r,t,f)===!0?g+v:v,y.escaped=!0,typeof n=="function"&&n(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[g]){a.push(g);var A=d(),x=f+1;if(t.indexOf(A,x+1)!==-1)for(;a.length&&x<c;){var E=t[++x];if(E==="\\"){E++;continue}if(i.indexOf(E)!==-1){x=GT(t,E,x+1);continue}if(A=d(),a.length&&t.indexOf(A,x+1)===-1)break;if(s[E]){a.push(E);continue}A===E&&a.pop()}if(h=x,h===-1){l[l.length-1]+=g;continue}g=t.slice(f,h+1),y.val=g,y.idx=f=h}if(i.indexOf(g)!==-1){if(h=GT(t,g,f+1),h===-1){l[l.length-1]+=g;continue}uTe(g,r)===!0?g=t.slice(f,h+1):g=t.slice(f+1,h),y.val=g,y.idx=f=h}if(typeof n=="function"&&(n(y,o),g=y.val,f=y.idx),y.val===u&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function GT(t,e,n,r){var i=t.indexOf(e,n);return t.charAt(i-1)==="\\"?GT(t,e,i+1):i}function uTe(t,e){return e.keepDoubleQuotes===!0&&t==='"'||e.keepSingleQuotes===!0&&t==="'"?!0:e.keepQuotes}function cTe(t,e,n){return typeof t.keepEscaping=="function"?t.keepEscaping(e,n):t.keepEscaping===!0||e[n+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var fTe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},mU=fTe,hTe=function(e){mU(e)||(e={});for(var n=arguments.length,r=1;r<n;r++){var i=arguments[r];mU(i)&&dTe(e,i)}return e};function dTe(t,e){for(var n in e)pTe(e,n)&&(t[n]=e[n])}function pTe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var mTe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var gTe=lTe,ATe=hTe,gU=NX,AU=mTe,vTe=function(t,e,n){if(!AU(t)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return t;for(var r=gTe(e,{sep:".",brackets:!0}).filter(yTe),i=r.length,s=-1,o=t;++s<i;){var a=r[s];if(s!==i-1){AU(o[a])||(o[a]={}),o=o[a];continue}gU(o[a])&&gU(n)?o[a]=ATe({},o[a],n):o[a]=n}return t};function yTe(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}var US=u_,vU=Jwe,xTe=qwe,yU=vTe,ETe=function(e,n,r){if(!US(e))throw new TypeError("expected an object");if(typeof n!="string"||r==null)return vU.apply(null,arguments);if(typeof r=="string")return yU(e,n,r),e;var i=xTe(e,n);return US(r)&&US(i)&&(r=vU({},i,r)),yU(e,n,r),e};const STe=Td(ETe),c_=(...t)=>t.filter(Boolean).join(".");function CTe(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function wTe(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!0);return D.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),D.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{t&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=n.current.getBoundingClientRect();return s.style.height=a+"px",t||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const TTe=t=>{const[e,n]=D.useState(t.getVisiblePaths());return D.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:Ij});return()=>r()},[t]),e};function zX(t=3){const e=D.useRef(null),n=D.useRef(null),[r,i]=D.useState(!1),s=D.useCallback(()=>i(!0),[]),o=D.useCallback(()=>i(!1),[]);return D.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:u}=e.current.getBoundingClientRect(),{height:c}=n.current.getBoundingClientRect(),f=a+c>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px",f==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-l+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:s,hide:o}}FCe([OCe]);const MTe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Qs.extend({color:()=>t=>Ss(t).isValid()});const _Te=t=>Qs().color().test(t);function HX(t,{format:e,hasAlpha:n,isString:r}){const i=MTe[e]+(r&&e!=="hex"?"String":""),s=t[i]();return typeof s=="object"&&!n?tSe(s,["a"]):s}const QX=(t,e)=>{const n=Ss(t);if(!n.isValid())throw Error("Invalid color");return HX(n,e)},ITe=(t,e)=>HX(Ss(t),jt(jt({},e),{},{isString:!0,format:"hex"})),bTe=({value:t})=>{const e=LCe(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:QX(t,i),settings:i}};var BTe=Object.freeze({__proto__:null,schema:_Te,sanitize:QX,format:ITe,normalize:bTe});const RTe=Bt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),DTe=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),PTe=Bt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function xU(t,e){return e!=="rgb"?Ss(t).toRgb():t}function LTe({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=as(),{format:o,hasAlpha:a}=n,{popinRef:l,wrapperRef:u,shown:c,show:f,hide:h}=zX(),d=D.useRef(0),[g,v]=D.useState(()=>xU(t,o)),y=a?QCe:WCe,A=()=>{v(xU(t,o)),f(),i()},x=()=>{h(),s(),window.clearTimeout(d.current)},E=()=>{d.current=window.setTimeout(x,500)};return D.useEffect(()=>()=>window.clearTimeout(d.current),[]),te.createElement(te.Fragment,null,te.createElement(RTe,{ref:l,active:c,onClick:()=>A(),style:{color:e}}),c&&te.createElement(t_,null,te.createElement(fX,{onPointerUp:x}),te.createElement(PTe,{ref:u,onMouseEnter:()=>window.clearTimeout(d.current),onMouseLeave:S=>S.buttons===0&&E()},te.createElement(y,{color:g,onChange:r}))))}function FTe(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:s}=as();return te.createElement(Oa,{input:!0},te.createElement(Al,null,n),te.createElement(DTe,null,te.createElement(LTe,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:s}),te.createElement(e_,{value:e,onChange:r,onUpdate:i})))}var OTe=jt({component:FTe},BTe);function UTe(){const{label:t,displayValue:e,onUpdate:n,settings:r}=as();return te.createElement(Oa,{input:!0},te.createElement(Al,null,t),te.createElement(r_,{value:e,settings:r,onUpdate:n}))}var kTe=jt({component:UTe},yX(["x","y","z"]));const NTe=Bt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),GTe=Bt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function zTe({value:t,settings:e,onUpdate:n}){const r=D.useRef(),i=D.useRef(0),s=D.useRef(0),o=D.useRef(1),[a,l]=D.useState(!1),[u,c]=D.useState(!1),[f,h]=dX(),d=D.useRef(null),g=D.useRef(null);D.useLayoutEffect(()=>{if(a){const{top:F,left:O,width:G,height:V}=d.current.getBoundingClientRect();g.current.style.left=O+G/2+"px",g.current.style.top=F+V/2+"px"}},[a]);const{keys:[v,y],joystick:A}=e,x=A==="invertY"?1:-1,{[v]:{step:E},[y]:{step:S}}=e,w=Ku("sizes","joystickWidth"),M=Ku("sizes","joystickHeight"),_=parseFloat(w)*.8/2,b=parseFloat(M)*.8/2,I=D.useCallback(()=>{r.current||(c(!0),i.current&&h({x:i.current*_}),s.current&&h({y:s.current*-b}),r.current=window.setInterval(()=>{n(F=>{const O=E*i.current*o.current,G=x*S*s.current*o.current;return Array.isArray(F)?{[v]:F[0]+O,[y]:F[1]+G}:{[v]:F[v]+O,[y]:F[y]+G}})},16))},[_,b,n,h,E,S,v,y,x]),B=D.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,c(!1)},[]);D.useEffect(()=>{function F(O){o.current=qj(O)}return window.addEventListener("keydown",F),window.addEventListener("keyup",F),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",F),window.removeEventListener("keyup",F)}},[]);const L=o2(({first:F,active:O,delta:[G,V],movement:[Y,J]})=>{F&&l(!0);const z=Df(Y,-_,_),W=Df(J,-b,b);i.current=Math.abs(Y)>Math.abs(z)?Math.sign(Y-z):0,s.current=Math.abs(J)>Math.abs(W)?Math.sign(W-J):0;let j=t[v],Q=t[y];O?(i.current||(j+=G*E*o.current,h({x:z})),s.current||(Q-=x*V*S*o.current,h({y:W})),i.current||s.current?I():B(),n({[v]:j,[y]:Q})):(l(!1),i.current=0,s.current=0,h({x:0,y:0}),B())});return te.createElement(NTe,ri({ref:d},L()),a&&te.createElement(t_,null,te.createElement(GTe,{ref:g,isOutOfBounds:u},te.createElement("div",null),te.createElement("span",{ref:f}))))}const HTe=Bt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function QTe(){const{label:t,displayValue:e,onUpdate:n,settings:r}=as();return te.createElement(Oa,{input:!0},te.createElement(Al,null,t),te.createElement(HTe,{withJoystick:!!r.joystick},r.joystick&&te.createElement(zTe,{value:e,settings:r,onUpdate:n}),te.createElement(r_,{value:e,settings:r,onUpdate:n})))}const VTe=["joystick"],VX=yX(["x","y"]),WTe=t=>{let{joystick:e=!0}=t,n=Zn(t,VTe);const{value:r,settings:i}=VX.normalize(n);return{value:r,settings:jt(jt({},i),{},{joystick:e})}};var jTe=jt(jt({component:QTe},VX),{},{normalize:WTe});const XTe=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob | File].")}},YTe=(t,e)=>typeof e=="object"&&"image"in e,KTe=({image:t})=>({value:t});var JTe=Object.freeze({__proto__:null,sanitize:XTe,schema:YTe,normalize:KTe});const qTe=Bt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),ZTe=Bt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),$Te=Bt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),e9e=Bt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),t9e=Bt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),n9e=Bt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function r9e(){const{label:t,value:e,onUpdate:n,disabled:r}=as(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=zX(),u=D.useCallback(g=>{g.length&&n(g[0])},[n]),c=D.useCallback(g=>{g.stopPropagation(),n(void 0)},[n]),{getRootProps:f,getInputProps:h,isDragAccept:d}=kX({maxFiles:1,accept:"image/*",onDrop:u,disabled:r});return te.createElement(Oa,{input:!0},te.createElement(Al,null,t),te.createElement(qTe,null,te.createElement($Te,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&te.createElement(t_,null,te.createElement(fX,{onPointerUp:l,style:{cursor:"pointer"}}),te.createElement(e9e,{ref:s,style:{backgroundImage:`url(${e})`}})),te.createElement(ZTe,f({isDragAccept:d}),te.createElement("input",h()),te.createElement(t9e,null,d?"drop image":"click or drop")),te.createElement(n9e,{onClick:c,disabled:!e})))}var i9e=jt({component:r9e},JTe);const EU=Qs().number(),s9e=(t,e)=>Qs().array().length(2).every.number().test(t)&&Qs().schema({min:EU,max:EU}).test(e),zx=t=>({min:t[0],max:t[1]}),WX=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?zx(t):t,s={min:r[0],max:r[1]},{min:o,max:a}=jt(jt({},s),i);return[Df(Number(o),e,Math.max(e,a)),Df(Number(a),Math.min(n,o),n)]},o9e=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=vX(zx(t),{min:r,max:r}),s=[e,n],o=jt(jt({},i),{},{bounds:s});return{value:WX(zx(t),o,t),settings:o}};var a9e=Object.freeze({__proto__:null,schema:s9e,format:zx,sanitize:WX,normalize:o9e});const l9e=["value","bounds","onDrag"],u9e=["bounds"],c9e=Bt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function f9e(t){let{value:e,bounds:[n,r],onDrag:i}=t,s=Zn(t,l9e);const o=D.useRef(null),a=D.useRef(null),l=D.useRef(null),u=D.useRef(0),c=Ku("sizes","scrubberWidth"),f=o2(({event:g,first:v,xy:[y],movement:[A],memo:x={}})=>{if(v){const{width:S,left:w}=o.current.getBoundingClientRect();u.current=S-parseFloat(c);const M=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;x.pos=Ox((y-w)/S,n,r);const _=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=_<0||_===0&&x.pos<=e.min?"min":"max",M&&(x.pos=e[x.key])}const E=x.pos+Ox(A/u.current,0,r-n);return i({[x.key]:zSe(E,s[x.key])}),x}),h=`calc(${Fx(e.min,n,r)} * (100% - ${c} - 8px) + 4px)`,d=`calc(${1-Fx(e.max,n,r)} * (100% - ${c} - 8px) + 4px)`;return te.createElement(mX,ri({ref:o},f()),te.createElement(pX,null,te.createElement(gX,{style:{left:h,right:d}})),te.createElement(IT,{position:"left",ref:a,style:{left:h}}),te.createElement(IT,{position:"right",ref:l,style:{right:d}}))}function h9e(){const{label:t,displayValue:e,onUpdate:n,settings:r}=as(),i=Zn(r,u9e);return te.createElement(te.Fragment,null,te.createElement(Oa,{input:!0},te.createElement(Al,null,t),te.createElement(c9e,null,te.createElement(f9e,ri({value:e},r,{onDrag:n})),te.createElement(r_,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var d9e=jt({component:h9e},a9e);const p9e=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},m9e=["type","value"],g9e=["onChange","transient","onEditStart","onEditEnd"],A9e=function(){const e=Gwe(zwe(()=>({data:{}}))),n=p9e();this.storeId=eSe(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([c,f])=>{f.render&&a.some(h=>h.indexOf(c)===0)&&!f.render(this.get)&&l.push(c+".")});const u=[];return i.forEach(c=>{c in o&&o[c].__refCount>0&&l.every(f=>c.indexOf(f)===-1)&&(!o[c].render||o[c].render(this.get))&&u.push(c)}),u},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(u=>{if(u in l){const c=l[u];c.__refCount--,c.__refCount===0&&c.type in $l&&delete l[u]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{let h=u[c];if(h){const{type:d,value:g}=f,v=Zn(f,m9e);d!==h.type?Gu(gr.INPUT_TYPE_OVERRIDE,d):((h.__refCount===0||a)&&Object.assign(h,v),h.__refCount++)}else u[c]=jt(jt({},f),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(o,a,l)=>{e.setState(u=>{const c=u.data;return VO(c[o],a,o,this,l),{data:c}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].settings=jt(jt({},u[o].settings),a),{data:u}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const u=l.data;return u[o].disabled=a,{data:u}})},this.set=(o,a)=>{e.setState(l=>{const u=l.data;return Object.entries(o).forEach(([c,f])=>{try{VO(u[c],f,void 0,void 0,a)}catch{}}),{data:u}})},this.getInput=o=>{try{return this.getData()[o]}catch{Gu(gr.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{n.emit(`onEditStart:${o}`,this.get(o),o,jt(jt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{n.emit(`onEditEnd:${o}`,this.get(o),o,jt(jt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return n.on(l,a),()=>n.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return n.on(l,a),()=>n.off(l,a)};const s=(o,a,l)=>{const u={};return Object.entries(o).forEach(([c,f])=>{if(c==="")return Gu(gr.EMPTY_KEY);let h=c_(a,c);if(f.type===$l.FOLDER){const d=s(f.schema,h,l);Object.assign(u,d),h in r||(r[h]=f.settings)}else if(c in l)Gu(gr.DUPLICATE_KEYS,c,h,l[c].path);else{const d=aSe(f,c,h,u);if(d){const{type:g,options:v,input:y}=d,{onChange:A,transient:x,onEditStart:E,onEditEnd:S}=v,w=Zn(v,g9e);u[h]=jt(jt(jt({type:g},w),y),{},{fromPanel:!0}),l[c]={path:h,onChange:A,transient:x,onEditStart:E,onEditEnd:S}}else Gu(gr.UNKNOWN_INPUT,h,f)}}),u};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}};new A9e;const SU=t=>"__levaInput"in t,v9e=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[s,o]=CTe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&STe(n,o,{[s]:{__levaInput:!0,path:i}})}),n},y9e=["type","label","path","valueKey","value","settings","setValue","disabled"];function x9e(t){let{type:e,label:n,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=t,u=Zn(t,y9e);const{displayValue:c,onChange:f,onUpdate:h}=hX({type:e,value:s,settings:o,setValue:a}),d=Cd[e].component;return d?te.createElement(nX.Provider,{value:jt({key:i,path:r,id:""+r,label:n,displayValue:c,value:s,onChange:f,onUpdate:h,settings:o,setValue:a,disabled:l},u)},te.createElement(TSe,{disabled:l},te.createElement(d,null))):(Gu(gr.NO_COMPONENT_FOR_TYPE,e,r),null)}const E9e=Bt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function S9e({onClick:t,settings:e,label:n}){const r=s2();return te.createElement(Oa,null,te.createElement(E9e,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const C9e=Bt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),w9e=Bt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),T9e=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function M9e(t){const{label:e,opts:n}=T9e(t),r=s2();return te.createElement(Oa,{input:!!e},e&&te.createElement(Al,null,e),te.createElement(C9e,null,Object.entries(n).map(([i,s])=>te.createElement(w9e,{key:i,onClick:()=>s(r.get)},i))))}const _9e=Bt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),jX=100;function I9e(t,e){t.push(e),t.length>jX&&t.shift()}const b9e=D.forwardRef(function({initialValue:t},e){const n=Ku("colors","highlight3"),r=Ku("colors","elevation2"),i=Ku("colors","highlight1"),[s,o]=D.useMemo(()=>[Ss(i).alpha(.4).toRgbString(),Ss(i).alpha(.1).toRgbString()],[i]),a=D.useRef([t]),l=D.useRef(t),u=D.useRef(t),c=D.useRef(),f=D.useCallback((g,v)=>{if(!g)return;const{width:y,height:A}=g,x=new Path2D,E=y/jX,S=A*.05;for(let _=0;_<a.current.length;_++){const b=Fx(a.current[_],l.current,u.current),I=E*_,B=A-b*(A-S*2)-S;x.lineTo(I,B)}v.clearRect(0,0,y,A);const w=new Path2D(x);w.lineTo(E*(a.current.length+1),A),w.lineTo(0,A),w.lineTo(0,0);const M=v.createLinearGradient(0,0,0,A);M.addColorStop(0,s),M.addColorStop(1,o),v.fillStyle=M,v.fill(w),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(x),v.strokeStyle=n,v.lineWidth=2,v.stroke(x)},[n,r,s,o]),[h,d]=LSe(f);return D.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(u.current===void 0||g>u.current)&&(u.current=g),I9e(a.current,g),c.current=requestAnimationFrame(()=>f(h.current,d.current))}}),[h,d,f]),D.useEffect(()=>()=>cancelAnimationFrame(c.current),[]),te.createElement(_9e,{ref:h})}),CU=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),B9e=D.forwardRef(function({initialValue:t},e){const[n,r]=D.useState(CU(t));return D.useImperativeHandle(e,()=>({frame:i=>r(CU(i))}),[]),te.createElement("div",null,n)});function wU(t){return typeof t=="function"?t():t.current}function R9e({label:t,objectOrFn:e,settings:n}){const r=D.useRef(),i=D.useRef(wU(e));return D.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(wU(e))},n.interval);return()=>window.clearInterval(s)},[e,n.interval]),te.createElement(Oa,{input:!0},te.createElement(Al,{align:"top"},t),n.graph?te.createElement(b9e,{ref:r,initialValue:i.current}):te.createElement(B9e,{ref:r,initialValue:i.current}))}const D9e=["type","label","key"],P9e={[$l.BUTTON]:S9e,[$l.BUTTON_GROUP]:M9e,[$l.MONITOR]:R9e},L9e=te.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=OSe(t);if(!e)return null;const{type:l,label:u,key:c}=e,f=Zn(e,D9e);if(l in $l){const h=P9e[l];return te.createElement(h,ri({label:u,path:t},f))}return l in Cd?te.createElement(x9e,ri({key:s+t,type:l,label:u,storeId:s,path:t,valueKey:c,setValue:n,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(j8e(gr.UNSUPPORTED_INPUT,l,t),null)});function F9e({toggle:t,toggled:e,name:n}){return te.createElement(SSe,{onClick:()=>t()},te.createElement(n_,{toggled:e}),te.createElement("div",null,n))}const O9e=({name:t,path:e,tree:n})=>{const r=s2(),i=c_(e,t),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=D.useState(!s),u=D.useRef(null),c=Ku("colors","folderWidgetColor"),f=Ku("colors","folderTextColor");return D.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",o||c),u.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,c,f]),te.createElement(Ux,{ref:u},te.createElement(F9e,{name:t,toggled:a,toggle:()=>l(h=>!h)}),te.createElement(XX,{parent:i,tree:n,toggled:a}))},XX=te.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=wTe(s),l=s2(),u=([f,h])=>{var d;return(SU(h)?(d=l.getInput(h.path))===null||d===void 0?void 0:d.order:l.getFolderSettings(c_(r,f)).order)||0},c=Object.entries(i).sort((f,h)=>u(f)-u(h));return te.createElement(MT,{ref:o,isRoot:t,fill:e,flat:n},te.createElement(lX,{ref:a,isRoot:t,toggled:s},c.map(([f,h])=>SU(h)?te.createElement(L9e,{key:h.path,valueKey:h.valueKey,path:h.path}):te.createElement(O9e,{key:f,name:f,path:r,tree:h}))))}),U9e=Bt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${cX}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),YX=40,Hx=Bt("i",{$flexCenter:"",width:YX,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),k9e=Bt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),N9e=Bt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Hx}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),G9e=Bt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),z9e=Bt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:YX}}}}),H9e=te.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=D.useState(""),s=D.useMemo(()=>Jj(t,250),[t]),o=()=>{t(""),i("")},a=l=>{const u=l.currentTarget.value;e(!0),i(u)};return D.useEffect(()=>{s(r)},[r,s]),te.createElement(te.Fragment,null,te.createElement(G9e,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),te.createElement(Hx,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Q9e({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:u}){const[c,f]=D.useState(!1),h=D.useRef(null);D.useEffect(()=>{var g,v;c?(g=h.current)===null||g===void 0||g.focus():(v=h.current)===null||v===void 0||v.blur()},[c]);const d=o2(({offset:[g,v],first:y,last:A})=>{e({x:g,y:v}),y&&n({x:g,y:v}),A&&r({x:g,y:v})},{filterTaps:!0,from:({offset:[g,v]})=>[(u==null?void 0:u.x)||g,(u==null?void 0:u.y)||v]});return D.useEffect(()=>{const g=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&f(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),te.createElement(te.Fragment,null,te.createElement(k9e,{mode:a?"drag":void 0},te.createElement(Hx,{active:!s,onClick:()=>i()},te.createElement(n_,{toggled:s,width:12,height:8})),te.createElement(z9e,ri({},a?d():{},{drag:a,filterEnabled:l}),o===void 0&&a?te.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},te.createElement("circle",{cx:"2",cy:"2",r:"2"}),te.createElement("circle",{cx:"14",cy:"2",r:"2"}),te.createElement("circle",{cx:"26",cy:"2",r:"2"}),te.createElement("circle",{cx:"2",cy:"12",r:"2"}),te.createElement("circle",{cx:"14",cy:"12",r:"2"}),te.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&te.createElement(Hx,{active:c,onClick:()=>f(g=>!g)},te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},te.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),te.createElement(N9e,{toggled:c},te.createElement(H9e,{ref:h,setFilter:t,toggle:i})))}te.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:u})=>{var c,f;const h=TTe(t),[d,g]=D.useState(""),v=D.useMemo(()=>v9e(h,d),[h,d]),[y,A]=dX(),x=i||h.length>0,E=typeof o=="object"&&o.title||void 0,S=typeof o=="object"&&(c=o.drag)!==null&&c!==void 0?c:!0,w=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,M=typeof o=="object"&&o.position||void 0,_=typeof o=="object"&&o.onDrag||void 0,b=typeof o=="object"&&o.onDragStart||void 0,I=typeof o=="object"&&o.onDragEnd||void 0;return te.useEffect(()=>{A({x:M==null?void 0:M.x,y:M==null?void 0:M.y})},[M,A]),gSe(),te.createElement(sX.Provider,{value:{hideCopyButton:a}},te.createElement(U9e,{ref:y,className:e,fill:n,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:x?"block":"none"}},o&&te.createElement(Q9e,{onDrag:B=>{A(B),_==null||_(B)},onDragStart:B=>b==null?void 0:b(B),onDragEnd:B=>I==null?void 0:I(B),setFilter:g,toggle:B=>u(L=>B??!L),toggled:l,title:E,drag:S,filterEnabled:w,from:M}),x&&te.createElement(iX.Provider,{value:t},te.createElement(XX,{isRoot:!0,fill:n,flat:r,tree:v,toggled:l}))))});Ac(ul.SELECT,$Se);Ac(ul.IMAGE,i9e);Ac(ul.NUMBER,QSe);Ac(ul.COLOR,OTe);Ac(ul.STRING,lCe);Ac(ul.BOOLEAN,mCe);Ac(ul.INTERVAL,d9e);Ac(ul.VECTOR3D,kTe);Ac(ul.VECTOR2D,jTe);function V9e(){const t=D.useRef(),e=D.useRef();D.useRef();const n=D.useRef(),r=qn(({camera:d})=>d),i=D.useRef(),s=D.useRef(),o=O3();let[a,l]=D.useState({value:1e3});const u=ni(d=>d.isZh);D.useLayoutEffect(()=>(r.position.set(0,0,5),r.quaternion.set(0,0,0,1),r.lookAt(0,0,0),r.updateProjectionMatrix(),ha.to(t.current.position,{duration:1.2,z:0,ease:"power3.inOut"}),s.current=ha.timeline(),s.current.addPause(0),s.current.add(ha.fromTo(i.current.position,{y:0},{y:3,duration:1})),s.current.add(ha.fromTo(i.current.scale,{x:1,y:1,z:1},{duration:1,x:.8,y:.8,z:.8}),0),s.current.add(ha.fromTo(n.current.position,{z:0},{duration:1,z:-100}),.5),()=>{s.current.clear()}));const c=1,f=.6;or(()=>{const d=o.range(c/Ms+f*(1/Ms),(1-f)*1/Ms);d>=1&&bf(eu.NEXT),s.current.seek(d*s.current.duration())});const h=.4;return wt("group",{ref:t,position:[0,0,-12],children:[ce(ave,{args:[.6,64,64],ref:i,children:ce("meshBasicMaterial",{color:[6,.5,2],toneMapped:!1})}),wt("group",{ref:n,children:[ce(uve,{speed:4,rotationIntensity:1,floatIntensity:4,children:ce(W9e,{position:[0,0,-3]})}),ce("group",{rotation:[0,0,0],position:[0,-1.5,0],children:u?wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",fontSize:h,position:[0,0,0],children:"我希望自己 "}),ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",fontSize:h,position:[0,-h*1.5,0],children:"勇敢，率真，诚恳"})]}):wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",fontSize:h,position:[0,0,0],children:"Try to be "}),ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",fontSize:h,position:[0,-h*1.5,0],children:"Brave  Innocent  Sincere"})]})}),ce(hve,{ref:e,radius:10,factor:2,saturation:1,count:a.value,speed:.5})]})]})}function W9e(t){return D.useMemo(()=>new S3(0,0,3,1.15,0,2*Math.PI,!1,0).getPoints(100),[]),wt("group",{...t,children:[ce(e1,{position:[0,0,.5],rotation:[0,0,0*Math.PI/5],speed:2,offset:.25*0}),ce(e1,{position:[0,0,.5],rotation:[0,0,1*Math.PI/5],speed:3,offset:.25*1}),ce(e1,{position:[0,0,.5],rotation:[0,0,2*Math.PI/5],speed:4,offset:.25*2}),ce(e1,{position:[0,0,.5],rotation:[0,0,3*Math.PI/5],speed:5,offset:.25*3}),ce(e1,{position:[0,0,.5],rotation:[0,0,4*Math.PI/5],speed:5,offset:.25*4})]})}function e1({radius:t=5,speed:e=6,offset:n=0,color:r=[.2,1,10],...i}){const s=D.useRef();return or(o=>{let a=o.clock.getElapsedTime()*e;a=n*Math.PI*2+a,s.current.position.set(Math.sin(a)*t,Math.cos(a)*t*Math.atan(a)/Math.PI/1.25,0)}),ce("group",{...i,children:wt("mesh",{ref:s,children:[ce("sphereGeometry",{args:[.25]}),ce("meshBasicMaterial",{color:r,toneMapped:!1})]})})}function j9e(){const n=O3();return or(()=>{n.range(3/Ms+.5*(1/Ms),.5/Ms)>=1&&bf(eu.NEXT)}),wt(Dn,{children:[ce(iMe,{}),ce($9e,{}),ce(tMe,{}),ce(nMe,{}),ce(K9e,{}),ce(Y9e,{}),ce(X9e,{})]})}function X9e(){const t=ni(n=>n.isZh),e=new lt({vertexShader:`    precision mediump float;
 
    varying vec2 vUv;

    uniform float uTime;


    void main() {
      vUv = uv;
        vec4 modelPosition = modelMatrix * vec4(position, 1.0);
        vec4 viewPosition = viewMatrix * modelPosition;
        vec4 projectionPosition = projectionMatrix * modelPosition;
        gl_Position = projectionPosition;
    }`,fragmentShader:`
        
            precision mediump float;


    varying vec2 vUv;

    void main() {
      gl_FragColor = vec4(1.0, 1.0,1.0, 1.0); 

    }
        `});return ce(Dn,{children:t?wt(Dn,{children:[ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/cn0.ttf",fontSize:.8,position:[0,5.5,-10],material:e,children:"道阻且长"}),ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/cn0.ttf",fontSize:.8,position:[0,4.5,-10],material:e,children:"行则将至"})]}):wt(Dn,{children:[ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/en0.ttf",fontSize:.6,position:[0,5.5,-10],material:e,children:"break afflictions and evil"}),ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/en0.ttf",fontSize:.8,position:[0,4.5,-10],material:e,children:"no pain, no gain"})]})})}function Y9e(){const t=ni(n=>n.rocks);console.log(t,"rocks");const e=Im(Gt.ROOT_URL+"/rock.gltf");return wt(Dn,{children:[" ",t.map((n,r)=>D.createElement(rMe,{...e,key:n.guid,data:n})),"  "]})}function K9e(){const t=D.useRef(),e=ni(r=>r.particles),n=ni(r=>r.dummy);return console.log(e),D.useEffect(()=>{e.forEach((r,i)=>{const{offset:s,scale:o}=r;n.position.copy(s),n.scale.set(o,o,o),n.rotation.set(Math.sin(Math.random())*Math.PI,Math.sin(Math.random())*Math.PI,Math.cos(Math.random())*Math.PI),n.updateMatrix(),t.current.setMatrixAt(i,n.matrix)}),t.current.instanceMatrix.needsUpdate=!0},[]),wt("instancedMesh",{ref:t,args:[null,null,e.length],frustumCulled:!1,children:[ce("coneGeometry",{args:[2,2,3]}),ce("meshStandardMaterial",{color:"#606060"})]})}const J9e=new No;J9e.setFromCenterAndSize(new k(0,0,1),new k(3,3,3));const q9e=new Pr({color:new Be("lightblue")}),Z9e=new B6({color:new Be("black")});function $9e(){const t=ni(e=>e.drones);return ce(Dn,{children:t.map((e,n)=>ce(eMe,{data:e},n))})}function eMe({data:t}){const{nodes:e,materials:n}=Im(Gt.ROOT_URL+"/spacedrone.gltf"),r=D.useRef();return or(({clock:i})=>{const s=Math.cos(i.getElapsedTime()/2*t.speed)*Math.PI;r.current.position.copy(t.offset),r.current.rotation.set(s,s,s)}),wt("group",{ref:r,scale:[5,5,5],children:[ce("mesh",{position:[0,0,50],rotation:[Math.PI/2,0,0],material:q9e,children:ce("cylinderBufferGeometry",{args:[.25,.25,100,4]})}),ce("mesh",{name:"Sphere_DroneGlowmat_0",geometry:e.Sphere_DroneGlowmat_0.geometry,material:n.DroneGlowmat}),ce("mesh",{name:"Sphere_Body_0",geometry:e.Sphere_Body_0.geometry,material:Z9e})]})}function tMe(){const t=D.useRef(),[e,n]=Pa(kf,[Gt.ROOT_URL+"/earth.jpg",Gt.ROOT_URL+"/moon2.jpg"]);return wt("group",{ref:t,scale:[100,100,100],position:[-500,-500,1e3],children:[wt("mesh",{children:[ce("sphereGeometry",{args:[5,32,32]}),ce("meshStandardMaterial",{map:e,roughness:1,fog:!1})]}),wt("mesh",{position:[5,-5,-5],children:[ce("sphereGeometry",{args:[.75,32,32]}),ce("meshStandardMaterial",{roughness:1,map:n,fog:!1})]}),ce("pointLight",{position:[-5,-5,-5],distance:1e3,intensity:6}),wt("mesh",{position:[-30,-10,-60],children:[ce("sphereGeometry",{args:[4,32,32]}),ce("meshBasicMaterial",{color:"#FFFF99",fog:!1}),ce("pointLight",{distance:6100,intensity:50,color:"white"})]})]})}function nMe(){const t=ni(r=>r.rings),e=new Hz(1,1.01,64),n=new Pr({color:new Be("lightgreen"),side:$r});return t.map(([r,i],s)=>{const o=Math.sin(s/10)*Math.PI/2;return ce("mesh",{position:r,scale:[30+s*5*o,30+s*5*o,30+s*5*o],onUpdate:a=>a.quaternion.setFromRotationMatrix(i),geometry:e,material:n},s)})}function rMe({nodes:t,materials:e,data:n}){const r=D.useRef();return or(({clock:i})=>{const s=Math.cos(i.getElapsedTime()/2*n.speed)*Math.PI;r.current.rotation.set(s,s,s)}),new Pr({color:new Be("red")}),ce("group",{ref:r,position:n.offset,scale:[n.scale,n.scale,n.scale],children:ce("group",{position:[-.016298329457640648,-.012838120572268963,.24073271453380585],rotation:[3.0093872578726644,.27444228385461117,-.22745113653772078],scale:[20,20,20],children:ce("mesh",{geometry:t.node_id4_Material_52_0.geometry,material:e.Material_52,"material-roughness":1,"material-metalness":1})})})}let kS=0;function iMe({children:t}){const e=D.useRef(),n=D.useRef(),{fov:r,position:i,spline:s,binormal:o,normal:a,track:l}=ni(h=>h),u=l.tangents.length;console.log(l,"track"),console.log("length",l.parameters.path.getLength());const c=30,f=15;return or(({camera:h,mouse:d,clock:g})=>{const v=g.getElapsedTime()%c/c,y=l.parameters.path.getPointAt(v);y.multiplyScalar(f);const A=v*u,x=Math.floor(A),E=(x+1)%u;o.subVectors(l.binormals[E],l.binormals[x]),o.multiplyScalar(A-x).add(l.binormals[x]);const S=l.parameters.path.getTangentAt(v);kS+=(Math.max(15,15+-d.y/20)-kS)*.05,a.copy(o).cross(S),y.add(a.clone().multiplyScalar(kS)),h.position.copy(y);const w=l.parameters.path.getPointAt((v+30/l.parameters.path.getLength())%1).multiplyScalar(f);h.matrix.lookAt(h.position,w,a),h.quaternion.setFromRotationMatrix(h.matrix),h.fov+=((v>.4&&v<.45?120:r)-h.fov)*.05,h.updateProjectionMatrix();const M=l.parameters.path.getPointAt((v+1/l.parameters.path.getLength())%1).multiplyScalar(f);n.current.position.copy(M),n.current.quaternion.setFromRotationMatrix(h.matrix)}),wt("group",{ref:e,children:[ce("pointLight",{distance:400,position:[0,100,-420],intensity:5,color:"indianred"}),ce("group",{ref:n,children:wt("mesh",{children:[ce("boxGeometry",{args:[50,50,50]}),ce("meshBasicMaterial",{color:"#0000ff"})]})})]})}function sMe(){const t=qn(({camera:o})=>o),e=4,n=.5,r=ni(o=>o.isZh),i=O3();or(()=>{i.range(e/Ms+n*(1/Ms),(1-n)*1/Ms)>=1&&bf(eu.NEXT)}),D.useEffect(()=>{t.position.set(0,0,5),t.quaternion.set(0,0,0,1),t.lookAt(0,0,0),t.updateProjectionMatrix()});const s=.5;return wt(Dn,{children:[ce(oMe,{rotation:[0,0,0],position:[0,-12,-70]}),ce(ove,{children:r?wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",rotation:[0,0,0],fontSize:s,position:[0,2.7,0],children:"且听风吟"}),ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",rotation:[0,0,0],fontSize:s,position:[0,2,0],children:"静待花开"})]}):wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",rotation:[0,0,0],fontSize:s,position:[0,2.7,0],children:"Less is more"}),ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",rotation:[0,0,0],fontSize:s,position:[0,2,0],children:"Slow is fast"})]})})]})}function oMe({...t}){const{gl:e}=qn(),n=e.getPixelRatio();console.log(n,"ratio");const r=document.getElementById("flowerVideo");r.play(),r.currentTime=0,r.pause();const i=new lt({extensions:{derivatives:"#extension GL_OES_standard_derivatives: enable"},transparent:!0,depthTest:!1,side:$r,wireframe:!0,uniforms:{uTime:{value:0},percentage:{value:50},speed:{value:1},uTexture:{value:new sx(r)},uTexture1:{value:new sx(r)},resolution:{value:new k}},vertexShader:`
        
        
float hash21(vec2 p)
{
    p = fract(p * vec2(234.34, 435.345));
    p += dot(p, p + 34.23);
	return fract(p.x * p.y);
}

// noise function from https://www.shadertoy.com/view/Msf3WH
vec2 hash( vec2 p ) // replace this by something better
{
	p = vec2( dot(p,vec2(127.1,311.7)), dot(p,vec2(269.5,183.3)) );
	return -1.0 + 2.0*fract(sin(p)*43758.5453123);
}
float simplex_noise( in vec2 p )
{
    const float K1 = 0.366025404; // (sqrt(3)-1)/2;
    const float K2 = 0.211324865; // (3-sqrt(3))/6;

	vec2  i = floor( p + (p.x+p.y)*K1 );
    vec2  a = p - i + (i.x+i.y)*K2;
    float m = step(a.y,a.x); 
    vec2  o = vec2(m,1.0-m);
    vec2  b = a - o + K2;
	vec2  c = a - 1.0 + 2.0*K2;
    vec3  h = max( 0.5-vec3(dot(a,a), dot(b,b), dot(c,c) ), 0.0 );
	vec3  n = h*h*h*h*vec3( dot(a,hash(i+0.0)), dot(b,hash(i+o)), dot(c,hash(i+1.0)));
    return dot( n, vec3(70.0) );
}

#define NSIZE 1.25
#define NSPEED 0.12
vec3 curl_noise(vec2 p)
{
    const float dt = 1e-4;
    vec2 ds = vec2(dt, 0.0);
    
    p /= NSIZE;
    float n0 = simplex_noise(p);
    float n1 = simplex_noise(p + ds.xy);
    float n2 = simplex_noise(p + ds.yx);
    
    vec2 grad = vec2(n1 - n0, n2 - n0) / ds.x;
    vec2 curl = vec2(grad.y, -grad.x);
    return vec3(curl, n0) * NSIZE * NSPEED;
}

       uniform float uTime;
        uniform float percentage;
        uniform float speed;
varying vec2 vUv;

void main() {
    vUv = uv;
    vec3 distortion = curl_noise(vec2(position.x + uTime * speed, position.y));
    vec3 newPosition = position +  distortion * percentage;
    // newPosition.z = newPosition.z * 5.5;
   
    vec4 modelPosition = modelMatrix * vec4(newPosition, 1.);
    vec4 viewPosition = viewMatrix * modelPosition;
    vec4 projectionPosition = projectionMatrix * viewPosition;
    
    gl_Position = projectionPosition;
    gl_PointSize = 4.0;
}

        `,fragmentShader:`
varying vec2 vUv;
    uniform sampler2D uTexture;
    uniform sampler2D uTexture1;
    uniform float uProgress;

void main() {
      vec3 texture0 = texture2D(uTexture, vUv ).rgb * 1.2;
      vec3 texture1 = texture2D(uTexture1, vUv ).rgb * 1.2;
 
      
      vec3 finalColor = texture0.rgb;
        
      float alpha = 1.0;
      // if (finalColor.r < 0.1) {
      //   alpha = 0.0;
      // }
      
      gl_FragColor = vec4(finalColor, alpha); 
}
`});return D.useEffect(()=>{ha.to(i.uniforms.percentage,{value:0,duration:3,onComplete:()=>{r.play()}})}),or(({clock:s})=>{i.uniforms.uTime.value=s.getElapsedTime()}),ce(Dn,{children:ce("points",{material:i,...t,children:ce("planeGeometry",{args:[48,82,48*5,82*5]})})})}const aMe=/^[og]\s*(.+)?/,lMe=/^mtllib /,uMe=/^usemtl /,cMe=/^usemap /,TU=/\s+/,MU=new k,NS=new k,_U=new k,IU=new k,ta=new k,zy=new Be;function fMe(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,n){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=n!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:n!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,s){const o=this._finalize(!1);o&&(o.inherited||o.groupCount<=0)&&this.materials.splice(o.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(s)&&s.length>0?s[s.length-1]:"",smooth:o!==void 0?o.smooth:this.smooth,groupStart:o!==void 0?o.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const u={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return u.clone=this.clone.bind(u),u}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const s=this.currentMaterial();if(s&&s.groupEnd===-1&&(s.groupEnd=this.geometry.vertices.length/3,s.groupCount=s.groupEnd-s.groupStart,s.inherited=!1),i&&this.materials.length>1)for(let o=this.materials.length-1;o>=0;o--)this.materials[o].groupCount<=0&&this.materials.splice(o,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),s}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/3)*3},parseNormalIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/3)*3},parseUVIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/2)*2},addVertex:function(e,n,r){const i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[n+0],i[n+1],i[n+2]),s.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addVertexLine:function(e){const n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addNormal:function(e,n,r){const i=this.normals,s=this.object.geometry.normals;s.push(i[e+0],i[e+1],i[e+2]),s.push(i[n+0],i[n+1],i[n+2]),s.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,n,r){const i=this.vertices,s=this.object.geometry.normals;MU.fromArray(i,e),NS.fromArray(i,n),_U.fromArray(i,r),ta.subVectors(_U,NS),IU.subVectors(MU,NS),ta.cross(IU),ta.normalize(),s.push(ta.x,ta.y,ta.z),s.push(ta.x,ta.y,ta.z),s.push(ta.x,ta.y,ta.z)},addColor:function(e,n,r){const i=this.colors,s=this.object.geometry.colors;i[e]!==void 0&&s.push(i[e+0],i[e+1],i[e+2]),i[n]!==void 0&&s.push(i[n+0],i[n+1],i[n+2]),i[r]!==void 0&&s.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,n,r){const i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0],i[e+1]),s.push(i[n+0],i[n+1]),s.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const n=this.uvs;this.object.geometry.uvs.push(n[e+0],n[e+1])},addFace:function(e,n,r,i,s,o,a,l,u){const c=this.vertices.length;let f=this.parseVertexIndex(e,c),h=this.parseVertexIndex(n,c),d=this.parseVertexIndex(r,c);if(this.addVertex(f,h,d),this.addColor(f,h,d),a!==void 0&&a!==""){const g=this.normals.length;f=this.parseNormalIndex(a,g),h=this.parseNormalIndex(l,g),d=this.parseNormalIndex(u,g),this.addNormal(f,h,d)}else this.addFaceNormal(f,h,d);if(i!==void 0&&i!==""){const g=this.uvs.length;f=this.parseUVIndex(i,g),h=this.parseUVIndex(s,g),d=this.parseUVIndex(o,g),this.addUV(f,h,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const n=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const s=this.parseVertexIndex(e[r],n);this.addVertexPoint(s),this.addColor(s)}},addLineGeometry:function(e,n){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let s=0,o=e.length;s<o;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));for(let s=0,o=n.length;s<o;s++)this.addUVLine(this.parseUVIndex(n[s],i))}};return t.startObject("",!1),t}class hMe extends yi{constructor(e){super(e),this.materials=null}load(e,n,r,i){const s=this,o=new Wr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(a))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const n=new fMe;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i=[];for(let a=0,l=r.length;a<l;a++){const u=r[a].trimStart();if(u.length===0)continue;const c=u.charAt(0);if(c!=="#")if(c==="v"){const f=u.split(TU);switch(f[0]){case"v":n.vertices.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3])),f.length>=7?(zy.setRGB(parseFloat(f[4]),parseFloat(f[5]),parseFloat(f[6])).convertSRGBToLinear(),n.colors.push(zy.r,zy.g,zy.b)):n.colors.push(void 0,void 0,void 0);break;case"vn":n.normals.push(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));break;case"vt":n.uvs.push(parseFloat(f[1]),parseFloat(f[2]));break}}else if(c==="f"){const h=u.slice(1).trim().split(TU),d=[];for(let v=0,y=h.length;v<y;v++){const A=h[v];if(A.length>0){const x=A.split("/");d.push(x)}}const g=d[0];for(let v=1,y=d.length-1;v<y;v++){const A=d[v],x=d[v+1];n.addFace(g[0],A[0],x[0],g[1],A[1],x[1],g[2],A[2],x[2])}}else if(c==="l"){const f=u.substring(1).trim().split(" ");let h=[];const d=[];if(u.indexOf("/")===-1)h=f;else for(let g=0,v=f.length;g<v;g++){const y=f[g].split("/");y[0]!==""&&h.push(y[0]),y[1]!==""&&d.push(y[1])}n.addLineGeometry(h,d)}else if(c==="p"){const h=u.slice(1).trim().split(" ");n.addPointGeometry(h)}else if((i=aMe.exec(u))!==null){const f=(" "+i[0].slice(1).trim()).slice(1);n.startObject(f)}else if(uMe.test(u))n.object.startMaterial(u.substring(7).trim(),n.materialLibraries);else if(lMe.test(u))n.materialLibraries.push(u.substring(7).trim());else if(cMe.test(u))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(c==="s"){if(i=u.split(" "),i.length>1){const h=i[1].trim().toLowerCase();n.object.smooth=h!=="0"&&h!=="off"}else n.object.smooth=!0;const f=n.object.currentMaterial();f&&(f.smooth=n.object.smooth)}else{if(u==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+u+'"')}}n.finalize();const s=new kl;if(s.materialLibraries=[].concat(n.materialLibraries),!(n.objects.length===1&&n.objects[0].geometry.vertices.length===0)===!0)for(let a=0,l=n.objects.length;a<l;a++){const u=n.objects[a],c=u.geometry,f=u.materials,h=c.type==="Line",d=c.type==="Points";let g=!1;if(c.vertices.length===0)continue;const v=new bt;v.setAttribute("position",new at(c.vertices,3)),c.normals.length>0&&v.setAttribute("normal",new at(c.normals,3)),c.colors.length>0&&(g=!0,v.setAttribute("color",new at(c.colors,3))),c.hasUVIndices===!0&&v.setAttribute("uv",new at(c.uvs,2));const y=[];for(let x=0,E=f.length;x<E;x++){const S=f[x],w=S.name+"_"+S.smooth+"_"+g;let M=n.materials[w];if(this.materials!==null){if(M=this.materials.create(S.name),h&&M&&!(M instanceof mi)){const _=new mi;fr.prototype.copy.call(_,M),_.color.copy(M.color),M=_}else if(d&&M&&!(M instanceof Nl)){const _=new Nl({size:10,sizeAttenuation:!1});fr.prototype.copy.call(_,M),_.color.copy(M.color),_.map=M.map,M=_}}M===void 0&&(h?M=new mi:d?M=new Nl({size:1,sizeAttenuation:!1}):M=new B6,M.name=S.name,M.flatShading=!S.smooth,M.vertexColors=g,n.materials[w]=M),y.push(M)}let A;if(y.length>1){for(let x=0,E=f.length;x<E;x++){const S=f[x];v.addGroup(S.groupStart,S.groupCount,x)}h?A=new Ro(v,y):d?A=new Xu(v,y):A=new sn(v,y)}else h?A=new Ro(v,y[0]):d?A=new Xu(v,y[0]):A=new sn(v,y[0]);A.name=u.name,s.add(A)}else if(n.vertices.length>0){const a=new Nl({size:1,sizeAttenuation:!1}),l=new bt;l.setAttribute("position",new at(n.vertices,3)),n.colors.length>0&&n.colors[0]!==void 0&&(l.setAttribute("color",new at(n.colors,3)),a.vertexColors=!0);const u=new Xu(l,a);s.add(u)}return s}}const Li=new Cs,Hy=new k;class dMe{constructor(e){let n=e.geometry;n.index&&(console.warn("THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry."),n=n.toNonIndexed()),this.geometry=n,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.colorAttribute=this.geometry.getAttribute("color"),this.weightAttribute=null,this.distribution=null}setWeightAttribute(e){return this.weightAttribute=e?this.geometry.getAttribute(e):null,this}build(){const e=this.positionAttribute,n=this.weightAttribute,r=new Float32Array(e.count/3);for(let s=0;s<e.count;s+=3){let o=1;n&&(o=n.getX(s)+n.getX(s+1)+n.getX(s+2)),Li.a.fromBufferAttribute(e,s),Li.b.fromBufferAttribute(e,s+1),Li.c.fromBufferAttribute(e,s+2),o*=Li.getArea(),r[s/3]=o}this.distribution=new Float32Array(e.count/3);let i=0;for(let s=0;s<r.length;s++)i+=r[s],this.distribution[s]=i;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,n,r){const i=this.sampleFaceIndex();return this.sampleFace(i,e,n,r)}sampleFaceIndex(){const e=this.distribution[this.distribution.length-1];return this.binarySearch(this.randomFunction()*e)}binarySearch(e){const n=this.distribution;let r=0,i=n.length-1,s=-1;for(;r<=i;){const o=Math.ceil((r+i)/2);if(o===0||n[o-1]<=e&&n[o]>e){s=o;break}else e<n[o]?i=o-1:r=o+1}return s}sampleFace(e,n,r,i){let s=this.randomFunction(),o=this.randomFunction();return s+o>1&&(s=1-s,o=1-o),Li.a.fromBufferAttribute(this.positionAttribute,e*3),Li.b.fromBufferAttribute(this.positionAttribute,e*3+1),Li.c.fromBufferAttribute(this.positionAttribute,e*3+2),n.set(0,0,0).addScaledVector(Li.a,s).addScaledVector(Li.b,o).addScaledVector(Li.c,1-(s+o)),r!==void 0&&Li.getNormal(r),i!==void 0&&this.colorAttribute!==void 0&&(Li.a.fromBufferAttribute(this.colorAttribute,e*3),Li.b.fromBufferAttribute(this.colorAttribute,e*3+1),Li.c.fromBufferAttribute(this.colorAttribute,e*3+2),Hy.set(0,0,0).addScaledVector(Li.a,s).addScaledVector(Li.b,o).addScaledVector(Li.c,1-(s+o)),i.r=Hy.x,i.g=Hy.y,i.b=Hy.z),this}}function pMe(){const e=ni(n=>n.isZh);return wt(Dn,{children:[ce(mMe,{}),ce(gMe,{}),e?wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",rotation:[0,Math.PI*-.02,0],fontSize:.2,position:[-.3,-.25,3],children:"各美其美"}),ce(Xn,{font:Gt.ROOT_URL+"/cn0.ttf",rotation:[0,Math.PI*-.02,0],fontSize:.2,position:[-.3,-.55,3],children:"美人之美"})]}):wt(Dn,{children:[ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",rotation:[0,Math.PI*-.02,0],fontSize:.2,position:[-.3,-.25,3],children:"Appreciate the values of"}),ce(Xn,{font:Gt.ROOT_URL+"/en0.ttf",rotation:[0,Math.PI*-.02,0],fontSize:.2,position:[-.3,-.55,3],children:"others as do to mine"})]})]})}function mMe(){new Be("#ffaacc");const t=Pa(hMe,Gt.ROOT_URL+"/tree.obj"),{camera:e,clock:n}=qn(({camera:f,clock:h})=>({camera:f,clock:h}));window.CCC=e,n.getElapsedTime();let r={time:{value:0},penzaiSize:{value:.05}};D.useEffect(()=>{e.position.set(1.27,4.83,-.04),e.quaternion.set(-.439,.55,.42,.57),e.updateProjectionMatrix();const f=1.5;ha.to(e.position,{x:-.34*f,y:.8*f,z:4.2*f,duration:5}),ha.to(e.quaternion,{x:.057,y:.986,z:-1.61,w:-.035,duration:5,onUpdate:()=>{e.lookAt(0,1,0)}}),r.penzaiSize.value=.05,ha.to(r.penzaiSize,{value:.3,duration:3})});let i=new Pr({color:16720486,wireframe:!1,transparent:!0,opacity:.75});t.children[0].material=i;let s=new dMe(t.children[0]).setWeightAttribute(null).build(),o=[],a=[],l=[],u=new k;for(let f=0;f<250;f++){let h=new k;s.sample(h,u),o.push(h),a.push(Math.random()*Math.PI*2/5),l.push(f)}let c=new Xu(new bt().setFromPoints(o),new Nl({color:16759807,size:.15}));return c.geometry.setAttribute("angle",new Yt(new Float32Array(a),1)),c.geometry.setAttribute("idx",new Yt(new Float32Array(l),1)),c.material.onBeforeCompile=f=>{f.uniforms.time=r.time,f.uniforms.penzaiSize=r.penzaiSize,f.vertexShader=`
    uniform float time;
    uniform float penzaiSize;

    attribute float angle;
    attribute float idx;
    
    varying float vAngle;
`+f.vertexShader,f.vertexShader=f.vertexShader.replace("#include <begin_vertex>",`#include <begin_vertex>
       vAngle = angle;
`),f.vertexShader=f.vertexShader.replace("gl_PointSize = size;",`
            float halfSize = penzaiSize * 0.5;
      float tIdx = idx + time * 2.0;
gl_PointSize = penzaiSize + (sin(tIdx) * cos(tIdx * 2.5) * 0.5 + 0.5) * halfSize ;`),f.fragmentShader=`
      varying float vAngle;
`+f.fragmentShader,f.fragmentShader=f.fragmentShader.replace("#include <clipping_planes_fragment>",`
    vec2 uv = gl_PointCoord - 0.5;

    float a = atan(uv.y, uv.x) + vAngle;
    float f = 0.4 + 0.1 * cos(a * 5.);
    f = 1. - step(f, length(uv));
    if (f < 0.5) discard;  // shape function

    #include <clipping_planes_fragment>`),f.fragmentShader=f.fragmentShader.replace("vec4 diffuseColor = vec4( diffuse, opacity );",`
        vec3 col = vec3(1, 1, 0.8);
        uv *= 2.;
        float d = clamp(length(uv), 0., 1.);
        vec4 diffuseColor = vec4(mix(col, diffuse, pow(d, 2.)), 1.);
`)},t.add(c),t.scale.setScalar(5),or(({clock:f})=>{r.time.value=f.getElapsedTime()}),ce(Dn,{children:ce("primitive",{object:t})})}function gMe(){let t=3.5,e=5e3,n=0,r=[],i=[],s=[],o=[],a=new Be;for(;n<e;){let v=new k(So.randFloat(-t,t),0,So.randFloat(-t,t)),y=v.length()/t;if(v.length()<=t&&Math.random()<1-y){r.push(v),a.set(16777164),o.push(a.r,a.g-Math.random()*.1,a.b+Math.random()*.2),i.push(So.randFloat(-10,0));let A=So.randFloat(1,2);A=Math.random()<.25?0:A,s.push(Math.PI*A*.35,A),n++}}let l={time:{value:0},upperLimit:{value:3.5},upperRatio:{value:1.25},spiralRadius:{value:0},spiralTurns:{value:2},azimuth:{value:0},percentage:{value:0}},u=new bt().setFromPoints(r);u.setAttribute("color",new Yt(new Float32Array(o),3)),u.setAttribute("delay",new Yt(new Float32Array(i),1)),u.setAttribute("speed",new Yt(new Float32Array(s),2));let c=new Nl({vertexColors:void 0,size:.1,transparent:!0});c.onBeforeCompile=v=>{v.uniforms.time=l.time,v.uniforms.upperLimit=l.upperLimit,v.uniforms.upperRatio=l.upperRatio,v.uniforms.spiralRadius=l.spiralRadius,v.uniforms.spiralTurns=l.spiralTurns,v.uniforms.tex2020=l.tex2020,v.uniforms.percentage=l.percentage,v.uniforms.azimuth=l.azimuth,v.vertexShader=`
  uniform float time;
  uniform float upperLimit;
  uniform float upperRatio;
  uniform float spiralRadius;
  uniform float spiralTurns;
  uniform float azimuth;
  uniform sampler2D tex2020;

  attribute float delay;
  attribute vec2 speed;

  varying float vRatio;
  varying vec2 vSpeed;
  varying float vIsEffect;


float rand22(vec2 n) { 
 return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);
}


float noise(vec2 n) {
 const vec2 d = vec2(0.0, 1.0);
  vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));
 return mix(mix(rand22(b), rand22(b + d.yx), f.x), mix(rand22(b + d.xy), rand22(b + d.yy), f.x), f.y);
}


  mat2 rot( float a){
    return mat2(cos(a), -sin(a), sin(a), cos(a));
  }

`+v.vertexShader,v.vertexShader=v.vertexShader.replace("#include <begin_vertex>",`#include <begin_vertex>

    float t = time + delay;
    t = t < 0. ? 0. : t;
    
    float h = mod(speed.y * t, upperLimit);
    float hRatio = clamp(h / upperLimit, 0., 1.);
    vRatio = hRatio;
    vSpeed = speed;
    
    transformed.y = h;
    
    float a = atan(position.x, position.z);
    a += speed.x * t;
    float initLength = length(position.xz);
    float finalLength = initLength * upperRatio;
    float ratio = mix(initLength, finalLength, hRatio);
    transformed.x = cos(a) * ratio;
    transformed.z = sin(a) * -ratio;
    
    float sTurns = sin(time * 0.5) * 0.5 + spiralTurns;

    float spiralA = hRatio * sTurns * PI * 2.;
    float sRadius = mix(spiralRadius, 0., hRatio);
    transformed.x += cos(spiralA) * sRadius;
    transformed.z += sin(spiralA) * -sRadius;

    // 2020 effect
    vec3 efcPos = vec3(0, 6, 0.5);
    vec3 efcClamp = vec3(1., 0.75, 0.25) * 3.5;
    vec3 efcMin = efcPos - efcClamp;
    vec3 efcMax = efcPos + efcClamp;
    vec3 UVTransformed = vec3(transformed);
    UVTransformed.xz *= rot(azimuth); // following the camera's azimuthal angle    
    vec3 efcUV = (UVTransformed - efcMin) / (efcMax - efcMin);
    
    // float isEffect = texture2D(tex2020, efcUV.xy).r;
    
     float isEffect = noise(position.zy) > 0.6 ? 1. : 0.;
     isEffect *= (efcUV.y > -0.5) ? 1. : 0.;

     
    vIsEffect = isEffect;
`),v.vertexShader=v.vertexShader.replace("gl_PointSize = size;",`bool cond = floor(speed.y + 0.5) == 0.;
gl_PointSize = size * ( cond ? 0.75 : ((1. - hRatio) * (smoothstep(0., 0.01, hRatio) * 0.25) + 0.75));
    gl_PointSize = mix(gl_PointSize, size * 2., isEffect);
    `),v.fragmentShader=`
  uniform float time;
  uniform float percentage;

  varying float vRatio;
  varying vec2 vSpeed;
  varying float vIsEffect;
  mat2 rot( float a){
    return mat2(cos(a), -sin(a), sin(a), cos(a));
  }
`+v.fragmentShader,v.fragmentShader=v.fragmentShader.replace("#include <clipping_planes_fragment>",`
    if (vRatio == 1.) discard;

    vec2 uv = gl_PointCoord - 0.5;

    float a = (time * vSpeed.x + vSpeed.x) * 10.;
    
    uv *= rot(a);
    uv.y *= floor(a + 0.5) == 0. ? 1.25 : 2. + sin(a * PI);

    if (length(uv) > 0.5) discard;  // shape function

    #include <clipping_planes_fragment>`),v.fragmentShader=v.fragmentShader.replace("vec4 diffuseColor = vec4( diffuse, opacity );",`
        vec3 col = vec3(1, 0.7, 0.9);
        float d = clamp(uv.x + .5, 0., 1.);
        vec4 diffuseColor = vec4(mix(diffuse, col, pow(d, 2.)), 1.);
        diffuseColor = vec4(mix(diffuseColor.rgb, vec3(0.95, 0, 0.45), vIsEffect), 1.);
       
`),console.log(v.vertexShader),console.log(St.color_fragment)};const{camera:f,clock:h}=qn(({camera:v,clock:y})=>({camera:v,clock:y})),d=h.getElapsedTime();or(({clock:v,controls:y})=>{l.time.value=(v.getElapsedTime()-d)*.2});let g=new Xu(u,c);return ce(Dn,{children:ce("primitive",{object:g})})}var AMe=`#define PI 3.14159265358979
uniform float uTime;
uniform float uTravelLength;
uniform vec3 uAmp;
uniform vec3 uFreq;

attribute vec3 aOffset;
attribute vec3 aMetrics;
attribute vec3 aColor;

varying vec2 vUv;
varying float vScale;
varying vec3 vColor;

float nsin(float val){
    return sin(val) * 0.5+0.5;
}

vec3 getDistortion(float progress){
    float movementProgressFix = 0.02;
    return vec3(
    cos(progress * PI * uFreq.x + uTime) * uAmp.x - cos(movementProgressFix * PI * uFreq.x + uTime) * uAmp.x,
    nsin(progress * PI * uFreq.y + uTime) * uAmp.y - nsin(movementProgressFix * PI * uFreq.y + uTime) * uAmp.y,
    nsin(progress * PI * uFreq.z + uTime) * uAmp.z - nsin(movementProgressFix * PI * uFreq.z + uTime) * uAmp.z
    );
}

void main() {

    vec3 transformed = position.xyz;
    float radius = aMetrics.r;
    float myLength = aMetrics.g;
    float speed = aMetrics.b;

    transformed.xy *= radius ;
    transformed.z *= myLength;

    
    transformed.z += myLength-mod( uTime *speed + aOffset.z, uTravelLength);
    transformed.xy += aOffset.xy;

    float progress = abs(transformed.z / uTravelLength);
    transformed.xyz += getDistortion(progress);

    vec4 mvPosition = modelViewMatrix * vec4(transformed,1.);
    gl_Position = projectionMatrix * mvPosition;

    vUv = uv;
    vColor = aColor;
}`,vMe=`varying vec3 vColor;
varying vec2 vUv;
uniform vec2 uFade;
void main() {
    vec3 color = vec3(vColor);
    float fadeStart = 0.4;
    float maxFade = 0.;
    float alpha = 1.;

    alpha = smoothstep(uFade.x, uFade.y, vUv.x);
    gl_FragColor = vec4(color,alpha);
    if (gl_FragColor.a < 0.0001) discard;
}`;const Ch=t=>Array.isArray(t)?Math.random()*(t[1]-t[0])+t[0]:Math.random()*t,yMe=t=>Array.isArray(t)?t[Math.floor(Math.random()*t.length)]:t;function xMe(t,e,n=.1,r=.001){let i=(e-t)*n;return Math.abs(i)<r&&(i=e-t),i}function Qy(t){return Math.sin(t)*.5+.5}const ki={length:400,roadWidth:10,islandWidth:2,lanesPerRoad:3,fov:90,fovSpeedUp:150,speedUp:2,carLightsFade:.4,totalSideLightSticks:50,lightPairsPerRoadWay:50,shoulderLinesWidthPercentage:.05,brokenLinesWidthPercentage:.1,brokenLinesLengthPercentage:.5,lightStickWidth:[.12,.5],lightStickHeight:[1.3,1.7],movingAwaySpeed:[60,80],movingCloserSpeed:[-120,-160],carLightsLength:[400*.05,400*.15],carLightsRadius:[.05,.14],carWidthPercentage:[.3,.5],carShiftX:[-.2,.2],carFloorSeparation:[.05,1],colors:{roadColor:526344,islandColor:657930,background:0,shoulderLines:1250072,brokenLines:1250072,leftCars:["#ff102a","#EB383E","#ff102a"].map(t=>new Be(t)),rightCars:["#dadafa","#BEBAE3","#8F97E4"].map(t=>new Be(t)),sticks:14342906}},EMe=T7({uTime:0,uTravelLength:ki.length,uFade:new ie(0,.6),uFreq:new k(3,6,10),uAmp:new k(30,30,20)},AMe,vMe,t=>{t.transparent=!0,t.depthTest=!1,t.depthWrite=!1,t.toneMapped=!1});F3({InfiniteLightMaterial:EMe});function SMe(t,e,n,r){let i=.02,s=new k(Math.cos(e*Math.PI*n.x+t)*r.x-Math.cos(i*Math.PI*n.x+t)*r.x,Qy(e*Math.PI*n.y+t)*r.y-Qy(i*Math.PI*n.y+t)*r.y,Qy(e*Math.PI*n.z+t)*r.z-Qy(i*Math.PI*n.z+t)*r.z),o=new k(2,2,2),a=new k(0,0,-5);return s=s.multiply(o).add(a),s}function CMe({particleCount:t=200}){qn(({camera:o})=>{o.position.set(6,8,-5),o.updateProjectionMatrix()});const e=2,n=.5,r=O3();or(()=>{r.range(e/Ms+n*(1/Ms),(1-n)*1/Ms)>=1&&bf(eu.NEXT)});const i=ni(o=>o.isZh);or(({camera:o,clock:a},l)=>{let u=Math.exp(-(-60*Math.log2(.9))*l),c=xMe(o.fov,ki.fov,u);o.fov+=c*l*6;const f=a.getElapsedTime();let h=.025,d=new k(3,6,10),g=new k(30,30,20),v=SMe(f,h,d,g);const y=new k(o.position.x+v.x,o.position.y+v.y,o.position.z+v.z);o.lookAt(y),o.updateProjectionMatrix()}),D.useRef();const s=new lt({vertexShader:`    precision mediump float;
 
    varying vec2 vUv;

    uniform float uTime;


    void main() {
      vUv = uv;
        vec4 modelPosition = modelMatrix * vec4(position, 1.0);
        vec4 viewPosition = viewMatrix * modelPosition;
        vec4 projectionPosition = projectionMatrix * modelPosition;
        gl_Position = projectionPosition;
    }`,fragmentShader:`
        
            precision mediump float;


    varying vec2 vUv;

    void main() {
      gl_FragColor = vec4(vec3(.7), 1.0); 

    }
        `});return wt(Dn,{children:[ce(TMe,{position:[0,35,-50]}),i?wt(Dn,{children:[ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/cn0.ttf",fontSize:1,position:[0,5,-10],material:s,children:"勤学不怠"}),ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/cn0.ttf",fontSize:1,position:[0,3.8,-10],material:s,children:"刚猛精进"})]}):wt(Dn,{children:[ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/en0.ttf",fontSize:.8,position:[0,5,-10],material:s,children:"Keep Learning"}),ce(Xn,{frustumCulled:!1,font:Gt.ROOT_URL+"/en0.ttf",fontSize:.7,position:[0,3.8,-10],material:s,children:"With constant practice diligent"})]}),ce(bU,{particleCount:t,position:[-ki.roadWidth/2-ki.islandWidth/2,0,0]}),ce(bU,{particleCount:t,position:[ki.roadWidth/2+ki.islandWidth/2,0,0],speedRange:[-120,-160],colorsRange:ki.colors.rightCars})]})}function bU({particleCount:t=50,speedRange:e=[60,80],colorsRange:n=ki.colors.leftCars,fade:r=new ie(0,.6),...i}){const s=D.useRef();let o=new xm(new I6(new k(0,0,0),new k(0,0,-1)),40,1,8,!1),a=new L6;a.index=o.index,a.attributes=o.attributes;const[l,u,c]=D.useMemo(()=>{let f=ki.roadWidth/ki.lanesPerRoad,h=[],d=[],g=[];for(let v=0;v<t/2;v++){let y=Ch(ki.carLightsRadius),A=Ch(ki.carLightsLength),x=Ch(e),S=v%3*f-ki.roadWidth/2+f/2,w=Ch(ki.carWidthPercentage)*f,M=Ch(ki.carShiftX)*f;S+=M;let _=Ch(ki.carFloorSeparation)+y*1.3,b=-Ch(ki.length);h.push(S-w/2),h.push(_),h.push(b),h.push(S+w/2),h.push(_),h.push(b),d.push(y),d.push(A),d.push(x),d.push(y),d.push(A),d.push(x);let I=yMe(n);g.push(I.r),g.push(I.g),g.push(I.b),g.push(I.r),g.push(I.g),g.push(I.b)}return[h,d,g]},[t]);return a.setAttribute("aOffset",new jl(new Float32Array(l),3,!1)),a.setAttribute("aMetrics",new jl(new Float32Array(u),3,!1)),a.setAttribute("aColor",new jl(new Float32Array(c),3,!1)),or(({clock:f})=>{s.current.material.uniforms.uTime.value=f.getElapsedTime()}),ce("group",{children:ce("mesh",{frustumCulled:!1,geometry:a,ref:s,ufade:r,...i,children:ce("infiniteLightMaterial",{})})})}const wMe=T7({uTime:0,uColor:new Be(0,0,0),uTexture:new xn},`
    precision mediump float;
 
    varying vec2 vUv;

    uniform float uTime;


    void main() {
      vUv = uv;
        vec4 modelPosition = modelMatrix * vec4(position, 1.0);
        vec4 viewPosition = viewMatrix * modelPosition;
        vec4 projectionPosition = projectionMatrix * modelPosition;
        gl_Position = projectionPosition;
    }
  `,`
    precision mediump float;

    uniform vec3 uColor;
    uniform float uTime;
    uniform sampler2D uTexture;

    varying vec2 vUv;

    void main() {
      vec3 texture = texture2D(uTexture, vUv ).rgb * 1.2;
      gl_FragColor = vec4(texture, 1.0); 
    }
  `);F3({MoonMaterial:wMe});function TMe({move:t=!1,...e}){const[n]=Pa(kf,[Gt.ROOT_URL+"/moon1.jpg"]),r=D.useRef(),i=D.useRef();return or(({clock:s},o)=>{if(r.current.rotation.y+=o*.2,t){const a=s.getElapsedTime()*.5;let l=Math.sin(a)*.1+1;r.current.translateY(Math.sin(a)*.05),r.current.scale.set(l,l,l)}}),wt("group",{...e,children:[ce("pointLight",{distance:1e3,intensity:100}),wt("mesh",{ref:r,frustumCulled:!1,children:[ce("moonMaterial",{uColor:"white",ref:i,uTexture:n}),ce("sphereGeometry",{args:[5,40,16,16]})]})]})}var MMe=Object.defineProperty,_Me=(t,e)=>{for(var n in e)MMe(t,n,{get:e[n],enumerable:!0})},cl={};_Me(cl,{assign:()=>BMe,colors:()=>Af,createStringInterpolator:()=>A_,skipAnimation:()=>tY,to:()=>eY,willAdvance:()=>v_});var f_=c2(),Xt=t=>u2(t,f_),h_=c2();Xt.write=t=>u2(t,h_);var v4=c2();Xt.onStart=t=>u2(t,v4);var d_=c2();Xt.onFrame=t=>u2(t,d_);var p_=c2();Xt.onFinish=t=>u2(t,p_);var b0=[];Xt.setTimeout=(t,e)=>{const n=Xt.now()+e,r=()=>{const s=b0.findIndex(o=>o.cancel==r);~s&&b0.splice(s,1),rf-=~s?1:0},i={time:n,handler:t,cancel:r};return b0.splice(KX(n),0,i),rf+=1,JX(),i};var KX=t=>~(~b0.findIndex(e=>e.time>t)||~b0.length);Xt.cancel=t=>{v4.delete(t),d_.delete(t),p_.delete(t),f_.delete(t),h_.delete(t)};Xt.sync=t=>{zT=!0,Xt.batchedUpdates(t),zT=!1};Xt.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Xt.onStart(n)}return r.handler=t,r.cancel=()=>{v4.delete(n),e=null},r};var m_=typeof window<"u"?window.requestAnimationFrame:()=>{};Xt.use=t=>m_=t;Xt.now=typeof performance<"u"?()=>performance.now():Date.now;Xt.batchedUpdates=t=>t();Xt.catch=console.error;Xt.frameLoop="always";Xt.advance=()=>{Xt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):ZX()};var nf=-1,rf=0,zT=!1;function u2(t,e){zT?(e.delete(t),t(0)):(e.add(t),JX())}function JX(){nf<0&&(nf=0,Xt.frameLoop!=="demand"&&m_(qX))}function IMe(){nf=-1}function qX(){~nf&&(m_(qX),Xt.batchedUpdates(ZX))}function ZX(){const t=nf;nf=Xt.now();const e=KX(nf);if(e&&($X(b0.splice(0,e),n=>n.handler()),rf-=e),!rf){IMe();return}v4.flush(),f_.flush(t?Math.min(64,nf-t):16.667),d_.flush(),h_.flush(),p_.flush()}function c2(){let t=new Set,e=t;return{add(n){rf+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return rf-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,rf-=e.size,$X(e,r=>r(n)&&t.add(r)),rf+=t.size,e=t)}}}function $X(t,e){t.forEach(n=>{try{e(n)}catch(r){Xt.catch(r)}})}function HT(){}var bMe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),$e={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Ou(t,e){if($e.arr(t)){if(!$e.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var fn=(t,e)=>t.forEach(e);function ru(t,e,n){if($e.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Co=t=>$e.und(t)?[]:$e.arr(t)?t:[t];function q1(t,e){if(t.size){const n=Array.from(t);t.clear(),fn(n,e)}}var y1=(t,...e)=>q1(t,n=>n(...e)),g_=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),A_,eY,Af=null,tY=!1,v_=HT,BMe=t=>{t.to&&(eY=t.to),t.now&&(Xt.now=t.now),t.colors!==void 0&&(Af=t.colors),t.skipAnimation!=null&&(tY=t.skipAnimation),t.createStringInterpolator&&(A_=t.createStringInterpolator),t.requestAnimationFrame&&Xt.use(t.requestAnimationFrame),t.batchedUpdates&&(Xt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(v_=t.willAdvance),t.frameLoop&&(Xt.frameLoop=t.frameLoop)},Z1=new Set,da=[],GS=[],Qx=0,y4={get idle(){return!Z1.size&&!da.length},start(t){Qx>t.priority?(Z1.add(t),Xt.onStart(RMe)):(nY(t),Xt(QT))},advance:QT,sort(t){if(Qx)Xt.onFrame(()=>y4.sort(t));else{const e=da.indexOf(t);~e&&(da.splice(e,1),rY(t))}},clear(){da=[],Z1.clear()}};function RMe(){Z1.forEach(nY),Z1.clear(),Xt(QT)}function nY(t){da.includes(t)||rY(t)}function rY(t){da.splice(DMe(da,e=>e.priority>t.priority),0,t)}function QT(t){const e=GS;for(let n=0;n<da.length;n++){const r=da[n];Qx=r.priority,r.idle||(v_(r),r.advance(t),r.idle||e.push(r))}return Qx=0,GS=da,GS.length=0,da=e,da.length>0}function DMe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var PMe=(t,e,n)=>Math.min(Math.max(n,t),e),LMe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},qa="[-+]?\\d*\\.?\\d+",Vx=qa+"%";function x4(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var FMe=new RegExp("rgb"+x4(qa,qa,qa)),OMe=new RegExp("rgba"+x4(qa,qa,qa,qa)),UMe=new RegExp("hsl"+x4(qa,Vx,Vx)),kMe=new RegExp("hsla"+x4(qa,Vx,Vx,qa)),NMe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,GMe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,zMe=/^#([0-9a-fA-F]{6})$/,HMe=/^#([0-9a-fA-F]{8})$/;function QMe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=zMe.exec(t))?parseInt(e[1]+"ff",16)>>>0:Af&&Af[t]!==void 0?Af[t]:(e=FMe.exec(t))?(Up(e[1])<<24|Up(e[2])<<16|Up(e[3])<<8|255)>>>0:(e=OMe.exec(t))?(Up(e[1])<<24|Up(e[2])<<16|Up(e[3])<<8|DU(e[4]))>>>0:(e=NMe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=HMe.exec(t))?parseInt(e[1],16)>>>0:(e=GMe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=UMe.exec(t))?(BU(RU(e[1]),Vy(e[2]),Vy(e[3]))|255)>>>0:(e=kMe.exec(t))?(BU(RU(e[1]),Vy(e[2]),Vy(e[3]))|DU(e[4]))>>>0:null}function zS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function BU(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=zS(i,r,t+1/3),o=zS(i,r,t),a=zS(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Up(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function RU(t){return(parseFloat(t)%360+360)%360/360}function DU(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Vy(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function PU(t){let e=QMe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var n3=(t,e,n)=>{if($e.fun(t))return t;if($e.arr(t))return n3({range:t,output:e,extrapolate:n});if($e.str(t.output[0]))return A_(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=WMe(u,s);return VMe(u,s[c],s[c+1],i[c],i[c+1],l,o,a,r.map)}};function VMe(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function WMe(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var jMe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return PMe(0,1,i/t)},Wx=1.70158,Wy=Wx*1.525,LU=Wx+1,FU=2*Math.PI/3,OU=2*Math.PI/4.5,jy=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,XMe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>LU*t*t*t-Wx*t*t,easeOutBack:t=>1+LU*Math.pow(t-1,3)+Wx*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Wy+1)*2*t-Wy)/2:(Math.pow(2*t-2,2)*((Wy+1)*(t*2-2)+Wy)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*FU),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*FU)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*OU))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*OU)/2+1,easeInBounce:t=>1-jy(1-t),easeOutBounce:jy,easeInOutBounce:t=>t<.5?(1-jy(1-2*t))/2:(1+jy(2*t-1))/2,steps:jMe},r3=Symbol.for("FluidValue.get"),lm=Symbol.for("FluidValue.observers"),fa=t=>!!(t&&t[r3]),Ns=t=>t&&t[r3]?t[r3]():t,UU=t=>t[lm]||null;function YMe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function i3(t,e){const n=t[lm];n&&n.forEach(r=>{YMe(r,e)})}var iY=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");KMe(this,t)}},KMe=(t,e)=>sY(t,r3,e);function Um(t,e){if(t[r3]){let n=t[lm];n||sY(t,lm,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function s3(t,e){const n=t[lm];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[lm]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var sY=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),_5=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,JMe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,kU=new RegExp(`(${_5.source})(%|[a-z]+)`,"i"),qMe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,E4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,oY=t=>{const[e,n]=ZMe(t);if(!e||g_())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&E4.test(n))return oY(n);if(n)return n}return t},ZMe=t=>{const e=E4.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},HS,$Me=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,aY=t=>{HS||(HS=Af?new RegExp(`(${Object.keys(Af).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Ns(s).replace(E4,oY).replace(JMe,PU).replace(HS,PU)),n=e.map(s=>s.match(_5).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>n3({...t,output:s}));return s=>{var l;const o=!kU.test(e[0])&&((l=e.find(u=>kU.test(u)))==null?void 0:l.replace(_5,""));let a=0;return e[0].replace(_5,()=>`${i[a++](s)}${o||""}`).replace(qMe,$Me)}},y_="react-spring: ",lY=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${y_}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},e7e=lY(console.warn);function t7e(){e7e(`${y_}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var n7e=lY(console.warn);function r7e(){n7e(`${y_}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function S4(t){return $e.str(t)&&(t[0]=="#"||/\d/.test(t)||!g_()&&E4.test(t)||t in(Af||{}))}var x_=g_()?D.useEffect:D.useLayoutEffect,i7e=()=>{const t=D.useRef(!1);return x_(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function uY(){const t=D.useState()[1],e=i7e();return()=>{e.current&&t(Math.random())}}function s7e(t,e){const[n]=D.useState(()=>({inputs:e,result:t()})),r=D.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&o7e(e,s.inputs)||(s={inputs:e,result:t()}):s=n,D.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function o7e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var cY=t=>D.useEffect(t,a7e),a7e=[];function NU(t){const e=D.useRef();return D.useEffect(()=>{e.current=t}),e.current}var o3=Symbol.for("Animated:node"),l7e=t=>!!t&&t[o3]===t,Dl=t=>t&&t[o3],E_=(t,e)=>bMe(t,o3,e),C4=t=>t&&t[o3]&&t[o3].getPayload(),fY=class{constructor(){E_(this,this)}getPayload(){return this.payload||[]}},f2=class extends fY{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,$e.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new f2(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return $e.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,$e.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},a3=class extends f2{constructor(t){super(0),this._string=null,this._toString=n3({output:[t,t]})}static create(t){return new a3(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if($e.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=n3({output:[this.getValue(),t]})),this._value=0,super.reset()}},jx={dependencies:null},w4=class extends fY{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return ru(this.source,(n,r)=>{l7e(n)?e[r]=n.getValue(t):fa(n)?e[r]=Ns(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&fn(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return ru(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){jx.dependencies&&fa(t)&&jx.dependencies.add(t);const e=C4(t);e&&fn(e,n=>this.add(n))}},hY=class extends w4{constructor(t){super(t)}static create(t){return new hY(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(u7e)),!0)}};function u7e(t){return(S4(t)?a3:f2).create(t)}function VT(t){const e=Dl(t);return e?e.constructor:$e.arr(t)?hY:S4(t)?a3:f2}var GU=(t,e)=>{const n=!$e.fun(t)||t.prototype&&t.prototype.isReactComponent;return D.forwardRef((r,i)=>{const s=D.useRef(null),o=n&&D.useCallback(g=>{s.current=h7e(i,g)},[i]),[a,l]=f7e(r,e),u=uY(),c=()=>{const g=s.current;if(n&&!g)return;(g?e.applyAnimatedValues(g,a.getValue(!0)):!1)===!1&&u()},f=new c7e(c,l),h=D.useRef();x_(()=>(h.current=f,fn(l,g=>Um(g,f)),()=>{h.current&&(fn(h.current.deps,g=>s3(g,h.current)),Xt.cancel(h.current.update))})),D.useEffect(c,[]),cY(()=>()=>{const g=h.current;fn(g.deps,v=>s3(v,g))});const d=e.getComponentProps(a.getValue());return D.createElement(t,{...d,ref:o})})},c7e=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Xt.write(this.update)}};function f7e(t,e){const n=new Set;return jx.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new w4(t),jx.dependencies=null,[t,n]}function h7e(t,e){return t&&($e.fun(t)?t(e):t.current=e),e}var zU=Symbol.for("AnimatedComponent"),d7e=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new w4(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=HU(o)||"Anonymous";return $e.str(o)?o=s[o]||(s[o]=GU(o,i)):o=o[zU]||(o[zU]=GU(o,i)),o.displayName=`Animated(${a})`,o};return ru(t,(o,a)=>{$e.arr(t)&&(a=HU(o)),s[a]=s(o)}),{animated:s}},HU=t=>$e.str(t)?t:t&&$e.str(t.displayName)?t.displayName:$e.fun(t)&&t.name||null;function Uh(t,...e){return $e.fun(t)?t(...e):t}var $1=(t,e)=>t===!0||!!(e&&t&&($e.fun(t)?t(e):Co(t).includes(e))),dY=(t,e)=>$e.obj(t)?e&&t[e]:t,pY=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,p7e=t=>t,S_=(t,e=p7e)=>{let n=m7e;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);$e.und(s)||(r[i]=s)}return r},m7e=["config","onProps","onStart","onChange","onPause","onResume","onRest"],g7e={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function A7e(t){const e={};let n=0;if(ru(t,(r,i)=>{g7e[i]||(e[i]=r,n++)}),n)return e}function mY(t){const e=A7e(t);if(e){const n={to:e};return ru(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function l3(t){return t=Ns(t),$e.arr(t)?t.map(l3):S4(t)?cl.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function v7e(t){for(const e in t)return!0;return!1}function WT(t){return $e.fun(t)||$e.arr(t)&&$e.obj(t[0])}function y7e(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function x7e(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var E7e={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},jT={...E7e.default,mass:1,damping:1,easing:XMe.linear,clamp:!1},S7e=class{constructor(){this.velocity=0,Object.assign(this,jT)}};function C7e(t,e,n){n&&(n={...n},QU(n,e),e={...n,...e}),QU(t,e),Object.assign(t,e);for(const o in jT)t[o]==null&&(t[o]=jT[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return $e.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function QU(t,e){if(!$e.und(e.decay))t.duration=void 0;else{const n=!$e.und(e.tension)||!$e.und(e.friction);(n||!$e.und(e.frequency)||!$e.und(e.damping)||!$e.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var VU=[],w7e=class{constructor(){this.changed=!1,this.values=VU,this.toValues=null,this.fromValues=VU,this.config=new S7e,this.immediate=!1}};function gY(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,u,c=$1(n.cancel??(r==null?void 0:r.cancel),e);if(c)d();else{$e.und(n.pause)||(i.paused=$1(n.pause,e));let g=r==null?void 0:r.pause;g!==!0&&(g=i.paused||$1(g,e)),l=Uh(n.delay||0,e),g?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function f(){i.resumeQueue.add(h),i.timeouts.delete(u),u.cancel(),l=u.time-Xt.now()}function h(){l>0&&!cl.skipAnimation?(i.delayed=!0,u=Xt.setTimeout(d,l),i.pauseQueue.add(f),i.timeouts.add(u)):d()}function d(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(u),t<=(i.cancelId||0)&&(c=!0);try{s.start({...n,callId:t,cancel:c},o)}catch(g){a(g)}}})}var C_=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?B0(t.get()):e.every(n=>n.noop)?AY(t.get()):Ja(t.get(),e.every(n=>n.finished)),AY=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Ja=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),B0=t=>({value:t,cancelled:!0,finished:!1});function vY(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const u=S_(e,(y,A)=>A==="onRest"?void 0:y);let c,f;const h=new Promise((y,A)=>(c=y,f=A)),d=y=>{const A=i<=(n.cancelId||0)&&B0(r)||i!==n.asyncId&&Ja(r,!1);if(A)throw y.result=A,f(y),y},g=(y,A)=>{const x=new WU,E=new jU;return(async()=>{if(cl.skipAnimation)throw u3(n),E.result=Ja(r,!1),f(E),E;d(x);const S=$e.obj(y)?{...y}:{...A,to:y};S.parentId=i,ru(u,(M,_)=>{$e.und(S[_])&&(S[_]=M)});const w=await r.start(S);return d(x),n.paused&&await new Promise(M=>{n.resumeQueue.add(M)}),w})()};let v;if(cl.skipAnimation)return u3(n),Ja(r,!1);try{let y;$e.arr(t)?y=(async A=>{for(const x of A)await g(x)})(t):y=Promise.resolve(t(g,r.stop.bind(r))),await Promise.all([y.then(c),h]),v=Ja(r.get(),!0,!1)}catch(y){if(y instanceof WU)v=y.result;else if(y instanceof jU)v=y.result;else throw y}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return $e.fun(o)&&Xt.batchedUpdates(()=>{o(v,r,r.item)}),v})()}function u3(t,e){q1(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var WU=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},jU=class extends Error{constructor(){super("SkipAnimationSignal")}},XT=t=>t instanceof w_,T7e=1,w_=class extends iY{constructor(){super(...arguments),this.id=T7e++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Dl(this);return t&&t.getValue()}to(...t){return cl.to(this,t)}interpolate(...t){return t7e(),cl.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){i3(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||y4.sort(this),i3(this,{type:"priority",parent:this,priority:t})}},wd=Symbol.for("SpringPhase"),yY=1,YT=2,KT=4,QS=t=>(t[wd]&yY)>0,zc=t=>(t[wd]&YT)>0,t1=t=>(t[wd]&KT)>0,XU=(t,e)=>e?t[wd]|=YT|yY:t[wd]&=~YT,YU=(t,e)=>e?t[wd]|=KT:t[wd]&=~KT,M7e=class extends w_{constructor(t,e){if(super(),this.animation=new w7e,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!$e.und(t)||!$e.und(e)){const n=$e.obj(t)?{...t}:{...e,from:t};$e.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(zc(this)||this._state.asyncTo)||t1(this)}get goal(){return Ns(this.animation.to)}get velocity(){const t=Dl(this);return t instanceof f2?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return QS(this)}get isAnimating(){return zc(this)}get isPaused(){return t1(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=C4(r.to);!o&&fa(r.to)&&(i=Co(Ns(r.to))),r.values.forEach((u,c)=>{if(u.done)return;const f=u.constructor==a3?1:o?o[c].lastPosition:i[c];let h=r.immediate,d=f;if(!h){if(d=u.lastPosition,s.tension<=0){u.done=!0;return}let g=u.elapsedTime+=t;const v=r.fromValues[c],y=u.v0!=null?u.v0:u.v0=$e.arr(s.velocity)?s.velocity[c]:s.velocity;let A;const x=s.precision||(v==f?.005:Math.min(1,Math.abs(f-v)*.001));if($e.und(s.duration))if(s.decay){const E=s.decay===!0?.998:s.decay,S=Math.exp(-(1-E)*g);d=v+y/(1-E)*(1-S),h=Math.abs(u.lastPosition-d)<=x,A=y*S}else{A=u.lastVelocity==null?y:u.lastVelocity;const E=s.restVelocity||x/10,S=s.clamp?0:s.bounce,w=!$e.und(S),M=v==f?u.v0>0:v<f;let _,b=!1;const I=1,B=Math.ceil(t/I);for(let L=0;L<B&&(_=Math.abs(A)>E,!(!_&&(h=Math.abs(f-d)<=x,h)));++L){w&&(b=d==f||d>f==M,b&&(A=-A*S,d=f));const F=-s.tension*1e-6*(d-f),O=-s.friction*.001*A,G=(F+O)/s.mass;A=A+G*I,d=d+A*I}}else{let E=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,g=u.elapsedTime+=t)),E=(s.progress||0)+g/this._memoizedDuration,E=E>1?1:E<0?0:E,u.durationProgress=E),d=v+s.easing(E)*(f-v),A=(d-u.lastPosition)/t,h=E==1}u.lastVelocity=A,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[c].done&&(h=!1),h?u.done=!0:e=!1,u.setValue(d,s.round)&&(n=!0)});const a=Dl(this),l=a.getValue();if(e){const u=Ns(r.to);(l!==u||n)&&!s.decay?(a.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Xt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(zc(this)){const{to:t,config:e}=this.animation;Xt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return $e.und(t)?(n=this.queue||[],this.queue=[]):n=[$e.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>C_(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),u3(this._state,t&&this._lastCallId),Xt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=$e.obj(n)?n[e]:n,(n==null||WT(n))&&(n=void 0),r=$e.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return QS(this)||(t.reverse&&([n,r]=[r,n]),r=Ns(r),$e.und(r)?Dl(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,S_(t,(o,a)=>/^on/.test(a)?dY(o,n):o)),JU(this,t,"onProps"),r1(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return gY(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{t1(this)||(YU(this,!0),y1(s.pauseQueue),r1(this,"onPause",Ja(this,n1(this,this.animation.to)),this))},resume:()=>{t1(this)&&(YU(this,!1),zc(this)&&this._resume(),y1(s.resumeQueue),r1(this,"onResume",Ja(this,n1(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=xY(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(B0(this));const r=!$e.und(t.to),i=!$e.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(B0(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:f=u}=t;i&&!r&&(!e.default||$e.und(c))&&(c=f),e.reverse&&([c,f]=[f,c]);const h=!Ou(f,u);h&&(a.from=f),f=Ns(f);const d=!Ou(c,l);d&&this._focus(c);const g=WT(e.to),{config:v}=a,{decay:y,velocity:A}=v;(r||i)&&(v.velocity=0),e.config&&!g&&C7e(v,Uh(e.config,s),e.config!==o.config?Uh(o.config,s):void 0);let x=Dl(this);if(!x||$e.und(c))return n(Ja(this,!0));const E=$e.und(e.reset)?i&&!e.default:!$e.und(f)&&$1(e.reset,s),S=E?f:this.get(),w=l3(c),M=$e.num(w)||$e.arr(w)||S4(w),_=!g&&(!M||$1(o.immediate||e.immediate,s));if(d){const L=VT(c);if(L!==x.constructor)if(_)x=this._set(w);else throw Error(`Cannot animate between ${x.constructor.name} and ${L.name}, as the "to" prop suggests`)}const b=x.constructor;let I=fa(c),B=!1;if(!I){const L=E||!QS(this)&&h;(d||L)&&(B=Ou(l3(S),w),I=!B),(!Ou(a.immediate,_)&&!_||!Ou(v.decay,y)||!Ou(v.velocity,A))&&(I=!0)}if(B&&zc(this)&&(a.changed&&!E?I=!0:I||this._stop(l)),!g&&((I||fa(l))&&(a.values=x.getPayload(),a.toValues=fa(c)?null:b==a3?[1]:Co(w)),a.immediate!=_&&(a.immediate=_,!_&&!E&&this._set(l)),I)){const{onRest:L}=a;fn(I7e,O=>JU(this,e,O));const F=Ja(this,n1(this,l));y1(this._pendingCalls,F),this._pendingCalls.add(n),a.changed&&Xt.batchedUpdates(()=>{var O;a.changed=!E,L==null||L(F,this),E?Uh(o.onRest,F):(O=a.onStart)==null||O.call(a,F,this)})}E&&this._set(S),g?n(vY(e.to,e,this._state,this)):I?this._start():zc(this)&&!d?this._pendingCalls.add(n):n(AY(S))}_focus(t){const e=this.animation;t!==e.to&&(UU(this)&&this._detach(),e.to=t,UU(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;fa(e)&&(Um(e,this),XT(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;fa(t)&&s3(t,this)}_set(t,e=!0){const n=Ns(t);if(!$e.und(n)){const r=Dl(this);if(!r||!Ou(n,r.getValue())){const i=VT(n);!r||r.constructor!=i?E_(this,i.create(n)):r.setValue(n),r&&Xt.batchedUpdates(()=>{this._onChange(n,e)})}}return Dl(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,r1(this,"onStart",Ja(this,n1(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Uh(this.animation.onChange,t,this)),Uh(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Dl(this).reset(Ns(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),zc(this)||(XU(this,!0),t1(this)||this._resume())}_resume(){cl.skipAnimation?this.finish():y4.start(this)}_stop(t,e){if(zc(this)){XU(this,!1);const n=this.animation;fn(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),i3(this,{type:"idle",parent:this});const r=e?B0(this.get()):Ja(this.get(),n1(this,t??n.to));y1(this._pendingCalls,r),n.changed&&(n.changed=!1,r1(this,"onRest",r,this))}}};function n1(t,e){const n=l3(e),r=l3(t.get());return Ou(r,n)}function xY(t,e=t.loop,n=t.to){const r=Uh(e);if(r){const i=r!==!0&&mY(r),s=(i||t).reverse,o=!i||i.reset;return c3({...t,loop:e,default:!1,pause:void 0,to:!s||WT(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function c3(t){const{to:e,from:n}=t=mY(t),r=new Set;return $e.obj(e)&&KU(e,r),$e.obj(n)&&KU(n,r),t.keys=r.size?Array.from(r):null,t}function _7e(t){const e=c3(t);return $e.und(e.default)&&(e.default=S_(e)),e}function KU(t,e){ru(t,(n,r)=>n!=null&&e.add(r))}var I7e=["onStart","onRest","onChange","onPause","onResume"];function JU(t,e,n){t.animation[n]=e[n]!==pY(e,n)?dY(e[n],t.key):void 0}function r1(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var b7e=["onStart","onChange","onRest"],B7e=1,R7e=class{constructor(t,e){this.id=B7e++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];$e.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(c3(t)),this}start(t){let{queue:e}=this;return t?e=Co(t).map(c3):this.queue=[],this._flush?this._flush(this,e):(TY(this,e),JT(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;fn(Co(e),r=>n[r].stop(!!t))}else u3(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if($e.und(t))this.start({pause:!0});else{const e=this.springs;fn(Co(t),n=>e[n].pause())}return this}resume(t){if($e.und(t))this.start({pause:!1});else{const e=this.springs;fn(Co(t),n=>e[n].resume())}return this}each(t){ru(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,q1(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&q1(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,q1(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Xt.onFrame(this._onFrame)}};function JT(t,e){return Promise.all(e.map(n=>EY(t,n))).then(n=>C_(t,n))}async function EY(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=$e.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=$e.arr(i)||$e.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):fn(b7e,v=>{const y=e[v];if($e.fun(y)){const A=t._events[v];e[v]=({finished:x,cancelled:E})=>{const S=A.get(y);S?(x||(S.finished=!1),E&&(S.cancelled=!0)):A.set(y,{value:null,finished:x||!1,cancelled:E||!1})},u&&(u[v]=e[v])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,y1(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const h=(r||Object.keys(t.springs)).map(v=>t.springs[v].start(e)),d=e.cancel===!0||pY(e,"cancel")===!0;(c||d&&f.asyncId)&&h.push(gY(++t._lastAsyncId,{props:e,state:f,actions:{pause:HT,resume:HT,start(v,y){d?(u3(f,t._lastAsyncId),y(B0(t))):(v.onRest=a,y(vY(c,v,f,t)))}}})),f.paused&&await new Promise(v=>{f.resumeQueue.add(v)});const g=C_(t,await Promise.all(h));if(o&&g.finished&&!(n&&g.noop)){const v=xY(e,o,i);if(v)return TY(t,[v]),EY(t,v,!0)}return l&&Xt.batchedUpdates(()=>l(g,t,t.item)),g}function qU(t,e){const n={...t.springs};return e&&fn(Co(e),r=>{$e.und(r.keys)&&(r=c3(r)),$e.obj(r.to)||(r={...r,to:void 0}),wY(n,r,i=>CY(i))}),SY(t,n),n}function SY(t,e){ru(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Um(n,t))})}function CY(t,e){const n=new M7e;return n.key=t,e&&Um(n,e),n}function wY(t,e,n){e.keys&&fn(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function TY(t,e){fn(e,n=>{wY(t.springs,n,r=>CY(r,t))})}var T4=({children:t,...e})=>{const n=D.useContext(Xx),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=s7e(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=Xx;return D.createElement(s,{value:e},t)},Xx=D7e(T4,{});T4.Provider=Xx.Provider;T4.Consumer=Xx.Consumer;function D7e(t,e){return Object.assign(t,D.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var P7e=()=>{const t=[],e=function(r){r7e();const i=[];return fn(t,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return fn(t,r=>r.pause(...arguments)),this},e.resume=function(){return fn(t,r=>r.resume(...arguments)),this},e.set=function(r){fn(t,(i,s)=>{const o=$e.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return fn(t,(s,o)=>{if($e.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return fn(t,r=>r.stop(...arguments)),this},e.update=function(r){return fn(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return $e.fun(r)?r(s,i):r};return e._getProps=n,e};function L7e(t,e,n){const r=$e.fun(e)&&e;r&&!n&&(n=[]);const i=D.useMemo(()=>r||arguments.length==3?P7e():void 0,[]),s=D.useRef(0),o=uY(),a=D.useMemo(()=>({ctrls:[],queue:[],flush(A,x){const E=qU(A,x);return s.current>0&&!a.queue.length&&!Object.keys(E).some(w=>!A.springs[w])?JT(A,x):new Promise(w=>{SY(A,E),a.queue.push(()=>{w(JT(A,x))}),o()})}}),[]),l=D.useRef([...a.ctrls]),u=[],c=NU(t)||0;D.useMemo(()=>{fn(l.current.slice(t,c),A=>{y7e(A,i),A.stop(!0)}),l.current.length=t,f(c,t)},[t]),D.useMemo(()=>{f(0,Math.min(c,t))},n);function f(A,x){for(let E=A;E<x;E++){const S=l.current[E]||(l.current[E]=new R7e(null,a.flush)),w=r?r(E,S):e[E];w&&(u[E]=_7e(w))}}const h=l.current.map((A,x)=>qU(A,u[x])),d=D.useContext(T4),g=NU(d),v=d!==g&&v7e(d);x_(()=>{s.current++,a.ctrls=l.current;const{queue:A}=a;A.length&&(a.queue=[],fn(A,x=>x())),fn(l.current,(x,E)=>{i==null||i.add(x),v&&x.start({default:d});const S=u[E];S&&(x7e(x,S.ref),x.ref?x.queue.push(S):x.start(S))})}),cY(()=>()=>{fn(a.ctrls,A=>A.stop(!0))});const y=h.map(A=>({...A}));return i?[y,i]:y}function F7e(t,e){const n=$e.fun(t),[[r],i]=L7e(1,n?t:[t],n?e||[]:e);return n||arguments.length==2?[r,i]:r}var O7e=class extends w_{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=n3(...e);const n=this._get(),r=VT(n);E_(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Ou(e,n)||(Dl(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&ZU(this._active)&&VS(this)}_get(){const t=$e.arr(this.source)?this.source.map(Ns):Co(Ns(this.source));return this.calc(...t)}_start(){this.idle&&!ZU(this._active)&&(this.idle=!1,fn(C4(this),t=>{t.done=!1}),cl.skipAnimation?(Xt.batchedUpdates(()=>this.advance()),VS(this)):y4.start(this))}_attach(){let t=1;fn(Co(this.source),e=>{fa(e)&&Um(e,this),XT(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){fn(Co(this.source),t=>{fa(t)&&s3(t,this)}),this._active.clear(),VS(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Co(this.source).reduce((e,n)=>Math.max(e,(XT(n)?n.priority:0)+1),0))}};function U7e(t){return t.idle!==!1}function ZU(t){return!t.size||Array.from(t).every(U7e)}function VS(t){t.idle||(t.idle=!0,fn(C4(t),e=>{e.done=!0}),i3(t,{type:"idle",parent:t}))}cl.assign({createStringInterpolator:aY,to:(t,e)=>new O7e(t,e)});var MY=/^--/;function k7e(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!MY.test(t)&&!(eA.hasOwnProperty(t)&&eA[t])?e+"px":(""+e).trim()}var $U={};function N7e(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,u=Object.values(l),c=Object.keys(l).map(f=>n||t.hasAttribute(f)?f:$U[f]||($U[f]=f.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(t.textContent=i);for(const f in r)if(r.hasOwnProperty(f)){const h=k7e(f,r[f]);MY.test(f)?t.style.setProperty(f,h):t.style[f]=h}c.forEach((f,h)=>{t.setAttribute(f,u[h])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var eA={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G7e=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),z7e=["Webkit","Ms","Moz","O"];eA=Object.keys(eA).reduce((t,e)=>(z7e.forEach(n=>t[G7e(n,e)]=t[e]),t),eA);var H7e=/^(matrix|translate|scale|rotate|skew)/,Q7e=/^(translate)/,V7e=/^(rotate|skew)/,WS=(t,e)=>$e.num(t)&&t!==0?t+e:t,I5=(t,e)=>$e.arr(t)?t.every(n=>I5(n,e)):$e.num(t)?t===e:parseFloat(t)===e,W7e=class extends w4{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>WS(a,"px")).join(",")})`,I5(o,0)])),ru(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(H7e.test(a)){if(delete r[a],$e.und(o))return;const l=Q7e.test(a)?"px":V7e.test(a)?"deg":"";i.push(Co(o)),s.push(a==="rotate3d"?([u,c,f,h])=>[`rotate3d(${u},${c},${f},${WS(h,l)})`,I5(h,0)]:u=>[`${a}(${u.map(c=>WS(c,l)).join(",")})`,I5(u,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new j7e(i,s)),super(r)}},j7e=class extends iY{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return fn(this.inputs,(n,r)=>{const i=Ns(n[0]),[s,o]=this.transforms[r]($e.arr(i)?i:n.map(Ns));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&fn(this.inputs,e=>fn(e,n=>fa(n)&&Um(n,this)))}observerRemoved(t){t==0&&fn(this.inputs,e=>fn(e,n=>fa(n)&&s3(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),i3(this,t)}},X7e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];cl.assign({batchedUpdates:j9.unstable_batchedUpdates,createStringInterpolator:aY,colors:LMe});d7e(X7e,{applyAnimatedValues:N7e,createAnimatedStyle:t=>new W7e(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n});function Y7e(){return ni(),F7e({from:{strokeDashoffset:120},to:{strokeDashoffset:10},config:{duration:1e3},loop:!0}),ce(Dn,{children:ce("div",{className:"next-container",onClick:()=>{bf(eu.NEXT)},children:wt("svg",{viewBox:"0 0 1024 1024",className:"next-icon",children:[ce("path",{d:"M609.706667 609.706667L554.666667 665.173333V256a42.666667 42.666667 0 0 0-85.333334 0v409.173333l-55.04-55.466666a42.666667 42.666667 0 0 0-60.586666 60.586666l128 128a42.666667 42.666667 0 0 0 14.08 8.96 40.106667 40.106667 0 0 0 32.426666 0 42.666667 42.666667 0 0 0 14.08-8.96l128-128a42.666667 42.666667 0 0 0-60.586666-60.586666z","p-id":"4183",fill:"#ffffff"}),ce("path",{d:"M512 42.666667a469.333333 469.333333 0 1 0 469.333333 469.333333A469.333333 469.333333 0 0 0 512 42.666667z m0 853.333333a384 384 0 1 1 384-384 384 384 0 0 1-384 384z","p-id":"4184",fill:"#ffffff"})]})})})}function K7e(){const t=ni(e=>e.isZh);return ce("section",{id:"about",children:t?wt(Dn,{children:[wt("p",{children:["朋友们总叫我【盆栽】， 我在13岁的时候看了",ce("a",{href:"https://book.douban.com/subject/1877531/",target:"_blank",children:"《殺手：風華絕代的正義》"}),"。觉得里面的主角【欧阳盆栽】很酷，很正义，很有趣。 就一直叫这个名字了"]}),ce("p",{children:"我有多年的Devops经历,基本撸过几乎所有运维领域的系统"}),ce("p",{children:"因为想尝试做一个数字孪生概念的运维产品，以解决数十万VM运维与监控的问题。 为此，我开始认真学习Three.js。 目前我还正在学习React前端框架, 同时还想尝试Rust在前端中的应用。"}),ce("p",{children:"日常中，我喜欢没有竞争对手的活动。例如做饭，跑步，滑板，滑雪"}),ce("p",{children:"所以，交个朋友吧"}),ce("p",{children:ce("a",{href:"https://github.com/OhBonsai",target:"_blank",children:"GitHub: ohbonsai"})}),ce("p",{children:ce("a",{href:"https://twitter.com/OhBonsai",target:"_blank",children:"Twitter: ohbonsai"})}),wt("div",{className:"qr-container",children:[wt("div",{className:"left",children:[ce("p",{children:"微信: fun-fafa"}),ce("img",{src:Gt.ROOT_URL+"/qrcode.jpg",width:50,height:50})]}),wt("div",{className:"right",children:[ce("p",{children:"小红书: 9892291977"}),ce("img",{src:Gt.ROOT_URL+"/qrcode2.jpg",width:50,height:50})]})]})]}):wt(Dn,{children:[wt("p",{children:[`Hello friend, I'm glad you made it till the end. I come from china, and I like to be called "pern-tzai" by my friends. When i was 13 years old. I read a novel`,ce("a",{href:"https://book.douban.com/subject/1877531/",target:"_blank",children:"《殺手：風華絕代的正義》"}),'. "pern-tzai" is  name of the protagonist. He is a cool, righteous and interesting killer.']}),ce("p",{children:" I am currently working as an SRE at Alibaba Cloud. I want to design an operations product basing the concept of digital twins to solve the maintenance and monitoring challenges of over 100,000 VM around the world. SO I have started learning some WEBGL programming skill."}),ce("p",{children:" In my daily life, I enjoy activities without competitors, such as hiking, cooking, skateboarding and snowboarding. I am planning to go skiing in Japan during this winter(2023-2024). By the way. I am currently working in Shenzhen. A city that is very close to HongKong. Free to contact me if interested."}),ce("p",{children:ce("a",{href:"https://github.com/OhBonsai",target:"_blank",children:"GitHub: ohbonsai"})}),ce("p",{children:ce("a",{href:"https://twitter.com/OhBonsai",target:"_blank",children:"Twitter: ohbonsai"})}),ce("p",{children:ce("a",{href:"mailto:letbonsaibe@gmail.com",target:"_blank",children:"Mail: letbonsaibe@gmail.com"})}),wt("div",{className:"qr-container",children:[wt("div",{className:"left",children:[ce("p",{children:"WeChat: fun-fafa"}),ce("img",{src:Gt.ROOT_URL+"/qrcode.jpg",width:50,height:50})]}),wt("div",{className:"right",children:[ce("p",{children:"小红书: 9892291977"}),ce("img",{src:Gt.ROOT_URL+"/qrcode2.jpg",width:50,height:50})]})]})]})})}function J7e(){const t=ni(e=>e.isZh);return ce(Dn,{children:wt("label",{className:"switch",children:[ce("input",{type:"checkbox",checked:!t,onClick:()=>{Kve()}}),ce("span",{className:"slider"}),ce("div",{className:"langtext langtexten",children:"EN "}),ce("div",{className:"langtext langtextzh",children:"中 "})]})})}w7.preload([Gt.ROOT_URL+"/cn0.ttf"]);Im.preload([Gt.ROOT_URL+"/rock.gltf",Gt.ROOT_URL+"/spacedrone.gltf"]);u4.preload([Gt.ROOT_URL+"/moon1.jpg",Gt.ROOT_URL+"/moon2.jpg",Gt.ROOT_URL+"/earth.jpg"]);Im.preload([Gt.ROOT_URL+"/tree.obj"]);function q7e(){const t="/video-03.mp4",e=document.createElement("video");return e.setAttribute("id","flowerVideo"),e.setAttribute("preload","auto"),e.src=Gt.ROOT_URL+t,e.style.display="none",e.crossOrigin="Anonymous",e.loop=!1,e.muted=!0,document.body.append(e),e}q7e();function Z7e(){const{isBloom:t,currentPage:e,orbitControl:n,bloomIntensity:r,bloomLuminanceThreshold:i,pageIn:s,pageOut:o}=ni();return wt(Dn,{children:[ce(J7e,{}),ce(Aoe,{}),wt(foe,{dpr:[1,2],camera:{position:[0,0,-5],fov:90,near:.1,far:1e4},children:[ce("color",{attach:"background",args:["black"]}),ce("ambientLight",{}),ce("directionalLight",{}),ce($7e,{})]}),e===6?ce(K7e,{}):null,e!==6?ce(Y7e,{}):null]})}function $7e(){const{isBloom:t,currentPage:e,orbitControl:n,bloomIntensity:r,bloomLuminanceThreshold:i,enableScroll:s,pageIn:o,pageOut:a}=ni();return wt(Dn,{children:[wt(Uoe,{pages:6,damping:.25,enabled:!1,children:[e===0?ce(fEe,{}):null,e===1?ce(V9e,{}):null,e===2?ce(CMe,{}):null,e===3?ce(j9e,{}):null,e===4?ce(sMe,{}):null,e===5?ce(pMe,{}):null]}),t?wt(Oxe,{children:[ce(zxe,{mipmapBlur:!0,resolutionScale:1,luminanceThreshold:i,intensity:r,radius:.7}),ce(Vxe,{})]}):null]})}jS.createRoot(document.getElementById("root")).render(ce(te.StrictMode,{children:ce(Z7e,{})}))});export default e_e();
//# sourceMappingURL=index-de2138b4.js.map
